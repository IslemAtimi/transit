"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{461:()=>{function Be(n){return"function"==typeof n}function Vu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Td=Vu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ks(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof Td?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{BT(o)}catch(s){e=e??[],s instanceof Td?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Td(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BT(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ks(t,e)}remove(e){const{_finalizers:t}=this;t&&ks(t,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const n=new Bn;return n.closed=!0,n})();const VT=Bn.EMPTY;function LT(n){return n instanceof Bn||n&&"closed"in n&&Be(n.remove)&&Be(n.add)&&Be(n.unsubscribe)}function BT(n){Be(n)?n():n.unsubscribe()}const Po={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cd={setTimeout(n,e,...t){const{delegate:r}=Cd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Cd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function UT(n){Cd.setTimeout(()=>{const{onUnhandledError:e}=Po;if(!e)throw n;e(n)})}function jT(){}const sB=Hg("C",void 0,void 0);function Hg(n,e,t){return{kind:n,value:e,error:t}}let ko=null;function Dd(n){if(Po.useDeprecatedSynchronousErrorHandling){const e=!ko;if(e&&(ko={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ko;if(ko=null,t)throw r}}else n()}class Gg extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,LT(e)&&e.add(this)):this.destination=fB}static create(e,t,r){return new Lu(e,t,r)}next(e){this.isStopped?Wg(function uB(n){return Hg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wg(function aB(n){return Hg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wg(sB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lB=Function.prototype.bind;function zg(n,e){return lB.call(n,e)}class dB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ad(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ad(r)}else Ad(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ad(t)}}}class Lu extends Gg{constructor(e,t,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Po.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zg(e.next,o),error:e.error&&zg(e.error,o),complete:e.complete&&zg(e.complete,o)}):i=e}this.destination=new dB(i)}}function Ad(n){Po.useDeprecatedSynchronousErrorHandling?function cB(n){Po.useDeprecatedSynchronousErrorHandling&&ko&&(ko.errorThrown=!0,ko.error=n)}(n):UT(n)}function Wg(n,e){const{onStoppedNotification:t}=Po;t&&Cd.setTimeout(()=>t(n,e))}const fB={closed:!0,next:jT,error:function hB(n){throw n},complete:jT},qg="function"==typeof Symbol&&Symbol.observable||"@@observable";function No(n){return n}function $T(n){return 0===n.length?No:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let tt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function mB(n){return n&&n instanceof Gg||function gB(n){return n&&Be(n.next)&&Be(n.error)&&Be(n.complete)}(n)&&LT(n)}(t)?t:new Lu(t,r,i);return Dd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=HT(r))((i,o)=>{const s=new Lu({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[qg](){return this}pipe(...t){return $T(t)(this)}toPromise(t){return new(t=HT(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function HT(n){var e;return null!==(e=n??Po.Promise)&&void 0!==e?e:Promise}const _B=Vu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let oi=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new GT(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new _B}next(t){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?VT:(this.currentObservers=null,o.push(t),new Bn(()=>{this.currentObservers=null,ks(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return n.create=(e,t)=>new GT(e,t),n})();class GT extends oi{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:VT}}function zT(n){return Be(n?.lift)}function Bt(n){return e=>{if(zT(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(n,e,t,r,i){return new yB(n,e,t,r,i)}class yB extends Gg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return Bt((t,r)=>{let i=0;t.subscribe(Pt(r,o=>{r.next(n.call(e,o,i++))}))})}function Yg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function QT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Jg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const YT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function XT(n){return Be(n?.then)}function JT(n){return Be(n[qg])}function ZT(n){return Symbol.asyncIterator&&Be(n?.[Symbol.asyncIterator])}function eC(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tC=function BB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nC(n){return Be(n?.[tC])}function rC(n){return function KT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){o.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Bi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function iC(n){return Be(n?.getReader)}function fr(n){if(n instanceof tt)return n;if(null!=n){if(JT(n))return function UB(n){return new tt(e=>{const t=n[qg]();if(Be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(YT(n))return function jB(n){return new tt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(XT(n))return function $B(n){return new tt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,UT)})}(n);if(ZT(n))return oC(n);if(nC(n))return function HB(n){return new tt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(iC(n))return function GB(n){return oC(rC(n))}(n)}throw eC(n)}function oC(n){return new tt(e=>{(function zB(n,e){var t,r,i,o;return function WT(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=QT(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function si(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Wt(n,e,t=1/0){return Be(e)?Wt((r,i)=>ue((o,s)=>e(r,o,i,s))(fr(n(r,i))),t):("number"==typeof e&&(t=e),Bt((r,i)=>function WB(n,e,t,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=_=>c<r?p(_):u.push(_),p=_=>{o&&e.next(_),c++;let y=!1;fr(t(_,l++)).subscribe(Pt(e,b=>{i?.(b),o?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const b=u.shift();s?si(e,s,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(Pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ns(n=1/0){return Wt(No,n)}const xr=new tt(n=>n.complete());function Zg(n){return n[n.length-1]}function sC(n){return Be(Zg(n))?n.pop():void 0}function Bu(n){return function KB(n){return n&&Be(n.schedule)}(Zg(n))?n.pop():void 0}function Sd(n,e=0){return Bt((t,r)=>{t.subscribe(Pt(r,i=>si(r,n,()=>r.next(i),e),()=>si(r,n,()=>r.complete(),e),i=>si(r,n,()=>r.error(i),e)))})}function xd(n,e=0){return Bt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function aC(n,e){if(!n)throw new Error("Iterable cannot be null");return new tt(t=>{si(t,e,()=>{const r=n[Symbol.asyncIterator]();si(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Tt(n,e){return e?function tU(n,e){if(null!=n){if(JT(n))return function YB(n,e){return fr(n).pipe(xd(e),Sd(e))}(n,e);if(YT(n))return function JB(n,e){return new tt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(XT(n))return function XB(n,e){return fr(n).pipe(xd(e),Sd(e))}(n,e);if(ZT(n))return aC(n,e);if(nC(n))return function ZB(n,e){return new tt(t=>{let r;return si(t,e,()=>{r=n[tC](),si(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(n,e);if(iC(n))return function eU(n,e){return aC(rC(n),e)}(n,e)}throw eC(n)}(n,e):fr(n)}function em(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Lu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function tm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function nm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const rU=Le({__forward_ref__:Le});function je(n){return n.__forward_ref__=je,n.toString=function(){return Ue(this())},n}function te(n){return rm(n)?n():n}function rm(n){return"function"==typeof n&&n.hasOwnProperty(rU)&&n.__forward_ref__===je}function im(n){return n&&!!n.\u0275providers}const Rd="https://g.co/ng/security#xss";class k extends Error{constructor(e,t){super(Md(e,t)),this.code=e}}function Md(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function Pd(n,e){throw new k(-201,!1)}function tr(n,e){null==n&&function Pe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function kd(n){return cC(n,Nd)||cC(n,dC)}function cC(n,e){return n.hasOwnProperty(e)?n[e]:null}function lC(n){return n&&(n.hasOwnProperty(om)||n.hasOwnProperty(dU))?n[om]:null}const Nd=Le({\u0275prov:Le}),om=Le({\u0275inj:Le}),dC=Le({ngInjectableDef:Le}),dU=Le({ngInjectorDef:Le});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let sm;function nr(n){const e=sm;return sm=n,e}function hC(n,e,t){const r=kd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ne.Optional?null:void 0!==e?e:void Pd(Ue(n))}const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Uu={},am="__NG_DI_FLAG__",Od="ngTempTokenPath",fU="ngTokenPath",pU=/\n/gm,gU="\u0275",fC="__source";let ju;function Os(n){const e=ju;return ju=n,e}function mU(n,e=ne.Default){if(void 0===ju)throw new k(-203,!1);return null===ju?hC(n,void 0,e):ju.get(n,e&ne.Optional?null:void 0,e)}function U(n,e=ne.Default){return(function hU(){return sm}()||mU)(te(n),e)}function fe(n,e=ne.Default){return U(n,Fd(e))}function Fd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function um(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],u=_U(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(U(i,o))}else e.push(U(r))}return e}function $u(n,e){return n[am]=e,n.prototype[am]=e,n}function _U(n){return n[am]}function ai(n){return{toString:n}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),Mr=(()=>{return(n=Mr||(Mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mr;var n})();const ui={},xe=[],Vd=Le({\u0275cmp:Le}),cm=Le({\u0275dir:Le}),lm=Le({\u0275pipe:Le}),gC=Le({\u0275mod:Le}),ci=Le({\u0275fac:Le}),Hu=Le({__NG_ELEMENT_ID__:Le});let IU=0;function yn(n){return ai(()=>{const e=_C(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,id:"c"+IU++,styles:n.styles||xe,_:null,schemas:n.schemas||null,tView:null};yC(t);const r=n.dependencies;return t.directiveDefs=Ld(r,!1),t.pipeDefs=Ld(r,!0),t})}function bU(n){return ke(n)||on(n)}function wU(n){return null!==n}function Ut(n){return ai(()=>({type:n.type,bootstrap:n.bootstrap||xe,declarations:n.declarations||xe,imports:n.imports||xe,exports:n.exports||xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mC(n,e){if(null==n)return ui;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function se(n){return ai(()=>{const e=_C(n);return yC(e),e})}function An(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ke(n){return n[Vd]||null}function on(n){return n[cm]||null}function Sn(n){return n[lm]||null}function jn(n,e){const t=n[gC]||null;if(!t&&!0===e)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return t}function _C(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||xe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mC(n.inputs,e),outputs:mC(n.outputs)}}function yC(n){n.features?.forEach(e=>e(n))}function Ld(n,e){if(!n)return null;const t=e?Sn:bU;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(wU)}const li=0,H=1,me=2,at=3,pr=4,Oo=5,sn=6,Vs=7,pt=8,Bd=9,Ud=10,ye=11,dm=12,Gu=13,vC=14,Ls=15,an=16,zu=17,Bs=18,Pr=19,Wu=20,IC=21,We=22,hm=1,EC=2,jd=7,$d=8,Us=9,vn=10;function $n(n){return Array.isArray(n)&&"object"==typeof n[hm]}function gr(n){return Array.isArray(n)&&!0===n[hm]}function fm(n){return 0!=(4&n.flags)}function qu(n){return n.componentOffset>-1}function Hd(n){return 1==(1&n.flags)}function mr(n){return!!n.template}function CU(n){return 0!=(256&n[me])}function Fo(n,e){return n.hasOwnProperty(ci)?n[ci]:null}class SU{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function rr(){return TC}function TC(n){return n.type.prototype.ngOnChanges&&(n.setInput=RU),xU}function xU(){const n=DC(this),e=n?.current;if(e){const t=n.previous;if(t===ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function RU(n,e,t,r){const i=this.declaredInputs[t],o=DC(n)||function MU(n,e){return n[CC]=e}(n,{previous:ui,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new SU(u&&u.currentValue,e,a===ui),n[r]=e}rr.ngInherit=!0;const CC="__ngSimpleChanges__";function DC(n){return n[CC]||null}const ir=function(n,e,t){},AC="svg";function qt(n){for(;Array.isArray(n);)n=n[li];return n}function Gd(n,e){return qt(e[n])}function Hn(n,e){return qt(e[n.index])}function xC(n,e){return n.data[e]}function xn(n,e){const t=e[n];return $n(t)?t:t[li]}function zd(n){return 64==(64&n[me])}function ji(n,e){return null==e?null:n[e]}function RC(n){n[Bs]=0}function gm(n,e){n[Oo]+=e;let t=n,r=n[at];for(;null!==r&&(1===e&&1===t[Oo]||-1===e&&0===t[Oo]);)r[Oo]+=e,t=r,r=r[at]}const de={lFrame:UC(null),bindingsEnabled:!0};function PC(){return de.bindingsEnabled}function x(){return de.lFrame.lView}function Ce(){return de.lFrame.tView}function ie(n){return de.lFrame.contextLView=n,n[pt]}function oe(n){return de.lFrame.contextLView=null,n}function Kt(){let n=kC();for(;null!==n&&64===n.type;)n=n.parent;return n}function kC(){return de.lFrame.currentTNode}function kr(n,e){const t=de.lFrame;t.currentTNode=n,t.isParent=e}function mm(){return de.lFrame.isParent}function _m(){de.lFrame.isParent=!1}function In(){const n=de.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $s(){return de.lFrame.bindingIndex++}function hi(n){const e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function GU(n,e){const t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,ym(e)}function ym(n){de.lFrame.currentDirectiveIndex=n}function Im(n){de.lFrame.currentQueryIndex=n}function WU(n){const e=n[H];return 2===e.type?e.declTNode:1===e.type?n[sn]:null}function LC(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ne.Host||(i=WU(o),null===i||(o=o[Ls],10&i.type))););if(null===i)return!1;e=i,n=o}const r=de.lFrame=BC();return r.currentTNode=e,r.lView=n,!0}function Em(n){const e=BC(),t=n[H];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BC(){const n=de.lFrame,e=null===n?null:n.child;return null===e?UC(n):e}function UC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function jC(){const n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $C=jC;function bm(){const n=jC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function En(){return de.lFrame.selectedIndex}function Vo(n){de.lFrame.selectedIndex=n}function nt(){const n=de.lFrame;return xC(n.tView,n.selectedIndex)}function un(){de.lFrame.currentNamespace=AC}function Rn(){!function YU(){de.lFrame.currentNamespace=null}()}function Wd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function qd(n,e,t){HC(n,e,3,t)}function Kd(n,e,t,r){(3&n[me])===t&&HC(n,e,t,r)}function wm(n,e){let t=n[me];(3&t)===e&&(t&=2047,t+=1,n[me]=t)}function HC(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Bs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Bs]+=65536),(a<o||-1==o)&&(ZU(n,t,e,u),n[Bs]=(4294901760&n[Bs])+u+2),u++}function ZU(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[me]>>11<n[Bs]>>16&&(3&n[me])===e){n[me]+=2048,ir(4,a,o);try{o.call(a)}finally{ir(5,a,o)}}}else{ir(4,a,o);try{o.call(a)}finally{ir(5,a,o)}}}const Hs=-1;class Qu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Cm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];zC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function GC(n){return 3===n||4===n||6===n}function zC(n){return 64===n.charCodeAt(0)}function Yu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||WC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function WC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function qC(n){return n!==Hs}function Qd(n){return 32767&n}function Yd(n,e){let t=function r4(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ls],t--;return r}let Dm=!0;function Xd(n){const e=Dm;return Dm=n,e}const KC=255,QC=5;let i4=0;const Nr={};function Jd(n,e){const t=YC(n,e);if(-1!==t)return t;const r=e[H];r.firstCreatePass&&(n.injectorIndex=e.length,Am(r.data,n),Am(e,null),Am(r.blueprint,null));const i=Sm(n,e),o=n.injectorIndex;if(qC(i)){const s=Qd(i),a=Yd(i,e),u=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=rD(i),null===r)return Hs;if(t++,i=i[Ls],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Hs}function xm(n,e,t){!function o4(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hu)&&(r=t[Hu]),null==r&&(r=t[Hu]=i4++);const i=r&KC;e.data[n+(i>>QC)]|=1<<i}(n,e,t)}function XC(n,e,t){if(t&ne.Optional||void 0!==n)return n;Pd()}function JC(n,e,t,r){if(t&ne.Optional&&void 0===r&&(r=null),!(t&(ne.Self|ne.Host))){const i=n[Bd],o=nr(void 0);try{return i?i.get(e,r,t&ne.Optional):hC(e,r,t&ne.Optional)}finally{nr(o)}}return XC(r,0,t)}function ZC(n,e,t,r=ne.Default,i){if(null!==n){if(1024&e[me]){const s=function l4(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[me]&&!(256&s[me]);){const a=eD(o,s,t,r|ne.Self,Nr);if(a!==Nr)return a;let u=o.parent;if(!u){const c=s[IC];if(c){const l=c.get(t,Nr,r);if(l!==Nr)return l}u=rD(s),s=s[Ls]}o=u}return i}(n,e,t,r,Nr);if(s!==Nr)return s}const o=eD(n,e,t,r,Nr);if(o!==Nr)return o}return JC(e,t,r,i)}function eD(n,e,t,r,i){const o=function u4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Hu)?n[Hu]:void 0;return"number"==typeof e?e>=0?e&KC:c4:e}(t);if("function"==typeof o){if(!LC(e,n,r))return r&ne.Host?XC(i,0,r):JC(e,t,r,i);try{const s=o(r);if(null!=s||r&ne.Optional)return s;Pd()}finally{$C()}}else if("number"==typeof o){let s=null,a=YC(n,e),u=Hs,c=r&ne.Host?e[an][sn]:null;for((-1===a||r&ne.SkipSelf)&&(u=-1===a?Sm(n,e):e[a+8],u!==Hs&&nD(r,!1)?(s=e[H],a=Qd(u),e=Yd(u,e)):a=-1);-1!==a;){const l=e[H];if(tD(o,a,l.data)){const d=a4(a,e,t,s,r,c);if(d!==Nr)return d}u=e[a+8],u!==Hs&&nD(r,e[H].data[a+8]===c)&&tD(o,a,e)?(s=l,a=Qd(u),e=Yd(u,e)):a=-1}}return i}function a4(n,e,t,r,i,o){const s=e[H],a=s.data[n+8],l=function Zd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,l=o>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=s[u];if(f&&mr(f)&&f.type===t)return u}return null}(a,s,t,null==r?qu(a)&&Dm:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==l?Lo(e,s,l,a):Nr}function Lo(n,e,t,r){let i=n[t];const o=e.data;if(function e4(n){return n instanceof Qu}(i)){const s=i;s.resolving&&function iU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(o[t]));const a=Xd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?nr(s.injectImpl):null;LC(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function JU(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=TC(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&nr(u),Xd(a),s.resolving=!1,$C()}}return i}function tD(n,e,t){return!!(t[e+(n>>QC)]&1<<n)}function nD(n,e){return!(n&ne.Self||n&ne.Host&&e)}class Gs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ZC(this._tNode,this._lView,e,Fd(r),t)}}function c4(){return new Gs(Kt(),x())}function Qt(n){return ai(()=>{const e=n.prototype.constructor,t=e[ci]||Rm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ci]||Rm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rm(n){return rm(n)?()=>{const e=Rm(te(n));return e&&e()}:Fo(n)}function rD(n){const e=n[H],t=e.type;return 2===t?e.declTNode:1===t?n[sn]:null}const Ws="__parameters__";function Ks(n,e,t){return ai(()=>{const r=function Mm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Ws)?u[Ws]:Object.defineProperty(u,Ws,{value:[]})[Ws];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class L{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bo(n,e){n.forEach(t=>Array.isArray(t)?Bo(t,e):e(t))}function oD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function th(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gn(n,e,t){let r=Qs(n,e);return r>=0?n[1|r]=t:(r=~r,function p4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function km(n,e){const t=Qs(n,e);if(t>=0)return n[1|t]}function Qs(n,e){return function sD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const cn=$u(Ks("Optional"),8),Ys=$u(Ks("SkipSelf"),4);var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();const Bm=new Map;let F4=0;const jm="__ngContext__";function ln(n,e){$n(e)?(n[jm]=e[Wu],function L4(n){Bm.set(n[Wu],n)}(e)):n[jm]=e}let $m;function Hm(n,e){return $m(n,e)}function rc(n){const e=n[at];return gr(e)?e[at]:e}function Gm(n){return DD(n[Gu])}function zm(n){return DD(n[pr])}function DD(n){for(;null!==n&&!gr(n);)n=n[pr];return n}function Js(n,e,t,r,i){if(null!=r){let o,s=!1;gr(r)?o=r:$n(r)&&(s=!0,r=r[li]);const a=qt(r);0===n&&null!==t?null==i?PD(e,t,a):Uo(e,t,a,i||null,!0):1===n&&null!==t?Uo(e,t,a,i||null,!0):2===n?function Jm(n,e,t){const r=oh(n,e);r&&function o3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function u3(n,e,t,r,i){const o=t[jd];o!==qt(t)&&Js(e,n,r,o,i);for(let a=vn;a<t.length;a++){const u=t[a];ic(u[H],u,n,e,r,o)}}(e,n,o,t,i)}}function qm(n,e,t){return n.createElement(e,t)}function SD(n,e){const t=n[Us],r=t.indexOf(e),i=e[at];512&e[me]&&(e[me]&=-513,gm(i,-1)),t.splice(r,1)}function Km(n,e){if(n.length<=vn)return;const t=vn+e,r=n[t];if(r){const i=r[zu];null!==i&&i!==n&&SD(i,r),e>0&&(n[t-1][pr]=r[pr]);const o=th(n,vn+e);!function Y4(n,e){ic(n,e,e[ye],2,null,null),e[li]=null,e[sn]=null}(r[H],r);const s=o[Pr];null!==s&&s.detachView(o[H]),r[at]=null,r[pr]=null,r[me]&=-65}return r}function xD(n,e){if(!(128&e[me])){const t=e[ye];t.destroyNode&&ic(n,e,t,3,null,null),function Z4(n){let e=n[Gu];if(!e)return Qm(n[H],n);for(;e;){let t=null;if($n(e))t=e[Gu];else{const r=e[vn];r&&(t=r)}if(!t){for(;e&&!e[pr]&&e!==n;)$n(e)&&Qm(e[H],e),e=e[at];null===e&&(e=n),$n(e)&&Qm(e[H],e),t=e&&e[pr]}e=t}}(e)}}function Qm(n,e){if(!(128&e[me])){e[me]&=-65,e[me]|=128,function r3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Qu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];ir(4,a,u);try{u.call(a)}finally{ir(5,a,u)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}(n,e),function n3(n,e){const t=n.cleanup,r=e[Vs];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[Vs]=null}}(n,e),1===e[H].type&&e[ye].destroy();const t=e[zu];if(null!==t&&gr(e[at])){t!==e[at]&&SD(t,e);const r=e[Pr];null!==r&&r.detachView(n)}!function B4(n){Bm.delete(n[Wu])}(e)}}function RD(n,e,t){return function MD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[li];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Mr.None||o===Mr.Emulated)return null}return Hn(r,t)}}(n,e.parent,t)}function Uo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PD(n,e,t){n.appendChild(e,t)}function kD(n,e,t,r,i){null!==r?Uo(n,e,t,r,i):PD(n,e,t)}function oh(n,e){return n.parentNode(e)}let Ym,t_,ch,FD=function OD(n,e,t){return 40&n.type?Hn(n,t):null};function sh(n,e,t,r){const i=RD(n,r,e),o=e[ye],a=function ND(n,e,t){return FD(n,e,t)}(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)kD(o,i,t[u],a,!1);else kD(o,i,t,a,!1);void 0!==Ym&&Ym(o,r,e,t,i)}function ah(n,e){if(null!==e){const t=e.type;if(3&t)return Hn(e,n);if(4&t)return Xm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ah(n,r);{const i=n[e.index];return gr(i)?Xm(-1,i):qt(i)}}if(32&t)return Hm(e,n)()||qt(n[e.index]);{const r=LD(n,e);return null!==r?Array.isArray(r)?r[0]:ah(rc(n[an]),r):ah(n,e.next)}}return null}function LD(n,e){return null!==e?n[an][sn].projection[e.projection]:null}function Xm(n,e){const t=vn+n+1;if(t<e.length){const r=e[t],i=r[H].firstChild;if(null!==i)return ah(r,i)}return e[jd]}function Zm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&ln(qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Zm(n,e,t.child,r,i,o,!1),Js(e,n,i,a,o);else if(32&u){const c=Hm(t,r);let l;for(;l=c();)Js(e,n,i,l,o);Js(e,n,i,a,o)}else 16&u?BD(n,e,r,t,i,o):Js(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ic(n,e,t,r,i,o){Zm(t,r,n.firstChild,e,i,o,!1)}function BD(n,e,t,r,i,o){const s=t[an],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Js(e,n,i,u[c],o);else Zm(n,e,u,s[at],i,o,!0)}function UD(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jD(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Cm(n,e,r),null!==i&&UD(n,e,i),null!==o&&function l3(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function zD(n){return function n_(){if(void 0===ch&&(ch=null,ze.trustedTypes))try{ch=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ch}()?.createScriptURL(n)||n}class jo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rd})`}}function zn(n){return n instanceof jo?n.changingThisBreaksApplicationSecurity:n}function Or(n,e){const t=function I3(n){return n instanceof jo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Rd})`)}return t===e}const x3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Re=(()=>((Re=Re||{})[Re.NONE=0]="NONE",Re[Re.HTML=1]="HTML",Re[Re.STYLE=2]="STYLE",Re[Re.SCRIPT=3]="SCRIPT",Re[Re.URL=4]="URL",Re[Re.RESOURCE_URL=5]="RESOURCE_URL",Re))();function ZD(n){const e=sc();return e?e.sanitize(Re.URL,n)||"":Or(n,"URL")?zn(n):function lh(n){return(n=String(n)).match(x3)?n:"unsafe:"+n}(le(n))}function eA(n){const e=sc();if(e)return zD(e.sanitize(Re.RESOURCE_URL,n)||"");if(Or(n,"ResourceURL"))return zD(zn(n));throw new k(904,!1)}function sc(){const n=x();return n&&n[dm]}const hh=new L("ENVIRONMENT_INITIALIZER"),nA=new L("INJECTOR",-1),rA=new L("INJECTOR_DEF_TYPES");class iA{get(e,t=Uu){if(t===Uu){const r=new Error(`NullInjectorError: No provider for ${Ue(e)}!`);throw r.name="NullInjectorError",r}return t}}function $3(...n){return{\u0275providers:oA(0,n),\u0275fromNgModule:!0}}function oA(n,...e){const t=[],r=new Set;let i;return Bo(e,o=>{const s=o;s_(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&sA(i,t),t}function sA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];a_(i,o=>{e.push(o)})}}function s_(n,e,t,r){if(!(n=te(n)))return!1;let i=null,o=lC(n);const s=!o&&ke(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=lC(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)s_(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Bo(o.imports,l=>{s_(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&sA(c,e)}if(!a){const c=Fo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:xe},{provide:rA,useValue:i,multi:!0},{provide:hh,useValue:()=>U(i),multi:!0})}const u=o.providers;null==u||a||a_(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function a_(n,e){for(let t of n)im(t)&&(t=t.\u0275providers),Array.isArray(t)?a_(t,e):e(t)}const H3=Le({provide:String,useValue:Le});function u_(n){return null!==n&&"object"==typeof n&&H3 in n}function $o(n){return"function"==typeof n}const c_=new L("Set Injector scope."),fh={},z3={};let l_;function ph(){return void 0===l_&&(l_=new iA),l_}class Fr{}class cA extends Fr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,h_(e,s=>this.processProvider(s)),this.records.set(nA,ea(void 0,this)),i.has("environment")&&this.records.set(Fr,ea(void 0,this));const o=this.records.get(c_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rA.multi,xe,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Os(this),r=nr(void 0);try{return e()}finally{Os(t),nr(r)}}get(e,t=Uu,r=ne.Default){this.assertNotDestroyed(),r=Fd(r);const i=Os(this),o=nr(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Y3(n){return"function"==typeof n||"object"==typeof n&&n instanceof L}(e)&&kd(e);a=u&&this.injectableDefInScope(u)?ea(d_(e),fh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ne.Self?ph():this.parent).get(e,t=r&ne.Optional&&t===Uu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Od]=s[Od]||[]).unshift(Ue(e)),i)throw s;return function yU(n,e,t,r){const i=n[Od];throw e[fC]&&i.unshift(e[fC]),n.message=function vU(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==gU?n.slice(2):n;let i=Ue(e);if(Array.isArray(e))i=e.map(Ue).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ue(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(pU,"\n  ")}`}("\n"+n.message,i,t,r),n[fU]=i,n[Od]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{nr(o),Os(i)}}resolveInjectorInitializers(){const e=Os(this),t=nr(void 0);try{const r=this.get(hh.multi,xe,ne.Self);for(const i of r)i()}finally{Os(e),nr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ue(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=$o(e=te(e))?e:te(e&&e.provide);const r=function q3(n){return u_(n)?ea(void 0,n.useValue):ea(lA(n),fh)}(e);if($o(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ea(void 0,fh,!0),i.factory=()=>um(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===fh&&(t.value=z3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Q3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function d_(n){const e=kd(n),t=null!==e?e.factory:Fo(n);if(null!==t)return t;if(n instanceof L)throw new k(204,!1);if(n instanceof Function)return function W3(n){const e=n.length;if(e>0)throw function Zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new k(204,!1);const t=function lU(n){return n&&(n[Nd]||n[dC])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function lA(n,e,t){let r;if($o(n)){const i=te(n);return Fo(i)||d_(i)}if(u_(n))r=()=>te(n.useValue);else if(function uA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...um(n.deps||[]));else if(function aA(n){return!(!n||!n.useExisting)}(n))r=()=>U(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function K3(n){return!!n.deps}(n))return Fo(i)||d_(i);r=()=>new i(...um(n.deps))}return r}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function h_(n,e){for(const t of n)Array.isArray(t)?h_(t,e):t&&im(t)?h_(t.\u0275providers,e):e(t)}class X3{}class dA{}class Z3{resolveComponentFactory(e){throw function J3(n){const e=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ac=(()=>{class n{}return n.NULL=new Z3,n})();function ej(){return ta(Kt(),x())}function ta(n,e){return new Wn(Hn(n,e))}let Wn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=ej,n})();class fA{}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nj(){const n=x(),t=xn(Kt().index,n);return($n(t)?t:n)[ye]}(),n})(),rj=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>null}),n})();class $i{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pA=new $i("15.2.10"),f_={},p_="ngOriginalError";function g_(n){return n[p_]}class Hi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&g_(e);for(;t&&g_(t);)t=g_(t);return t||null}}function gi(n){return n instanceof Function?n():n}function mA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const _A="ng-template";function pj(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==mA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function yA(n){return 4===n.type&&n.value!==_A}function gj(n,e,t){return e===(4!==n.type||t?n.value:_A)}function mj(n,e,t){let r=4;const i=n.attrs||[],o=function vj(n){for(let e=0;e<n.length;e++)if(GC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!gj(n,u,t)||""===u&&1===e.length){if(_r(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!pj(n.attrs,c,t)){if(_r(r))return!1;s=!0}continue}const d=_j(8&r?"class":u,i,yA(n),t);if(-1===d){if(_r(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==mA(f,c,0)||2&r&&c!==h){if(_r(r))return!1;s=!0}}}}else{if(!s&&!_r(r)&&!_r(u))return!1;if(s&&_r(u))continue;s=!1,r=u|1&r}}return _r(r)||s}function _r(n){return 0==(1&n)}function _j(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Ij(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vA(n,e,t=!1){for(let r=0;r<e.length;r++)if(mj(n,e[r],t))return!0;return!1}function IA(n,e){return n?":not("+e.trim()+")":e}function bj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_r(s)&&(e+=IA(o,i),i=""),r=s,o=o||!_r(r);t++}return""!==i&&(e+=IA(o,i)),e}const he={};function C(n){EA(Ce(),x(),En()+n,!1)}function EA(n,e,t,r){if(!r)if(3==(3&e[me])){const o=n.preOrderCheckHooks;null!==o&&qd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Kd(e,o,0,t)}Vo(t)}function CA(n,e=null,t=null,r){const i=DA(n,e,t,r);return i.resolveInjectorInitializers(),i}function DA(n,e=null,t=null,r,i=new Set){const o=[t||xe,$3(n)];return r=r||("object"==typeof n?void 0:Ue(n)),new cA(o,e||ph(),r||null,i)}let qn=(()=>{class n{static create(t,r){if(Array.isArray(t))return CA({name:""},r,t,"");{const i=t.name??"";return CA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Uu,n.NULL=new iA,n.\u0275prov=K({token:n,providedIn:"any",factory:()=>U(nA)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=ne.Default){const t=x();return null===t?U(n,e):ZC(Kt(),t,te(n),e)}function NA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Im(t[r]),s.contentQueries(2,e[o],o)}}}function mh(n,e,t,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[li]=i,d[me]=76|r,(null!==l||n&&1024&n[me])&&(d[me]|=1024),RC(d),d[at]=d[Ls]=n,d[pt]=t,d[Ud]=s||n&&n[Ud],d[ye]=a||n&&n[ye],d[dm]=u||n&&n[dm]||null,d[Bd]=c||n&&n[Bd]||null,d[sn]=o,d[Wu]=function V4(){return F4++}(),d[IC]=l,d[an]=2==e.type?n[an]:d,d}function ia(n,e,t,r,i){let o=n.data[e];if(null===o)o=function I_(n,e,t,r,i){const o=kC(),s=mm(),u=n.data[e]=function Kj(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function HU(){return de.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ku(){const n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return kr(o,!0),o}function uc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function E_(n,e,t){Em(e);try{const r=n.viewQuery;null!==r&&R_(1,r,t);const i=n.template;null!==i&&OA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&NA(n,e),n.staticViewQueries&&R_(2,n.viewQuery,t);const o=n.components;null!==o&&function zj(n,e){for(let t=0;t<e.length;t++)p$(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,bm()}}function _h(n,e,t,r){const i=e[me];if(128!=(128&i)){Em(e);try{RC(e),function OC(n){return de.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&OA(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&qd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Kd(e,c,0,null),wm(e,0)}if(function h$(n){for(let e=Gm(n);null!==e;e=zm(e)){if(!e[EC])continue;const t=e[Us];for(let r=0;r<t.length;r++){const i=t[r];512&i[me]||gm(i[at],1),i[me]|=512}}}(e),function d$(n){for(let e=Gm(n);null!==e;e=zm(e))for(let t=vn;t<e.length;t++){const r=e[t],i=r[H];zd(r)&&_h(i,r,i.template,r[pt])}}(e),null!==n.contentQueries&&NA(n,e),s){const c=n.contentCheckHooks;null!==c&&qd(e,c)}else{const c=n.contentHooks;null!==c&&Kd(e,c,1),wm(e,1)}!function Hj(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Vo(~i);else{const o=i,s=t[++r],a=t[++r];GU(s,o),a(2,e[o])}}}finally{Vo(-1)}}(n,e);const a=n.components;null!==a&&function Gj(n,e){for(let t=0;t<e.length;t++)f$(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&R_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&qd(e,c)}else{const c=n.viewHooks;null!==c&&Kd(e,c,2),wm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[me]&=-41,512&e[me]&&(e[me]&=-513,gm(e[at],-1))}finally{bm()}}}function OA(n,e,t,r,i){const o=En(),s=2&r;try{Vo(-1),s&&e.length>We&&EA(n,e,We,!1),ir(s?2:0,i),t(r,i)}finally{Vo(o),ir(s?3:1,i)}}function b_(n,e,t){if(fm(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function w_(n,e,t){PC()&&(function t$(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;qu(t)&&function u$(n,e,t){const r=Hn(e,n),i=FA(t),o=n[Ud],s=yh(n,mh(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Jd(t,e),ln(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Lo(e,n,a,t);ln(c,e),null!==s&&c$(0,a-i,c,u,0,s),mr(u)&&(xn(t.index,e)[pt]=Lo(e,n,a,t))}}(n,e,t,Hn(t,e)),64==(64&t.flags)&&jA(n,e,t))}function T_(n,e,t=Hn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function FA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=C_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function C_(n,e,t,r,i,o,s,a,u,c){const l=We+r,d=l+i,h=function Wj(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:he);return t}(l,d),f="function"==typeof c?c():c;return h[H]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function LA(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?BA(t,e,i,o):r.hasOwnProperty(i)&&BA(t,e,r[i],o)}return t}function BA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function D_(n,e,t,r){if(PC()){const i=null===r?null:{"":-1},o=function r$(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(vA(e,s.selectors,!1))if(r||(r=[]),mr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),A_(n,e,a.length)}else r.unshift(s),A_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&UA(n,e,t,s,i,a),i&&function i$(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new k(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Yu(t.mergedAttrs,t.attrs)}function UA(n,e,t,r,i,o){for(let c=0;c<r.length;c++)xm(Jd(t,e),n,r[c].type);!function s$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=uc(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Yu(t.mergedAttrs,l.hostAttrs),a$(n,t,e,u,l),o$(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function Qj(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=t?t.get(d):null,p=h?h.outputs:null;u=LA(d.inputs,l,u,h?h.inputs:null),c=LA(d.outputs,l,c,p);const _=null===u||null===s||yA(e)?null:l$(u,l,s);a.push(_)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function jA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function zU(){return de.lFrame.currentDirectiveIndex}();try{Vo(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];ym(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&n$(u,c)}}finally{Vo(-1),ym(s)}}function n$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function A_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function o$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mr(e)&&(t[""]=n)}}function a$(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Fo(i.type)),s=new Qu(o,mr(i),S);n.blueprint[r]=s,t[r]=s,function Zj(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function e$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,uc(n,t,i.hostVars,he),i)}function Vr(n,e,t,r,i,o){const s=Hn(n,e);!function S_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?le(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[ye],s,o,n.value,t,r,i)}function c$(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],d=s[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function l$(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $A(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function f$(n,e){const t=xn(e,n);if(zd(t)){const r=t[H];48&t[me]?_h(r,t,r.template,t[pt]):t[Oo]>0&&x_(t)}}function x_(n){for(let r=Gm(n);null!==r;r=zm(r))for(let i=vn;i<r.length;i++){const o=r[i];if(zd(o))if(512&o[me]){const s=o[H];_h(s,o,s.template,o[pt])}else o[Oo]>0&&x_(o)}const t=n[H].components;if(null!==t)for(let r=0;r<t.length;r++){const i=xn(t[r],n);zd(i)&&i[Oo]>0&&x_(i)}}function p$(n,e){const t=xn(e,n),r=t[H];(function g$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),E_(r,t,t[pt])}function yh(n,e){return n[Gu]?n[vC][pr]=e:n[Gu]=e,n[vC]=e,e}function vh(n){for(;n;){n[me]|=32;const e=rc(n);if(CU(n)&&!e)return n;n=e}return null}function Ih(n,e,t,r=!0){const i=e[Ud];i.begin&&i.begin();try{_h(n,e,n.template,t)}catch(s){throw r&&WA(e,s),s}finally{i.end&&i.end()}}function R_(n,e,t){Im(0),e(n,t)}function HA(n){return n[Vs]||(n[Vs]=[])}function GA(n){return n.cleanup||(n.cleanup=[])}function WA(n,e){const t=n[Bd],r=t?t.get(Hi,null):null;r&&r.handleError(e)}function M_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function mi(n,e,t){const r=Gd(e,n);!function AD(n,e,t){n.setValue(e,t)}(n[ye],r,t)}function Eh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=nm(i,a):2==o&&(r=nm(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function bh(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(qt(o)),gr(o))for(let a=vn;a<o.length;a++){const u=o[a],c=u[H].firstChild;null!==c&&bh(u[H],u,c,r)}const s=t.type;if(8&s)bh(n,e,t.child,r);else if(32&s){const a=Hm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=LD(e,t);if(Array.isArray(a))r.push(...a);else{const u=rc(e[an]);bh(u[H],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class cc{get rootNodes(){const e=this._lView,t=e[H];return bh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return 128==(128&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[at];if(gr(e)){const t=e[$d],r=t?t.indexOf(this):-1;r>-1&&(Km(e,r),th(t,r))}this._attachedToViewContainer=!1}xD(this._lView[H],this._lView)}onDestroy(e){!function VA(n,e,t,r){const i=HA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&GA(n).push(r,i.length-1))}(this._lView[H],this._lView,null,e)}markForCheck(){vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-65}reattach(){this._lView[me]|=64}detectChanges(){Ih(this._lView[H],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J4(n,e){ic(n,e,e[ye],2,null,null)}(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class m$ extends cc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ih(e[H],e,e[pt],!1)}checkNoChanges(){}get context(){return null}}class qA extends ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ke(e);return new lc(t,this.ngModule)}}function KA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class y${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Fd(r);const i=this.injector.get(e,f_,r);return i!==f_||t===f_?i:this.parentInjector.get(e,t,r)}}class lc extends dA{get inputs(){return KA(this.componentDef.inputs)}get outputs(){return KA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function wj(n){return n.map(bj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Fr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new y$(e,o):e,a=s.get(fA,null);if(null===a)throw new k(407,!1);const u=s.get(rj,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function qj(n,e,t){return n.selectRootElement(e,t===Mr.ShadowDom)}(c,r,this.componentDef.encapsulation):qm(c,l,function _$(n){const e=n.toLowerCase();return"svg"===e?AC:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=C_(0,null,null,1,0,null,null,null,null,null),p=mh(null,f,null,h,null,null,a,c,u,s,null);let _,y;Em(p);try{const b=this.componentDef;let D,I=null;b.findHostDirectiveDefs?(D=[],I=new Map,b.findHostDirectiveDefs(b,D,I),D.push(b)):D=[b];const P=function I$(n,e){const t=n[H],r=We;return n[r]=e,ia(t,r,2,"#host",null)}(p,d),W=function E$(n,e,t,r,i,o,s,a){const u=i[H];!function b$(n,e,t,r){for(const i of n)e.mergedAttrs=Yu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Eh(e,e.mergedAttrs,!0),null!==t&&jD(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),l=mh(i,FA(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return u.firstCreatePass&&A_(u,n,r.length-1),yh(i,l),i[n.index]=l}(P,d,b,D,p,a,c);y=xC(f,We),d&&function T$(n,e,t,r){if(r)Cm(n,t,["ng-version",pA.full]);else{const{attrs:i,classes:o}=function Tj(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Cm(n,t,i),o&&o.length>0&&UD(n,t,o.join(" "))}}(c,b,d,r),void 0!==t&&function C$(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(y,this.ngContentSelectors,t),_=function w$(n,e,t,r,i,o){const s=Kt(),a=i[H],u=Hn(s,i);UA(a,i,s,t,null,r);for(let l=0;l<t.length;l++)ln(Lo(i,a,s.directiveStart+l,s),i);jA(a,i,s),u&&ln(u,i);const c=Lo(i,a,s.directiveStart+s.componentOffset,s);if(n[pt]=i[pt]=c,null!==o)for(const l of o)l(c,e);return b_(a,s,n),c}(W,b,D,I,p,[D$]),E_(f,p,null)}finally{bm()}return new v$(this.componentType,_,ta(y,p),p,y)}}class v$ extends X3{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new m$(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;M_(o[H],o,i,e,t),vh(xn(this._tNode.index,o))}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function D$(){const n=Kt();Wd(x()[H],n)}function Ne(n){let e=function QA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=P_(n.inputs),s.declaredInputs=P_(n.declaredInputs),s.outputs=P_(n.outputs);const a=i.hostBindings;a&&R$(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&S$(n,u),c&&x$(n,c),tm(n.inputs,i.inputs),tm(n.declaredInputs,i.declaredInputs),tm(n.outputs,i.outputs),mr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ne&&(t=!1)}}e=Object.getPrototypeOf(e)}!function A$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yu(i.hostAttrs,t=Yu(t,i.hostAttrs))}}(r)}function P_(n){return n===ui?{}:n===xe?[]:n}function S$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function x$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function R$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function wh(n){return!!function k_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Lr(n,e,t){return n[e]=t}function dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ho(n,e,t,r){const i=dn(n,e,t);return dn(n,e+1,r)||i}function Br(n,e,t,r){const i=x();return dn(i,$s(),e)&&(Ce(),Vr(nt(),i,n,e,t,r)),Br}function sa(n,e,t,r){return dn(n,$s(),t)?e+le(t)+r:he}function ua(n,e,t,r,i,o,s,a){const c=function Th(n,e,t,r,i){const o=Ho(n,e,t,r);return dn(n,e+2,i)||o}(n,function di(){return de.lFrame.bindingIndex}(),t,i,s);return hi(3),c?e+le(t)+r+le(i)+o+le(s)+a:he}function ve(n,e,t,r,i,o,s,a){const u=x(),c=Ce(),l=n+We,d=c.firstCreatePass?function U$(n,e,t,r,i,o,s,a,u){const c=e.consts,l=ia(e,n,4,s||null,ji(c,a));D_(e,t,l,ji(c,u)),Wd(e,l);const d=l.tView=C_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,o,s):c.data[l];kr(d,!1);const h=u[ye].createComment("");sh(c,u,h,d),ln(h,u),yh(u,u[l]=$A(h,u,h,d)),Hd(d)&&w_(c,u,d),null!=s&&T_(u,d,a)}function z(n,e,t){const r=x();return dn(r,$s(),e)&&function Kn(n,e,t,r,i,o,s,a){const u=Hn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(M_(n,t,l,r,i),qu(e)&&function Xj(n,e){const t=xn(e,n);16&t[me]||(t[me]|=32)}(t,e.index)):3&e.type&&(r=function Yj(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Ce(),nt(),r,n,e,r[ye],t,!1),z}function N_(n,e,t,r,i){const s=i?"class":"style";M_(n,t,e.inputs[s],s,r)}function g(n,e,t,r){const i=x(),o=Ce(),s=We+n,a=i[ye],u=o.firstCreatePass?function H$(n,e,t,r,i,o){const s=e.consts,u=ia(e,n,2,r,ji(s,i));return D_(e,t,u,ji(s,o)),null!==u.attrs&&Eh(u,u.attrs,!1),null!==u.mergedAttrs&&Eh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=i[s]=qm(a,e,function XU(){return de.lFrame.currentNamespace}()),l=Hd(u);return kr(u,!0),jD(a,c,u),32!=(32&u.flags)&&sh(o,i,c,u),0===function VU(){return de.lFrame.elementDepthCount}()&&ln(c,i),function LU(){de.lFrame.elementDepthCount++}(),l&&(w_(o,i,u),b_(o,u,i)),null!==r&&T_(i,u),g}function m(){let n=Kt();mm()?_m():(n=n.parent,kr(n,!1));const e=n;!function BU(){de.lFrame.elementDepthCount--}();const t=Ce();return t.firstCreatePass&&(Wd(t,n),fm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function t4(n){return 0!=(8&n.flags)}(e)&&N_(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function n4(n){return 0!=(16&n.flags)}(e)&&N_(t,e,x(),e.stylesWithoutHost,!1),m}function De(n,e,t,r){return g(n,e,t,r),m(),De}function ut(n,e,t){const r=x(),i=Ce(),o=n+We,s=i.firstCreatePass?function G$(n,e,t,r,i){const o=e.consts,s=ji(o,r),a=ia(e,n,8,"ng-container",s);return null!==s&&Eh(a,s,!0),D_(e,t,a,ji(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];kr(s,!0);const a=r[o]=r[ye].createComment("");return sh(i,r,a,s),ln(a,r),Hd(s)&&(w_(i,r,s),b_(i,s,r)),null!=t&&T_(r,s),ut}function ct(){let n=Kt();const e=Ce();return mm()?_m():(n=n.parent,kr(n,!1)),e.firstCreatePass&&(Wd(e,n),fm(n)&&e.queries.elementEnd(n)),ct}function gt(){return x()}function hc(n){return!!n&&"function"==typeof n.then}const O_=function cS(n){return!!n&&"function"==typeof n.subscribe};function $(n,e,t,r){const i=x(),o=Ce(),s=Kt();return function dS(n,e,t,r,i,o,s){const a=Hd(r),c=n.firstCreatePass&&GA(n),l=e[pt],d=HA(e);let h=!0;if(3&r.type||s){const _=Hn(r,e),y=s?s(_):_,b=d.length,D=s?P=>s(qt(P[r.index])):r.index;let I=null;if(!s&&a&&(I=function z$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Vs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=fS(r,e,l,o,!1);const P=t.listen(y,i,o);d.push(o,P),c&&c.push(i,D,b,b+1)}}else o=fS(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const _=p.length;if(_)for(let y=0;y<_;y+=2){const W=e[p[y]][p[y+1]].subscribe(o),J=d.length;d.push(o,W),c&&c.push(i,r.index,J,-(J+1))}}}(o,i,i[ye],s,n,e,r),$}function hS(n,e,t,r){try{return ir(6,e,t),!1!==t(r)}catch(i){return WA(n,i),!1}finally{ir(7,e,t)}}function fS(n,e,t,r,i){return function o(s){if(s===Function)return r;vh(n.componentOffset>-1?xn(n.index,e):e);let u=hS(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=hS(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function N(n=1){return function qU(n){return(de.lFrame.contextLView=function KU(n,e){for(;n>0;)e=e[Ls],n--;return e}(n,de.lFrame.contextLView))[pt]}(n)}function Ch(n,e){return n<<17|e<<2}function Gi(n){return n>>17&32767}function V_(n){return 2|n}function Go(n){return(131068&n)>>2}function L_(n,e){return-131069&n|e<<2}function B_(n){return 1|n}function wS(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Gi(o):Go(o),u=!1;for(;0!==a&&(!1===u||s);){const l=n[a+1];e5(n[a],e)&&(u=!0,n[a+1]=r?B_(l):V_(l)),a=r?Gi(l):Go(l)}u&&(n[t+1]=r?V_(o):B_(o))}function e5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qs(n,e)>=0}const Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TS(n){return n.substring(Ot.key,Ot.keyEnd)}function CS(n,e){const t=Ot.textEnd;return t===e?-1:(e=Ot.keyEnd=function i5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ot.key=e,t),pa(n,e,t))}function pa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Dh(n,e){return function yr(n,e,t,r){const i=x(),o=Ce(),s=hi(2);o.firstUpdatePass&&PS(o,n,s,r),e!==he&&dn(i,s,e)&&NS(o,o.data[En()],i,i[ye],n,i[s+1]=function m5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ue(zn(n)))),n}(e,t),r,s)}(n,e,null,!0),Dh}function jr(n,e){for(let t=function n5(n){return function AS(n){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=n.length}(n),CS(n,pa(n,0,Ot.textEnd))}(e);t>=0;t=CS(e,t))Gn(n,TS(e),!0)}function MS(n,e){return e>=n.expandoStartIndex}function PS(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[En()],s=MS(n,t);FS(o,r)&&null===e&&!s&&(e=!1),e=function c5(n,e,t,r){const i=function vm(n){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fc(t=U_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=U_(i,n,e,t,r),null===o){let u=function l5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Go(r))return n[Gi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=U_(null,n,e,u[1],r),u=fc(u,e.attrs,r),function d5(n,e,t,r){n[Gi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function h5(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=fc(r,n[o].hostAttrs,t);return fc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function J$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gi(s),u=Go(s);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Qs(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Gi(n[a+1]);n[r+1]=Ch(h,a),0!==h&&(n[h+1]=L_(n[h+1],r)),n[a+1]=function Y$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ch(a,0),0!==a&&(n[a+1]=L_(n[a+1],r)),a=r;else n[r+1]=Ch(u,0),0===a?a=r:n[u+1]=L_(n[u+1],r),u=r;c&&(n[r+1]=V_(n[r+1])),wS(n,l,r,!0),wS(n,l,r,!1),function Z$(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Qs(o,e)>=0&&(t[r+1]=B_(t[r+1]))}(e,l,n,r,o),s=Ch(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function U_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=fc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gn(n,s,!!t||e[++o]))}return void 0===n?null:n}function NS(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function X$(n){return 1==(1&n)}(c)?OS(u,e,t,i,Go(c),s):void 0;Ah(l)||(Ah(o)||function Q$(n){return 2==(2&n)}(c)&&(o=OS(u,null,t,i,a,s)),function c3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Mn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),n.setStyle(t,r,i,o))}}(r,s,Gd(En(),t),i,o))}function OS(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===he&&(h=d?xe:void 0);let f=d?km(h,r):l===r?h:void 0;if(c&&!Ah(f)&&(f=km(u,r)),Ah(f)&&(a=f,s))return a;const p=n[i+1];i=s?Gi(p):Go(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=km(u,r))}return a}function Ah(n){return void 0!==n}function FS(n,e){return 0!=(n.flags&(e?8:16))}function v(n,e=""){const t=x(),r=Ce(),i=n+We,o=r.firstCreatePass?ia(r,i,1,e,null):r.data[i],s=t[i]=function Wm(n,e){return n.createText(e)}(t[ye],e);sh(r,t,s,o),kr(o,!1)}function Yt(n){return Y("",n,""),Yt}function Y(n,e,t){const r=x(),i=sa(r,n,e,t);return i!==he&&mi(r,En(),i),Y}function j_(n,e,t,r,i,o,s){const a=x(),u=ua(a,n,e,t,r,i,o,s);return u!==he&&mi(a,En(),u),j_}function ga(n,e,t){!function vr(n,e,t,r){const i=Ce(),o=hi(2);i.firstUpdatePass&&PS(i,null,o,r);const s=x();if(t!==he&&dn(s,o,t)){const a=i.data[En()];if(FS(a,r)&&!MS(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=nm(u,t||"")),N_(i,a,s,t,r)}else!function g5(n,e,t,r,i,o,s,a){i===he&&(i=xe);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let _,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,_=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,_=f),null!==p&&NS(n,e,t,r,p,_,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[ye],s[o+1],s[o+1]=function f5(n,e,t){if(null==t||""===t)return xe;const r=[],i=zn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Gn,jr,sa(x(),n,e,t),!0)}const zo=void 0;var O5=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function N5(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ma={};function bn(n){const e=function F5(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=nx(e);if(t)return t;const r=e.split("-")[0];if(t=nx(r),t)return t;if("en"===r)return O5;throw new k(701,!1)}function nx(n){return n in ma||(ma[n]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[n]),ma[n]}var j=(()=>((j=j||{})[j.LocaleId=0]="LocaleId",j[j.DayPeriodsFormat=1]="DayPeriodsFormat",j[j.DayPeriodsStandalone=2]="DayPeriodsStandalone",j[j.DaysFormat=3]="DaysFormat",j[j.DaysStandalone=4]="DaysStandalone",j[j.MonthsFormat=5]="MonthsFormat",j[j.MonthsStandalone=6]="MonthsStandalone",j[j.Eras=7]="Eras",j[j.FirstDayOfWeek=8]="FirstDayOfWeek",j[j.WeekendRange=9]="WeekendRange",j[j.DateFormat=10]="DateFormat",j[j.TimeFormat=11]="TimeFormat",j[j.DateTimeFormat=12]="DateTimeFormat",j[j.NumberSymbols=13]="NumberSymbols",j[j.NumberFormats=14]="NumberFormats",j[j.CurrencyCode=15]="CurrencyCode",j[j.CurrencySymbol=16]="CurrencySymbol",j[j.CurrencyName=17]="CurrencyName",j[j.Currencies=18]="Currencies",j[j.Directionality=19]="Directionality",j[j.PluralCase=20]="PluralCase",j[j.ExtraData=21]="ExtraData",j))();const _a="en-US";let rx=_a;function G_(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let o=0;o<n.length;o++)G_(n[o],e,t,r,i);else{const o=Ce(),s=x();let a=$o(n)?n:te(n.provide),u=lA(n);const c=Kt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if($o(n)||!n.multi){const f=new Qu(u,i,S),p=W_(a,e,i?l:l+h,d);-1===p?(xm(Jd(c,s),o,a),z_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=W_(a,e,l+h,d),p=W_(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){xm(Jd(c,s),o,a);const b=function kH(n,e,t,r,i){const o=new Qu(n,t,S);return o.multi=[],o.index=e,o.componentProviders=0,Sx(o,i,r&&!t),o}(i?PH:MH,t.length,i,r,u);!i&&y&&(t[p].providerFactory=b),z_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),s.push(b)}else z_(o,n,f>-1?f:p,Sx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function z_(n,e,t,r){const i=$o(e),o=function G3(n){return!!n.useClass}(e);if(i||o){const u=(o?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Sx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function W_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function MH(n,e,t,r){return q_(this.multi,[])}function PH(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Lo(t,t[H],this.providerFactory.index,r);o=a.slice(0,s),q_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],q_(i,o);return o}function q_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Xe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function RH(n,e,t){const r=Ce();if(r.firstCreatePass){const i=mr(n);G_(t,r.data,r.blueprint,i,!0),G_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ya{}class xx{}class Rx extends ya{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qA(this);const r=jn(e);this._bootstrapComponents=gi(r.bootstrap),this._r3Injector=DA(e,t,[{provide:ya,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],Ue(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class K_ extends xx{constructor(e){super(),this.moduleType=e}create(e){return new Rx(this.moduleType,e)}}class OH extends ya{constructor(e,t,r){super(),this.componentFactoryResolver=new qA(this),this.instance=null;const i=new cA([...e,{provide:ya,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],t||ph(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ph(n,e,t=null){return new OH(n,e,t).injector}let FH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=oA(0,t.type),i=r.length>0?Ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(U(Fr))}),n})();function Mx(n){n.getStandaloneInjector=e=>e.get(FH).getOrCreateStandaloneInjector(n)}function kh(n,e,t){const r=In()+n,i=x();return i[r]===he?Lr(i,r,t?e.call(t):e()):function dc(n,e){return n[e]}(i,r)}function Bx(n,e,t,r,i,o,s){const a=e+t;return Ho(n,a,i,o)?Lr(n,a+2,s?r.call(s,i,o):r(i,o)):function vc(n,e){const t=n[e];return t===he?void 0:t}(n,a+2)}function Gx(n,e,t,r){const i=n+We,o=x(),s=function js(n,e){return n[e]}(o,i);return function Ic(n,e){return n[H].data[e].pure}(o,i)?Bx(o,In(),e,s.transform,t,r,s):s.transform(t,r)}function Y_(n){return e=>{setTimeout(n,void 0,e)}}const dt=class o6 extends oi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Y_(o),i&&(i=Y_(i)),s&&(s=Y_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bn&&e.add(a),a}};let _i=(()=>{class n{}return n.__NG_ELEMENT_ID__=c6,n})();const a6=_i,u6=class extends a6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=mh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[zu]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Pr];return null!==s&&(i[Pr]=s.createEmbeddedView(r)),E_(r,i,e),new cc(i)}};function c6(){return function Nh(n,e){return 4&n.type?new u6(e,n,ta(n,e)):null}(Kt(),x())}let Ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=l6,n})();function l6(){return function qx(n,e){let t;const r=e[n.index];if(gr(r))t=r;else{let i;if(8&n.type)i=qt(r);else{const o=e[ye];i=o.createComment("");const s=Hn(n,e);Uo(o,oh(o,s),i,function s3(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=$A(r,e,i,n),yh(e,t)}return new zx(t,n,e)}(Kt(),x())}const d6=Ir,zx=class extends d6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ta(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sm(this._hostTNode,this._hostLView);if(qC(e)){const t=Yd(e,this._hostLView),r=Qd(e);return new Gs(t[H].data[r+8],t)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Wx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Ju(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new lc(ke(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?c:this.parentInjector).get(Fr,null);h&&(o=h)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[H];if(function FU(n){return gr(n[at])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[at],h=new zx(d,d[sn],d[at]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function e3(n,e,t,r){const i=vn+r,o=t.length;r>0&&(t[i-1][pr]=e),r<o-vn?(e[pr]=t[i],oD(t,vn+r,e)):(t.push(e),e[pr]=null),e[at]=t;const s=e[zu];null!==s&&t!==s&&function t3(n,e){const t=n[Us];e[an]!==e[at][at][an]&&(n[EC]=!0),null===t?n[Us]=[e]:t.push(e)}(s,e);const a=e[Pr];null!==a&&a.insertView(n),e[me]|=64}(i,r,s,o);const a=Xm(o,s),u=r[ye],c=oh(u,s[jd]);return null!==c&&function X4(n,e,t,r,i,o){r[li]=i,r[sn]=e,ic(n,r,t,1,i,o)}(i,s[sn],u,r,c,a),e.attachToViewContainerRef(),oD(J_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Wx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Km(this._lContainer,t);r&&(th(J_(this._lContainer),t),xD(r[H],r))}detach(e){const t=this._adjustIndex(e,-1),r=Km(this._lContainer,t);return r&&null!=th(J_(this._lContainer),t)?new cc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Wx(n){return n[$d]}function J_(n){return n[$d]||(n[$d]=[])}function Fh(...n){}const Vh=new L("Application Initializer");let Lh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(hc(o))t.push(o);else if(O_(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(U(Vh,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bc=new L("AppId",{providedIn:"root",factory:function vR(){return`${cy()}${cy()}${cy()}`}});function cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IR=new L("Platform Initializer"),wc=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let B6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $r=new L("LocaleId",{providedIn:"root",factory:()=>fe($r,ne.Optional|ne.SkipSelf)||function U6(){return typeof $localize<"u"&&$localize.locale||_a}()});class $6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ER=(()=>{class n{compileModuleSync(t){return new K_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=gi(jn(t).declarations).reduce((s,a)=>{const u=ke(a);return u&&s.push(new lc(u)),s},[]);return new $6(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z6=(()=>Promise.resolve(0))();function ly(n){typeof Zone>"u"?z6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function W6(){let n=ze.requestAnimationFrame,e=ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Q6(n){const e=()=>{!function K6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hy(n),n.isCheckStableRunning=!0,dy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return TR(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),CR(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return TR(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),CR(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,hy(n),dy(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,q6,Fh,Fh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const q6={};function dy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function TR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CR(n){n._nesting--,dy(n)}class Y6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dt,this.onMicrotaskEmpty=new dt,this.onStable=new dt,this.onError=new dt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const DR=new L(""),Bh=new L("");let gy,fy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gy||(function X6(n){gy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),ly(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ly(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(U(Je),U(py),U(Bh))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),py=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yi=!1;let zi=null;const AR=new L("AllowMultipleToken"),my=new L("PlatformDestroyListeners"),SR=new L("appBootstrapListener");class xR{constructor(e,t){this.name=e,this.token=t}}function MR(n,e,t=[]){const r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=_y();if(!s||s.injector.get(AR,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function eG(n){if(zi&&!zi.get(AR,!1))throw new k(400,!1);zi=n;const e=n.get(kR);(function RR(n){const e=n.get(IR,null);e&&e.forEach(t=>t())})(n)}(function PR(n=[],e){return qn.create({name:e,providers:[{provide:c_,useValue:"platform"},{provide:my,useValue:new Set([()=>zi=null])},...n]})}(a,r))}return function nG(n){const e=_y();if(!e)throw new k(401,!1);return e}()}}function _y(){return zi?.get(kR)??null}let kR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function OR(n,e){let t;return t="noop"===n?new Y6:("zone.js"===n?void 0:n)||new Je(e),t}(r?.ngZone,function NR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Je,useValue:i}];return i.run(()=>{const s=qn.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Hi,null);if(!u)throw new k(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{jh(this._modules,a),c.unsubscribe()})}),function FR(n,e,t){try{const r=t();return hc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Lh);return c.runInitializers(),c.donePromise.then(()=>(function ix(n){tr(n,"Expected localeId to be defined"),"string"==typeof n&&(rx=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get($r,_a)||_a),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=VR({},r);return function J6(n,e,t){const r=new K_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Uh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(my,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(U(qn))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function VR(n,e){return Array.isArray(e)?e.reduce(VR,n):{...n,...e}}let Uh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new tt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new tt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),ly(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function nU(...n){const e=Bu(n),t=function QB(n,e){return"number"==typeof Zg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fr(r[0]):Ns(t)(Tt(r,e)):xr}(o,s.pipe(function uC(n={}){const{connector:e=(()=>new oi),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const _=s;f(),_?.unsubscribe()};return Bt((_,y)=>{c++,!d&&!l&&h();const b=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=em(p,i))}),b.subscribe(y),!s&&c>0&&(s=new Lu({next:D=>b.next(D),error:D=>{d=!0,h(),a=em(f,t,D),b.error(D)},complete:()=>{l=!0,h(),a=em(f,r),b.complete()}}),fr(_).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof dA;if(!this._injector.get(Lh).done){!i&&function Fs(n){const e=ke(n)||on(n)||Sn(n);return null!==e&&e.standalone}(t);throw new k(405,yi)}let s;s=i?t:this._injector.get(ac).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Z6(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ya),c=s.create(qn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(DR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),jh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;jh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(SR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(U(Je),U(Fr),U(Hi))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let $h=(()=>{class n{}return n.__NG_ELEMENT_ID__=iG,n})();function iG(n){return function oG(n,e,t){if(qu(n)&&!t){const r=xn(n.index,e);return new cc(r,r)}return 47&n.type?new cc(e[an],e):null}(Kt(),x(),16==(16&n))}class $R{constructor(){}supports(e){return wh(e)}create(e){return new dG(e)}}const lG=(n,e)=>e;class dG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<GR(r,i,o)?t:r,a=GR(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wh(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function V$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new hG(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class HR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new fG,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function WR(){return new zh([new $R])}let zh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WR()),deps:[[n,new Ys,new cn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n.\u0275prov=K({token:n,providedIn:"root",factory:WR}),n})();const yG=MR(null,"core",[]);let vG=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(U(Uh))},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({}),n})();function Ea(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let by=null;function vi(){return by}class bG{}const rt=new L("DocumentToken");let wy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return function wG(){return U(KR)}()},providedIn:"platform"}),n})();const TG=new L("Location Initialized");let KR=(()=>{class n extends wy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vi().getBaseHref(this._doc)}onPopState(t){const r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){QR()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){QR()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(U(rt))},n.\u0275prov=K({token:n,factory:function(){return function CG(){return new KR(U(rt))}()},providedIn:"platform"}),n})();function QR(){return!!window.history.pushState}function Ty(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function YR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ii(n){return n&&"?"!==n[0]?"?"+n:n}let qo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return fe(JR)},providedIn:"root"}),n})();const XR=new L("appBaseHref");let JR=(()=>{class n extends qo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??fe(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ty(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Ii(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Ii(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(U(wy),U(XR,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DG=(()=>{class n extends qo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ty(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ii(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ii(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(U(wy),U(XR,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Cy=(()=>{class n{constructor(t){this._subject=new dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function xG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(YR(ZR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ii(r))}normalize(t){return n.stripTrailingSlash(function SG(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ZR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ii(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ii,n.joinWithSlash=Ty,n.stripTrailingSlash=YR,n.\u0275fac=function(t){return new(t||n)(U(qo))},n.\u0275prov=K({token:n,factory:function(){return function AG(){return new Cy(U(qo))}()},providedIn:"root"}),n})();function ZR(n){return n.replace(/\/index.html$/,"")}var mt=(()=>((mt=mt||{})[mt.Format=0]="Format",mt[mt.Standalone=1]="Standalone",mt))(),Ee=(()=>((Ee=Ee||{})[Ee.Narrow=0]="Narrow",Ee[Ee.Abbreviated=1]="Abbreviated",Ee[Ee.Wide=2]="Wide",Ee[Ee.Short=3]="Short",Ee))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Wh(n,e){return ur(bn(n)[j.DateFormat],e)}function qh(n,e){return ur(bn(n)[j.TimeFormat],e)}function Kh(n,e){return ur(bn(n)[j.DateTimeFormat],e)}function ar(n,e){const t=bn(n),r=t[j.NumberSymbols][e];if(typeof r>"u"){if(e===ee.CurrencyDecimal)return t[j.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[j.NumberSymbols][ee.Group]}return r}function t1(n){if(!n[j.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[j.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ur(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ay(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $G=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cc={},HG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ft=(()=>((Ft=Ft||{})[Ft.Short=0]="Short",Ft[Ft.ShortGMT=1]="ShortGMT",Ft[Ft.Long=2]="Long",Ft[Ft.Extended=3]="Extended",Ft))(),re=(()=>((re=re||{})[re.FullYear=0]="FullYear",re[re.Month=1]="Month",re[re.Date=2]="Date",re[re.Hours=3]="Hours",re[re.Minutes=4]="Minutes",re[re.Seconds=5]="Seconds",re[re.FractionalSeconds=6]="FractionalSeconds",re[re.Day=7]="Day",re))(),_e=(()=>((_e=_e||{})[_e.DayPeriods=0]="DayPeriods",_e[_e.Days=1]="Days",_e[_e.Months=2]="Months",_e[_e.Eras=3]="Eras",_e))();function GG(n,e,t,r){let i=function ZG(n){if(o1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return Qh(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($G))return function ez(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,u,c),e}(r)}const e=new Date(n);if(!o1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ei(t,e)||e;let a,s=[];for(;e;){if(a=HG.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=r1(r,u),i=function JG(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function XG(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(r1(e,i)-i))}(i,r,!0));let c="";return s.forEach(l=>{const d=function YG(n){if(xy[n])return xy[n];let e;switch(n){case"G":case"GG":case"GGG":e=$e(_e.Eras,Ee.Abbreviated);break;case"GGGG":e=$e(_e.Eras,Ee.Wide);break;case"GGGGG":e=$e(_e.Eras,Ee.Narrow);break;case"y":e=Dt(re.FullYear,1,0,!1,!0);break;case"yy":e=Dt(re.FullYear,2,0,!0,!0);break;case"yyy":e=Dt(re.FullYear,3,0,!1,!0);break;case"yyyy":e=Dt(re.FullYear,4,0,!1,!0);break;case"Y":e=Zh(1);break;case"YY":e=Zh(2,!0);break;case"YYY":e=Zh(3);break;case"YYYY":e=Zh(4);break;case"M":case"L":e=Dt(re.Month,1,1);break;case"MM":case"LL":e=Dt(re.Month,2,1);break;case"MMM":e=$e(_e.Months,Ee.Abbreviated);break;case"MMMM":e=$e(_e.Months,Ee.Wide);break;case"MMMMM":e=$e(_e.Months,Ee.Narrow);break;case"LLL":e=$e(_e.Months,Ee.Abbreviated,mt.Standalone);break;case"LLLL":e=$e(_e.Months,Ee.Wide,mt.Standalone);break;case"LLLLL":e=$e(_e.Months,Ee.Narrow,mt.Standalone);break;case"w":e=Sy(1);break;case"ww":e=Sy(2);break;case"W":e=Sy(1,!0);break;case"d":e=Dt(re.Date,1);break;case"dd":e=Dt(re.Date,2);break;case"c":case"cc":e=Dt(re.Day,1);break;case"ccc":e=$e(_e.Days,Ee.Abbreviated,mt.Standalone);break;case"cccc":e=$e(_e.Days,Ee.Wide,mt.Standalone);break;case"ccccc":e=$e(_e.Days,Ee.Narrow,mt.Standalone);break;case"cccccc":e=$e(_e.Days,Ee.Short,mt.Standalone);break;case"E":case"EE":case"EEE":e=$e(_e.Days,Ee.Abbreviated);break;case"EEEE":e=$e(_e.Days,Ee.Wide);break;case"EEEEE":e=$e(_e.Days,Ee.Narrow);break;case"EEEEEE":e=$e(_e.Days,Ee.Short);break;case"a":case"aa":case"aaa":e=$e(_e.DayPeriods,Ee.Abbreviated);break;case"aaaa":e=$e(_e.DayPeriods,Ee.Wide);break;case"aaaaa":e=$e(_e.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":e=$e(_e.DayPeriods,Ee.Abbreviated,mt.Standalone,!0);break;case"bbbb":e=$e(_e.DayPeriods,Ee.Wide,mt.Standalone,!0);break;case"bbbbb":e=$e(_e.DayPeriods,Ee.Narrow,mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(_e.DayPeriods,Ee.Abbreviated,mt.Format,!0);break;case"BBBB":e=$e(_e.DayPeriods,Ee.Wide,mt.Format,!0);break;case"BBBBB":e=$e(_e.DayPeriods,Ee.Narrow,mt.Format,!0);break;case"h":e=Dt(re.Hours,1,-12);break;case"hh":e=Dt(re.Hours,2,-12);break;case"H":e=Dt(re.Hours,1);break;case"HH":e=Dt(re.Hours,2);break;case"m":e=Dt(re.Minutes,1);break;case"mm":e=Dt(re.Minutes,2);break;case"s":e=Dt(re.Seconds,1);break;case"ss":e=Dt(re.Seconds,2);break;case"S":e=Dt(re.FractionalSeconds,1);break;case"SS":e=Dt(re.FractionalSeconds,2);break;case"SSS":e=Dt(re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xh(Ft.Short);break;case"ZZZZZ":e=Xh(Ft.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xh(Ft.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xh(Ft.Long);break;default:return null}return xy[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Qh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ei(n,e){const t=function RG(n){return bn(n)[j.LocaleId]}(n);if(Cc[t]=Cc[t]||{},Cc[t][e])return Cc[t][e];let r="";switch(e){case"shortDate":r=Wh(n,it.Short);break;case"mediumDate":r=Wh(n,it.Medium);break;case"longDate":r=Wh(n,it.Long);break;case"fullDate":r=Wh(n,it.Full);break;case"shortTime":r=qh(n,it.Short);break;case"mediumTime":r=qh(n,it.Medium);break;case"longTime":r=qh(n,it.Long);break;case"fullTime":r=qh(n,it.Full);break;case"short":const i=Ei(n,"shortTime"),o=Ei(n,"shortDate");r=Yh(Kh(n,it.Short),[i,o]);break;case"medium":const s=Ei(n,"mediumTime"),a=Ei(n,"mediumDate");r=Yh(Kh(n,it.Medium),[s,a]);break;case"long":const u=Ei(n,"longTime"),c=Ei(n,"longDate");r=Yh(Kh(n,it.Long),[u,c]);break;case"full":const l=Ei(n,"fullTime"),d=Ei(n,"fullDate");r=Yh(Kh(n,it.Full),[l,d])}return r&&(Cc[t][e]=r),r}function Yh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function br(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Dt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function WG(n,e){switch(n){case re.FullYear:return e.getFullYear();case re.Month:return e.getMonth();case re.Date:return e.getDate();case re.Hours:return e.getHours();case re.Minutes:return e.getMinutes();case re.Seconds:return e.getSeconds();case re.FractionalSeconds:return e.getMilliseconds();case re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===re.Hours)0===a&&-12===t&&(a=12);else if(n===re.FractionalSeconds)return function zG(n,e){return br(n,3).substring(0,e)}(a,e);const u=ar(s,ee.MinusSign);return br(a,e,u,r,i)}}function $e(n,e,t=mt.Format,r=!1){return function(i,o){return function qG(n,e,t,r,i,o){switch(t){case _e.Months:return function kG(n,e,t){const r=bn(n),o=ur([r[j.MonthsFormat],r[j.MonthsStandalone]],e);return ur(o,t)}(e,i,r)[n.getMonth()];case _e.Days:return function PG(n,e,t){const r=bn(n),o=ur([r[j.DaysFormat],r[j.DaysStandalone]],e);return ur(o,t)}(e,i,r)[n.getDay()];case _e.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function VG(n){const e=bn(n);return t1(e),(e[j.ExtraData][2]||[]).map(r=>"string"==typeof r?Ay(r):[Ay(r[0]),Ay(r[1])])}(e),l=function LG(n,e,t){const r=bn(n);t1(r);const o=ur([r[j.ExtraData][0],r[j.ExtraData][1]],e)||[];return ur(o,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=s>=f.hours&&a>=f.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&y)return!0}else if(_||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function MG(n,e,t){const r=bn(n),o=ur([r[j.DayPeriodsFormat],r[j.DayPeriodsStandalone]],e);return ur(o,t)}(e,i,r)[s<12?0:1];case _e.Eras:return function NG(n,e){return ur(bn(n)[j.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Xh(n){return function(e,t,r){const i=-1*r,o=ar(t,ee.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ft.Short:return(i>=0?"+":"")+br(s,2,o)+br(Math.abs(i%60),2,o);case Ft.ShortGMT:return"GMT"+(i>=0?"+":"")+br(s,1,o);case Ft.Long:return"GMT"+(i>=0?"+":"")+br(s,2,o)+":"+br(Math.abs(i%60),2,o);case Ft.Extended:return 0===r?"Z":(i>=0?"+":"")+br(s,2,o)+":"+br(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const KG=0,Jh=4;function n1(n){return Qh(n.getFullYear(),n.getMonth(),n.getDate()+(Jh-n.getDay()))}function Sy(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=n1(t),s=function QG(n){const e=Qh(n,KG,1).getDay();return Qh(n,0,1+(e<=Jh?Jh:Jh+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return br(i,n,ar(r,ee.MinusSign))}}function Zh(n,e=!1){return function(t,r){return br(n1(t).getFullYear(),n,ar(r,ee.MinusSign),e)}}const xy={};function r1(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function o1(n){return n instanceof Date&&!isNaN(n.valueOf())}function c1(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class pz{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new pz(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),f1(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{f1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(Ir),S(_i),S(zh))},n.\u0275dir=se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function f1(n,e){n.context.$implicit=e.item}let qi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){p1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){p1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(Ir),S(_i))},n.\u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mz{constructor(){this.$implicit=null,this.ngIf=null}}function p1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ue(e)}'.`)}const xz=new L("DATE_PIPE_DEFAULT_TIMEZONE"),Rz=new L("DATE_PIPE_DEFAULT_OPTIONS");let Ac=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return GG(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function wr(n,e){return new k(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(S($r,16),S(xz,24),S(Rz,24))},n.\u0275pipe=An({name:"date",type:n,pure:!0,standalone:!0}),n})(),Uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({}),n})();const _1="browser";let zz=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>new Wz(U(rt),window)}),n})();class Wz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=y1(this.window.history)||y1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function y1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class v1{}class I9 extends bG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $y extends I9{static makeCurrent(){!function EG(n){by||(by=n)}(new $y)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function E9(){return xc=xc||document.querySelector("base"),xc?xc.getAttribute("href"):null}();return null==t?null:function b9(n){rf=rf||document.createElement("a"),rf.setAttribute("href",n);const e=rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return c1(document.cookie,e)}}let rf,xc=null;const T1=new L("TRANSITION_ID"),T9=[{provide:Vh,useFactory:function w9(n,e,t){return()=>{t.get(Lh).donePromise.then(()=>{const r=vi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[T1,rt,qn],multi:!0}];let D9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const sf=new L("EventManagerPlugins");let af=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(U(sf),U(Je))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class C1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=vi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let D1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Rc=(()=>{class n extends D1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(U(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gy=/%COMP%/g,x1=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function R1(n,e){return e.flat(100).map(t=>t.replace(Gy,n))}function M1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let zy=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Wy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof N1?i.applyToHost(t):i instanceof qy&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Mr.Emulated:o=new N1(s,a,r,this.appId,u);break;case Mr.ShadowDom:return new k9(s,a,t,r);default:o=new qy(s,a,r,u)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(U(af),U(Rc),U(bc),U(x1))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Wy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(k1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(k1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Hy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,i&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,M1(r)):this.eventManager.addEventListener(e,t,M1(r))}}function k1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class k9 extends Wy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=R1(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qy extends Wy{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=R1(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class N1 extends qy{constructor(e,t,r,i,o){const s=i+"-"+r.id;super(e,t,r,o,s),this.contentAttr=function R9(n){return"_ngcontent-%COMP%".replace(Gy,n)}(s),this.hostAttr=function M9(n){return"_nghost-%COMP%".replace(Gy,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let N9=(()=>{class n extends C1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(U(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const O1=["alt","control","meta","shift"],O9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let V9=(()=>{class n extends C1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),O1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=O9[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),O1.forEach(s=>{s!==i&&(0,F9[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(U(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const V1=[{provide:wc,useValue:_1},{provide:IR,useValue:function L9(){$y.makeCurrent()},multi:!0},{provide:rt,useFactory:function U9(){return function p3(n){t_=n}(document),document},deps:[]}],j9=MR(yG,"browser",V1),L1=new L(""),B1=[{provide:Bh,useClass:class C9{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?vi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:DR,useClass:fy,deps:[Je,py,Bh]},{provide:fy,useClass:fy,deps:[Je,py,Bh]}],U1=[{provide:c_,useValue:"root"},{provide:Hi,useFactory:function B9(){return new Hi},deps:[]},{provide:sf,useClass:N9,multi:!0,deps:[rt,Je,wc]},{provide:sf,useClass:V9,multi:!0,deps:[rt]},{provide:zy,useClass:zy,deps:[af,Rc,bc,x1]},{provide:fA,useExisting:zy},{provide:D1,useExisting:Rc},{provide:Rc,useClass:Rc,deps:[rt]},{provide:af,useClass:af,deps:[sf,Je]},{provide:v1,useClass:D9,deps:[]},[]];let Xy,$9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:bc,useValue:t.appId},{provide:T1,useExisting:bc},T9]}}}return n.\u0275fac=function(t){return new(t||n)(U(L1,12))},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({providers:[...U1,...B1],imports:[Uz,vG]}),n})(),j1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(U(rt))},n.\u0275prov=K({token:n,factory:function(t){let r=null;return r=t?new t:function G9(){return new j1(U(rt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{Xy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Xy=!1}let Y9=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Gz(n){return n===_1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Xy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(U(wc))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q1="cdk-high-contrast-black-on-white",Y1="cdk-high-contrast-white-on-black",ev="cdk-high-contrast-active";let f8=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ev),t.remove(Q1),t.remove(Y1),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(ev),t.add(Q1)):2===r&&(t.add(ev),t.add(Y1))}}}return n.\u0275fac=function(t){return new(t||n)(U(Y9),U(rt))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({}),n})();const _8=new L("mat-sanity-checks",{providedIn:"root",factory:function m8(){return!0}});let wa=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Z9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(U(f8),U(_8,8),U(rt))},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[[X1],X1]}),n})(),w8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[[wa],wa]}),n})();function X(...n){return Tt(n,Bu(n))}function Ta(n,e){const t=Be(n)?n:()=>n,r=i=>i.error(t());return new tt(e?i=>e.schedule(r,0,i):r)}const{isArray:T8}=Array,{getPrototypeOf:C8,prototype:D8,keys:A8}=Object;function rM(n){if(1===n.length){const e=n[0];if(T8(e))return{args:e,keys:null};if(function S8(n){return n&&"object"==typeof n&&C8(n)===D8}(e)){const t=A8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:x8}=Array;function iM(n){return ue(e=>function R8(n,e){return x8(e)?n(...e):n(e)}(n,e))}function oM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function At(n,e,t){const r=Be(n)||e||t?{next:n,error:e,complete:t}:n;return r?Bt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Pt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):No}function bi(n){return Bt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Pt(t,void 0,void 0,s=>{o=fr(n(s,bi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function cf(n){return Bt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qi(n,e){return Be(e)?Wt(n,e,1):Wt(n,1)}function wi(n,e){return Bt((t,r)=>{let i=0;t.subscribe(Pt(r,o=>n.call(e,o,i++)&&r.next(o)))})}class lf{}class nv{}class Ti{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ti?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ti;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ti?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class M8{encodeKey(e){return aM(e)}encodeValue(e){return aM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const k8=/%(\d[a-f0-9])/gi,N8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aM(n){return encodeURIComponent(n).replace(k8,(e,t)=>N8[t]??e)}function df(n){return`${n}`}class Yi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new M8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function P8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(df):[df(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Yi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(df(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(df(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class O8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function uM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cM(n){return typeof Blob<"u"&&n instanceof Blob}function lM(n){return typeof FormData<"u"&&n instanceof FormData}class kc{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function F8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ti),this.context||(this.context=new O8),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Yi,this.urlWithParams=t}serializeBody(){return null===this.body?null:uM(this.body)||cM(this.body)||lM(this.body)||function V8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lM(this.body)?null:cM(this.body)?this.body.type||null:uM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new kc(t,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class rv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ti,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class iv extends rv{constructor(e={}){super(e),this.type=St.ResponseHeader}clone(e={}){return new iv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hf extends rv{constructor(e={}){super(e),this.type=St.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dM extends rv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ov(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof kc)o=t;else{let u,c;u=i.headers instanceof Ti?i.headers:new Ti(i.headers),i.params&&(c=i.params instanceof Yi?i.params:new Yi({fromObject:i.params})),o=new kc(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=X(o).pipe(Qi(u=>this.handler.handle(u)));if(t instanceof kc||"events"===i.observe)return s;const a=s.pipe(wi(u=>u instanceof hf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ue(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ue(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Yi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ov(i,r))}post(t,r,i={}){return this.request("POST",t,ov(i,r))}put(t,r,i={}){return this.request("PUT",t,ov(i,r))}}return n.\u0275fac=function(t){return new(t||n)(U(lf))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function hM(n,e){return e(n)}function L8(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const U8=new L("HTTP_INTERCEPTORS"),Nc=new L("HTTP_INTERCEPTOR_FNS");function j8(){let n=null;return(e,t)=>(null===n&&(n=(fe(U8,{optional:!0})??[]).reduceRight(L8,hM)),n(e,t))}let fM=(()=>{class n extends lf{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Nc)));this.chain=r.reduceRight((i,o)=>function B8(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),hM)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(U(nv),U(Fr))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const z8=/^\)\]\}',?\n/;let gM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new Ti(i.getAllResponseHeaders()),_=function W8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new iv({headers:p,status:i.status,statusText:f,url:_}),s},u=()=>{let{headers:f,status:p,statusText:_,url:y}=a(),b=null;204!==p&&(b=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=b?200:0);let D=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const I=b;b=b.replace(z8,"");try{b=""!==b?JSON.parse(b):null}catch(P){b=I,D&&(D=!1,b={error:P,text:b})}}D?(r.next(new hf({body:b,headers:f,status:p,statusText:_,url:y||void 0})),r.complete()):r.error(new dM({error:b,headers:f,status:p,statusText:_,url:y||void 0}))},c=f=>{const{url:p}=a(),_=new dM({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:St.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:St.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:St.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(U(v1))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const av=new L("XSRF_ENABLED"),mM=new L("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_M=new L("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yM{}let Q8=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=c1(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(U(rt),U(wc),U(mM))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function Y8(n,e){const t=n.url.toLowerCase();if(!fe(av)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=fe(yM).getToken(),i=fe(_M);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var yt=(()=>((yt=yt||{})[yt.Interceptors=0]="Interceptors",yt[yt.LegacyInterceptors=1]="LegacyInterceptors",yt[yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yt[yt.NoXsrfProtection=3]="NoXsrfProtection",yt[yt.JsonpSupport=4]="JsonpSupport",yt[yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",yt))();function Ca(n,e){return{\u0275kind:n,\u0275providers:e}}function X8(...n){const e=[sv,gM,fM,{provide:lf,useExisting:fM},{provide:nv,useExisting:gM},{provide:Nc,useValue:Y8,multi:!0},{provide:av,useValue:!0},{provide:yM,useClass:Q8}];for(const t of n)e.push(...t.\u0275providers);return function j3(n){return{\u0275providers:n}}(e)}const vM=new L("LEGACY_INTERCEPTOR_FN");let Z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({providers:[X8(Ca(yt.LegacyInterceptors,[{provide:vM,useFactory:j8},{provide:Nc,useExisting:vM,multi:!0}]))]}),n})(),oW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[[wa],wa]}),n})(),sW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[[w8,wa],wa]}),n})(),TM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(pi),S(Wn))},n.\u0275dir=se({type:n}),n})(),Yo=(()=>{class n extends TM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Qt(n)))(r||n)}}(),n.\u0275dir=se({type:n,features:[Ne]}),n})();const Hr=new L("NgValueAccessor"),uW={provide:Hr,useExisting:je(()=>Xo),multi:!0},lW=new L("CompositionEventMode");let Xo=(()=>{class n extends TM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cW(){const n=vi()?vi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(pi),S(Wn),S(lW,8))},n.\u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&$("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Xe([uW]),Ne]}),n})();const dW=!1;const hn=new L("NgValidators"),Ji=new L("NgAsyncValidators");function xM(n){return function Xi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function gf(n){return null}function OM(n){return null!=n}function FM(n){const e=hc(n)?Tt(n):n;if(dW&&!O_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new k(-1101,t)}return e}function VM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function LM(n,e){return e.map(t=>t(n))}function BM(n){return n.map(e=>function fW(n){return!n.validate}(e)?e:t=>e.validate(t))}function cv(n){return null!=n?function UM(n){if(!n)return null;const e=n.filter(OM);return 0==e.length?null:function(t){return VM(LM(t,e))}}(BM(n)):null}function jM(n){if(!n)return null;const e=n.filter(OM);return 0==e.length?null:function(t){return function sM(...n){const e=sC(n),{args:t,keys:r}=rM(n),i=new tt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;fr(t[l]).subscribe(Pt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?oM(r,a):a),o.complete())}))}});return e?i.pipe(iM(e)):i}(LM(t,e).map(FM)).pipe(ue(VM))}}function lv(n){return null!=n?jM(BM(n)):null}function $M(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function dv(n){return n?Array.isArray(n)?n:[n]:[]}function mf(n,e){return Array.isArray(n)?n.includes(e):n===e}function zM(n,e){const t=dv(e);return dv(n).forEach(i=>{mf(t,i)||t.push(i)}),t}function WM(n,e){return dv(e).filter(t=>!mf(n,t))}class qM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Tn extends qM{get formDirective(){return null}get path(){return null}}class Zi extends qM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fc=(()=>{class n extends KM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Zi,2))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Dh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ne]}),n})();const Vc="VALID",yf="INVALID",Da="PENDING",Lc="DISABLED";function vf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class JM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vc}get invalid(){return this.status===yf}get pending(){return this.status==Da}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WM(e,this._rawAsyncValidators))}hasValidator(e){return mf(this._rawValidators,e)}hasAsyncValidator(e){return mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Da,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===Da)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:Vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator=!0;const t=FM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(yf)?yf:Vc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function EW(n){return Array.isArray(n)?cv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bW(n){return Array.isArray(n)?lv(n):n||null}(this._rawAsyncValidators)}}const Aa=new L("CallSetDisabledState",{providedIn:"root",factory:()=>If}),If="always";function Bc(n,e,t=If){(function yv(n,e){const t=function HM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators($M(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function GM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators($M(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wf(e._rawValidators,i),wf(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function CW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ZM(n,e)})}(n,e),function AW(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ZM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function TW(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function rP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const iP=class extends JM{constructor(e=null,t,r){super(function gv(n){return(vf(n)?n.validators:n)||null}(t),function mv(n,e){return(vf(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=rP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){rP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},OW={provide:Zi,useExisting:je(()=>Sa)},aP=(()=>Promise.resolve())();let Sa=(()=>{class n extends Zi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new iP,this._registered=!1,this.update=new dt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ev(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Xo?t=o:function RW(n){return Object.getPrototypeOf(n.constructor)===Yo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Iv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){aP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ea(r);aP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ef(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(S(Tn,9),S(hn,10),S(Ji,10),S(Hr,10),S($h,8),S(Aa,8))},n.\u0275dir=se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xe([OW]),Ne,rr]}),n})();const VW={provide:Hr,useExisting:je(()=>wv),multi:!0};let wv=(()=>{class n extends Yo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Qt(n)))(r||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&$("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Xe([VW]),Ne]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({}),n})(),Jo=(()=>{class n{constructor(){this._validator=gf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=se({type:n,features:[rr]}),n})();const eq={provide:hn,useExisting:je(()=>Cf),multi:!0};let Cf=(()=>{class n extends Jo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ea,this.createValidator=t=>xM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Qt(n)))(r||n)}}(),n.\u0275dir=se({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Br("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xe([eq]),Ne]}),n})(),sq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[uP]}),n})(),uq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Aa,useValue:t.callSetDisabledState??If}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[sq]}),n})();class Tr extends oi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Df=Vu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function DP(...n){const e=Bu(n),t=sC(n),{args:r,keys:i}=rM(n);if(0===r.length)return Tt([],e);const o=new tt(function cq(n,e,t=No){return r=>{AP(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)AP(e,()=>{const c=Tt(n[u],e);let l=!1;c.subscribe(Pt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>oM(i,s):No));return t?o.pipe(iM(t)):o}function AP(n,e,t){n?si(t,n,e):e()}function xv(...n){return function lq(){return Ns(1)}()(Tt(n,Bu(n)))}function SP(n){return new tt(e=>{fr(n()).subscribe(e)})}function Rv(){return Bt((n,e)=>{let t=null;n._refCount++;const r=Pt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xP extends tt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const t=this.getSubject();e.add(this.source.subscribe(Pt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return Rv()(this)}}function Gr(n,e){return Bt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Pt(r,u=>{i?.unsubscribe();let c=0;const l=o++;fr(n(u,l)).subscribe(i=Pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xa(n){return n<=0?()=>xr:Bt((e,t)=>{let r=0;e.subscribe(Pt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Af(n){return Bt((e,t)=>{let r=!1;e.subscribe(Pt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function RP(n=hq){return Bt((e,t)=>{let r=!1;e.subscribe(Pt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hq(){return new Df}function eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,o)=>n(i,o,r)):No,xa(1),t?Af(e):RP(()=>new Df))}function MP(n,e){return Bt(function fq(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Pt(s,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}function Mv(n){return n<=0?()=>xr:Bt((e,t)=>{let r=[];e.subscribe(Pt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function PP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,o)=>n(i,o,r)):No,Mv(1),t?Af(e):RP(()=>new Df))}const pe="primary",jc=Symbol("RouteTitle");class mq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ra(n){return new mq(n)}function _q(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kP(n[i],e[i]))return!1;return!0}function kP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function NP(n){return Array.prototype.concat.apply([],n)}function OP(n){return n.length>0?n[n.length-1]:null}function Xt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function to(n){return O_(n)?n:hc(n)?Tt(Promise.resolve(n)):X(n)}const Sf=!1,vq={exact:function LP(n,e,t){if(!Zo(n.segments,e.segments)||!xf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!LP(n.children[r],e.children[r],t))return!1;return!0},subset:BP},FP={exact:function Iq(n,e){return zr(n,e)},subset:function Eq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kP(n[t],e[t]))},ignored:()=>!0};function VP(n,e,t){return vq[t.paths](n.root,e.root,t.matrixParams)&&FP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function BP(n,e,t){return UP(n,e,e.segments,t)}function UP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Zo(i,t)||e.hasChildren()||!xf(i,t,r))}if(n.segments.length===t.length){if(!Zo(n.segments,t)||!xf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!BP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Zo(n.segments,i)&&xf(n.segments,i,r)&&n.children[pe])&&UP(n.children[pe],e,o,r)}}function xf(n,e,t){return e.every((r,i)=>FP[t](n[i].parameters,r.parameters))}class no{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return Tq.serialize(this)}}class Ie{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rf(this)}}class $c{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ra(this.parameters)),this._parameterMap}toString(){return HP(this)}}function Zo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Hc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return new Pv},providedIn:"root"}),n})();class Pv{parse(e){const t=new kq(e);return new no(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gc(e.root,!0)}`,r=function Aq(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Mf(t)}=${Mf(i)}`).join("&"):`${Mf(t)}=${Mf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cq(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Tq=new Pv;function Rf(n){return n.segments.map(e=>HP(e)).join("/")}function Gc(n,e){if(!n.hasChildren())return Rf(n);if(e){const t=n.children[pe]?Gc(n.children[pe],!1):"",r=[];return Xt(n.children,(i,o)=>{o!==pe&&r.push(`${o}:${Gc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function wq(n,e){let t=[];return Xt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Xt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[Gc(n.children[pe],!1)]:[`${i}:${Gc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${Rf(n)}/${t[0]}`:`${Rf(n)}/(${t.join("//")})`}}function jP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mf(n){return jP(n).replace(/%3B/gi,";")}function kv(n){return jP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pf(n){return decodeURIComponent(n)}function $P(n){return Pf(n.replace(/\+/g,"%20"))}function HP(n){return`${kv(n.path)}${function Dq(n){return Object.keys(n).map(e=>`;${kv(e)}=${kv(n[e])}`).join("")}(n.parameters)}`}const Sq=/^[^\/()?;=#]+/;function kf(n){const e=n.match(Sq);return e?e[0]:""}const xq=/^[^=?&#]+/,Mq=/^[^&#]+/;class kq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Ie(e,t)),r}parseSegment(){const e=kf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,Sf);return this.capture(e),new $c(Pf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=kf(this.remaining);i&&(r=i,this.capture(r))}e[Pf(t)]=Pf(r)}parseQueryParam(e){const t=function Rq(n){const e=n.match(xq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Pq(n){const e=n.match(Mq);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=$P(t),o=$P(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,Sf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[pe]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,Sf)}}function Nv(n){return n.segments.length>0?new Ie([],{[pe]:n}):n}function Nf(n){const e={};for(const r of Object.keys(n.children)){const o=Nf(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Nq(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new Ie(n.segments.concat(e.segments),e.children)}return n}(new Ie(n.segments,e))}function es(n){return n instanceof no}const Ov=!1;function Oq(n,e,t,r,i){if(0===t.length)return Ma(e.root,e.root,e.root,r,i);const o=function KP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Xt(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new qP(t,e,r)}(t);return o.toRoot()?Ma(e.root,e.root,new Ie([],{}),r,i):function s(u){const c=function Vq(n,e,t,r){if(n.isAbsolute)return new Pa(e.root,!0,0);if(-1===r)return new Pa(t,t===e.root,0);return function QP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,Ov&&"Invalid number of '../'");i=r.segments.length}return new Pa(r,!1,i-o)}(t,r+(zc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,u),l=c.processChildren?ka(c.segmentGroup,c.index,o.commands):Fv(c.segmentGroup,c.index,o.commands);return Ma(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function zc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ma(n,e,t,r,i){let s,o={};r&&Xt(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:WP(n,e,t);const a=Nv(Nf(s));return new no(a,o,i)}function WP(n,e,t){const r={};return Xt(n.children,(i,o)=>{r[o]=i===e?t:WP(i,e,t)}),new Ie(n.segments,r)}class qP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zc(r[0]))throw new k(4003,Ov&&"Root segment cannot have matrix parameters");const i=r.find(Wc);if(i&&i!==OP(r))throw new k(4004,Ov&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fv(n,e,t){if(n||(n=new Ie([],{})),0===n.segments.length&&n.hasChildren())return ka(n,e,t);const r=function Bq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Wc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!XP(u,c,s))return o;r+=2}else{if(!XP(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ie(n.segments.slice(r.pathIndex),n.children),ka(o,0,i)}return r.match&&0===i.length?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Vv(n,e,t):r.match?ka(n,0,i):Vv(n,e,t)}function ka(n,e,t){if(0===t.length)return new Ie(n.segments,{});{const r=function Lq(n){return Wc(n[0])?n[0].outlets:{[pe]:n}}(t),i={};if(!r[pe]&&n.children[pe]&&1===n.numberOfChildren&&0===n.children[pe].segments.length){const o=ka(n.children[pe],e,t);return new Ie(n.segments,o.children)}return Xt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Fv(n.children[s],e,o))}),Xt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Ie(n.segments,i)}}function Vv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Wc(o)){const u=Uq(o.outlets);return new Ie(r,u)}if(0===i&&zc(t[0])){r.push(new $c(n.segments[e].path,YP(t[0]))),i++;continue}const s=Wc(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&zc(a)?(r.push(new $c(s,YP(a))),i+=2):(r.push(new $c(s,{})),i++)}return new Ie(r,{})}function Uq(n){const e={};return Xt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Vv(new Ie([],{}),0,t))}),e}function YP(n){const e={};return Xt(n,(t,r)=>e[r]=`${t}`),e}function XP(n,e,t){return n==t.path&&zr(e,t.parameters)}const qc="imperative";class Wr{constructor(e,t){this.id=e,this.url=t}}class Lv extends Wr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ts extends Wr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Of extends Wr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends Wr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Bv extends Wr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jq extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $q extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hq extends Wr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gq extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zq extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let e7=(()=>{class n{createUrlTree(t,r,i,o,s,a){return Oq(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(e){return e7.\u0275fac(e)},providedIn:"root"}),n})();class ZP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Uv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jv(e,this._root).map(t=>t.value)}}function Uv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Uv(n,t);if(r)return r}return null}function jv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ci{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Na(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ek extends ZP{constructor(e,t){super(e),this.snapshot=t,$v(this,e)}toString(){return this.snapshot.toString()}}function tk(n,e){const t=function r7(n,e){const s=new Vf([],{},{},"",{},pe,e,null,n.root,-1,{});return new rk("",new Ci(s,[]))}(n,e),r=new Tr([new $c("",{})]),i=new Tr({}),o=new Tr({}),s=new Tr({}),a=new Tr(""),u=new ro(r,i,s,a,o,pe,e,t.root);return u.snapshot=t.root,new ek(new Ci(u,[]),t)}class ro{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ue(c=>c[jc]))??X(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>Ra(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>Ra(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function i7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vf{get title(){return this.data?.[jc]}constructor(e,t,r,i,o,s,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rk extends ZP{constructor(e,t){super(t),this.url=e,$v(this,t)}toString(){return ik(this._root)}}function $v(n,e){e.value._routerState=n,e.children.forEach(t=>$v(n,t))}function ik(n){const e=n.children.length>0?` { ${n.children.map(ik).join(", ")} } `:"";return`${n.value}${e}`}function Hv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zr(e.params,t.params)||n.params.next(t.params),function yq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gv(n,e){const t=zr(n.params,e.params)&&function bq(n,e){return Zo(n,e)&&n.every((t,r)=>zr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gv(n.parent,e.parent))}function Kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function s7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kc(n,r,i);return Kc(n,r)})}(n,e,t);return new Ci(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Kc(n,a)),s}}const r=function a7(n){return new ro(new Tr(n.url),new Tr(n.params),new Tr(n.queryParams),new Tr(n.fragment),new Tr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Kc(n,o));return new Ci(r,i)}}const zv="ngNavigationCancelingError";function ok(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sk(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function sk(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[zv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ak(n){return uk(n)&&es(n.url)}function uk(n){return n&&n[zv]}class u7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qc,this.attachRef=null}}let Qc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new u7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lf=!1;let Wv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new dt,this.deactivateEvents=new dt,this.attachEvents=new dt,this.detachEvents=new dt,this.parentContexts=fe(Qc),this.location=fe(Ir),this.changeDetector=fe($h),this.environmentInjector=fe(Fr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,Lf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,Lf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,Lf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,Lf);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new c7(t,a,i.injector);if(r&&function l7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]}),n})();class c7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ro?this.route:e===Qc?this.childContexts:this.parent.get(e,t)}}let qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Mx],decls:1,vars:0,template:function(t,r){1&t&&De(0,"router-outlet")},dependencies:[Wv],encapsulation:2}),n})();function ck(n,e){return n.providers&&!n._injector&&(n._injector=Ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qv(n){const e=n.children&&n.children.map(Qv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=qv),t}function cr(n){return n.outlet||pe}function lk(n,e){const t=n.filter(r=>cr(r)===e);return t.push(...n.filter(r=>cr(r)!==e)),t}function Yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class g7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Na(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Xt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Na(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Na(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Na(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qq(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Hv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Yc(i.snapshot),u=a?.get(ac)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class dk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bf{constructor(e,t){this.component=e,this.route=t}}function m7(n,e,t){const r=n._root;return Xc(r,e?e._root:null,t,[r.value])}function Oa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function cU(n){return null!==kd(n)}(n)?e.get(n):n:r}function Xc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Na(e);return n.children.forEach(s=>{(function y7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function v7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zo(n.url,e.url)||!zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(n,e)||!zr(n.queryParams,e.queryParams);default:return!Gv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dk(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Xc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bf(a.outlet.component,s))}else s&&Jc(e,a,i),i.canActivateChecks.push(new dk(r)),Xc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Xt(o,(s,a)=>Jc(s,t.getContext(a),i)),i}function Jc(n,e,t){const r=Na(n),i=n.value;Xt(r,(o,s)=>{Jc(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Bf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zc(n){return"function"==typeof n}function Yv(n){return n instanceof Df||"EmptyError"===n?.name}const Uf=Symbol("INITIAL_VALUE");function Fa(){return Gr(n=>DP(n.map(e=>e.pipe(xa(1),function dq(...n){const e=Bu(n);return Bt((t,r)=>{(e?xv(n,t,e):xv(n,t)).subscribe(r)})}(Uf)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===Uf)return Uf;if(!1===t||t instanceof no)return t}return!0}),wi(e=>e!==Uf),xa(1)))}function hk(n){return function pB(...n){return $T(n)}(At(e=>{if(es(e))throw ok(0,e)}),ue(e=>!0===e))}const Xv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fk(n,e,t,r,i){const o=Jv(n,e,t);return o.matched?function F7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?X(i.map(s=>{const a=Oa(s,n);return to(function C7(n){return n&&Zc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fa(),hk()):X(!0)}(r=ck(e,r),e,t).pipe(ue(s=>!0===s?o:{...Xv})):X(o)}function Jv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_q)(t,n,e);if(!i)return{...Xv};const o={};Xt(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jf(n,e,t,r){if(t.length>0&&function B7(n,e,t){return t.some(r=>$f(n,e,r)&&cr(r)!==pe)}(n,t,r)){const o=new Ie(e,function L7(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&cr(o)!==pe){const s=new Ie([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[cr(o)]=s}return i}(n,e,r,new Ie(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function U7(n,e,t){return t.some(r=>$f(n,e,r))}(n,t,r)){const o=new Ie(n.segments,function V7(n,e,t,r,i){const o={};for(const s of r)if($f(n,t,s)&&!i[cr(s)]){const a=new Ie([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[cr(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new Ie(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function $f(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pk(n,e,t,r){return!!(cr(n)===r||r!==pe&&$f(e,t,n))&&("**"===n.path||Jv(e,n,t).matched)}function gk(n,e,t){return 0===e.length&&!n.children[t]}const Hf=!1;class Gf{constructor(e){this.segmentGroup=e||null}}class mk{constructor(e){this.urlTree=e}}function el(n){return Ta(new Gf(n))}function _k(n){return Ta(new mk(n))}class G7{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=jf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,pe).pipe(ue(o=>this.createUrlTree(Nf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bi(o=>{if(o instanceof mk)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Gf?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pe).pipe(ue(i=>this.createUrlTree(Nf(i),e.queryParams,e.fragment))).pipe(bi(i=>{throw i instanceof Gf?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,Hf)}createUrlTree(e,t,r){const i=Nv(e);return new no(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(o=>new Ie([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Tt(i).pipe(Qi(o=>{const s=r.children[o],a=lk(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ue(u=>({segment:u,outlet:o})))}),MP((o,s)=>(o[s.outlet]=s.segment,o),{}),PP())}expandSegment(e,t,r,i,o,s){return Tt(r).pipe(Qi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(bi(c=>{if(c instanceof Gf)return X(null);throw c}))),eo(a=>!!a),bi((a,u)=>{if(Yv(a))return gk(t,i,o)?X(new Ie([],{})):el(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return pk(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):el(t):el(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_k(o):this.lineralizeSegments(r,o).pipe(Wt(s=>{const a=new Ie(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Jv(t,i,o);if(!a)return el(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_k(d):this.lineralizeSegments(i,d).pipe(Wt(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=ck(r,e),r.loadChildren?(r._loadedRoutes?X({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Ie(i,{})))):X(new Ie(i,{}))):fk(t,r,i,e).pipe(Gr(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Wt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=jf(t,a,u,h),_=new Ie(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(ue(I=>new Ie(a,I)));if(0===h.length&&0===p.length)return X(new Ie(a,{}));const y=cr(r)===o;return this.expandSegment(d,_,h,p,y?pe:o,!0).pipe(ue(D=>new Ie(a.concat(D.segments),D.children)))})):el(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?X({routes:t._loadedRoutes,injector:t._loadedInjector}):function O7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(s=>{const a=Oa(s,n);return to(function E7(n){return n&&Zc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fa(),hk())}(e,t,r).pipe(Wt(i=>i?this.configLoader.loadChildren(e,t).pipe(At(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function $7(n){return Ta(sk(Hf,3))}())):X({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[pe])return e.redirectTo,Ta(new k(4e3,Hf));i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new no(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Xt(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,Hf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class W7{}class Q7{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=jf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(ue(t=>{if(null===t)return null;const r=new Vf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ci(r,t),o=new rk(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=nk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Tt(Object.keys(r.children)).pipe(Qi(i=>{const o=r.children[i],s=lk(t,i);return this.processSegmentGroup(e,s,o,i)}),MP((i,o)=>i&&o?(i.push(...o),i):null),function pq(n,e=!1){return Bt((t,r)=>{let i=0;t.subscribe(Pt(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Af(null),PP(),ue(i=>{if(null===i)return null;const o=vk(i);return function Y7(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Tt(t).pipe(Qi(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),eo(s=>!!s),bi(s=>{if(Yv(s))return gk(r,i,o)?X([]):X(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!pk(t,r,i,o))return X(null);let s;if("**"===t.path){const a=i.length>0?OP(i).parameters:{},u=Ek(r)+i.length;s=X({snapshot:new Vf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bk(t),cr(t),t.component??t._loadedComponent??null,t,Ik(r),u,wk(t)),consumedSegments:[],remainingSegments:[]})}else s=fk(r,t,i,e).pipe(ue(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=Ek(r)+u.length;return{snapshot:new Vf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bk(t),cr(t),t.component??t._loadedComponent??null,t,Ik(r),d,wk(t)),consumedSegments:u,remainingSegments:c}}));return s.pipe(Gr(a=>{if(null===a)return X(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function X7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=jf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(y=>null===y?null:[new Ci(u,y)]));if(0===h.length&&0===p.length)return X([new Ci(u,[])]);const _=cr(t)===o;return this.processSegment(d,h,f,p,_?pe:o).pipe(ue(y=>null===y?null:[new Ci(u,y)]))}))}}function J7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vk(n){const e=[],t=new Set;for(const r of n){if(!J7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vk(r.children);e.push(new Ci(r.value,i))}return e.filter(r=>!t.has(r))}function Ik(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ek(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bk(n){return n.data||{}}function wk(n){return n.resolve||{}}function Tk(n){return"string"==typeof n.title||null===n.title}function Zv(n){return Gr(e=>{const t=n(e);return t?Tt(t).pipe(ue(()=>e)):X(e)})}const Va=new L("ROUTES");let eI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(ER)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=to(t.loadComponent()).pipe(ue(Dk),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),cf(()=>{this.componentLoaders.delete(t)})),i=new xP(r,()=>new oi).pipe(Rv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=NP(u.get(Va,[],ne.Self|ne.Optional)));return{routes:c.map(Qv),injector:u}}),cf(()=>{this.childrenLoaders.delete(r)})),s=new xP(o,()=>new oi).pipe(Rv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return to(t()).pipe(ue(Dk),Wt(r=>r instanceof xx||Array.isArray(r)?X(r):Tt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dk(n){return function sK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Wf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new oi,this.configLoader=fe(eI),this.environmentInjector=fe(Fr),this.urlSerializer=fe(Hc),this.rootContexts=fe(Qc),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Wq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Tr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wi(r=>0!==r.id),ue(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Gr(r=>{let i=!1,o=!1;return X(r).pipe(At(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gr(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new Ff(s.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),xr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ak(s.source)&&(t.browserUrlTree=s.extractedUrl),X(s).pipe(Gr(l=>{const d=this.transitions?.getValue();return this.events.next(new Lv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?xr:Promise.resolve(l)}),function z7(n,e,t,r){return Gr(i=>function H7(n,e,t,r,i){return new G7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),At(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function eK(n,e,t,r,i){return Wt(o=>function K7(n,e,t,r,i,o,s="emptyOnly"){return new Q7(n,e,t,r,i,s,o).recognize().pipe(Gr(a=>null===a?function q7(n){return new tt(e=>e.error(n))}(new W7):X(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(ue(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),At(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new jq(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,_=new Lv(l,this.urlSerializer.serialize(d),h,f);this.events.next(_);const y=tk(d,this.rootComponentType).snapshot;return X(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Ff(s.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),xr}}),At(s=>{const a=new $q(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ue(s=>r={...s,guards:m7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function A7(n,e){return Wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?X({...t,guardsResult:!0}):function S7(n,e,t,r){return Tt(n).pipe(Wt(i=>function N7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?X(o.map(a=>{const u=Yc(e)??i,c=Oa(a,u);return to(function T7(n){return n&&Zc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(eo())})).pipe(Fa()):X(!0)}(i.component,i.route,t,e,r)),eo(i=>!0!==i,!0))}(s,r,i,n).pipe(Wt(a=>a&&function I7(n){return"boolean"==typeof n}(a)?function x7(n,e,t,r){return Tt(e).pipe(Qi(i=>xv(function M7(n,e){return null!==n&&e&&e(new Kq(n)),X(!0)}(i.route.parent,r),function R7(n,e){return null!==n&&e&&e(new Yq(n)),X(!0)}(i.route,r),function k7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function _7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>SP(()=>X(s.guards.map(u=>{const c=Yc(s.node)??t,l=Oa(u,c);return to(function w7(n){return n&&Zc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(eo())})).pipe(Fa())));return X(o).pipe(Fa())}(n,i.path,t),function P7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(o=>SP(()=>{const s=Yc(e)??t,a=Oa(o,s);return to(function b7(n){return n&&Zc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(eo())}));return X(i).pipe(Fa())}(n,i.route,t))),eo(i=>!0!==i,!0))}(r,o,n,e):X(a)),ue(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),At(s=>{if(r.guardsResult=s.guardsResult,es(s.guardsResult))throw ok(0,s.guardsResult);const a=new Hq(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),wi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Zv(s=>{if(s.guards.canActivateChecks.length)return X(s).pipe(At(a=>{const u=new Gq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Gr(a=>{let u=!1;return X(a).pipe(function tK(n,e){return Wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=0;return Tt(i).pipe(Qi(s=>function nK(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!Tk(i)&&(o[jc]=i.title),function rK(n,e,t,r){const i=function iK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return X({});const o={};return Tt(i).pipe(Wt(s=>function oK(n,e,t,r){const i=Yc(e)??r,o=Oa(n,i);return to(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(eo(),At(a=>{o[s]=a}))),Mv(1),function gq(n){return ue(()=>n)}(o),bi(s=>Yv(s)?xr:Ta(s)))}(o,n,e,r).pipe(ue(s=>(n._resolvedData=s,n.data=nk(n,t).resolve,i&&Tk(i)&&(n.data[jc]=i.title),null)))}(s.route,r,n,e)),At(()=>o++),Mv(1),Wt(s=>o===i.length?X(t):xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),At(a=>{const u=new zq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Zv(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(At(l=>{u.component=l}),ue(()=>{})));for(const l of u.children)c.push(...a(l));return c};return DP(a(s.targetSnapshot.root)).pipe(Af(),xa(1))}),Zv(()=>this.afterPreactivation()),ue(s=>{const a=function o7(n,e,t){const r=Kc(n,e._root,t?t._root:void 0);return new ek(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),At(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new g7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),xa(1),At({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ts(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),cf(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),bi(s=>{if(o=!0,uk(s)){ak(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Of(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),ak(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Ak(r.source)};t.scheduleNavigation(u,qc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Bv(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return xr}))}))}cancelNavigationTransition(t,r,i){const o=new Of(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ak(n){return n!==qc}let Sk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[jc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return fe(aK)},providedIn:"root"}),n})(),aK=(()=>{class n extends Sk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(U(j1))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return fe(lK)},providedIn:"root"}),n})();class cK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let lK=(()=>{class n extends cK{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Qt(n)))(r||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qf=new L("",{providedIn:"root",factory:()=>({})});let hK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return fe(fK)},providedIn:"root"}),n})(),fK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pK(n){throw n}function gK(n,e,t){return e.parse("/")}const mK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_K={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(B6),this.isNgZoneEnabled=!1,this.options=fe(qf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(hK),this.routeReuseStrategy=fe(uK),this.urlCreationStrategy=fe(n7),this.titleStrategy=fe(Sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=NP(fe(Va,{optional:!0})??[]),this.navigationTransitions=fe(Wf),this.urlSerializer=fe(Hc),this.location=fe(Cy),this.isNgZoneEnabled=fe(Je)instanceof Je&&Je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new no,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tk(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Qv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qc,null,r)}navigate(t,r={skipLocationChange:!1}){return function yK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new k(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...mK}:!1===r?{..._K}:r,es(t))return VP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return VP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kf=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new oi;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ts&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ea(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ea(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ea(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function tA(n,e,t){return function U3(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?eA:ZD}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(S(xt),S(ro),function eh(n){return function s4(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(GC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Kt(),n)}("tabindex"),S(pi),S(Wn),S(qo))},n.\u0275dir=se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&$("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Br("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[rr]}),n})();class xk{}let EK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(wi(t=>t instanceof ts),Qi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ph(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Tt(i).pipe(Ns())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):X(null);const o=i.pipe(Wt(s=>null===s?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Tt([o,this.loader.loadComponent(r)]).pipe(Ns()):o})}}return n.\u0275fac=function(t){return new(t||n)(U(xt),U(ER),U(Fr),U(xk),U(eI))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nI=new L("");let Rk=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ts&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof JP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new JP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function kA(){throw new Error("invalid")}()},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();var Qn=(()=>((Qn=Qn||{})[Qn.COMPLETE=0]="COMPLETE",Qn[Qn.FAILED=1]="FAILED",Qn[Qn.REDIRECTING=2]="REDIRECTING",Qn))();const La=!1;function io(n,e){return{\u0275kind:n,\u0275providers:e}}const rI=new L("",{providedIn:"root",factory:()=>!1});function Pk(){const n=fe(qn);return e=>{const t=n.get(Uh);if(e!==t.components[0])return;const r=n.get(xt),i=n.get(kk);1===n.get(iI)&&r.initialNavigation(),n.get(Nk,null,ne.Optional)?.setUpPreloading(),n.get(nI,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kk=new L(La?"bootstrap done indicator":"",{factory:()=>new oi}),iI=new L(La?"initial navigation":"",{providedIn:"root",factory:()=>1});function DK(){let n=[];return n=La?[{provide:hh,multi:!0,useFactory:()=>{const e=fe(xt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Jq(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],io(1,n)}const Nk=new L(La?"router preloader":"");function AK(n){return io(0,[{provide:Nk,useExisting:EK},{provide:xk,useExisting:n}])}const tl=!1,Ok=new L(tl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),SK=[Cy,{provide:Hc,useClass:Pv},xt,Qc,{provide:ro,useFactory:function Mk(n){return n.routerState.root},deps:[xt]},eI,tl?{provide:rI,useValue:!0}:[]];function xK(){return new xR("Router",xt)}let Fk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[SK,tl&&r?.enableTracing?DK().\u0275providers:[],{provide:Va,multi:!0,useValue:t},{provide:Ok,useFactory:kK,deps:[[xt,new cn,new Ys]]},{provide:qf,useValue:r||{}},r?.useHash?{provide:qo,useClass:DG}:{provide:qo,useClass:JR},{provide:nI,useFactory:()=>{const n=fe(zz),e=fe(Je),t=fe(qf),r=fe(Wf),i=fe(Hc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Rk(i,r,n,e,t)}},r?.preloadingStrategy?AK(r.preloadingStrategy).\u0275providers:[],{provide:xR,multi:!0,useFactory:xK},r?.initialNavigation?NK(r):[],[{provide:Vk,useFactory:Pk},{provide:SR,multi:!0,useExisting:Vk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Va,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(U(Ok,8))},n.\u0275mod=Ut({type:n}),n.\u0275inj=kt({imports:[qv]}),n})();function kK(n){if(tl&&n)throw new k(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function NK(n){return["disabled"===n.initialNavigation?io(3,[{provide:Vh,multi:!0,useFactory:()=>{const e=fe(xt);return()=>{e.setUpLocationChangeListener()}}},{provide:iI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?io(2,[{provide:iI,useValue:0},{provide:Vh,multi:!0,deps:[qn],useFactory:e=>{const t=e.get(TG,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(xt),o=e.get(kk);(function bK(n,e){n.events.pipe(wi(t=>t instanceof ts||t instanceof Of||t instanceof Bv||t instanceof Ff),ue(t=>t instanceof ts||t instanceof Ff?Qn.COMPLETE:t instanceof Of&&(0===t.code||1===t.code)?Qn.REDIRECTING:Qn.FAILED),wi(t=>t!==Qn.REDIRECTING),xa(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Wf).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Vk=new L(tl?"Router Initializer":""),FK=function(){return["/facture-create"]},VK=function(){return["/caisse"]},LK=function(){return["/bons"]};let BK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-home"]],decls:46,vars:6,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["href","#"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),v(2,"Transit Operation"),m(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),De(8,"img",6),m(),g(9,"div",7)(10,"span",8),v(11,"total : 11"),m(),g(12,"h3",9),v(13,"Create Facture"),m(),g(14,"p"),v(15,"by "),g(16,"a",10),v(17,"Transit Operation"),m()()()()()(),g(18,"div",3)(19,"div",4)(20,"div")(21,"div",5),De(22,"img",11),m(),g(23,"div",7)(24,"span",8),v(25,"Montant :"),m(),g(26,"h3",9),v(27,"Caisse"),m(),g(28,"p"),v(29,"by "),g(30,"a",12),v(31,"Transit Operation"),m()()()()()(),g(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),De(36,"img",13),m(),g(37,"div",7)(38,"span",8),v(39,"total :"),m(),g(40,"h3",9),v(41,"Create Bons"),m(),g(42,"p"),v(43,"by "),g(44,"a",12),v(45,"Transit Operation"),m()()()()()()()()),2&r&&(C(4),z("routerLink",kh(3,FK)),C(14),z("routerLink",kh(4,VK)),C(14),z("routerLink",kh(5,LK)))},dependencies:[Kf],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function Lk(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function T(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Lk(o,r,i,s,a,"next",u)}function a(u){Lk(o,r,i,s,a,"throw",u)}s(void 0)})}}const Bk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Uk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Bk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new HK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qf=function(n){return function(n){const e=Bk(n);return Uk.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Yf=function(n){try{return Uk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xf=()=>{try{return function WK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},XK=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Xf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$k=()=>{var n;return null===(n=Xf())||void 0===n?void 0:n.config};class Hk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Yn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class oo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function aQ(n,e){return n.replace(uQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new oo(i,`${this.serviceName}: ${s} (${i}).`,r)}}const uQ=/\{\$([^}]+)}/g;function sI(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(zk(o)&&zk(s)){if(!sI(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function zk(n){return null!==n&&"object"==typeof n}function Wk(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class lQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function dQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=aI),void 0===i.error&&(i.error=aI),void 0===i.complete&&(i.complete=aI);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(){}function Cr(n){return n&&n._delegate?n._delegate:n}class ns{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rs="[DEFAULT]";class _Q{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Hk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function vQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return T(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===rs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class IQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _Q(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cI=[];var be=(()=>{return(n=be||(be={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",be;var n})();const qk={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},EQ=be.INFO,bQ={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},wQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=bQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class lI{constructor(e){this.name=e,this._logLevel=EQ,this._logHandler=wQ,this._userLogHandler=null,cI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const TQ=(n,e)=>e.some(t=>n instanceof t);let Kk,Qk;const Yk=new WeakMap,dI=new WeakMap,Xk=new WeakMap,hI=new WeakMap,fI=new WeakMap;let pI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return dI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Xk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return so(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function MQ(n){return"function"==typeof n?function RQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DQ(){return Qk||(Qk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gI(this),e),so(Yk.get(this))}:function(...e){return so(n.apply(gI(this),e))}:function(e,...t){const r=n.call(gI(this),e,...t);return Xk.set(r,e.sort?e.sort():[e]),so(r)}}(n):(n instanceof IDBTransaction&&function SQ(n){if(dI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dI.set(n,e)}(n),TQ(n,function CQ(){return Kk||(Kk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,pI):n)}function so(n){if(n instanceof IDBRequest)return function AQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(so(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Yk.set(t,n)}).catch(()=>{}),fI.set(e,n),e}(n);if(hI.has(n))return hI.get(n);const e=MQ(n);return e!==n&&(hI.set(n,e),fI.set(e,n)),e}const gI=n=>fI.get(n),kQ=["get","getKey","getAll","getAllKeys","count"],NQ=["put","add","delete","clear"],mI=new Map;function Jk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mI.get(e))return mI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=NQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kQ.includes(t))return;const o=function(){var s=T(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return mI.set(e,o),o}!function xQ(n){pI=n(pI)}(n=>({...n,get:(e,t,r)=>Jk(e,t)||n.get(e,t,r),has:(e,t)=>!!Jk(e,t)||n.has(e,t)}));class OQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function FQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const _I="@firebase/app",is=new lI("@firebase/app"),Zf="[DEFAULT]",uY={[_I]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},os=new Map,ep=new Map;function cY(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ba(n){const e=n.name;if(ep.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,n);for(const t of os.values())cY(t,n);return!0}const Di=new nl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const tp="10.7.1";function tN(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Di.create("bad-app-name",{appName:String(i)});if(t||(t=$k()),!t)throw Di.create("no-options");const o=os.get(i);if(o){if(sI(t,o.options)&&sI(r,o.config))return o;throw Di.create("duplicate-app",{appName:i})}const s=new IQ(i);for(const u of ep.values())s.addComponent(u);const a=new dY(t,r,s);return os.set(i,a),a}function nN(n=Zf){const e=os.get(n);if(!e&&n===Zf&&$k())return tN();if(!e)throw Di.create("no-app",{appName:n});return e}function rN(){return Array.from(os.values())}function lr(n,e,t){var r;let i=null!==(r=uY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void is.warn(a.join(" "))}Ba(new ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hY="firebase-heartbeat-database",fY=1,rl="firebase-heartbeat-store";let vI=null;function iN(){return vI||(vI=function PQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=so(s);return r&&s.addEventListener("upgradeneeded",u=>{r(so(s.result),u.oldVersion,u.newVersion,so(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(hY,fY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(rl)}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),vI}function II(){return(II=T(function*(n){try{return yield(yield iN()).transaction(rl).objectStore(rl).get(sN(n))}catch(e){if(e instanceof oo)is.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e?.message});is.warn(t.message)}}})).apply(this,arguments)}function oN(n,e){return EI.apply(this,arguments)}function EI(){return(EI=T(function*(n,e){try{const r=(yield iN()).transaction(rl,"readwrite");yield r.objectStore(rl).put(e,sN(n)),yield r.done}catch(t){if(t instanceof oo)is.warn(t.message);else{const r=Di.create("idb-set",{originalErrorMessage:t?.message});is.warn(r.message)}}})).apply(this,arguments)}function sN(n){return`${n.name}!${n.options.appId}`}class _Y{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return T(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aN();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return T(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=aN(),{heartbeatsToSend:i,unsentEntries:o}=function yY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function aN(){return(new Date).toISOString().substring(0,10)}class vY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(function*(){return!!function iQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function oQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return T(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function pY(n){return II.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return oN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return oN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function uN(n){return Qf(JSON.stringify({version:2,heartbeats:n})).length}!function IY(n){Ba(new ns("platform-logger",e=>new OQ(e),"PRIVATE")),Ba(new ns("heartbeat",e=>new _Y(e),"PRIVATE")),lr(_I,"0.9.25",n),lr(_I,"0.9.25","esm2017"),lr("fire-js","")}("");class wY extends Bn{constructor(e,t){super()}schedule(e,t=0){return this}}const np={setInterval(n,e,...t){const{delegate:r}=np;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=np;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class cN extends wY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return np.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&np.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ks(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const lN={now:()=>(lN.delegate||Date).now(),delegate:void 0};class il{constructor(e,t=il.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}il.now=lN.now;class dN extends il{constructor(e,t=il.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const DY=new class CY extends dN{}(class TY extends cN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),AY=new dN(cN),bI=new $i("ANGULARFIRE2_VERSION");const wI=(n,e)=>{const t=e?[e]:rN(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class SY{constructor(){return wI(xY)}}const xY="app-check";function Ua(){}class fN{zone;delegate;constructor(e,t=DY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class RY{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)),t.pipe(At({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pN=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fN(Zone.current)),this.insideAngular=t.run(()=>new fN(Zone.current,AY)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(U(Je))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ja(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ss(n){return ja().ngZone.run(()=>n())}function PY(n){return function kY(n){return function(t){return(t=t.lift(new RY(n.ngZone))).pipe(xd(n.outsideAngular),Sd(n.insideAngular))}}(ja())(n)}const NY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ss(()=>n.apply(void 0,r))},Nn=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua))),r[o]=NY(r[o],t));const i=function MY(n){return ja().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof tt){const o=ja();return i.pipe(xd(o.outsideAngular),Sd(o.insideAngular))}return ss(()=>i)}return i instanceof tt?i.pipe(PY):i instanceof Promise?ss(()=>new Promise((o,s)=>i.then(a=>ss(()=>o(a)),a=>ss(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ss(()=>i)};class ol{constructor(e){return e}}class gN{constructor(){return rN()}}const TI=new L("angularfire2._apps"),FY={provide:ol,useFactory:function OY(n){return n&&1===n.length?n[0]:new ol(nN())},deps:[[new cn,TI]]},VY={provide:gN,deps:[[new cn,TI]]};function LY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ol(r)}}let BY=(()=>{class n{constructor(t){lr("angularfire",bI.full,"core"),lr("angularfire",bI.full,"app"),lr("angular",pA.full,t.toString())}static \u0275fac=function(r){return new(r||n)(U(wc))};static \u0275mod=Ut({type:n});static \u0275inj=kt({providers:[FY,VY]})}return n})();function UY(n,...e){return{ngModule:BY,providers:[{provide:TI,useFactory:LY(n),multi:!0,deps:[Je,qn,pN,...e]}]}}const jY=Nn(tN,!0);const $Y=function mN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_N=new nl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rp=new lI("@firebase/auth");function ip(n,...e){rp.logLevel<=be.ERROR&&rp.error(`Auth (${tp}): ${n}`,...e)}function On(n,...e){throw CI(n,...e)}function qr(n,...e){return CI(n,...e)}function CI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _N.create(n,...e)}function O(n,e,...t){if(!n)throw CI(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ip(e),new Error(e)}function ao(n,e){n||Kr(e)}function vN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function GY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function DI(){return"http:"===vN()||"https:"===vN()}()||function nQ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class al{constructor(e,t){this.shortDelay=e,this.longDelay=t,ao(t>e,"Short delay should be less than long delay!"),this.isMobile=function eQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}()||function rQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return GY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class IN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qY=new al(3e4,6e4);function qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ke(n,e,t,r){return SI.apply(this,arguments)}function SI(){return(SI=T(function*(n,e,t,r,i={}){return EN(n,i,T(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Wk(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),IN.fetch()(bN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function EN(n,e,t){return xI.apply(this,arguments)}function xI(){return(xI=T(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},WY),e);try{const i=new QY(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ul(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ul(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw ul(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw ul(n,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function yN(n,e,t){const r=Object.assign(Object.assign({},$Y()),{[e]:t});return new nl("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);On(n,l)}}catch(i){if(i instanceof oo)throw i;On(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function AI(n,e){ao(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class QY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),qY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ul(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qr(n,e,r);return i.customData._tokenResponse=t,i}function kI(){return(kI=T(function*(n,e){return Ke(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function OI(){return(OI=T(function*(n,e){return Ke(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FI(){return(FI=T(function*(n,e=!1){const t=Cr(n),r=yield t.getIdToken(e),i=op(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cl(VI(i.auth_time)),issuedAtTime:cl(VI(i.iat)),expirationTime:cl(VI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function VI(n){return 1e3*Number(n)}function op(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yf(t);return i?JSON.parse(i):(ip("Failed to decode base64 JWT payload"),null)}catch(i){return ip("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Si(n,e){return LI.apply(this,arguments)}function LI(){return(LI=T(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof oo&&function nX({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class rX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(T(function*(){yield t.iteration()}),r)}iteration(){var e=this;return T(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class AN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ll(n){return BI.apply(this,arguments)}function BI(){return BI=T(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Si(n,function ZY(n,e){return OI.apply(this,arguments)}(t,{idToken:r}));O(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function sX(n){return n.map(e=>{var{providerId:t}=e,r=Yg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function oX(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),l=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new AN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),BI.apply(this,arguments)}function UI(){return(UI=T(function*(n){const e=Cr(n);yield ll(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function jI(){return(jI=T(function*(n,e){const t=yield EN(n,{},T(function*(){const r=Wk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=bN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function $I(){return($I=T(function*(n,e){return Ke(n,"POST","/v2/accounts:revokeToken",qe(n,e))})).apply(this,arguments)}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function tX(n){const e=op(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return T(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return T(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function aX(n,e){return jI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new dl;return r&&(O("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function uo(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new AN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return T(function*(){const r=yield Si(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function eX(n){return FI.apply(this,arguments)}(this,e)}reload(){return function iX(n){return UI.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return T(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ll(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return T(function*(){const t=yield e.getIdToken();return yield Si(e,function XY(n,e){return kI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,D=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:P,isAnonymous:W,providerData:J,stsTokenManager:st}=t;O(I&&st,e,"internal-error");const Ln=dl.fromJSON(this.name,st);O("string"==typeof I,e,"internal-error"),uo(d,e.name),uo(h,e.name),O("boolean"==typeof P,e,"internal-error"),O("boolean"==typeof W,e,"internal-error"),uo(f,e.name),uo(p,e.name),uo(_,e.name),uo(y,e.name),uo(b,e.name),uo(D,e.name);const wd=new as({uid:I,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:Ln,createdAt:b,lastLoginAt:D});return J&&Array.isArray(J)&&(wd.providerData=J.map($g=>Object.assign({},$g))),y&&(wd._redirectEventId=y),wd}static _fromIdTokenResponse(e,t,r=!1){return T(function*(){const i=new dl;i.updateFromServerResponse(t);const o=new as({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ll(o),o})()}}const SN=new Map;function xi(n){ao(n instanceof Function,"Expected a class definition");let e=SN.get(n);return e?(ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,SN.set(n,e),e)}const xN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(function*(){return!0})()}_set(t,r){var i=this;return T(function*(){i.storage[t]=r})()}_get(t){var r=this;return T(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return T(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sp(n,e,t){return`firebase:${n}:${e}:${t}`}class Ha{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=sp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return T(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?as._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return T(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(function*(){if(!t.length)return new Ha(xi(xN),e,r);const i=(yield Promise.all(t.map(function(){var c=T(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||xi(xN);const s=sp(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(s);if(l){const d=as._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=T(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ha(o,e,r)):new Ha(o,e,r)})()}}function RN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function kN(n=Yn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function MN(n=Yn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function ON(n=Yn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function FN(n=Yn()){return/webos/i.test(n)}(e))return"Webos";if(function HI(n=Yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function PN(n=Yn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function NN(n=Yn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function VN(n,e=[]){let t;switch(n){case"Browser":t=RN(Yn());break;case"Worker":t=`${RN(Yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tp}/${r}`}class dX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return T(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function GI(){return(GI=T(function*(n,e={}){return Ke(n,"GET","/v2/passwordPolicy",qe(n,e))})).apply(this,arguments)}class pX{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class gX{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LN(this),this.idTokenSubscription=new LN(this),this.beforeStateQueue=new dX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(T(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ha.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return T(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return T(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return T(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return T(function*(){try{yield ll(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return T(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return T(function*(){const r=e?Cr(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return T(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(T(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return T(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(T(function*(){yield t.assertedPersistence.setPersistence(xi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return T(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return T(function*(){const t=yield function hX(n){return GI.apply(this,arguments)}(e),r=new pX(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return T(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function uX(n,e){return $I.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return T(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return T(function*(){if(!t.redirectPersistenceManager){const r=e&&xi(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield Ha.create(t,[xi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return T(function*(){var r,i;return t._isInitialized&&(yield t.queue(T(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return T(function*(){if(e===t.currentUser)return t.queue(T(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return T(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return T(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return T(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function HY(n,...e){rp.logLevel<=be.WARN&&rp.warn(`Auth (${tp}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class LN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function cQ(n,e){const t=new lQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function BN(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new al(3e4,6e4),new al(2e3,1e4),new al(3e4,6e4),new al(5e3,15e3),encodeURIComponent("fac");var mO="@firebase/auth";class _Z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return T(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Xf(),function vZ(n){Ba(new ns("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(n)},c=new gX(r,i,o,u);return function bX(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new ns("auth-internal",e=>{const t=function vt(n){return Cr(n)}(e.getProvider("auth").getImmediate());return new _Z(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(mO,"1.5.1",function yZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),lr(mO,"1.5.1","esm2017")}("Browser");class IO{constructor(){return wI("auth")}}var B,DZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},V0=V0||{},ce=DZ||self;function vp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _l(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var L0="closure_uid_"+(1e9*Math.random()>>>0),SZ=0;function xZ(n,e,t){return n.call.apply(n.bind,arguments)}function RZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fn(n,e,t){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xZ:RZ).apply(null,arguments)}function Ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function co(){this.s=this.s,this.o=this.o}co.prototype.s=!1,co.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AZ(n){Object.prototype.hasOwnProperty.call(n,L0)&&n[L0]||(n[L0]=++SZ)}(this)},co.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function B0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vp(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function pn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var PZ=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};ce.addEventListener("test",t,e),ce.removeEventListener("test",t,e)}catch{}return n}();function yl(n){return/^[\s\xa0]*$/.test(n)}function Ep(){var n=ce.navigator;return n&&(n=n.userAgent)?n:""}function Qr(n){return-1!=Ep().indexOf(n)}function U0(n){return U0[" "](n),n}U0[" "]=function(){};var $0,NZ=Qr("Opera"),Ga=Qr("Trident")||Qr("MSIE"),wO=Qr("Edge"),j0=wO||Ga,TO=Qr("Gecko")&&!(-1!=Ep().toLowerCase().indexOf("webkit")&&!Qr("Edge"))&&!(Qr("Trident")||Qr("MSIE"))&&!Qr("Edge"),OZ=-1!=Ep().toLowerCase().indexOf("webkit")&&!Qr("Edge");function CO(){var n=ce.document;return n?n.documentMode:void 0}e:{var H0="",G0=function(){var n=Ep();return TO?/rv:([^\);]+)(\)|;)/.exec(n):wO?/Edge\/([\d\.]+)/.exec(n):Ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OZ?/WebKit\/(\S+)/.exec(n):NZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(G0&&(H0=G0?G0[1]:""),Ga){var z0=CO();if(null!=z0&&z0>parseFloat(H0)){$0=String(z0);break e}}$0=H0}var FZ=ce.document&&Ga&&(CO()||parseInt($0,10))||void 0;function vl(n,e){if(pn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TO){e:{try{U0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vl.$.h.call(this)}}jt(vl,pn);var VZ={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),LZ=0;function BZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++LZ,this.fa=this.ia=!1}function bp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function q0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function AO(n){const e={};for(const t in n)e[t]=n[t];return e}const SO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<SO.length;o++)t=SO[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wp(n){this.src=n,this.g={},this.h=0}function K0(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=EO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(bp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Q0(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}wp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Q0(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new BZ(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Y0="closure_lm_"+(1e6*Math.random()|0),X0={};function RO(n,e,t,r,i){if(r&&r.once)return PO(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)RO(n,e[o],t,r,i);return null}return t=tb(t),n&&n[Il]?n.O(e,t,_l(r)?!!r.capture:!!r,i):MO(n,e,t,!1,r,i)}function MO(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=_l(i)?!!i.capture:!!i,a=Z0(n);if(a||(n[Y0]=a=new wp(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function jZ(){const e=$Z;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)PZ||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(NO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PO(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)PO(n,e[o],t,r,i);return null}return t=tb(t),n&&n[Il]?n.P(e,t,_l(r)?!!r.capture:!!r,i):MO(n,e,t,!0,r,i)}function kO(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)kO(n,e[o],t,r,i);else r=_l(r)?!!r.capture:!!r,t=tb(t),n&&n[Il]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Q0(o=n.g[e],t,r,i))&&(bp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Z0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Q0(e,t,r,i)),(t=-1<n?e[n]:null)&&J0(t))}function J0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Il])K0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(NO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Z0(e))?(K0(t,n),0==t.h&&(t.src=null,e[Y0]=null)):bp(n)}}}function NO(n){return n in X0?X0[n]:X0[n]="on"+n}function $Z(n,e){if(n.fa)n=!0;else{e=new vl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&J0(n),n=t.call(r,e)}return n}function Z0(n){return(n=n[Y0])instanceof wp?n:null}var eb="__closure_events_fn_"+(1e9*Math.random()>>>0);function tb(n){return"function"==typeof n?n:(n[eb]||(n[eb]=function(e){return n.handleEvent(e)}),n[eb])}function $t(){co.call(this),this.i=new wp(this),this.S=this,this.J=null}function Jt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new pn(e,n);else if(e instanceof pn)e.target=e.target||n;else{var i=e;xO(e=new pn(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Tp(s,r,!0,e)&&i}if(i=Tp(s=e.g=n,r,!0,e)&&i,i=Tp(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tp(s=e.g=t[o],r,!1,e)&&i}function Tp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,u=s.la||s.src;s.ia&&K0(n.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}jt($t,co),$t.prototype[Il]=!0,$t.prototype.removeEventListener=function(n,e,t,r){kO(this,n,e,t,r)},$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bp(t[r]);delete n.g[e],n.h--}}this.J=null},$t.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$t.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nb=ce.JSON.stringify;function GZ(){var n=rb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var OO=new class HZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new WZ,n=>n.reset());class WZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function KZ(n){ce.setTimeout(()=>{throw n},0)}let El,bl=!1,rb=new class zZ{constructor(){this.h=this.g=null}add(e,t){const r=OO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},FO=()=>{const n=ce.Promise.resolve(void 0);El=()=>{n.then(QZ)}};var QZ=()=>{for(var n;n=GZ();){try{n.h.call(n.g)}catch(t){KZ(t)}var e=OO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bl=!1};function Cp(n,e){$t.call(this),this.h=n||1,this.g=e||ce,this.j=fn(this.qb,this),this.l=Date.now()}function ib(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ob(n,e,t){if("function"==typeof n)t&&(n=fn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ce.setTimeout(n,e||0)}function VO(n){n.g=ob(()=>{n.g=null,n.i&&(n.i=!1,VO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jt(Cp,$t),(B=Cp.prototype).ga=!1,B.T=null,B.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(ib(this),this.start()))}},B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.N=function(){Cp.$.N.call(this),ib(this),delete this.g};class YZ extends co{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VO(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(n){co.call(this),this.h=n,this.g={}}jt(wl,co);var LO=[];function BO(n,e,t,r){Array.isArray(t)||(t&&(LO[0]=t.toString()),t=LO);for(var i=0;i<t.length;i++){var o=RO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function UO(n){q0(n.g,function(e,t){this.g.hasOwnProperty(t)&&J0(e)},n),n.g={}}function Dp(){this.g=!0}function za(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return nb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wl.prototype.N=function(){wl.$.N.call(this),UO(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dp.prototype.Ea=function(){this.g=!1},Dp.prototype.info=function(){};var ds={},jO=null;function Ap(){return jO=jO||new $t}function $O(n){pn.call(this,ds.Ta,n)}function Tl(n){const e=Ap();Jt(e,new $O(e))}function HO(n,e){pn.call(this,ds.STAT_EVENT,n),this.stat=e}function Cn(n){const e=Ap();Jt(e,new HO(e,n))}function GO(n,e){pn.call(this,ds.Ua,n),this.size=e}function Cl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){n()},e)}ds.Ta="serverreachability",jt($O,pn),ds.STAT_EVENT="statevent",jt(HO,pn),ds.Ua="timingevent",jt(GO,pn);var Sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sb(){}function qO(){}sb.prototype.h=null;var cb,Dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ab(){pn.call(this,"d")}function ub(){pn.call(this,"c")}function xp(){}function Al(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wl(this),this.P=tee,this.V=new Cp(n=j0?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KO}function KO(){this.i=null,this.g="",this.h=!1}jt(ab,pn),jt(ub,pn),jt(xp,sb),xp.prototype.g=function(){return new XMLHttpRequest},xp.prototype.i=function(){return{}},cb=new xp;var tee=45e3,QO={},lb={};function db(n,e,t){n.L=1,n.A=kp(Mi(e)),n.u=t,n.S=!0,YO(n,null)}function YO(n,e){n.G=Date.now(),Sl(n),n.B=Mi(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),sF(t.i,"t",r),n.o=0,t=n.l.J,n.h=new KO,n.g=RF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new YZ(fn(n.Pa,n,n.g),n.O)),BO(n.U,n.g,"readystatechange",n.nb),e=n.I?AO(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Tl(),function XZ(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function XO(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function JO(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=nee(n,t),i==lb){4==e&&(n.s=4,Cn(14),r=!1),za(n.j,n.m,null,"[Incomplete Response]");break}if(i==QO){n.s=4,Cn(15),za(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}za(n.j,n.m,i,null),hb(n,i)}XO(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Cn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),vb(e),e.M=!0,Cn(11))):(za(n.j,n.m,t,"[Invalid Chunked Response]"),hs(n),xl(n))}function nee(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?lb:(t=Number(e.substring(t,r)),isNaN(t)?QO:(r+=1)+t>e.length?lb:(e=e.slice(r,r+t),n.o=r+t,e))}function Sl(n){n.Y=Date.now()+n.P,ZO(n,n.P)}function ZO(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Cl(fn(n.lb,n),e)}function Rp(n){n.C&&(ce.clearTimeout(n.C),n.C=null)}function xl(n){0==n.l.H||n.J||DF(n.l,n)}function hs(n){Rp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ib(n.V),UO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function hb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||fb(t.i,n)))if(!n.K&&fb(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bp(t),Vp(t)}yb(t),Cn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Cl(fn(t.ib,t),6e3));if(1>=cF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ps(t,11)}else if((n.K||t.g==n)&&Bp(t),!yl(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(pb(o,o.h),o.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Qe(r.I,r.F,_))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=xF(r,r.J?r.pa:null,r.Y),s.K){lF(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Rp(a),Sl(a)),r.g=s}else TF(r);0<t.j.length&&Lp(t)}else"stop"!=c[0]&&"close"!=c[0]||ps(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ps(t,7):_b(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Tl()}catch{}}function eF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function iee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ree(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(B=Al.prototype).setTimeout=function(n){this.P=n},B.nb=function(n){n=n.target;const e=this.M;e&&3==Yr(n)?e.l():this.Pa(n)},B.Pa=function(n){try{if(n==this.g)e:{const l=Yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||j0||this.g&&(this.h.h||this.g.ja()||yF(this.g)))){this.J||4!=l||7==e||Tl(),Rp(this);var t=this.g.da();this.ca=t;t:if(XO(this)){var r=yF(this.g);n="";var i=r.length,o=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),xl(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function JZ(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yl(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,Cn(12),hs(this),xl(this);break e}za(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hb(this,t)}this.S?(JO(this,l,s),j0&&this.i&&3==l&&(BO(this.U,this.V,"tick",this.mb),this.V.start())):(za(this.j,this.m,s,null),hb(this,s)),4==l&&hs(this),this.i&&!this.J&&(4==l?DF(this.l,this):(this.i=!1,Sl(this)))}else(function bee(n){const e={};n=(n.g&&2<=Yr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(yl(n[r]))continue;var t=qZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function UZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),hs(this),xl(this)}}}catch{}},B.mb=function(){if(this.g){var n=Yr(this.g),e=this.g.ja();this.o<e.length&&(Rp(this),JO(this,n,e),this.i&&4!=n&&Sl(this))}},B.cancel=function(){this.J=!0,hs(this)},B.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function ZZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Tl(),Cn(17)),hs(this),this.s=2,xl(this)):ZO(this,this.Y-n)};var tF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fs){this.h=n.h,Mp(this,n.j),this.s=n.s,this.g=n.g,Pp(this,n.m),this.l=n.l;var e=n.i,t=new Pl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nF(this,t),this.o=n.o}else n&&(e=String(n).match(tF))?(this.h=!1,Mp(this,e[1]||"",!0),this.s=Rl(e[2]||""),this.g=Rl(e[3]||"",!0),Pp(this,e[4]),this.l=Rl(e[5]||"",!0),nF(this,e[6]||"",!0),this.o=Rl(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}function Mi(n){return new fs(n)}function Mp(n,e,t){n.j=t?Rl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nF(n,e,t){e instanceof Pl?(n.i=e,function dee(n,e){e&&!n.j&&(lo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(iF(this,r),sF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ml(e,cee)),n.i=new Pl(e,n.h))}function Qe(n,e,t){n.i.set(e,t)}function kp(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ml(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,see),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function see(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ml(e,rF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ml(e,rF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ml(t,"/"==t.charAt(0)?uee:aee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ml(t,lee)),n.join("")};var rF=/[#\/\?@]/g,aee=/[#\?:]/g,uee=/[#\?]/g,cee=/[#\?@]/g,lee=/#/g;function Pl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function lo(n){n.g||(n.g=new Map,n.h=0,n.i&&function oee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iF(n,e){lo(n),e=Wa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function oF(n,e){return lo(n),e=Wa(n,e),n.g.has(e)}function sF(n,e,t){iF(n,e),0<t.length&&(n.i=null,n.g.set(Wa(n,e),B0(t)),n.h+=t.length)}function Wa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aF(n){this.l=n||fee,n=ce.PerformanceNavigationTiming?0<(n=ce.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Pl.prototype).add=function(n,e){lo(this),this.i=null,n=Wa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){lo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},B.ta=function(){lo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},B.Z=function(n){lo(this);let e=[];if("string"==typeof n)oF(this,n)&&(e=e.concat(this.g.get(Wa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},B.set=function(n,e){return lo(this),this.i=null,oF(this,n=Wa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var fee=10;function uF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cF(n){return n.h?1:n.g?n.g.size:0}function fb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pb(n,e){n.g?n.g.add(e):n.h=e}function lF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return B0(n.i)}aF.prototype.cancel=function(){if(this.i=dF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var pee=class{stringify(n){return ce.JSON.stringify(n,void 0)}parse(n){return ce.JSON.parse(n,void 0)}};function gee(){this.g=new pee}function mee(n,e,t){const r=t||"";try{eF(n,function(i,o){let s=i;_l(i)&&(s=nb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Np(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kl(n){this.l=n.ec||null,this.j=n.ob||!1}function Op(n,e){$t.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=gb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jt(kl,sb),kl.prototype.g=function(){return new Op(this.l,this.j)},kl.prototype.i=function(n){return function(){return n}}({}),jt(Op,$t);var gb=0;function hF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Nl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ol(n)}function Ol(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=Op.prototype).open=function(n,e){if(this.readyState!=gb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ol(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nl(this)),this.readyState=gb},B.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},B.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nl(this):Ol(this),3==this.readyState&&hF(this)}},B.Za=function(n){this.g&&(this.response=this.responseText=n,Nl(this))},B.Ya=function(n){this.g&&(this.response=n,Nl(this))},B.ka=function(){this.g&&Nl(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Op.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yee=ce.JSON.parse;function ht(n){$t.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fF,this.L=this.M=!1}jt(ht,$t);var fF="",vee=/^https?$/i,Iee=["POST","PUT"];function pF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gF(n),Fp(n)}function gF(n){n.F||(n.F=!0,Jt(n,"complete"),Jt(n,"error"))}function mF(n){if(n.h&&typeof V0<"u"&&(!n.C[1]||4!=Yr(n)||2!=n.da()))if(n.v&&4==Yr(n))ob(n.La,0,n);else if(Jt(n,"readystatechange"),4==Yr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(tF)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!vee.test(i?i.toLowerCase():"")}t=r}if(t)Jt(n,"complete"),Jt(n,"success");else{n.m=6;try{var o=2<Yr(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",gF(n)}}finally{Fp(n)}}}function Fp(n,e){if(n.g){_F(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Jt(n,"ready");try{t.onreadystatechange=r}catch{}}}function _F(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ce.clearTimeout(n.A),n.A=null)}function Yr(n){return n.g?n.g.readyState:0}function yF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vF(n){let e="";return q0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=vF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function Fl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function IF(n){this.Ga=0,this.j=[],this.l=new Dp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fl("baseRetryDelayMs",5e3,n),this.hb=Fl("retryDelaySeedMs",1e4,n),this.eb=Fl("forwardChannelMaxRetries",2,n),this.xa=Fl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aF(n&&n.concurrentRequestLimit),this.Ja=new gee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _b(n){if(EF(n),3==n.H){var e=n.W++,t=Mi(n.I);if(Qe(t,"SID",n.K),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),Vl(n,t),(e=new Al(n,n.l,e)).L=2,e.A=kp(Mi(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon)try{t=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&ce.Image&&((new Image).src=e.A,t=!0),t||(e.g=RF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Sl(e)}SF(n)}function Vp(n){n.g&&(vb(n),n.g.cancel(),n.g=null)}function EF(n){Vp(n),n.u&&(ce.clearTimeout(n.u),n.u=null),Bp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ce.clearTimeout(n.m),n.m=null)}function Lp(n){if(!uF(n.i)&&!n.m){n.m=!0;var e=n.Na;El||FO(),bl||(El(),bl=!0),rb.add(e,n),n.C=0}}function bF(n,e){var t;t=e?e.m:n.W++;const r=Mi(n.I);Qe(r,"SID",n.K),Qe(r,"RID",t),Qe(r,"AID",n.V),Vl(n,r),n.o&&n.s&&mb(r,n.o,n.s),t=new Al(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=wF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pb(n.i,t),db(t,r,e)}function Vl(n,e){n.na&&q0(n.na,function(t,r){Qe(e,r,t)}),n.h&&eF({},function(t,r){Qe(e,r,t)})}function wF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?fn(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{mee(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function TF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;El||FO(),bl||(El(),bl=!0),rb.add(e,n),n.A=0}}function yb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Cl(fn(n.Ma,n),AF(n,n.A)),n.A++,0))}function vb(n){null!=n.B&&(ce.clearTimeout(n.B),n.B=null)}function CF(n){n.g=new Al(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Mi(n.wa);Qe(e,"RID","rpc"),Qe(e,"SID",n.K),Qe(e,"AID",n.V),Qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qe(e,"TO",n.qa),Qe(e,"TYPE","xmlhttp"),Vl(n,e),n.o&&n.s&&mb(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=kp(Mi(e)),t.u=null,t.S=!0,YO(t,n)}function Bp(n){null!=n.v&&(ce.clearTimeout(n.v),n.v=null)}function DF(n,e){var t=null;if(n.g==e){Bp(n),vb(n),n.g=null;var r=2}else{if(!fb(n.i,e))return;t=e.F,lF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Jt(r=Ap(),new GO(r,t)),Lp(n)}else TF(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function wee(n,e){return!(cF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Cl(fn(n.Na,n,e),AF(n,n.C)),n.C++,0)))}(n,e)||2==r&&yb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ps(n,5);break;case 4:ps(n,10);break;case 3:ps(n,6);break;default:ps(n,2)}}function AF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ps(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=fn(n.pb,n);t||(t=new fs("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||Mp(t,"https"),kp(t)),function _ee(n,e){const t=new Dp;if(ce.Image){const r=new Image;r.onload=Ip(Np,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ip(Np,t,r,"TestLoadImage: error",!1,e),r.onabort=Ip(Np,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ip(Np,t,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Cn(2);n.H=0,n.h&&n.h.za(e),SF(n),EF(n)}function SF(n){if(n.H=0,n.ma=[],n.h){const e=dF(n.i);(0!=e.length||0!=n.j.length)&&(bO(n.ma,e),bO(n.ma,n.j),n.i.i.length=0,B0(n.j),n.j.length=0),n.h.ya()}}function xF(n,e,t){var r=t instanceof fs?Mi(t):new fs(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Pp(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fs(null);r&&Mp(o,r),e&&(o.g=e),i&&Pp(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Qe(r,t,e),Qe(r,"VER",n.ra),Vl(n,r),r}function RF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ht(n.Ha&&!n.va?new kl({ob:t}):n.va)).Oa(n.J),e}function MF(){}function Up(){if(Ga&&!(10<=Number(FZ)))throw Error("Environmental error: no available transport.")}function Xn(n,e){$t.call(this),this.g=new IF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qa(this)}function PF(n){ab.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kF(){ub.call(this),this.status=1}function qa(n){this.g=n}function Ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ib(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Oe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(B=ht.prototype).Oa=function(n){this.M=n},B.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cb.g(),this.C=function WO(n){return n.h||(n.h=n.i())}(this.u?this.u:cb),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void pF(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=ce.FormData&&n instanceof ce.FormData,!(0<=EO(Iee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_F(this),0<this.B&&((this.L=function Eee(n){return Ga&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=ob(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){pF(this,o)}},B.ua=function(){typeof V0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jt(this,"complete"),Jt(this,"abort"),Fp(this))},B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),ht.$.N.call(this)},B.La=function(){this.s||(this.G||this.v||this.l?mF(this):this.kb())},B.kb=function(){mF(this)},B.isActive=function(){return!!this.g},B.da=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yee(e)}},B.Ia=function(){return this.m},B.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=IF.prototype).ra=8,B.H=1,B.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Al(this,this.l,n);let o=this.s;if(this.U&&(o?(o=AO(o),xO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wF(this,i,e),Qe(t=Mi(this.I),"RID",n),Qe(t,"CVER",22),this.F&&Qe(t,"X-HTTP-Session-Id",this.F),Vl(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(vF(o)))+"&"+e:this.o&&mb(t,this.o,o)),pb(this.i,i),this.bb&&Qe(t,"TYPE","init"),this.P?(Qe(t,"$req",e),Qe(t,"SID","null"),i.aa=!0,db(i,t,null)):db(i,t,e),this.H=2}}else 3==this.H&&(n?bF(this,n):0==this.j.length||uF(this.i)||bF(this))},B.Ma=function(){if(this.u=null,CF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Cl(fn(this.jb,this),n)}},B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),Vp(this),CF(this))},B.ib=function(){null!=this.v&&(this.v=null,Vp(this),yb(this),Cn(19))},B.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))},B.isActive=function(){return!!this.h&&this.h.isActive(this)},(B=MF.prototype).Ba=function(){},B.Aa=function(){},B.za=function(){},B.ya=function(){},B.isActive=function(){return!0},B.Va=function(){},Up.prototype.g=function(n,e){return new Xn(n,e)},jt(Xn,$t),Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Cn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xF(n,null,n.Y),Lp(n)},Xn.prototype.close=function(){_b(this.g)},Xn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Lp(e)},Xn.prototype.N=function(){this.g.h=null,delete this.j,_b(this.g),delete this.g,Xn.$.N.call(this)},jt(PF,ab),jt(kF,ub),jt(qa,MF),qa.prototype.Ba=function(){Jt(this.g,"a")},qa.prototype.Aa=function(n){Jt(this.g,new PF(n))},qa.prototype.za=function(n){Jt(this.g,new kF)},qa.prototype.ya=function(){Jt(this.g,"b")},jt(Ar,function Tee(){this.blockSize=-1}),Ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ar.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Ib(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Ib(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Ib(this,r),i=0;break}}this.h=i,this.i+=e},Ar.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Cee={};function Eb(n){return-128<=n&&128>n?function kZ(n,e){var t=Cee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Oe([0|e],0>e?-1:0)}):new Oe([0|n],0>n?-1:0)}function Xr(n){if(isNaN(n)||!isFinite(n))return Ka;if(0>n)return Zt(Xr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=bb;return new Oe(e,0)}var bb=4294967296,Ka=Eb(0),wb=Eb(1),OF=Eb(16777216);function Pi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hr(n){return-1==n.h}function Zt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Oe(t,~n.h).add(wb)}function jp(n,e){return n.add(Zt(e))}function $p(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ll(n,e){this.g=n,this.h=e}function Hp(n,e){if(Pi(e))throw Error("division by zero");if(Pi(n))return new Ll(Ka,Ka);if(hr(n))return e=Hp(Zt(n),e),new Ll(Zt(e.g),Zt(e.h));if(hr(e))return e=Hp(n,Zt(e)),new Ll(Zt(e.g),e.h);if(30<n.g.length){if(hr(n)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=wb,r=e;0>=r.X(n);)t=FF(t),r=FF(r);var i=Qa(t,1),o=Qa(r,1);for(r=Qa(r,2),t=Qa(t,2);!Pi(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Qa(r,1),t=Qa(t,1)}return e=jp(n,i.R(e)),new Ll(i,e)}for(i=Ka;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Xr(t)).R(e);hr(s)||0<s.X(n);)s=(o=Xr(t-=r)).R(e);Pi(o)&&(o=wb),i=i.add(o),n=jp(n,s)}return new Ll(i,n)}function FF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Oe(t,n.h)}function Qa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Oe(i,n.h)}(B=Oe.prototype).ea=function(){if(hr(this))return-Zt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:bb+r)*e,e*=bb}return n},B.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pi(this))return"0";if(hr(this))return"-"+Zt(this).toString(n);for(var e=Xr(Math.pow(n,6)),t=this,r="";;){var i=Hp(t,e).g,o=((0<(t=jp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pi(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},B.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},B.X=function(n){return hr(n=jp(this,n))?-1:Pi(n)?0:1},B.abs=function(){return hr(this)?Zt(this):this},B.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Oe(t,-2147483648&t[t.length-1]?-1:0)},B.R=function(n){if(Pi(this)||Pi(n))return Ka;if(hr(this))return hr(n)?Zt(this).R(Zt(n)):Zt(Zt(this).R(n));if(hr(n))return Zt(this.R(Zt(n)));if(0>this.X(OF)&&0>n.X(OF))return Xr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=s*u,$p(t,2*r+2*i),t[2*r+2*i+1]+=o*u,$p(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,$p(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,$p(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Oe(t,0)},B.gb=function(n){return Hp(this,n).h},B.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Oe(t,this.h&n.h)},B.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Oe(t,this.h|n.h)},B.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Oe(t,this.h^n.h)},Up.prototype.createWebChannel=Up.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Sp.NO_ERROR=0,Sp.TIMEOUT=8,Sp.HTTP_ERROR=6,zO.COMPLETE="complete",qO.EventType=Dl,Dl.OPEN="a",Dl.CLOSE="b",Dl.ERROR="c",Dl.MESSAGE="d",$t.prototype.listen=$t.prototype.O,ht.prototype.listenOnce=ht.prototype.P,ht.prototype.getLastError=ht.prototype.Sa,ht.prototype.getLastErrorCode=ht.prototype.Ia,ht.prototype.getStatus=ht.prototype.da,ht.prototype.getResponseJson=ht.prototype.Wa,ht.prototype.getResponseText=ht.prototype.ja,ht.prototype.send=ht.prototype.ha,ht.prototype.setWithCredentials=ht.prototype.Oa,Ar.prototype.digest=Ar.prototype.l,Ar.prototype.reset=Ar.prototype.reset,Ar.prototype.update=Ar.prototype.j,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.R,Oe.prototype.modulo=Oe.prototype.gb,Oe.prototype.compare=Oe.prototype.X,Oe.prototype.toNumber=Oe.prototype.ea,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.D,Oe.fromNumber=Xr,Oe.fromString=function NF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zt(NF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xr(Math.pow(e,8)),r=Ka,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Xr(Math.pow(e,o)),r=r.R(o).add(Xr(s))):r=(r=r.R(t)).add(Xr(s))}return r};var Dee=Dr.createWebChannelTransport=function(){return new Up},Aee=Dr.getStatEventTarget=function(){return Ap()},Tb=Dr.ErrorCode=Sp,See=Dr.EventType=zO,xee=Dr.Event=ds,VF=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gp=(Dr.FetchXmlHttpFactory=kl,Dr.WebChannel=qO),Ree=Dr.XhrIo=ht,Mee=Dr.Md5=Ar,Ya=Dr.Integer=Oe;const LF="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Xa="10.7.0";const ho=new lI("@firebase/firestore");function Ja(){return ho.logLevel}function R(n,...e){if(ho.logLevel<=be.DEBUG){const t=e.map(Cb);ho.debug(`Firestore (${Xa}): ${n}`,...t)}}function It(n,...e){if(ho.logLevel<=be.ERROR){const t=e.map(Cb);ho.error(`Firestore (${Xa}): ${n}`,...t)}}function Jn(n,...e){if(ho.logLevel<=be.WARN){const t=e.map(Cb);ho.warn(`Firestore (${Xa}): ${n}`,...t)}}function Cb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+n;throw It(e),new Error(e)}function q(n,e){n||G()}function F(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends oo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class kee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nee{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(T(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new BF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Ht(e)}}class Oee{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fee{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Oee(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q("string"==typeof t.token),this.R=t.token,new UF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function ae(n,e){return n<e?-1:n>e?1:0}function Za(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ot(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new ot(0,0))}static max(){return new Q(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,t,r){void 0===t?t=0:t>e.length&&G(),void 0===r?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ae extends Bl{construct(e,t,r){return new Ae(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ae(t)}static emptyPath(){return new Ae([])}}const Bee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Bl{construct(e,t,r){return new Ze(e,t,r)}static isValidIdentifier(e){return Bee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new M(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new M(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(t)}static emptyPath(){return new Ze([])}}class V{constructor(e){this.path=e}static fromPath(e){return new V(Ae.fromString(e))}static fromName(e){return new V(Ae.fromString(e).popFirst(5))}static empty(){return new V(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new Ae(e.slice()))}}function GF(n){return new Zn(n.readTime,n.key,-1)}class Zn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zn(Q.min(),V.empty(),-1)}static max(){return new Zn(Q.max(),V.empty(),-1)}}function Ab(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=V.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const zF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fo(n){return Sb.apply(this,arguments)}function Sb(){return Sb=T(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==zF)throw n;R("LocalStore","Unexpectedly lost primary lease")}),Sb.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,t){return new E((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function po(n){return"IndexedDbTransactionError"===n.name}let er=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function jl(n){return null==n}function $l(n){return 0===n&&1/n==-1/0}function eV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function go(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class He{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new en(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1,en.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,r,i,o){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nV(this.data.getIterator())}getIteratorFrom(e){return new nV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ve(this.comparator);return t.data=e,t}}class nV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Ve(Ze.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class rV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rV("Invalid base64 string: "+o):o}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const dte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(n){if(q(!!n),"string"==typeof n){let e=0;const t=dte.exec(n);if(q(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ki(n){return"string"==typeof n?Lt.fromBase64String(n):Lt.fromUint8Array(n)}function Kp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qp(n){const e=n.mapValue.fields.__previous_value__;return Kp(e)?Qp(e):e}function Hl(n){const e=mo(n.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}class hte{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ys{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ys("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ys&&e.projectId===this.projectId&&e.database===this.database}}const _o={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:aV(n)?9007199254740991:10:G()}function Zr(n,e){if(n===e)return!0;const t=yo(n);if(t!==yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=mo(i.timestampValue),a=mo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ki(n.bytesValue).isEqual(ki(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?$l(s)===$l(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Za(n.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(eV(s)!==eV(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Zr(s[u],a[u])))return!1;return!0}(n,e);default:return G()}var o}function Gl(n,e){return void 0!==(n.values||[]).find(t=>Zr(t,e))}function vo(n,e){if(n===e)return 0;const t=yo(n),r=yo(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),u=ft(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return iV(n.timestampValue,e.timestampValue);case 4:return iV(Hl(n),Hl(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ki(o),u=ki(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=ae(a[c],u[c]);if(0!==l)return l}return ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ae(ft(o.latitude),ft(s.latitude));return 0!==a?a:ae(ft(o.longitude),ft(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=vo(a[c],u[c]);if(l)return l}return ae(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===_o.mapValue&&s===_o.mapValue)return 0;if(o===_o.mapValue)return 1;if(s===_o.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=ae(u[d],l[d]);if(0!==h)return h;const f=vo(a[u[d]],c[l[d]]);if(0!==f)return f}return ae(u.length,l.length)}(n.mapValue,e.mapValue);default:throw G()}}function iV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=mo(n),r=mo(e),i=ae(t.seconds,r.seconds);return 0!==i?i:ae(t.nanos,r.nanos)}function ru(n){return Mb(n)}function Mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ki(n.bytesValue).toBase64():"referenceValue"in n?V.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Mb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Mb(t.fields[s])}`;return i+"}"}(n.mapValue):G()}function vs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pb(n){return!!n&&"integerValue"in n}function zl(n){return!!n&&"arrayValue"in n}function oV(n){return!!n&&"nullValue"in n}function sV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jp(n){return!!n&&"mapValue"in n}function Wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=Ze.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Wl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){go(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new tn(Wl(this.value))}}function lV(n){const e=[];return go(n.fields,(t,r)=>{const i=new Ze([t]);if(Jp(r)){const o=lV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}class Ye{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ye(e,0,Q.min(),Q.min(),Q.min(),tn.empty(),0)}static newFoundDocument(e,t,r,i){return new Ye(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new Ye(e,2,t,Q.min(),Q.min(),tn.empty(),0)}static newUnknownDocument(e,t){return new Ye(e,3,t,Q.min(),Q.min(),tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Io{constructor(e,t){this.position=e,this.inclusive=t}}function dV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?V.comparator(V.fromName(s.referenceValue),t.key):vo(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zr(n.position[t],e.position[t]))return!1;return!0}class ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function gte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class fV{}class we extends fV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mte(e,t,r):"array-contains"===t?new vte(e,r):"in"===t?new vV(e,r):"not-in"===t?new Ite(e,r):"array-contains-any"===t?new Ete(e,r):new we(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _te(e,r):new yte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vo(t,this.value)):null!==t&&yo(this.value)===yo(t)&&this.matchesComparison(vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends fV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Fe(e,t)}matches(e){return iu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function iu(n){return"and"===n.op}function Nb(n){return function pV(n){for(const e of n.filters)if(e instanceof Fe)return!1;return!0}(n)&&iu(n)}function Ob(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+ru(n.value);if(Nb(n))return n.filters.map(e=>Ob(e)).join(",");{const e=n.filters.map(t=>Ob(t)).join(",");return`${n.op}(${e})`}}function gV(n,e){return n instanceof we?(r=n,(i=e)instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)):n instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&gV(s,i.filters[a]),!0)}(n,e):void G();var r,i}function _V(n){return n instanceof we?`${(t=n).field.canonicalString()} ${t.op} ${ru(t.value)}`:n instanceof Fe?function(t){return t.op.toString()+" {"+t.getFilters().map(_V).join(" ,")+"}"}(n):"Filter";var t}class mte extends we{constructor(e,t,r){super(e,t,r),this.key=V.fromName(r.referenceValue)}matches(e){const t=V.comparator(e.key,this.key);return this.matchesComparison(t)}}class _te extends we{constructor(e,t){super(e,"in",t),this.keys=yV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yte extends we{constructor(e,t){super(e,"not-in",t),this.keys=yV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>V.fromName(r.referenceValue))}class vte extends we{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zl(t)&&Gl(t.arrayValue,this.value)}}class vV extends we{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gl(this.value.arrayValue,t)}}class Ite extends we{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gl(this.value.arrayValue,t)}}class Ete extends we{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}class bte{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Fb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new bte(n,e,t,r,i,o,s)}function Is(n){const e=F(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ob(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ru(r)).join(",")),e.ce=t}return e.ce}function Kl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hV(n.startAt,e.startAt)&&hV(n.endAt,e.endAt)}function Zp(n){return V.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ni{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function ou(n){return new Ni(n)}function wV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vb(n){return null!==n.collectionGroup}function su(n){const e=F(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ve(Ze.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new ql(o,r))}),t.has(Ze.keyField().canonicalString())||e.le.push(new ql(Ze.keyField(),r))}return e.le}function Dn(n){const e=F(n);return e.he||(e.he=function TV(n,e){if("F"===n.limitType)return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new ql(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Io(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Io(n.startAt.position,n.startAt.inclusive):null;return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,su(n))),e.he}function Lb(n,e){const t=n.filters.concat([e]);return new Ni(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tg(n,e,t){return new Ni(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ql(n,e){return Kl(Dn(n),Dn(e))&&n.limitType===e.limitType}function CV(n){return`${Is(Dn(n))}|lt:${n.limitType}`}function au(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>_V(i)).join(", ")}]`),jl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ru(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ru(i)).join(",")),`Target(${r})`}(Dn(n))}; limitType=${n.limitType})`}function Yl(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):V.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of su(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=dV(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,su(r),i)||r.endAt&&!function(s,a,u){const c=dV(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,su(r),i)));var r,i}function AV(n){return(e,t)=>{let r=!1;for(const i of su(n)){const o=wte(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function wte(n,e,t){const r=n.field.isKeyField()?V.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?vo(u,c):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return tV(this.inner)}size(){return this.innerSize}}const Tte=new He(V.comparator);function Vn(){return Tte}const SV=new He(V.comparator);function Xl(...n){let e=SV;for(const t of n)e=e.insert(t.key,t);return e}function xV(n){let e=SV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ei(){return Jl()}function RV(){return Jl()}function Jl(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Cte=new He(V.comparator),Dte=new Ve(V.comparator);function ge(...n){let e=Dte;for(const t of n)e=e.add(t);return e}const Ate=new Ve(ae);function MV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function PV(n){return{integerValue:""+n}}function kV(n,e){return function qF(n){return"number"==typeof n&&Number.isInteger(n)&&!$l(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?PV(e):MV(n,e)}class ng{constructor(){this._=void 0}}function Ste(n,e,t){return n instanceof uu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Kp(o)&&(o=Qp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Es?OV(n,e):n instanceof bs?FV(n,e):function(i,o){const s=NV(i,o),a=VV(s)+VV(i.Ie);return Pb(s)&&Pb(i.Ie)?PV(a):MV(i.serializer,a)}(n,e)}function xte(n,e,t){return n instanceof Es?OV(n,e):n instanceof bs?FV(n,e):t}function NV(n,e){return n instanceof cu?Pb(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class uu extends ng{}class Es extends ng{constructor(e){super(),this.elements=e}}function OV(n,e){const t=LV(e);for(const r of n.elements)t.some(i=>Zr(i,r))||t.push(r);return{arrayValue:{values:t}}}class bs extends ng{constructor(e){super(),this.elements=e}}function FV(n,e){let t=LV(e);for(const r of n.elements)t=t.filter(i=>!Zr(i,r));return{arrayValue:{values:t}}}class cu extends ng{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VV(n){return ft(n.integerValue||n.doubleValue)}function LV(n){return zl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mte{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ig{}function BV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new du(n.key,et.none()):new lu(n.key,n.data,et.none());{const t=n.data,r=tn.empty();let i=new Ve(Ze.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Fi(n.key,r,new Fn(i.toArray()),et.none())}}function Pte(n,e,t){n instanceof lu?function(i,o,s){const a=i.value.clone(),u=$V(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Fi?function(i,o,s){if(!rg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$V(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(jV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ed(n,e,t,r){return n instanceof lu?function(o,s,a,u){if(!rg(o.precondition,s))return a;const c=o.value.clone(),l=HV(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fi?function(o,s,a,u){if(!rg(o.precondition,s))return a;const c=HV(o.fieldTransforms,u,s),l=s.data;return l.setAll(jV(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,rg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function kte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=NV(r.transform,i||null);null!=o&&(null===t&&(t=tn.empty()),t.set(r.field,o))}return t||null}function UV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Za(r,i,(o,s)=>function Rte(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Es&&i instanceof Es||r instanceof bs&&i instanceof bs?Za(r.elements,i.elements,Zr):r instanceof cu&&i instanceof cu?Zr(r.Ie,i.Ie):r instanceof uu&&i instanceof uu);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class lu extends ig{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends ig{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $V(n,e,t){const r=new Map;q(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xte(s,a,t[i]))}return r}function HV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Ste(o,s,e))}return r}class du extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Pte(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=BV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(t,r)=>UV(t,r))&&Za(this.baseMutations,e.baseMutations,(t,r)=>UV(t,r))}}class $b{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q(e.mutations.length===r.length);let i=Cte;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new $b(e,t,r,i)}}class Hb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ote{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mt,Se;function zV(n){if(void 0===n)return It("GRPC error has no .code"),w.UNKNOWN;switch(n){case Mt.OK:return w.OK;case Mt.CANCELLED:return w.CANCELLED;case Mt.UNKNOWN:return w.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return w.INTERNAL;case Mt.UNAVAILABLE:return w.UNAVAILABLE;case Mt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Mt.NOT_FOUND:return w.NOT_FOUND;case Mt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Mt.ABORTED:return w.ABORTED;case Mt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Mt.DATA_LOSS:return w.DATA_LOSS;default:return G()}}(Se=Mt||(Mt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";const Fte=new Ya([4294967295,4294967295],0);function qV(n){const e=function WV(){return new TextEncoder}().encode(n),t=new Mee;return t.update(e),new Uint8Array(t.digest())}function KV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ya([t,r],0),new Ya([i,o],0)]}class Gb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new td(`Invalid padding: ${t}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new td(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new td(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ya.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ya.fromNumber(r)));return 1===i.compare(Fte)&&(i=new Ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=qV(e),[r,i]=KV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gb(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=qV(e),[r,i]=KV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nd(Q.min(),i,new He(ae),Vn(),ge())}}class rd{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rd(r,t,ge(),ge(),ge())}}class sg{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class QV{constructor(e,t){this.targetId=e,this.fe=t}}class YV{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class XV{constructor(){this.ge=0,this.pe=ZV(),this.ye=Lt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ge(),t=ge(),r=ge();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new rd(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=ZV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,q(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Vte{constructor(e){this.Le=e,this.ke=new Map,this.qe=Vn(),this.Qe=JV(),this.Ke=new He(ae)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const o=i.target;if(Zp(o))if(0===r){const s=new V(o.path);this.We(t,s,Ye.newNoDocument(s,Q.min()))}else q(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=ki(r).toUint8Array()}catch(u){if(u instanceof rV)return Jn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gb(s,i,o)}catch(u){return Jn(u instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Zp(a.target)){const u=new V(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,Ye.newNoDocument(u,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let r=ge();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new nd(e,t,this.Ke,this.qe,r);return this.qe=Vn(),this.Qe=JV(),this.Ke=new He(ae),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new XV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ve(ae),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new XV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function JV(){return new He(V.comparator)}function ZV(){return new He(V.comparator)}const Lte={asc:"ASCENDING",desc:"DESCENDING"},Bte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ute={and:"AND",or:"OR"};class jte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zb(n,e){return n.useProto3Json||jl(e)?e:{value:e}}function hu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $te(n,e){return hu(n,e.toTimestamp())}function Et(n){return q(!!n),Q.fromTimestamp(function(t){const r=mo(t);return new ot(r.seconds,r.nanos)}(n))}function Wb(n,e){return(r=n,new Ae(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function tL(n){const e=Ae.fromString(n);return q(lL(e)),e}function id(n,e){return Wb(n.databaseId,e.path)}function ti(n,e){const t=tL(e);if(t.get(1)!==n.databaseId.projectId)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new V(rL(t))}function qb(n,e){return Wb(n.databaseId,e)}function od(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rL(n){return q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iL(n,e,t){return{name:id(n,e),fields:t.value.mapValue.fields}}function sL(n,e){return{documents:[qb(n,e.path)]}}function Qb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return cL(Fe.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Eo((d=c).field),direction:qte(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=zb(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function aL(n){let e=function nL(n){const e=tL(n);return 4===e.length?Ae.emptyPath():rL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];t.where&&(o=function(d){const h=uL(d);return h instanceof Fe&&Nb(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new ql(fu((p=h).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,jl(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new Io((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Io(d.values||[],!d.before)}(t.endAt)),function bV(n,e,t,r,i,o,s,a){return new Ni(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function uL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fu(t.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(t.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fu(t.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fu(t.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):void 0!==n.fieldFilter?we.create(fu((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Fe.create(t.compositeFilter.filters.map(r=>uL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(n):G();var t}function qte(n){return Lte[n]}function Kte(n){return Bte[n]}function Qte(n){return Ute[n]}function Eo(n){return{fieldPath:n.canonicalString()}}function fu(n){return Ze.fromServerFormat(n.fieldPath)}function cL(n){return n instanceof we?function(t){if("=="===t.op){if(sV(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(oV(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sV(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(oV(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:Kte(t.op),value:t.value}}}(n):n instanceof Fe?function(t){const r=t.getFilters().map(i=>cL(i));return 1===r.length?r[0]:{compositeFilter:{op:Qte(t.op),filters:r}}}(n):G()}function Yte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Vi{constructor(e,t,r,i,o=Q.min(),s=Q.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dL{constructor(e){this.ut=e}}function Yb(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tg(e,e.limit,"L"):e}class Ds{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),$l(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ki(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?aV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):G()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),V.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Ds.St=new Ds;class ine{constructor(){this.on=new nw}addToCollectionParentIndex(e,t){return this.on.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve(Zn.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ve(Ae.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ae.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Ss{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ss(0)}static Nn(){return new Ss(-1)}}class lne{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ed(r.mutation,i,Fn.empty(),ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){const i=ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Xl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Vn();const s=Jl(),a=Jl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Fi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),ed(l.mutation,c,l.mutation.getFieldMask(),ot.now())):s.set(c.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new fne(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Jl();let i=new He((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=RV();l.forEach(h=>{if(!o.has(h)){const f=BV(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return V.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):E.resolve(ei());let a=-1,u=o;return s.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ge())).next(l=>({batchId:a,changes:xV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new V(t)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Xl();return this.indexManager.getCollectionParents(e,o).next(a=>E.forEach(a,u=>{const c=(d=t,h=u.child(o),new Ni(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Ye.newInvalidDocument(l)))});let a=Xl();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&ed(l.mutation,c,Fn.empty(),ot.now()),Yl(t,c)&&(a=a.insert(u,c))}),a})}}class pne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return E.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Et(i.createTime)}),E.resolve();var i}getNamedQuery(e,t){return E.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Yb(i.bundledQuery),readTime:Et(i.readTime)}),E.resolve();var i}}class gne{constructor(){this.overlays=new He(V.comparator),this.lr=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ei();return E.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.lt(e,t,o)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=ei(),o=t.length+1,s=new V(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=ei(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ei(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Hb(t,r));let o=this.lr.get(t);void 0===o&&(o=ge(),this.lr.set(t,o)),this.lr.set(t,o.add(r.key))}}class rw{constructor(){this.hr=new Ve(zt.Pr),this.Ir=new Ve(zt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new zt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new V(new Ae([])),r=new zt(t,e),i=new zt(t,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new V(new Ae([])),r=new zt(t,e),i=new zt(t,e+1);let o=ge();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new zt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return V.comparator(e.key,t.key)||ae(e.gr,t.gr)}static Tr(e,t){return ae(e.gr,t.gr)||V.comparator(e.key,t.key)}}class mne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ve(zt.Pr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.pr;this.pr++;const s=new jb(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new zt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(s)}lookupMutationBatch(e,t){return E.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),o=i<0?0:i;return E.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),E.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(ae);return t.forEach(i=>{const o=new zt(i,0),s=new zt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),E.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;V.isDocumentKey(o)||(o=o.child(""));const s=new zt(new V(o),0);let a=new Ve(ae);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),E.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return E.forEach(t.mutations,i=>{const o=new zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new zt(t,0),i=this.yr.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _ne{constructor(e){this.Cr=e,this.docs=new He(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(t))}getEntries(e,t){let r=Vn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ye.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Vn();const s=t.path,a=new V(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ab(GF(l),r)<=0||(i.has(l.key)||Yl(t,l))&&(o=o.insert(l.key,l.mutableCopy()))}return E.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G()}vr(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yne(this)}getSize(e){return E.resolve(this.size)}}class yne extends lne{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class vne{constructor(e){this.persistence=e,this.Fr=new Oi(t=>Is(t),Kl),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rw,this.targetCount=0,this.Nr=Ss.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),E.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ss(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.kn(t),E.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(o).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),E.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.Or.containsKey(t))}}class iw{constructor(e,t){this.Br={},this.overlays={},this.Lr=new er(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vne(this),this.indexManager=new ine,this.remoteDocumentCache=new _ne(r=>this.referenceDelegate.Qr(r)),this.serializer=new dL(t),this.Kr=new pne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new mne(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new Ine(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,t){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class Ine extends $ee{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Gr=new rw,this.zr=null}static jr(e){return new pg(e)}get Hr(){if(this.zr)return this.zr;throw G()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),E.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Hr,r=>{const i=V.fromPath(r);return this.Jr(e,i).next(o=>{o||t.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return E.or([()=>E.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class uw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ge(),i=ge();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uw(e,t.fromCache,r,i)}}class bne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new bne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Ja()<=be.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",au(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),E.resolve()):(Ja()<=be.DEBUG&&R("QueryEngine","Query:",au(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ja()<=be.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",au(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(t))):E.resolve())}zi(e,t){if(wV(t))return E.resolve(null);let r=Dn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tg(t,null,"F"),r=Dn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,s,u.readTime)?this.zi(e,tg(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return wV(t)||i.isEqual(Q.min())?E.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,r,i)?E.resolve(null):(Ja()<=be.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(t)),this.Xi(e,s,t,function HF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new ot(t+1,0):new ot(t,r));return new Zn(i,V.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Ve(AV(e));return t.forEach((i,o)=>{Yl(e,o)&&(r=r.add(o))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,t,r){return Ja()<=be.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",au(t)),this.Gi.getDocumentsMatchingQuery(e,t,Zn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class wne{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new He(ae),this.ns=new Oi(o=>Is(o),Kl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function $L(n,e){return cw.apply(this,arguments)}function cw(){return cw=T(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ge();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),cw.apply(this,arguments)}function HL(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Dne(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vu(n,e,t){return lw.apply(this,arguments)}function lw(){return lw=T(function*(n,e,t){const r=F(n),i=r.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!po(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),lw.apply(this,arguments)}function _g(n,e,t){const r=F(n);let i=Q.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=F(u),h=d.ns.get(l);return void 0!==h?E.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?i:Q.min(),t?o:ge())).next(a=>(function qL(n,e,t){let r=n.rs.get(e)||Q.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.rs.set(e,r)}(r,function DV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class gw{constructor(){this.activeTargetIds=function Bb(){return Ate}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.eo=new gw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new gw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xne{ro(e){}shutdown(){}}class XL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ig=null;function _w(){return null===Ig?Ig=268435456+Math.round(2147483648*Math.random()):Ig++,"0x"+Ig.toString(16)}const Rne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mne{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const _n="WebChannelConnection";class Pne extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(t,r,i,o,s){const a=_w(),u=this.So(t,r);R("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,u,c,i).then(l=>(R("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Jn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(t,r,i,o,s,a){return this.wo(t,r,i,o,s)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}So(t,r){return`${this.mo}/v1/${r}:${Rne[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const o=_w();return new Promise((s,a)=>{const u=new Ree;u.setWithCredentials(!0),u.listenOnce(See.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tb.NO_ERROR:const l=u.getResponseJson();R(_n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Tb.TIMEOUT:R(_n,`RPC '${e}' ${o} timed out`),a(new M(w.DEADLINE_EXCEEDED,"Request time out"));break;case Tb.HTTP_ERROR:const d=u.getStatus();if(R(_n,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(b)>=0?b:w.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(w.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{R(_n,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);R(_n,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=_w(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Dee(),a=Aee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=o.join("");R(_n,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Mne({co:y=>{f?R(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(R(_n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(_n,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),_=(y,b,D)=>{y.listen(b,I=>{try{D(I)}catch(P){setTimeout(()=>{throw P},0)}})};return _(d,Gp.EventType.OPEN,()=>{f||R(_n,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Gp.EventType.CLOSE,()=>{f||(f=!0,R(_n,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),_(d,Gp.EventType.ERROR,y=>{f||(f=!0,Jn(_n,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new M(w.UNAVAILABLE,"The operation could not be completed")))}),_(d,Gp.EventType.MESSAGE,y=>{var b;if(!f){const D=y.data[0];q(!!D);const P=D.error||(null===(b=D[0])||void 0===b?void 0:b.error);if(P){R(_n,`RPC '${e}' stream ${i} received error:`,P);const W=P.status;let J=function(wd){const $g=Mt[wd];if(void 0!==$g)return zV($g)}(W),st=P.message;void 0===J&&(J=w.INTERNAL,st="Unknown error status: "+W+" with message "+P.message),f=!0,p.Ro(new M(J,st)),d.close()}else R(_n,`RPC '${e}' stream ${i} received:`,D),p.Vo(D)}}),_(a,xee.STAT_EVENT,y=>{y.stat===VF.PROXY?R(_n,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===VF.NOPROXY&&R(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Eg(){return typeof document<"u"?document:null}function pd(n){return new jte(n,!0)}class yw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ZL{constructor(e,t,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yw(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return T(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return T(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return T(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new M(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(T(function*(){e.state=0,e.start()}))}o_(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kne extends ZL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Gte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:G(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(q(void 0===l||"string"==typeof l),Lt.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),Lt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?w.UNKNOWN:zV(c.code);return new M(l,c.message||"")}(s);t=new YV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ti(n,r.document.name),o=Et(r.document.updateTime),s=r.document.createTime?Et(r.document.createTime):Q.min(),a=new tn({mapValue:{fields:r.document.fields}}),u=Ye.newFoundDocument(i,o,s,a);t=new sg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ti(n,r.document),o=r.readTime?Et(r.readTime):Q.min(),s=Ye.newNoDocument(i,o);t=new sg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ti(n,r.document);t=new sg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return G();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ote(i,o);t=new QV(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Q.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Et(s.readTime):Q.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=od(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=Zp(u)?{documents:sL(o,u)}:{query:Qb(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=eL(o,s.resumeToken);const c=zb(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Q.min())>0){a.readTime=hu(o,s.snapshotVersion.toTimestamp());const c=zb(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Wte(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=od(this.serializer),t.removeTarget=e,this.e_(t)}}class Nne extends ZL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function zte(n,e){return n&&n.length>0?(q(void 0!==e),n.map(t=>function(i,o){let s=Et(i.updateTime?i.updateTime:o);return s.isEqual(Q.min())&&(s=Et(o)),new Mte(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.I_(r,t)}return q(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=od(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function sd(n,e){let t;if(e instanceof lu)t={update:iL(n,e.key,e.value)};else if(e instanceof du)t={delete:id(n,e.key)};else if(e instanceof Fi)t={update:iL(n,e.key,e.data),updateMask:Yte(e.fieldMask)};else{if(!(e instanceof Ub))return G();t={verify:id(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof uu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:$te(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:G()),t;var o}(this.serializer,r))};this.e_(t)}}class One extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(w.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(w.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Vne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(It(t),this.f_=!1):R("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Lne{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(T(function*(){var u;Co(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(u=T(function*(l){const d=F(l);d.C_.add(4),yield Iu(d),d.M_.set("Unknown"),d.C_.delete(4),yield gd(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new Vne(r,i)}}function gd(n){return Iw.apply(this,arguments)}function Iw(){return Iw=T(function*(n){if(Co(n))for(const e of n.v_)yield e(!0)}),Iw.apply(this,arguments)}function Iu(n){return Ew.apply(this,arguments)}function Ew(){return Ew=T(function*(n){for(const e of n.v_)yield e(!1)}),Ew.apply(this,arguments)}function bg(n,e){const t=F(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Tw(t)?ww(t):bu(t).Ho()&&bw(t,e))}function md(n,e){const t=F(n),r=bu(t);t.D_.delete(e),r.Ho()&&e2(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Co(t)&&t.M_.set("Unknown"))}function bw(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bu(n).u_(e)}function e2(n,e){n.x_.Oe(e),bu(n).c_(e)}function ww(n){n.x_=new Vte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),bu(n).start(),n.M_.g_()}function Tw(n){return Co(n)&&!bu(n).jo()&&n.D_.size>0}function Co(n){return 0===F(n).C_.size}function t2(n){n.x_=void 0}function Bne(n){return Cw.apply(this,arguments)}function Cw(){return Cw=T(function*(n){n.D_.forEach((e,t)=>{bw(n,e)})}),Cw.apply(this,arguments)}function Une(n,e){return Dw.apply(this,arguments)}function Dw(){return Dw=T(function*(n,e){t2(n),Tw(n)?(n.M_.w_(e),ww(n)):n.M_.set("Unknown")}),Dw.apply(this,arguments)}function jne(n,e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=T(function*(n,e,t){if(n.M_.set("Online"),e instanceof YV&&2===e.state&&e.cause)try{yield(r=T(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wg(n,r)}else if(e instanceof sg?n.x_.$e(e):e instanceof QV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Q.min()))try{const r=yield HL(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(Lt.EMPTY_BYTE_STRING,l.snapshotVersion)),e2(o,u);const d=new Vi(l.target,u,c,l.sequenceNumber);bw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield wg(n,r)}var r}),Aw.apply(this,arguments)}function wg(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=T(function*(n,e,t){if(!po(e))throw e;n.C_.add(1),yield Iu(n),n.M_.set("Offline"),t||(t=()=>HL(n.localStore)),n.asyncQueue.enqueueRetryable(T(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield gd(n)}))}),Sw.apply(this,arguments)}function n2(n,e){return e().catch(t=>wg(n,t,e))}function Eu(n){return xw.apply(this,arguments)}function xw(){return xw=T(function*(n){const e=F(n),t=Do(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;$ne(e);)try{const i=yield Dne(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Hne(e,i)}catch(i){yield wg(e,i)}r2(e)&&o2(e)}),xw.apply(this,arguments)}function $ne(n){return Co(n)&&n.b_.length<10}function Hne(n,e){n.b_.push(e);const t=Do(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function r2(n){return Co(n)&&!Do(n).jo()&&n.b_.length>0}function o2(n){Do(n).start()}function Gne(n){return Rw.apply(this,arguments)}function Rw(){return Rw=T(function*(n){Do(n).E_()}),Rw.apply(this,arguments)}function zne(n){return Mw.apply(this,arguments)}function Mw(){return Mw=T(function*(n){const e=Do(n);for(const t of n.b_)e.P_(t.mutations)}),Mw.apply(this,arguments)}function Wne(n,e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=T(function*(n,e,t){const r=n.b_.shift(),i=$b.from(r,e,t);yield n2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Eu(n)}),Pw.apply(this,arguments)}function qne(n,e){return kw.apply(this,arguments)}function kw(){return kw=T(function*(n,e){var t;e&&Do(n).h_&&(yield(t=T(function*(i,o){if(function GV(n){switch(n){default:return G();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(a=o.code)&&a!==w.ABORTED){const s=i.b_.shift();Do(i).Yo(),yield n2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Eu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),r2(n)&&o2(n)}),kw.apply(this,arguments)}function s2(n,e){return Nw.apply(this,arguments)}function Nw(){return Nw=T(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=Co(t);t.C_.add(3),yield Iu(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield gd(t)}),Nw.apply(this,arguments)}function Fw(){return Fw=T(function*(n,e){const t=F(n);e?(t.C_.delete(2),yield gd(t)):e||(t.C_.add(2),yield Iu(t),t.M_.set("Unknown"))}),Fw.apply(this,arguments)}function bu(n){return n.O_||(n.O_=function(t,r,i){const o=F(t);return o.A_(),new kne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:Bne.bind(null,n),Io:Une.bind(null,n),a_:jne.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.O_.Yo(),Tw(n)?ww(n):n.M_.set("Unknown")):(yield n.O_.stop(),t2(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Do(n){return n.N_||(n.N_=function(t,r,i){const o=F(t);return o.A_(),new Nne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:Gne.bind(null,n),Io:qne.bind(null,n),T_:zne.bind(null,n),I_:Wne.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.N_.Yo(),yield Eu(n)):(yield n.N_.stop(),n.b_.length>0&&(R("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class Vw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new Vw(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(n,e){if(It("AsyncQueue",`${e}: ${n}`),po(n))return new M(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Tu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||V.comparator(t.key,r.key):(t,r)=>V.comparator(t.key,r.key),this.keyedMap=Xl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class a2{constructor(){this.B_=new He(V.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):G():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Cu(e,t,Tu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Kne{constructor(){this.k_=void 0,this.listeners=[]}}class Qne{constructor(){this.queries=new Oi(e=>CV(e),Ql),this.onlineState="Unknown",this.q_=new Set}}function Lw(n,e){return Bw.apply(this,arguments)}function Bw(){return Bw=T(function*(n,e){const t=F(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Kne),i)try{o.k_=yield t.onListen(r)}catch(s){const a=wu(s,`Initialization of query '${au(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&$w(t)}),Bw.apply(this,arguments)}function Uw(n,e){return jw.apply(this,arguments)}function jw(){return jw=T(function*(n,e){const t=F(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),jw.apply(this,arguments)}function Yne(n,e){const t=F(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&$w(t)}function Xne(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function $w(n){n.q_.forEach(e=>{e.next()})}class Hw{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class l2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ge(),this.mutatedKeys=ge(),this._a=AV(e),this.aa=new Tu(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new a2,i=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=_?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,d)=>function(f,p){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return _(f)-_(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==s.length||c?{snapshot:new Cu(this.query,e.aa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new a2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ge(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new d2(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new l2(r))}),t}da(e){this.ia=e.ls,this.oa=ge();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Cu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ere{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tre{constructor(e){this.key=e,this.Ra=!1}}class nre{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Oi(a=>CV(a),Ql),this.fa=new Map,this.ga=new Set,this.pa=new He(V.comparator),this.ya=new Map,this.wa=new rw,this.Sa={},this.ba=new Map,this.Da=Ss.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function rre(n,e){return Gw.apply(this,arguments)}function Gw(){return Gw=T(function*(n,e){const t=function fT(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sre.bind(null,e),e.Va.a_=Yne.bind(null,e.eventManager),e.Va.Fa=Xne.bind(null,e.eventManager),e}(n);let r,i;const o=t.ma.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function yu(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(o=>o?(i=o,E.resolve(i)):t.qr.allocateTargetId(r).next(s=>(i=new Vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,Dn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function zw(n,e,t,r,i){return Ww.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&bg(t.remoteStore,s)}return i}),Gw.apply(this,arguments)}function Ww(){return Ww=T(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=T(function*(y,b,D,I){let P=b.view.ca(D);P.Zi&&(P=yield _g(y.localStore,b.query,!1).then(({documents:Ln})=>b.view.ca(Ln,P)));const W=I&&I.targetChanges.get(b.targetId),J=I&&null!=I.targetMismatches.get(b.targetId),st=b.view.applyChanges(P,y.isPrimaryClient,W,J);return nT(y,b.targetId,st.Ta),st.snapshot}),function _(y,b,D,I){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield _g(n.localStore,e,!0),s=new h2(e,o.ls),a=s.ca(o.documents),u=rd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);nT(n,t,c.Ta);const l=new ere(e,t,s);return n.ma.set(e,l),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),Ww.apply(this,arguments)}function ire(n,e){return qw.apply(this,arguments)}function qw(){return qw=T(function*(n,e){const t=F(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(o=>!Ql(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),md(t.remoteStore,r.targetId),Du(t,r.targetId)}).catch(fo))):(Du(t,r.targetId),yield vu(t.localStore,r.targetId,!0))}),qw.apply(this,arguments)}function Kw(){return Kw=T(function*(n,e,t){const r=function pT(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=are.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ure.bind(null,e),e}(n);try{const i=yield function(s,a){const u=F(s),c=ot.now(),l=a.reduce((f,p)=>f.add(p.key),ge());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Vn(),_=ge();return u.ss.getEntries(f,l).next(y=>{p=y,p.forEach((b,D)=>{D.isValidDocument()||(_=_.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(y=>{d=y;const b=[];for(const D of a){const I=kte(D,d.get(D.key).overlayedDocument);null!=I&&b.push(new Fi(D.key,I,lV(I.value.mapValue),et.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(d,_);return u.documentOverlayCache.saveOverlays(f,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:xV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new He(ae)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Li(r,i.changes),yield Eu(r.remoteStore)}catch(i){const o=wu(i,"Failed to persist write");t.reject(o)}}),Kw.apply(this,arguments)}function f2(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=T(function*(n,e){const t=F(n);try{const r=yield function Cne(n,e){const t=F(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var _,y,b;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Lt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,b=l,(0===(_=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,f))});let u=Vn(),c=ge();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function GL(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Vn();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Q.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(Q.min())){const l=t.qr.getLastRemoteSnapshotVersion(o).next(d=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ts=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.ya.get(o);s&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?q(s.Ra):i.removedDocuments.size>0&&(q(s.Ra),s.Ra=!1))}),yield Li(t,r,e)}catch(r){yield fo(r)}}),Qw.apply(this,arguments)}function p2(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=F(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&$w(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sre(n,e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=T(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new He(V.comparator);s=s.insert(o,Ye.newNoDocument(o,Q.min()));const a=ge().add(o),u=new nd(Q.min(),new Map,new He(ae),s,a);yield f2(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),rT(r)}else yield vu(r.localStore,e,!1).then(()=>Du(r,e,t)).catch(fo)}),Yw.apply(this,arguments)}function are(n,e){return Xw.apply(this,arguments)}function Xw(){return Xw=T(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield function Tne(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(_=>{const y=c.docVersions.get(p);q(null!==y),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),l.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);tT(t,r,null),eT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Li(t,i)}catch(i){yield fo(i)}}),Xw.apply(this,arguments)}function ure(n,e,t){return Jw.apply(this,arguments)}function Jw(){return Jw=T(function*(n,e,t){const r=F(n);try{const i=yield function(s,a){const u=F(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(q(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);tT(r,e,t),eT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Li(r,i)}catch(i){yield fo(i)}}),Jw.apply(this,arguments)}function eT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function tT(n,e,t){const r=F(n);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Du(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||g2(n,r)})}function g2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(md(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),rT(n))}function nT(n,e,t){for(const r of t)r instanceof l2?(n.wa.addReference(r.key,e),lre(n,r)):r instanceof d2?(R("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||g2(n,r.key)):G()}function lre(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(R("SyncEngine","New document in limbo: "+t),n.ga.add(r),rT(n))}function rT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new V(Ae.fromString(e)),r=n.Da.next();n.ya.set(r,new tre(t)),n.pa=n.pa.insert(t,r),bg(n.remoteStore,new Vi(Dn(ou(t.path)),r,"TargetPurposeLimboResolution",er._e))}}function Li(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=T(function*(n,e,t){const r=F(n),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=uw.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=T(function*(c,l){const d=F(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!po(h))throw h;R("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,y)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),iT.apply(this,arguments)}function dre(n,e){return oT.apply(this,arguments)}function oT(){return oT=T(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield $L(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new M(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Li(t,r._s)}var o}),oT.apply(this,arguments)}function hre(n,e){const t=F(n),r=t.ya.get(e);if(r&&r.Ra)return ge().add(r.key);{let i=ge();const o=t.fa.get(e);if(!o)return i;for(const s of o){const a=t.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Tg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return T(function*(){t.serializer=pd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function jL(n,e,t,r){return new wne(n,e,t,r)}(this.persistence,new UL,e.initialUser,this.serializer)}createPersistence(e){return new iw(pg.jr,this.serializer)}createSharedClientState(e){return new YL}terminate(){var e=this;return T(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Au{initialize(e,t){var r=this;return T(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>p2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dre.bind(null,r.syncEngine),yield function Ow(n,e){return Fw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qne}createDatastore(e){const t=pd(e.databaseInfo.databaseId),r=new Pne(e.databaseInfo);return new One(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>p2(this.syncEngine,t,0),a=XL.D()?new XL:new xne,new Lne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,l){const d=new nre(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=T(function*(r){const i=F(r);R("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Iu(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Cre{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=jF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=T(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return T(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(T(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Dg(n,e){return gT.apply(this,arguments)}function gT(){return gT=T(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=T(function*(o){r.isEqual(o)||(yield $L(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),gT.apply(this,arguments)}function mT(n,e){return _T.apply(this,arguments)}function _T(){return _T=T(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function yT(n){return vT.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>s2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>s2(e.remoteStore,o)),n._onlineComponents=e}),_T.apply(this,arguments)}function vT(){return vT=T(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function E2(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Jn("Error using user provided cache. Falling back to memory cache: "+t),yield Dg(n,new Tg)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield Dg(n,new Tg);return n._offlineComponents}),vT.apply(this,arguments)}function Ag(n){return IT.apply(this,arguments)}function IT(){return IT=T(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield mT(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield mT(n,new Au))),n._onlineComponents}),IT.apply(this,arguments)}function xu(n){return bT.apply(this,arguments)}function bT(){return bT=T(function*(n){const e=yield Ag(n),t=e.eventManager;return t.onListen=rre.bind(null,e.syncEngine),t.onUnlisten=ire.bind(null,e.syncEngine),t}),bT.apply(this,arguments)}function A2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const S2=new Map;function wT(n,e,t){if(!t)throw new M(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function x2(n){if(!V.isDocumentKey(n))throw new M(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R2(n){if(V.isDocumentKey(n))throw new M(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":G()}function Te(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sg(n);throw new M(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class P2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fre(n,e,t,r){if(!0===e&&!0===r)throw new M(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=A2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Pee;switch(r.type){case"firstParty":return new Fee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=S2.get(t);r&&(R("ComponentProvider","Removing Datastore"),S2.delete(t),r.terminate())}(this),Promise.resolve()}}class nn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nn(this.firestore,e,this._query)}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class ni extends nn{constructor(e,t,r){super(e,t,ou(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new V(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function Lre(n,e,...t){if(n=Cr(n),wT("collection","path",e),n instanceof _d){const r=Ae.fromString(e,...t);return R2(r),new ni(n,null,r)}{if(!(n instanceof bt||n instanceof ni))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ae.fromString(e,...t));return R2(r),new ni(n.firestore,null,r)}}function k2(n,e,...t){if(n=Cr(n),1===arguments.length&&(e=jF.newId()),wT("doc","path",e),n instanceof _d){const r=Ae.fromString(e,...t);return x2(r),new bt(n,null,new V(r))}{if(!(n instanceof bt||n instanceof ni))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ae.fromString(e,...t));return x2(r),new bt(n.firestore,n instanceof ni?n.converter:null,new V(r))}}class Bre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yw(this,"async_queue_retry"),this.iu=()=>{const t=Eg();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Eg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Vt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return T(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!po(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,It("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=Vw.createAndSchedule(this,e,t,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&G()}verifyOperationInProgress(){}uu(){var e=this;return T(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Ge extends _d{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||O2(this),this._firestoreClient.terminate()}}function jre(n,e){const r="string"==typeof n?n:e||"(default)",i=function eN(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:nN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=XK("firestore");o&&function Vre(n,e,t,r={}){var i;const o=(n=Te(n,_d))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Jn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ht.MOCK_USER;else{a=function ZK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qf(JSON.stringify({alg:"none",type:"JWT"})),Qf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ht(c)}n._authCredentials=new kee(new BF(a,u))}}(i,...o)}return i}function wt(n){return n._firestoreClient||O2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function O2(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hte(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,A2(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new Cre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Lt.fromBase64String(e))}catch(t){throw new M(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rs(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Hre(){return new Ru("__name__")}class L2{constructor(e){this._methodName=e}}class CT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const Gre=/^__.*__$/;class zre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fi(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}function U2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class xg{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(U2(this.Iu)&&Gre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Wre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pd(e)}pu(e,t,r,i=!1){return new xg({Iu:e,methodName:t,gu:r,path:Ze.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mu(n){const e=n._freezeSettings(),t=pd(n._databaseId);return new Wre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DT(n,e,t,r,i,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,i);ST("Data must be an object, but it was:",s,r);const a=z2(r,s);let u,c;if(o.merge)u=new Fn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Id(e,d,t);if(!s.contains(h))throw new M(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);q2(l,h)||l.push(h)}u=new Fn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new zre(new tn(a),u,c)}function G2(n,e,t,r=!1){return Ms(t,n.pu(r?4:3,e))}function Ms(n,e){if(W2(n=Cr(n)))return ST("Unsupported field value:",e,n),z2(n,e);if(n instanceof L2)return function(r,i){if(!U2(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Ms(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Cr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return kV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:hu(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hu(i.serializer,o)}}if(r instanceof CT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:eL(i.serializer,r._byteString)};if(r instanceof bt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Sg(r)}`)}(n,e)}function z2(n,e){const t={};return tV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(n,(r,i)=>{const o=Ms(i,e.Eu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function W2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof CT||n instanceof Rs||n instanceof bt||n instanceof L2)}function ST(n,e,t){if(!W2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Sg(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Id(n,e,t){if((e=Cr(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return Rg(n,e);throw Mg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Yre=new RegExp("[~\\*/\\[\\]]");function Rg(n,e,t){if(e.search(Yre)>=0)throw Mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ru(...e.split("."))._internalPath}catch{throw Mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new M(w.INVALID_ARGUMENT,a+n+u)}function q2(n,e){return n.some(t=>t.isEqual(e))}class xT{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xre extends xT{data(){return super.data()}}function Pg(n,e){return"string"==typeof e?Rg(n,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}class RT{}class kg extends RT{}function Jre(n,e,...t){let r=[];e instanceof RT&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof Pu).length,a=o.filter(u=>u instanceof Ed).length;if(s>1||s>0&&a>0)throw new M(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ed extends kg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ed(e,t,r)}_apply(e){const t=this._parse(e);return J2(e._query,t),new nn(e.firestore,e.converter,Lb(e._query,t))}_parse(e){const t=Mu(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new M(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){X2(d,l);const f=[];for(const p of d)f.push(Y2(u,o,p));h={arrayValue:{values:f}}}else h=Y2(u,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||X2(d,l),h=G2(a,"where",d,"in"===l||"not-in"===l);return we.create(c,l,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zre(n,e,t){const r=e,i=Pg("where",n);return Ed._create(i,r,t)}class Pu extends RT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Fe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)J2(s,u),s=Lb(s,u)}(e._query,t),new nn(e.firestore,e.converter,Lb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class MT extends kg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new MT(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(o,s)}(e._query,this._field,this._direction);return new nn(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ni(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function eie(n,e="asc"){const t=e,r=Pg("orderBy",n);return MT._create(r,t)}class Ng extends kg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ng(e,t,r)}_apply(e){return new nn(e.firestore,e.converter,tg(e._query,this._limit,this._limitType))}}function tie(n){return function M2(n,e){if(e<=0)throw new M(w.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Ng._create("limit",n,"F")}class Og extends kg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Og(e,t,r)}_apply(e){const t=function Q2(n,e,t,r){if(t[0]=Cr(t[0]),t[0]instanceof xT)return function(o,s,a,u,c){if(!u)throw new M(w.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const l=[];for(const d of su(o))if(d.field.isKeyField())l.push(vs(s,u.key));else{const h=u.data.field(d.field);if(Kp(h))throw new M(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const f=d.field.canonicalString();throw new M(w.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new Io(l,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Mu(n.firestore);return function(s,a,u,c,l,d){const h=s.explicitOrderBy;if(l.length>h.length)throw new M(w.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<l.length;p++){const _=l[p];if(h[p].field.isKeyField()){if("string"!=typeof _)throw new M(w.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!Vb(s)&&-1!==_.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const y=s.path.child(Ae.fromString(_));if(!V.isDocumentKey(y))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new V(y);f.push(vs(a,b))}else{const y=G2(u,c,_);f.push(y)}}return new Io(f,d)}(n._query,n.firestore._databaseId,i,e,t,r)}}(e,this.type,this._docOrFields,this._inclusive);return new nn(e.firestore,e.converter,(o=t,new Ni((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}function nie(...n){return Og._create("startAfter",n,!1)}function Y2(n,e,t){if("string"==typeof(t=Cr(t))){if(""===t)throw new M(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(e)&&-1!==t.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ae.fromString(t));if(!V.isDocumentKey(r))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vs(n,new V(r))}if(t instanceof bt)return vs(n,t._key);throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(t)}.`)}function X2(n,e){if(!Array.isArray(n)||0===n.length)throw new M(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J2(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new M(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rie{convertValue(e,t="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return go(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new CT(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=mo(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ae.fromString(e);q(lL(r));const i=new ys(r.get(1),r.get(3)),o=new V(r.popFirst(5));return i.isEqual(t)||It(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Ps{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends xT{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vg extends ku{data(e={}){return super.data(e)}}class Nu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vg(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:oie(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function sie(n){n=Te(n,bt);const e=Te(n.firestore,Ge);return function C2(n,e,t={}){const r=new Vt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new Cg({next:h=>{s.enqueueAndForget(()=>Uw(o,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new M(w.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new M(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Hw(ou(a.path),l,{includeMetadataChanges:!0,J_:!0});return Lw(o,d)}(yield xu(n),n.asyncQueue,e,t,r)})),r.promise}(wt(e),n._key).then(t=>function kT(n,e,t){const r=t.docs.get(e._key),i=new Ao(n);return new ku(n,i,e._key,r,new Ps(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Ao extends rie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function aie(n){n=Te(n,nn);const e=Te(n.firestore,Ge),t=wt(e),r=new Ao(e);return function K2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function D2(n,e,t={}){const r=new Vt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new Cg({next:h=>{s.enqueueAndForget(()=>Uw(o,d)),h.fromCache&&"server"===u.source?c.reject(new M(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Hw(a,l,{includeMetadataChanges:!0,J_:!0});return Lw(o,d)}(yield xu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Nu(e,r,n,i))}function uie(n,e,t){n=Te(n,bt);const r=Te(n.firestore,Ge),i=function PT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return bd(r,[DT(Mu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,et.none())])}function cie(n){return bd(Te(n.firestore,Ge),[new du(n._key,et.none())])}function bd(n,e){return function(r,i){const o=new Vt;return r.asyncQueue.enqueueAndForget(T(function*(){return function ore(n,e,t){return Kw.apply(this,arguments)}(yield function ET(n){return Ag(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(wt(n),e)}!function(e,t=!0){Xa=tp,Ba(new ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ge(new Nee(r.getProvider("auth-internal")),new Vee(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lr(LF,"4.4.0",e),lr(LF,"4.4.0","esm2017")}();class Ug{constructor(e){return e}}const rB="firestore",OT=new L("angularfire2.firestore-instances");function Tie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ug(r)}}const Cie={provide:class bie{constructor(){return wI(rB)}},deps:[[new cn,OT]]},Die={provide:Ug,useFactory:function wie(n,e){const t=function hN(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(rB,n,e);return t&&new Ug(t)},deps:[[new cn,OT],ol]};let Aie=(()=>{class n{constructor(){lr("angularfire",bI.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ut({type:n});static \u0275inj=kt({providers:[Die,Cie]})}return n})();function Sie(n,...e){return{ngModule:Aie,providers:[{provide:OT,useFactory:Tie(n),multi:!0,deps:[Je,qn,pN,gN,[new cn,IO],[new cn,SY],...e]}]}}const ri=Nn(Lre,!0),FT=Nn(cie,!0),rn=Nn(k2,!0),So=Nn(Hre,!0),Ou=Nn(sie,!0),jg=Nn(aie,!0),xie=Nn(jre,!0),iB=Nn(tie,!0),Fu=Nn(eie,!0),ii=Nn(Jre,!0),xo=Nn(uie,!0),oB=Nn(nie,!0),Ro=Nn(Zre,!0);let Mo=(()=>{class n{constructor(t){this.firestore=t}createClient(t,r,i){var o=this;return T(function*(){return t.dateCreation=new Date,o.getCaisseData().then(s=>(xo(rn(o.firestore,"client",(s.lastFactureId+1).toString()),t),xo(rn(o.firestore,"facture",(s.lastFactureId+1).toString()),r),xo(rn(o.firestore,"entete","1"),i),xo(rn(o.firestore,"general","1"),{...s,caisse:s.caisse+parseInt(t.NetPayer),lastFactureId:s.lastFactureId+1,numberFacture:s.numberFacture+1}),!0)).catch(s=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}readClients(t,r){var i=this;return T(function*(){let o=[];return(yield jg(ii(ri(i.firestore,"client")))).docs.map(s=>{o.push(s.data())}),o})()}readClientsPaged(t,r,i,o){var s=this;return T(function*(){const a=[];var u=0;if(null!=i&&null!=o)var c=ii(ri(s.firestore,"client"),Ro("dateCreation",">=",new Date(o)),Ro(So(),">=",i));else c=null!=i?ii(ri(s.firestore,"client"),Fu(So()),Ro(So(),">=",i)):null!=o?ii(ri(s.firestore,"client"),Fu("dateCreation"),Ro("dateCreation",">=",new Date(o))):ii(ri(s.firestore,"client"),Fu(So()),oB(t+""),iB(r));return(yield jg(c)).docs.map(d=>{u=d.id,a.push(d.data())}),a.push(u),a})()}readBons(){var t=this;return T(function*(){let r=[];return(yield jg(ii(ri(t.firestore,"bons")))).docs.map(i=>{r.push(i.data())}),r})()}readBonsPaged(t,r,i,o){var s=this;return T(function*(){const a=[];var u=0;if(null!=i&&null!=o)var c=ii(ri(s.firestore,"bons"),Ro("date",">=",new Date(o)),Ro(So(),">=",i));else c=null!=i?ii(ri(s.firestore,"bons"),Fu(So()),Ro(So(),">=",i)):null!=o?ii(ri(s.firestore,"bons"),Fu("date"),Ro("date",">=",new Date(o))):ii(ri(s.firestore,"bons"),Fu(So()),oB(t+""),iB(r));return(yield jg(c)).docs.map(d=>{u=d.id,a.push(d.data())}),a.push(u),a})()}readClient(t){var r=this;return T(function*(){var i=rn(r.firestore,"client",t),s=yield(yield Ou(i)).data(),a=rn(r.firestore,"facture",t),u=yield Ou(a),c=yield u.data(),l=rn(r.firestore,"entete","1"),d=yield Ou(l);return{client:s,facture:c,entete:yield d.data()}})()}deleteFacture(t,r){var i=this;return T(function*(){try{yield FT(rn(i.firestore,"client",t)),yield FT(rn(i.firestore,"facture",t)),i.getCaisseData().then(o=>{xo(rn(i.firestore,"general","1"),{...o,caisse:o.caisse-r,lastFactureId:o.lastFactureId,numberFacture:o.numberFacture-1})})}catch{return!1}return!0})()}deleteBon(t,r){var i=this;return T(function*(){try{console.log(t),console.log(typeof t),yield FT(rn(i.firestore,"bons",t+"")),i.getCaisseData().then(o=>{xo(rn(i.firestore,"general","1"),{...o,caisse:o.caisse+r,numberBons:o.numberBons-1})})}catch{confirm("le Bons n'est pas supprimer ")}return!0})()}readBon(t){var r=this;return T(function*(){console.log(t);var i=rn(r.firestore,"bons",t);return{bon:yield(yield Ou(i)).data()}})()}getCaisseData(){var t=this;return T(function*(){const r=rn(t.firestore,"general","1");return(yield Ou(r)).data()})()}getTitleData(t){var r=this;return T(function*(){const i=rn(r.firestore,"entete",t);return(yield Ou(i)).data()})()}createBons(t){var r=this;return T(function*(){return r.getCaisseData().then(i=>(t.id=i.lastBonsId+1,xo(rn(r.firestore,"bons",t.id+""),t),xo(rn(r.firestore,"general","1"),{...i,caisse:i.caisse-parseInt(t.total+""),lastBonsId:i.lastBonsId+1,numberBons:i.numberBons+1}),!0)).catch(i=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}static#e=this.\u0275fac=function(r){return new(r||n)(U(Ug))};static#t=this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rie(n,e){if(1&n&&(g(0,"div")(1,"div"),v(2),m()()),2&n){const t=e.$implicit;C(2),j_("",t.name," ",t.prenom," ",t.age,"")}}let Mie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt),S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(g(0,"div")(1,"h1",0),v(2,"Factures"),m(),g(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),$("click",function(){return i.goToFacture()}),g(7,"h2",4),v(8,"Facture 1"),m(),g(9,"h3",5),v(10,"Client 1"),m()()()(),g(11,"div")(12,"div",2)(13,"div",3),$("click",function(){return i.goToFacture()}),g(14,"h2",4),v(15,"Facture 2"),m(),g(16,"h3",5),v(17,"Client 2"),m()()()(),g(18,"div")(19,"div",2)(20,"div",3),$("click",function(){return i.goToFacture()}),g(21,"h2",4),v(22,"Facture 3"),m(),g(23,"h3",5),v(24,"Client 3"),m()()()()()(),ve(25,Rie,3,3,"div",6)),2&r&&(C(25),z("ngForOf",i.clients))},dependencies:[Wi]})}return n})();function Pie(n,e){if(1&n&&(g(0,"p",28),v(1),g(2,"span",8),v(3),m()()),2&n){const t=N().$implicit,r=N();C(1),Y("",t," : "),C(2),Y(" ",r.champsClientValue[t],"")}}function kie(n,e){if(1&n&&(ut(0),ve(1,Pie,4,2,"p",27),ct()),2&n){const t=e.$implicit;C(1),z("ngIf","dateCreation"!=t&&"Nombre_Colis"!=t&&"NetPayer"!=t&&"NetPayer"!=t)}}function Nie(n,e){if(1&n&&(g(0,"td",35),v(1),m()),2&n){const t=N(2).$implicit,r=N();C(1),Y("",r.champsClientValueFacture[t]," DA")}}function Oie(n,e){1&n&&(g(0,"td",35),v(1,"--"),m())}function Fie(n,e){if(1&n&&(g(0,"tr",30)(1,"td",31)(2,"div",32),v(3),m()(),De(4,"td",33)(5,"td",33),ve(6,Nie,2,1,"td",34),ve(7,Oie,2,0,"td",34),m()),2&n){const t=N().$implicit,r=N();C(3),Yt(t),C(3),z("ngIf",""!=r.champsClientValueFacture[t]),C(1),z("ngIf",""==r.champsClientValueFacture[t])}}function Vie(n,e){if(1&n&&(ut(0),ve(1,Fie,8,3,"tr",29),ct()),2&n){const t=e.$implicit;C(1),z("ngIf","dateCreation"!=t)}}let Lie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.champsTitleValue={},this.champsClientValue={},this.champsClientValueFacture={},this.champsClient=[],this.champsFacture=[],this.Total=0,this.NetPayer=0}ngOnInit(){this.getFacture(this.route.snapshot.params.data)}getFacture(t){var r=this;return T(function*(){yield r.client.readClient(t).then(i=>{r.extraireClesEtValeurs(i.client,"client"),r.extraireClesEtValeurs(i.facture,"facture"),r.extraireClesEtValeurs(i.entete,"entete"),r.getTotal()})})()}imprimer(){window.print()}listeTriees(t){return t.slice().sort((r,i)=>r.localeCompare(i))}extraireClesEtValeurs(t,r){if("client"==r)for(const[i,o]of Object.entries(t))this.champsClient.push(i),this.champsClientValue[i]=o;if("facture"==r)for(const[i,o]of Object.entries(t))this.champsFacture.push(i),this.champsClientValueFacture[i]=o;else for(const[i,o]of Object.entries(t))this.champsTitleValue[i]=o}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,o]of Object.entries(t))r+=parseInt(o);return r}static#e=this.\u0275fac=function(r){return new(r||n)(S(ro),S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-facture-view"]],decls:62,vars:11,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[4,"ngFor","ngForOf"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],["class","border-b border-gray-200",4,"ngIf"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 text-center text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","text-center","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),$("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m(),g(26,"p",6)(27,"span",8),v(28,"Nombre de Colis:"),m(),v(29),m()(),g(30,"div",11),De(31,"img",12),m()(),g(32,"div",13)(33,"div"),ve(34,kie,2,1,"ng-container",14),m()(),g(35,"div",15)(36,"table",16)(37,"colgroup"),De(38,"col",17)(39,"col",18)(40,"col",18)(41,"col",18),m(),g(42,"thead",19)(43,"tr")(44,"th",20),v(45,"Designation"),m(),De(46,"th",21)(47,"th",21),g(48,"th",22),v(49,"Montant"),m()()(),g(50,"tbody"),ve(51,Vie,2,1,"ng-container",14),m(),g(52,"tfoot")(53,"tr")(54,"th",23),v(55,"NET A PAYER"),m(),g(56,"th",24),v(57,"NET A PAYER"),m(),g(58,"td",25),v(59),m()()()()(),g(60,"div",26),v(61," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(C(7),Y(" ",i.champsTitleValue.Name," "),C(2),Y(" ",i.champsTitleValue.Adresse," "),C(2),Y(" ",i.champsTitleValue["Tel/Fax"]," "),C(4),Y("",i.champsTitleValue.RCN," "),C(3),Y(" ",i.champsTitleValue.NIF," "),C(3),Y(" ",i.champsTitleValue.Date," "),C(4),Y(" ",i.champsTitleValue.Declaration," "),C(4),Y(" ",i.champsClientValue.Nombre_Colis," "),C(5),z("ngForOf",i.listeTriees(i.champsClient)),C(17),z("ngForOf",i.listeTriees(i.champsFacture)),C(8),Y("",i.NetPayer,"\xa0DA"))},dependencies:[Wi,qi],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function Bie(n,e){if(1&n){const t=gt();ut(0),g(1,"div",19)(2,"div")(3,"label",20),v(4,"Filtre par N\xb0"),m(),g(5,"input",21),$("ngModelChange",function(i){return ie(t),oe(N().filterNumber=i)}),m()(),g(6,"div")(7,"label",20),v(8,"Filtre par Date"),m(),g(9,"input",22),$("ngModelChange",function(i){return ie(t),oe(N().filterDate=i)}),m()(),g(10,"div",23)(11,"button",24),$("click",function(){return ie(t),oe(N().filter())}),v(12,"Filtre"),m(),g(13,"button",24),$("click",function(){return ie(t),oe(N().Reset())}),v(14,"Reset/Close"),m()()(),ct()}if(2&n){const t=N();C(5),z("ngModel",t.filterNumber),C(4),z("ngModel",t.filterDate)}}function Uie(n,e){if(1&n){const t=gt();ut(0),g(1,"button",25),$("click",function(){return ie(t),oe(N().filterFlag=!0)}),v(2,"Ouvrir le filtre --\x3e"),m(),ct()}}function jie(n,e){if(1&n){const t=gt();ut(0),g(1,"tr")(2,"td",26)(3,"div",27),un(),g(4,"svg",28),De(5,"path",29),m()()(),Rn(),g(6,"td",30),v(7),m(),g(8,"td",31)(9,"div",32)(10,"div")(11,"h2",33),v(12),m()()()(),g(13,"td",34),v(14),m(),g(15,"td",35)(16,"button",36),$("click",function(){const o=ie(t).$implicit;return oe(N().goToFacture(o.FactureNumber))}),un(),g(17,"svg",37),De(18,"path",38),m()(),Rn(),g(19,"button",39),$("click",function(){const o=ie(t).$implicit;return oe(N().deleteFacture(o.FactureNumber,o.NetPayer))}),un(),g(20,"svg",28),De(21,"path",40),m()()()(),ct()}if(2&n){const t=e.$implicit;C(7),Y(" ",t.FactureNumber," "),C(5),Yt(t.Name),C(2),Yt(t.dateCreation)}}let $ie=(()=>{class n{constructor(t,r,i){this.route=t,this.clientService=r,this.datePipe=i,this.clients=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=3,this.filterFlag=!1}ngOnInit(){this.getClientsPaged(this.skip[0],this.maxResultCount),this.clientService.getCaisseData().then(t=>{this.total=t.numberFacture})}getClientsPaged(t,r){this.clientService.readClientsPaged(t,r).then(i=>{this.clients=i,this.skip[this.page]=parseInt(this.clients.pop()),this.clients.forEach(o=>{o.dateCreation=this.formatDate(o.dateCreation)})})}goToFacture(t){this.route.navigate(["/facture-view",{data:t}])}deleteFacture(t,r){this.clientService.deleteFacture(t,r).then(i=>{alert("la facture a ete supprimer avec succes"),this.skip=[0],this.page=1,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount)})}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}filter(){this.filterFlag=!0,this.clientService.readClientsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.clients=t,this.clients.pop(),this.clients.forEach(r=>{r.dateCreation=this.formatDate(r.dateCreation)})})}formatDate(t){const r=new Date(1e3*t.seconds);return this.datePipe.transform(r,"dd-MM-yyyy")||""}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt),S(Mo),S(Ac))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-factures-close"]],decls:34,vars:4,consts:[[1,"container","px-4","mx-auto"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-1.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-1.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de facture a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"flex","items-center","justify-center","text-center","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-1","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-1","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-1","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(g(0,"section",0),ve(1,Bie,15,2,"ng-container",1),ve(2,Uie,3,0,"ng-container",1),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),v(11," Type "),m(),g(12,"th",8),v(13," Facture N\xb0 "),m(),g(14,"th",9)(15,"div",10)(16,"span"),v(17,"Nom ou Raison sociale"),m()()(),g(18,"th",11),v(19," Date "),m(),g(20,"th",12)(21,"span",13),v(22,"Edit"),m()()()(),g(23,"tbody",14),ve(24,jie,22,3,"ng-container",15),m()()()()()(),g(25,"div",16)(26,"a",17),$("click",function(){return i.previousStep()}),g(27,"span"),v(28," << previous "),m()(),g(29,"div",18),v(30),m(),g(31,"a",17),$("click",function(){return i.nextStep()}),g(32,"span"),v(33," Next >> "),m()()()()),2&r&&(C(1),z("ngIf",i.filterFlag),C(1),z("ngIf",!i.filterFlag),C(22),z("ngForOf",i.clients),C(6),Y(" ",i.page,""))},dependencies:[Wi,qi,Xo,Fc,Sa]})}return n})();function Hie(n,e){if(1&n){const t=gt();ut(0),g(1,"div")(2,"div",17)(3,"label",18),v(4),m(),g(5,"span",19),$("click",function(){const o=ie(t).$implicit;return oe(N(2).deleteChamp(o,"title"))}),v(6,"X"),m()(),g(7,"input",20),$("ngModelChange",function(i){const s=ie(t).$implicit;return oe(N(2).champsTitleValue[s]=i)}),m()(),ct()}if(2&n){const t=e.$implicit,r=N(2);C(4),Y("",t," "),C(3),z("ngModel",r.champsTitleValue[t])}}function Gie(n,e){if(1&n){const t=gt();ut(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),ve(4,Hie,8,2,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),$("ngModelChange",function(i){return ie(t),oe(N().newChamp=i)}),m(),g(8,"button",15),$("click",function(){return ie(t),oe(N().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",16),$("click",function(){return ie(t),oe(N().nextStep())}),v(11,"Save"),m()(),ct()}if(2&n){const t=N();C(4),z("ngForOf",t.champsTitle),C(3),z("ngModel",t.newChamp),C(1),z("disabled",""==t.newChamp)}}function zie(n,e){if(1&n){const t=gt();g(0,"input",24),$("ngModelChange",function(i){ie(t);const o=N().$implicit;return oe(N(2).champsClientValue[o]=i)}),m()}if(2&n){const t=N().$implicit;z("ngModel",N(2).champsClientValue[t])}}function Wie(n,e){if(1&n){const t=gt();g(0,"input",25),$("ngModelChange",function(i){return ie(t),oe(N(3).factureNumber=i)}),m()}2&n&&z("ngModel",N(3).factureNumber)}function qie(n,e){if(1&n){const t=gt();ut(0),g(1,"div")(2,"div",17)(3,"label",18),v(4),m(),g(5,"span",19),$("click",function(){const o=ie(t).$implicit;return oe(N(2).deleteChamp(o,"client"))}),v(6,"X"),m()(),ve(7,zie,1,1,"input",22),ve(8,Wie,1,1,"input",23),m(),ct()}if(2&n){const t=e.$implicit;C(4),Y("",t," "),C(3),z("ngIf","FactureNumber"!=t),C(1),z("ngIf","FactureNumber"==t)}}function Kie(n,e){if(1&n){const t=gt();ut(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),ve(4,qie,9,3,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),$("ngModelChange",function(i){return ie(t),oe(N().newChamp=i)}),m(),g(8,"button",15),$("click",function(){return ie(t),oe(N().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",21),$("click",function(){return ie(t),oe(N().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),$("click",function(){return ie(t),oe(N().nextStep())}),v(13,"Save"),m()(),ct()}if(2&n){const t=N();C(4),z("ngForOf",t.champsClient),C(3),z("ngModel",t.newChamp),C(1),z("disabled",""==t.newChamp)}}function Qie(n,e){if(1&n){const t=gt();g(0,"div")(1,"div",17)(2,"label",18),v(3),m(),g(4,"span",19),$("click",function(){const o=ie(t).$implicit;return oe(N(2).deleteChamp(o,"facture"))}),v(5,"X"),m()(),g(6,"input",27),$("ngModelChange",function(i){const s=ie(t).$implicit;return oe(N(2).champsClientValueFacture[s]=i)}),m()()}if(2&n){const t=e.$implicit,r=N(2);C(3),Y("",t," "),C(3),z("ngModel",r.champsClientValueFacture[t])}}function Yie(n,e){if(1&n){const t=gt();ut(0),g(1,"h2",9),v(2,"Create facture"),m(),g(3,"div",10),ve(4,Qie,7,2,"div",11),m(),g(5,"div",12)(6,"div",13)(7,"input",26),$("ngModelChange",function(i){return ie(t),oe(N().newChamp=i)}),m(),g(8,"button",15),$("click",function(){return ie(t),oe(N().addChampFacture())}),v(9,"Ajouter un champ"),m()(),g(10,"button",21),$("click",function(){return ie(t),oe(N().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),$("click",function(){return ie(t),oe(N().nextStep())}),v(13,"Save"),m()(),ct()}if(2&n){const t=N();C(4),z("ngForOf",t.champsFacture),C(3),z("ngModel",t.newChamp),C(1),z("disabled",""==t.newChamp)}}function Xie(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=N().$implicit,r=N(2);C(1),Y("",t," : "),C(2),Y(" ",r.champsClientValue[t],"")}}function Jie(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=N().$implicit,r=N(2);C(1),Y("",t," : "),C(2),Y("REV N\xb0 ",r.champsClientValue[t]," ")}}function Zie(n,e){if(1&n&&(ut(0),ve(1,Xie,4,2,"p",54),ve(2,Jie,4,2,"p",54),ct()),2&n){const t=e.$implicit;C(1),z("ngIf","FactureNumber"!=t&&"Nombre_Colis"!=t),C(1),z("ngIf","FactureNumber"==t)}}function eoe(n,e){if(1&n&&(g(0,"td",61),v(1),m()),2&n){const t=N().$implicit,r=N(2);C(1),Y("",r.champsClientValueFacture[t]," DA")}}function toe(n,e){1&n&&(g(0,"td",61),v(1,"--"),m())}function noe(n,e){if(1&n&&(ut(0),g(1,"tr",56)(2,"td",57)(3,"div",58),v(4),m()(),g(5,"td",59),v(6,"--"),m(),g(7,"td",59),v(8,"--"),m(),ve(9,eoe,2,1,"td",60),ve(10,toe,2,0,"td",60),m(),ct()),2&n){const t=e.$implicit,r=N(2);C(4),Yt(t),C(5),z("ngIf",0!=r.champsClientValueFacture[t]),C(1),z("ngIf",0==r.champsClientValueFacture[t])}}function roe(n,e){if(1&n){const t=gt();ut(0),g(1,"div",28)(2,"button",29),$("click",function(){return ie(t),oe(N().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",16),$("click",function(){return ie(t),oe(N().stock())}),v(5,"Stocker"),m()(),g(6,"div",30)(7,"div",31)(8,"div",32)(9,"p",33),v(10),m(),g(11,"p",34),v(12),m(),g(13,"p",35),v(14),m(),g(15,"p",35)(16,"span",36),v(17,"RCN :"),m(),v(18),g(19,"span",36),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",37)(23,"p",38),v(24),m(),g(25,"p",34)(26,"span",36),v(27,"Declaration:"),m(),v(28),m(),g(29,"p",34)(30,"span",36),v(31,"Nombre de Colis:"),m(),v(32),m()(),g(33,"div",39),De(34,"img",40),m()(),g(35,"div",41)(36,"div"),ve(37,Zie,3,2,"ng-container",11),m()(),g(38,"div",42)(39,"table",43)(40,"colgroup"),De(41,"col",44)(42,"col",45)(43,"col",45)(44,"col",45),m(),g(45,"thead",46)(46,"tr")(47,"th",47),v(48,"Items"),m(),g(49,"th",48),v(50,"Quantity"),m(),g(51,"th",48),v(52,"Price"),m(),g(53,"th",49),v(54,"Amount"),m()()(),g(55,"tbody"),ve(56,noe,11,3,"ng-container",11),m(),g(57,"tfoot")(58,"tr")(59,"th",50),v(60,"NET A PAYER"),m(),g(61,"th",51),v(62,"NET A PAYER"),m(),g(63,"td",52),v(64),m()()()()(),g(65,"div",53),v(66," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),ct()}if(2&n){const t=N();C(10),Y(" ",t.champsTitleValue.Name," "),C(2),Y(" ",t.champsTitleValue.Adresse," "),C(2),Y(" ",t.champsTitleValue["Tel/Fax"]," "),C(4),Y("",t.champsTitleValue.RCN," "),C(3),Y(" ",t.champsTitleValue.NIF," "),C(3),Y(" ",t.champsTitleValue.Date," "),C(4),Y(" ",t.champsTitleValue.Declaration," "),C(4),Y(" ",t.champsClientValue.Nombre_Colis," "),C(5),z("ngForOf",t.champsClient),C(19),z("ngForOf",t.champsFacture),C(8),Y("",t.NetPayer,"\xa0DA")}}let ioe=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitle=["Name","Date","Adresse","Tel/Fax","Declaration","RCN","NIF"],this.champsTitleValue={},this.champsClient=["Name","Adresse","FactureNumber","Origine","Nature de Marchandise","Nombre_Colis"],this.champsClientValue={},this.newChamp="",this.factureNumber=0,this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes","Honoraires"],this.champsClientValueFacture={},this.newChampFacture="",this.width="w-2",this.color=["text-blue-600","","",""],this.step=0,this.Total=0,this.NetPayer=0}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]=0})}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]=0,this.newChamp=""}deleteChamp(t,r){"client"==r?(this.champsClient.splice(this.champsClient.indexOf(t),1),delete this.champsClientValue[t]):"title"==r?(this.champsTitle.splice(this.champsTitle.indexOf(t),1),delete this.champsTitleValue[t]):(this.champsFacture.splice(this.champsFacture.indexOf(t),1),delete this.champsClientValueFacture[t])}nextStep(){switch(this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.checkFactureNumber()&&(this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""]);break;case 3:this.checkFactureChiffres()&&(this.champsClientValue.FactureNumber=this.factureNumber+""),this.getTotal(),this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.service.getCaisseData().then(t=>{this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.factureNumber=t.lastFactureId+1})}stock(){this.champsClientValue.FactureNumber=this.factureNumber+"",this.champsClientValue.NetPayer=this.NetPayer+"",this.champsClientValue.selected="true",this.service.createClient(this.champsClientValue,this.champsClientValueFacture,this.champsTitleValue).then(t=>{console.log(t),1==t?1==confirm("la facture a ete cree avec succes")&&this.route.navigate(["/facture-view",{data:this.champsClientValue.FactureNumber}]):confirm("la facture na pas ete cree il peut quelle existe deja")})}checkFactureChiffres(){let t=!0;return this.champsFacture.forEach(r=>{!1===/^[0-9]+$/.test(this.champsClientValueFacture[r].toString())&&(alert("les entrees de la facture il faut quil soient des nombres"),this.step--,t=!1)}),t}checkFactureNumber(){return"number"==typeof this.factureNumber||(alert("le nombre de facture il faut quil etre un nombre"),this.step--,!1)}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,o]of Object.entries(t))r+=parseInt(o);return r}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt),S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["required","","id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],["id","","type","text","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","number","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["id","","type","number",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div")(1,"div",0)(2,"div",1),De(3,"div"),m(),g(4,"ol",2)(5,"li")(6,"span",3),v(7,"Entete"),m(),un(),g(8,"svg",4),De(9,"path",5),m()(),Rn(),g(10,"li")(11,"span",3),v(12,"Client"),m(),un(),g(13,"svg",4),De(14,"path",5),m()(),Rn(),g(15,"li")(16,"span",3),v(17,"Commandes"),m(),un(),g(18,"svg",4),De(19,"path",5),m()(),Rn(),g(20,"li")(21,"span",3),v(22,"Facture final"),m(),un(),g(23,"svg",4),De(24,"path",6),m()()()()(),Rn(),g(25,"section",7),ve(26,Gie,12,3,"ng-container",8),ve(27,Kie,14,3,"ng-container",8),ve(28,Yie,14,3,"ng-container",8),ve(29,roe,67,11,"ng-container",8),m()),2&r&&(C(3),ga("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),C(2),ga("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),C(5),ga("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),C(5),ga("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),C(5),ga("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),C(6),z("ngIf",0==i.step),C(1),z("ngIf",1==i.step),C(1),z("ngIf",2==i.step),C(1),z("ngIf",3==i.step))},dependencies:[Wi,qi,Xo,wv,Fc,Cf,Sa]})}return n})(),ooe=(()=>{class n{constructor(t){this.service=t,this.total=0,this.nombreFacture=0,this.nombreBons=0}ngOnInit(){this.service.getCaisseData().then(t=>{this.total=t.caisse,this.nombreFacture=t.numberFacture,this.nombreBons=t.numberBons})}static#e=this.\u0275fac=function(r){return new(r||n)(S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-caisse"]],decls:29,vars:3,consts:[[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-2xl","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(g(0,"h1",0),v(1,"La Caisse des Factures"),m(),g(2,"article",1)(3,"span",2),un(),g(4,"svg",3),De(5,"path",4),m()(),Rn(),g(6,"div")(7,"p",5),v(8),m(),g(9,"p",6),v(10,"Total Sales"),m()()(),g(11,"article",1)(12,"span",2),un(),g(13,"svg",3),De(14,"path",4),m()(),Rn(),g(15,"div")(16,"p",5),v(17),m(),g(18,"p",6),v(19,"Total Factures"),m()()(),g(20,"article",1)(21,"span",2),un(),g(22,"svg",3),De(23,"path",4),m()(),Rn(),g(24,"div")(25,"p",5),v(26),m(),g(27,"p",6),v(28,"Total Bons"),m()()()),2&r&&(C(8),Y("",i.total," DA"),C(9),Yt(i.nombreFacture),C(9),Yt(i.nombreBons))}})}return n})();function soe(n,e){if(1&n){const t=gt();g(0,"div")(1,"div",12)(2,"label",13),v(3),m(),g(4,"span",14),$("click",function(){const o=ie(t).$implicit;return oe(N(2).deleteChamp(o))}),v(5,"X"),m()(),g(6,"input",15),$("ngModelChange",function(i){const s=ie(t).$implicit;return oe(N(2).champBonsQnt[s]=i)}),m(),g(7,"input",16),$("ngModelChange",function(i){const s=ie(t).$implicit;return oe(N(2).champBonsPrice[s]=i)}),m()()}if(2&n){const t=e.$implicit,r=N(2);C(3),Y("",t," "),C(3),z("ngModel",r.champBonsQnt[t]),C(1),z("ngModel",r.champBonsPrice[t])}}function aoe(n,e){if(1&n){const t=gt();ut(0),g(1,"h2",2),v(2,"Create BONS"),m(),g(3,"div",3)(4,"div")(5,"label",4),v(6,"Date"),m(),g(7,"input",5),$("ngModelChange",function(i){return ie(t),oe(N().champDate=i)}),m()(),ve(8,soe,8,3,"div",6),m(),g(9,"div",7)(10,"div",8)(11,"input",9),$("ngModelChange",function(i){return ie(t),oe(N().newChamp=i)}),m(),g(12,"button",10),$("click",function(){return ie(t),oe(N().addChamp())}),v(13,"Ajouter un champ"),m()(),g(14,"button",11),$("click",function(){return ie(t),oe(N().nextStep())}),v(15,"Suivant"),m()(),ct()}if(2&n){const t=N();C(7),z("ngModel",t.champDate),C(1),z("ngForOf",t.champs),C(3),z("ngModel",t.newChamp),C(1),z("disabled",""==t.newChamp),C(2),z("disabled",0==t.champs.length||null==t.champDate)}}function uoe(n,e){if(1&n&&(g(0,"td",48),v(1),m()),2&n){const t=N().$implicit,r=N(2);C(1),Y("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function coe(n,e){1&n&&(g(0,"td",48),v(1,"--"),m())}function loe(n,e){if(1&n&&(ut(0),g(1,"tr",43)(2,"td",44)(3,"div",45),v(4),m()(),g(5,"td",46),v(6),m(),g(7,"td",46),v(8),m(),ve(9,uoe,2,1,"td",47),ve(10,coe,2,0,"td",47),m(),ct()),2&n){const t=e.$implicit,r=N(2);C(4),Yt(t),C(2),Yt(r.champBonsQnt[t]||1),C(2),Yt(r.champBonsPrice[t]||0),C(1),z("ngIf",0!=r.champBonsPrice[t]),C(1),z("ngIf",0==r.champBonsPrice[t])}}function doe(n,e){if(1&n){const t=gt();ut(0),g(1,"div",17)(2,"button",18),$("click",function(){return ie(t),oe(N().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",19),$("click",function(){return ie(t),oe(N().stock())}),v(5,"Stocker"),m()(),g(6,"div",20)(7,"div",21)(8,"div",22)(9,"p",23),v(10),m(),g(11,"p",24),v(12),m(),g(13,"p",25),v(14),m(),g(15,"p",25)(16,"span",26),v(17,"RCN :"),m(),v(18),g(19,"span",26),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",27)(23,"p",28),v(24),function Hx(n,e){const t=Ce();let r;const i=n+We;t.firstCreatePass?(r=function e6(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Fo(r.type)),s=nr(S);try{const a=Xd(!1),u=o();return Xd(a),function j$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,x(),i,u),u}finally{nr(s)}}(25,"date"),m(),g(26,"p",24)(27,"span",26),v(28,"Declaration:"),m(),v(29),m()(),g(30,"div",29),De(31,"img",30),m()(),g(32,"div",31)(33,"table",32)(34,"colgroup"),De(35,"col",33)(36,"col",34)(37,"col",34)(38,"col",34),m(),g(39,"thead",35)(40,"tr")(41,"th",36),v(42,"Items"),m(),g(43,"th",37),v(44,"Quantity"),m(),g(45,"th",37),v(46,"Price"),m(),g(47,"th",38),v(48,"Amount"),m()()(),g(49,"tbody"),ve(50,loe,11,5,"ng-container",6),m(),g(51,"tfoot")(52,"tr")(53,"th",39),v(54,"Total"),m(),g(55,"th",40),v(56,"Total"),m(),g(57,"td",41),v(58),m()()()()(),g(59,"div",42),v(60," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),ct()}if(2&n){const t=N();C(10),Y(" ",t.champsTitleValue.Name," "),C(2),Y(" ",t.champsTitleValue.Adresse," "),C(2),Y(" ",t.champsTitleValue["Tel/Fax"]," "),C(4),Y("",t.champsTitleValue.RCN," "),C(3),Y(" ",t.champsTitleValue.NIF," "),C(3),Y(" Date : ",Gx(25,9,t.champDate,"dd/MM/yyyy")," "),C(5),Y(" ",t.champsTitleValue.Declaration," "),C(21),z("ngForOf",t.champs),C(8),Y("",t.total,"\xa0DA")}}let hoe=(()=>{class n{constructor(t,r){this.service=t,this.route=r,this.champs=[],this.champBonsPrice={},this.champBonsQnt={},this.champsTitleValue={},this.champTitle=[],this.step=0,this.newChamp="",this.total=0}addChamp(){this.champs.push(this.newChamp),this.newChamp=""}previousStep(){this.step--}nextStep(){console.log(this.champDate),this.checkFactureChiffres()&&(this.step++,1==this.step&&(this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t)}),this.getTotal()))}deleteChamp(t){this.champs.splice(this.champs.indexOf(t),1),delete this.champBonsPrice[t],delete this.champBonsQnt[t]}stock(){var t={};this.champs.forEach(i=>{t[i]=[this.champBonsQnt[i]||0,this.champBonsPrice[i]||0]});var r={date:new Date(this.champDate||""),data:t,total:this.total,selected:!0};this.service.createBons(r).then(i=>{confirm("la facture a ete cree avec succes"),this.route.navigate(["/bonsList"])}).catch(i=>{confirm("la facture na pas ete cree il peut quelle existe deja")})}extraireClesEtValeurs(t){for(const[r,i]of Object.entries(t))this.champTitle.push(r),this.champsTitleValue[r]=i}getTotal(){this.total=0;for(const[t,r]of Object.entries(this.champBonsPrice))this.total+=(r||0)*(this.champBonsQnt[t]||1)}checkFactureChiffres(){let t=!0;if(null==this.champDate)return!1;for(const r of this.champs)if(!1===/^[0-9]+$/.test((this.champBonsPrice[r]||0).toString())||!1===/^[0-9]+$/.test((this.champBonsQnt[r]||1).toString())){alert("les entrees de la facture il faut quil soient des nombres numeriques"),t=!1;break}return t}static#e=this.\u0275fac=function(r){return new(r||n)(S(Mo),S(xt))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons"]],decls:3,vars:2,consts:[[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","date","placeholder","Date",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"disabled","click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["type","text","placeholder","Quantite",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Prix",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"section",0),ve(1,aoe,16,5,"ng-container",1),ve(2,doe,61,12,"ng-container",1),m()),2&r&&(C(1),z("ngIf",0==i.step),C(1),z("ngIf",1==i.step))},dependencies:[Wi,qi,Xo,Fc,Sa,Ac]})}return n})();function foe(n,e){if(1&n){const t=gt();g(0,"div",19)(1,"div")(2,"label",20),v(3,"Filtre par N\xb0"),m(),g(4,"input",21),$("ngModelChange",function(i){return ie(t),oe(N().filterNumber=i)}),m()(),g(5,"div")(6,"label",20),v(7,"Filtre par Date"),m(),g(8,"input",22),$("ngModelChange",function(i){return ie(t),oe(N().filterDate=i)}),m()(),g(9,"div",23)(10,"button",24),$("click",function(){return ie(t),oe(N().filter())}),v(11,"Filtre"),m(),g(12,"button",24),$("click",function(){return ie(t),oe(N().Reset())}),v(13,"Reset/Close"),m()()()}if(2&n){const t=N();C(4),z("ngModel",t.filterNumber),C(4),z("ngModel",t.filterDate)}}function poe(n,e){if(1&n){const t=gt();ut(0),g(1,"button",25),$("click",function(){return ie(t),oe(N().filterFlag=!0)}),v(2,"Ouvrir le filtre --\x3e"),m(),ct()}}function goe(n,e){if(1&n){const t=gt();ut(0),g(1,"tr")(2,"td",26),v(3),m(),g(4,"td",27)(5,"div",28)(6,"div")(7,"h2",29),v(8),m()()()(),g(9,"td",30),v(10),m(),g(11,"td",30),v(12),m(),g(13,"td",31)(14,"button",32),$("click",function(){const o=ie(t).$implicit;return oe(N().goToBons(o.id))}),un(),g(15,"svg",33),De(16,"path",34),m()(),Rn(),g(17,"button",35),$("click",function(){const o=ie(t).$implicit;return oe(N().deleteBons(o.id,o.total))}),un(),g(18,"svg",36),De(19,"path",37),m()()()(),ct()}if(2&n){const t=e.$implicit;C(3),Y(" ",t.id," "),C(5),Yt(t.name),C(2),Yt(t.date),C(2),Y("",t.total," DA")}}function moe(n,e){if(1&n){const t=gt();g(0,"div",38)(1,"a",39),$("click",function(){return ie(t),oe(N().previousStep())}),g(2,"span"),v(3," << previous "),m()(),g(4,"div",40),v(5),m(),g(6,"a",39),$("click",function(){return ie(t),oe(N().nextStep())}),g(7,"span"),v(8," Next >> "),m()()()}if(2&n){const t=N();C(5),Y(" ",t.page,"")}}let _oe=(()=>{class n{constructor(t,r,i){this.route=t,this.datePipe=r,this.service=i,this.Bons=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=10,this.filterFlag=!1}ngOnInit(){this.getBons(this.skip[0],this.maxResultCount),this.service.getCaisseData().then(t=>{this.total=t.numberBons})}getBons(t,r){this.service.readBonsPaged(t,r).then(i=>{this.skip[this.page]=parseInt(i.pop()),this.Bons=i,this.Bons.forEach(o=>{o.date=this.formatDate(o.date)})})}deleteBons(t,r){this.service.deleteBon(t,r).then(i=>{confirm("le Bons est bien supprimer"),this.skip=[0],this.page=1,this.getBons(this.skip[this.page-1],this.maxResultCount)}).catch(i=>{console.log(i)})}goToBons(t){this.route.navigate(["/bon-view",{data:t}])}filter(){this.filterFlag=!0,this.service.readBonsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.Bons=t,this.Bons.forEach(r=>{r.date=new Date(1e3*r.date.seconds)})})}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getBons(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getBons(this.skip[this.page-1],this.maxResultCount))}formatDate(t){const r=new Date(1e3*t.seconds),i=this.datePipe.transform(r,"dd-MM-yyyy");return console.log(i),i||""}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt),S(Ac),S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons-list"]],decls:26,vars:4,consts:[[1,"container","px-4","mx-auto"],["class","grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-center","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center mt-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de Bons a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"px-3","py-4","text-sm","text-center","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"]],template:function(r,i){1&r&&(g(0,"section",0),ve(1,foe,14,2,"div",1),ve(2,poe,3,0,"ng-container",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7)(8,"thead",8)(9,"tr")(10,"th",9),v(11," Bons N\xb0 "),m(),g(12,"th",10)(13,"div",11)(14,"span"),v(15,"Nom du Bon"),m()()(),g(16,"th",12),v(17," Date "),m(),g(18,"th",13),v(19," Total "),m(),g(20,"th",14)(21,"span",15),v(22,"Edit"),m()()()(),g(23,"tbody",16),ve(24,goe,20,4,"ng-container",17),m()()()()()(),ve(25,moe,9,1,"div",18),m()),2&r&&(C(1),z("ngIf",i.filterFlag),C(1),z("ngIf",!i.filterFlag),C(22),z("ngForOf",i.Bons),C(1),z("ngIf",!i.filterFlag))},dependencies:[Wi,qi,Xo,Fc,Sa]})}return n})();function yoe(n,e){if(1&n&&(g(0,"td",32),v(1),m()),2&n){const t=N().$implicit,r=N();C(1),Y("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function voe(n,e){1&n&&(g(0,"td",32),v(1,"--"),m())}function Ioe(n,e){if(1&n&&(ut(0),g(1,"tr",27)(2,"td",28)(3,"div",29),v(4),m()(),g(5,"td",30),v(6),m(),g(7,"td",30),v(8),m(),ve(9,yoe,2,1,"td",31),ve(10,voe,2,0,"td",31),m(),ct()),2&n){const t=e.$implicit,r=N();C(4),Yt(t),C(2),Yt(r.champBonsQnt[t]||1),C(2),Yt(r.champBonsPrice[t]||0),C(1),z("ngIf",0!=r.champBonsPrice[t]),C(1),z("ngIf",0==r.champBonsPrice[t])}}const Eoe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:BK},{path:"factures",component:Mie},{path:"facture-view",component:Lie},{path:"facture-close",component:$ie},{path:"facture-create",component:ioe},{path:"caisse",component:ooe},{path:"bons",component:hoe},{path:"bonsList",component:_oe},{path:"bon-view",component:(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitleValue={},this.champTitle=[],this.champDate="",this.champs=[],this.total=0,this.name="",this.champBonsQnt={},this.champBonsPrice={}}ngOnInit(){var t=this.route.snapshot.params.data;this.getTitleValue(),this.getBon(t)}getTitleValue(){this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t,"title")})}getBon(t){var r=this;return T(function*(){yield r.service.readBon(t).then(i=>{r.extraireClesEtValeurs(i.bon.data,"bon"),r.champDate=i.bon.date,r.total=i.bon.total,r.name=i.bon.name})})()}extraireClesEtValeurs(t,r){if("title"==r)for(const[i,o]of Object.entries(t))this.champTitle.push(i),this.champsTitleValue[i]=o;else for(const[i,o]of Object.entries(t))this.champs.push(i),this.champBonsPrice[i]=o[1],this.champBonsQnt[i]=o[0]}imprimer(){window.print()}static#e=this.\u0275fac=function(r){return new(r||n)(S(ro),S(Mo))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons-view"]],decls:59,vars:10,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"text-3xl","text-center","font-semibold","mt-6","underline"],[1,"-mx-4","mt-5","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[4,"ngFor","ngForOf"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0","whitespace-no-wrap","h-8"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),$("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m()(),g(26,"div",11),De(27,"img",12),m()(),g(28,"h3",13),v(29),m(),g(30,"div",14)(31,"table",15)(32,"colgroup"),De(33,"col",16)(34,"col",17)(35,"col",17)(36,"col",17),m(),g(37,"thead",18)(38,"tr")(39,"th",19),v(40,"Items"),m(),g(41,"th",20),v(42,"Quantity"),m(),g(43,"th",20),v(44,"Price"),m(),g(45,"th",21),v(46,"Amount"),m()()(),g(47,"tbody"),ve(48,Ioe,11,5,"ng-container",22),m(),g(49,"tfoot")(50,"tr")(51,"th",23),v(52,"Total"),m(),g(53,"th",24),v(54,"Total"),m(),g(55,"td",25),v(56),m()()()()(),g(57,"div",26),v(58," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(C(7),Y(" ",i.champsTitleValue.Name," "),C(2),Y(" ",i.champsTitleValue.Adresse," "),C(2),Y(" ",i.champsTitleValue["Tel/Fax"]," "),C(4),Y("",i.champsTitleValue.RCN," "),C(3),Y(" ",i.champsTitleValue.NIF," "),C(3),Y(" Date : ",i.champDate," "),C(4),Y(" ",i.champsTitleValue.Declaration," "),C(4),Yt(i.name),C(19),z("ngForOf",i.champs),C(8),Y("",i.total,"\xa0DA"))},dependencies:[Wi,qi],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let boe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n});static#n=this.\u0275inj=kt({imports:[Fk.forRoot(Eoe),Fk]})}return n})(),woe=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-navbar"]],decls:11,vars:0,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-300","hover:text-blue-400"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-300","hover:text-blue-400",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-300","hover:text-blue-400"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),v(4,"Home"),m(),g(5,"a",4),$("click",function(){return i.goToFactures()}),v(6,"Factures"),m(),g(7,"a",4),$("click",function(){return i.goToBons()}),v(8,"Bons"),m(),g(9,"a",5),v(10,"Contact Us"),m()()()())},styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}@media (max-width: 300px){button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}}"]})}return n})(),Toe=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-footer"]],decls:0,vars:0,template:function(r,i){}})}return n})();function Coe(n,e){if(1&n){const t=gt();un(),Rn(),g(0,"div",13)(1,"a",14),v(2,"Home"),m(),g(3,"a",15),$("click",function(){return ie(t),oe(N().goToFactures())}),v(4,"Factures"),m(),g(5,"a",15),$("click",function(){return ie(t),oe(N().goToBons())}),v(6,"Bons"),m(),g(7,"a",16),v(8,"Contact Us"),m()()}}let Doe=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(S(xt))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-header-search"]],decls:14,vars:1,consts:[[1,"relative","mx-auto","flex","h-16","max-w-[1200px]","items-center","justify-between","px-5"],["href","index.html"],["src","assets/elite-logo.png","alt","company logo",1,"cursor-pointer","h-16","w-20"],[1,"md:hidden"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],["class","absolute top-12 right-2 z-10 p-6 rounded bg-blue-700 flex flex-col gap-3 ",4,"ngIf"],[1,"hidden","h-9","w-2/5","items-center","border","md:flex","rounded","overflow-hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-3","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","search","placeholder","Search",1,"hidden","w-11/12","outline-none","md:block"],[1,"ml-auto","h-full","bg-amber-400","px-4","hover:bg-yellow-300"],[1,"absolute","top-12","right-2","z-10","p-6","rounded","bg-blue-700","flex","flex-col","gap-3"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"]],template:function(r,i){1&r&&(g(0,"header",0)(1,"a",1),De(2,"img",2),m(),g(3,"div",3)(4,"button",4),$("click",function(){return i.mobile()}),un(),g(5,"svg",5),De(6,"path",6),m()(),ve(7,Coe,9,0,"div",7),m(),Rn(),g(8,"div",8),un(),g(9,"svg",9),De(10,"path",10),m(),Rn(),De(11,"input",11),g(12,"button",12),v(13," Search "),m()()()),2&r&&(C(7),z("ngIf",i.desktopMenuOpen))},dependencies:[qi],styles:["button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})(),Aoe=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"print"]],template:function(r,i){1&r&&De(0,"app-header-search",0)(1,"app-navbar",0)(2,"router-outlet")(3,"app-footer",0)},dependencies:[Wv,woe,Toe,Doe],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const xoe={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};let Roe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ut({type:n,bootstrap:[Aoe]});static#n=this.\u0275inj=kt({providers:[Ac],imports:[$9,boe,oW,Z8,sW,uq,UY(()=>jY(xoe)),Sie(()=>xie())]})}return n})();j9().bootstrapModule(Roe).catch(n=>console.error(n))}},Be=>{Be(Be.s=461)}]);