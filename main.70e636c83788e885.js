"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{990:()=>{function Fe(n){return"function"==typeof n}function Tc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Th=Tc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ea(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Th?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{aA(s)}catch(o){e=e??[],o instanceof Th?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Th(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aA(e);else{if(e instanceof vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ea(t,e)}remove(e){const{_finalizers:t}=this;t&&Ea(t,e),e instanceof vn&&e._removeParent(this)}}vn.EMPTY=(()=>{const n=new vn;return n.closed=!0,n})();const sA=vn.EMPTY;function oA(n){return n instanceof vn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function aA(n){Fe(n)?n():n.unsubscribe()}const co={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dh={setTimeout(n,e,...t){const{delegate:r}=Dh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Dh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function lA(n){Dh.setTimeout(()=>{const{onUnhandledError:e}=co;if(!e)throw n;e(n)})}function h_(){}const K3=f_("C",void 0,void 0);function f_(n,e,t){return{kind:n,value:e,error:t}}let uo=null;function Ah(n){if(co.useDeprecatedSynchronousErrorHandling){const e=!uo;if(e&&(uo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=uo;if(uo=null,t)throw r}}else n()}class p_ extends vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oA(e)&&e.add(this)):this.destination=tj}static create(e,t,r){return new Dc(e,t,r)}next(e){this.isStopped?m_(function Y3(n){return f_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?m_(function Q3(n){return f_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m_(K3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z3=Function.prototype.bind;function g_(n,e){return Z3.call(n,e)}class J3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sh(r)}else Sh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sh(t)}}}class Dc extends p_{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&co.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&g_(e.next,s),error:e.error&&g_(e.error,s),complete:e.complete&&g_(e.complete,s)}):i=e}this.destination=new J3(i)}}function Sh(n){co.useDeprecatedSynchronousErrorHandling?function X3(n){co.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=n)}(n):lA(n)}function m_(n,e){const{onStoppedNotification:t}=co;t&&Dh.setTimeout(()=>t(n,e))}const tj={closed:!0,next:h_,error:function ej(n){throw n},complete:h_},__="function"==typeof Symbol&&Symbol.observable||"@@observable";function ms(n){return n}function cA(n){return 0===n.length?ms:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ij(n){return n&&n instanceof p_||function rj(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&oA(n)}(t)?t:new Dc(t,r,i);return Ah(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=uA(r))((i,s)=>{const o=new Dc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[__](){return this}pipe(...t){return cA(t)(this)}toPromise(t){return new(t=uA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function uA(n){var e;return null!==(e=n??co.Promise)&&void 0!==e?e:Promise}const sj=Tc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new dA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sj}next(t){Ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ah(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?sA:(this.currentObservers=null,s.push(t),new vn(()=>{this.currentObservers=null,Ea(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new dA(e,t),n})();class dA extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:sA}}function hA(n){return Fe(n?.lift)}function wt(n){return e=>{if(hA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(n,e,t,r,i){return new oj(n,e,t,r,i)}class oj extends p_{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(n,e){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>{r.next(n.call(e,s,i++))}))})}function b_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function _s(n){return this instanceof _s?(this.v=n,this):new _s(n)}function mA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function w_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const C_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _A(n){return Fe(n?.then)}function yA(n){return Fe(n[__])}function vA(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function bA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EA=function Aj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wA(n){return Fe(n?.[EA])}function CA(n){return function gA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof _s?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield _s(t.read());if(i)return yield _s(void 0);yield yield _s(r)}}finally{t.releaseLock()}})}function IA(n){return Fe(n?.getReader)}function zn(n){if(n instanceof Ze)return n;if(null!=n){if(yA(n))return function Sj(n){return new Ze(e=>{const t=n[__]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(C_(n))return function xj(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(_A(n))return function Rj(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,lA)})}(n);if(vA(n))return TA(n);if(wA(n))return function Mj(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(IA(n))return function Pj(n){return TA(CA(n))}(n)}throw bA(n)}function TA(n){return new Ze(e=>{(function kj(n,e){var t,r,i,s;return function fA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=mA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ni(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Jt(n,e,t=1/0){return Fe(e)?Jt((r,i)=>de((s,o)=>e(r,s,i,o))(zn(n(r,i))),t):("number"==typeof e&&(t=e),wt((r,i)=>function Oj(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<r?p(_):l.push(_),p=_=>{s&&e.next(_),c++;let v=!1;zn(t(_,u++)).subscribe(ft(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){const b=l.shift();o?Ni(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function wa(n=1/0){return Jt(ms,n)}const ii=new Ze(n=>n.complete());function DA(n){return n&&Fe(n.schedule)}function I_(n){return n[n.length-1]}function AA(n){return Fe(I_(n))?n.pop():void 0}function Ac(n){return DA(I_(n))?n.pop():void 0}function xh(n,e=0){return wt((t,r)=>{t.subscribe(ft(r,i=>Ni(r,n,()=>r.next(i),e),()=>Ni(r,n,()=>r.complete(),e),i=>Ni(r,n,()=>r.error(i),e)))})}function Rh(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function SA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{Ni(t,e,()=>{const r=n[Symbol.asyncIterator]();Ni(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Lt(n,e){return e?function $j(n,e){if(null!=n){if(yA(n))return function Vj(n,e){return zn(n).pipe(Rh(e),xh(e))}(n,e);if(C_(n))return function Bj(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(_A(n))return function Lj(n,e){return zn(n).pipe(Rh(e),xh(e))}(n,e);if(vA(n))return SA(n,e);if(wA(n))return function Uj(n,e){return new Ze(t=>{let r;return Ni(t,e,()=>{r=n[EA](),Ni(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(IA(n))return function jj(n,e){return SA(CA(n),e)}(n,e)}throw bA(n)}(n,e):zn(n)}function xA(...n){const e=Ac(n),t=function Fj(n,e){return"number"==typeof I_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?zn(r[0]):wa(t)(Lt(r,e)):ii}function T_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Dc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ye(n){for(let e in n)if(n[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function D_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function A_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Hj=Ye({__forward_ref__:Ye});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Je(this())},n}function ae(n){return S_(n)?n():n}function S_(n){return"function"==typeof n&&n.hasOwnProperty(Hj)&&n.__forward_ref__===Xe}function x_(n){return n&&!!n.\u0275providers}const Mh="https://g.co/ng/security#xss";class M extends Error{constructor(e,t){super(Ph(e,t)),this.code=e}}function Ph(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function kh(n,e){throw new M(-201,!1)}function Er(n,e){null==n&&function He(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function et(n){return{providers:n.providers||[],imports:n.imports||[]}}function Oh(n){return MA(n,Nh)||MA(n,kA)}function MA(n,e){return n.hasOwnProperty(e)?n[e]:null}function PA(n){return n&&(n.hasOwnProperty(R_)||n.hasOwnProperty(Xj))?n[R_]:null}const Nh=Ye({\u0275prov:Ye}),R_=Ye({\u0275inj:Ye}),kA=Ye({ngInjectableDef:Ye}),Xj=Ye({ngInjectorDef:Ye});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let M_;function wr(n){const e=M_;return M_=n,e}function OA(n,e,t){const r=Oh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&se.Optional?null:void 0!==e?e:void kh(Je(n))}const it=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sc={},P_="__NG_DI_FLAG__",Fh="ngTempTokenPath",Jj="ngTokenPath",e$=/\n/gm,t$="\u0275",NA="__source";let xc;function Ca(n){const e=xc;return xc=n,e}function n$(n,e=se.Default){if(void 0===xc)throw new M(-203,!1);return null===xc?OA(n,void 0,e):xc.get(n,e&se.Optional?null:void 0,e)}function x(n,e=se.Default){return(function Zj(){return M_}()||n$)(ae(n),e)}function _e(n,e=se.Default){return x(n,Vh(e))}function Vh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function k_(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],l=r$(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function Rc(n,e){return n[P_]=e,n.prototype[P_]=e,n}function r$(n){return n[P_]}function Fi(n){return{toString:n}.toString()}var si=(()=>((si=si||{})[si.OnPush=0]="OnPush",si[si.Default=1]="Default",si))(),Br=(()=>{return(n=Br||(Br={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Br;var n})();const Vi={},Ue=[],Lh=Ye({\u0275cmp:Ye}),O_=Ye({\u0275dir:Ye}),N_=Ye({\u0275pipe:Ye}),VA=Ye({\u0275mod:Ye}),Li=Ye({\u0275fac:Ye}),Mc=Ye({__NG_ELEMENT_ID__:Ye});let o$=0;function en(n){return Fi(()=>{const e=BA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===si.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Br.Emulated,id:"c"+o$++,styles:n.styles||Ue,_:null,schemas:n.schemas||null,tView:null};UA(t);const r=n.dependencies;return t.directiveDefs=Bh(r,!1),t.pipeDefs=Bh(r,!0),t})}function l$(n){return ze(n)||bn(n)}function c$(n){return null!==n}function st(n){return Fi(()=>({type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function LA(n,e){if(null==n)return Vi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function le(n){return Fi(()=>{const e=BA(n);return UA(e),e})}function On(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ze(n){return n[Lh]||null}function bn(n){return n[O_]||null}function Gn(n){return n[N_]||null}function ir(n,e){const t=n[VA]||null;if(!t&&!0===e)throw new Error(`Type ${Je(n)} does not have '\u0275mod' property.`);return t}function BA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LA(n.inputs,e),outputs:LA(n.outputs)}}function UA(n){n.features?.forEach(e=>e(n))}function Bh(n,e){if(!n)return null;const t=e?Gn:l$;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(c$)}const Bi=0,Q=1,be=2,Ct=3,Ur=4,ho=5,En=6,Ta=7,St=8,Uh=9,jh=10,we=11,F_=12,Pc=13,jA=14,Da=15,wn=16,kc=17,Aa=18,oi=19,Oc=20,$A=21,ot=22,V_=1,HA=2,$h=7,Hh=8,Sa=9,Nn=10;function sr(n){return Array.isArray(n)&&"object"==typeof n[V_]}function jr(n){return Array.isArray(n)&&!0===n[V_]}function L_(n){return 0!=(4&n.flags)}function Nc(n){return n.componentOffset>-1}function zh(n){return 1==(1&n.flags)}function $r(n){return!!n.template}function d$(n){return 0!=(256&n[be])}function fo(n,e){return n.hasOwnProperty(Li)?n[Li]:null}class p${constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function or(){return WA}function WA(n){return n.type.prototype.ngOnChanges&&(n.setInput=m$),g$}function g$(){const n=KA(this),e=n?.current;if(e){const t=n.previous;if(t===Vi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function m$(n,e,t,r){const i=this.declaredInputs[t],s=KA(n)||function _$(n,e){return n[qA]=e}(n,{previous:Vi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new p$(l&&l.currentValue,e,a===Vi),n[r]=e}or.ngInherit=!0;const qA="__ngSimpleChanges__";function KA(n){return n[qA]||null}const Cr=function(n,e,t){},QA="svg";function dn(n){for(;Array.isArray(n);)n=n[Bi];return n}function Gh(n,e){return dn(e[n])}function ar(n,e){return dn(e[n.index])}function XA(n,e){return n.data[e]}function xa(n,e){return n[e]}function Wn(n,e){const t=e[n];return sr(t)?t:t[Bi]}function Wh(n){return 64==(64&n[be])}function vs(n,e){return null==e?null:n[e]}function ZA(n){n[Aa]=0}function U_(n,e){n[ho]+=e;let t=n,r=n[Ct];for(;null!==r&&(1===e&&1===t[ho]||-1===e&&0===t[ho]);)r[ho]+=e,t=r,r=r[Ct]}const ge={lFrame:lS(null),bindingsEnabled:!0};function eS(){return ge.bindingsEnabled}function O(){return ge.lFrame.lView}function ke(){return ge.lFrame.tView}function G(n){return ge.lFrame.contextLView=n,n[St]}function W(n){return ge.lFrame.contextLView=null,n}function hn(){let n=tS();for(;null!==n&&64===n.type;)n=n.parent;return n}function tS(){return ge.lFrame.currentTNode}function ai(n,e){const t=ge.lFrame;t.currentTNode=n,t.isParent=e}function j_(){return ge.lFrame.isParent}function $_(){ge.lFrame.isParent=!1}function Fn(){const n=ge.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ra(){return ge.lFrame.bindingIndex++}function ji(n){const e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function R$(n,e){const t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,H_(e)}function H_(n){ge.lFrame.currentDirectiveIndex=n}function z_(n){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function sS(){return ge.lFrame.currentQueryIndex}function G_(n){ge.lFrame.currentQueryIndex=n}function P$(n){const e=n[Q];return 2===e.type?e.declTNode:1===e.type?n[En]:null}function oS(n,e,t){if(t&se.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&se.Host||(i=P$(s),null===i||(s=s[Da],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ge.lFrame=aS();return r.currentTNode=e,r.lView=n,!0}function W_(n){const e=aS(),t=n[Q];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aS(){const n=ge.lFrame,e=null===n?null:n.child;return null===e?lS(n):e}function lS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function cS(){const n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const uS=cS;function q_(){const n=cS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vn(){return ge.lFrame.selectedIndex}function po(n){ge.lFrame.selectedIndex=n}function _t(){const n=ge.lFrame;return XA(n.tView,n.selectedIndex)}function Bt(){ge.lFrame.currentNamespace=QA}function Cn(){!function F$(){ge.lFrame.currentNamespace=null}()}function qh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function Kh(n,e,t){dS(n,e,3,t)}function Qh(n,e,t,r){(3&n[be])===t&&dS(n,e,t,r)}function K_(n,e){let t=n[be];(3&t)===e&&(t&=2047,t+=1,n[be]=t)}function dS(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Aa]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Aa]+=65536),(a<s||-1==s)&&(B$(n,t,e,l),n[Aa]=(4294901760&n[Aa])+l+2),l++}function B$(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[be]>>11<n[Aa]>>16&&(3&n[be])===e){n[be]+=2048,Cr(4,a,s);try{s.call(a)}finally{Cr(5,a,s)}}}else{Cr(4,a,s);try{s.call(a)}finally{Cr(5,a,s)}}}const Ma=-1;class Vc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Y_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];fS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function hS(n){return 3===n||4===n||6===n}function fS(n){return 64===n.charCodeAt(0)}function Lc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||pS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function pS(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function gS(n){return n!==Ma}function Yh(n){return 32767&n}function Xh(n,e){let t=function H$(n){return n>>16}(n),r=e;for(;t>0;)r=r[Da],t--;return r}let X_=!0;function Zh(n){const e=X_;return X_=n,e}const mS=255,_S=5;let z$=0;const li={};function Jh(n,e){const t=yS(n,e);if(-1!==t)return t;const r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,Z_(r.data,n),Z_(e,null),Z_(r.blueprint,null));const i=J_(n,e),s=n.injectorIndex;if(gS(i)){const o=Yh(i),a=Xh(i,e),l=a[Q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Z_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function yS(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function J_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=TS(i),null===r)return Ma;if(t++,i=i[Da],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ma}function ey(n,e,t){!function G$(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Mc)&&(r=t[Mc]),null==r&&(r=t[Mc]=z$++);const i=r&mS;e.data[n+(i>>_S)]|=1<<i}(n,e,t)}function vS(n,e,t){if(t&se.Optional||void 0!==n)return n;kh()}function bS(n,e,t,r){if(t&se.Optional&&void 0===r&&(r=null),!(t&(se.Self|se.Host))){const i=n[Uh],s=wr(void 0);try{return i?i.get(e,r,t&se.Optional):OA(e,r,t&se.Optional)}finally{wr(s)}}return vS(r,0,t)}function ES(n,e,t,r=se.Default,i){if(null!==n){if(1024&e[be]){const o=function Y$(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[be]&&!(256&o[be]);){const a=wS(s,o,t,r|se.Self,li);if(a!==li)return a;let l=s.parent;if(!l){const c=o[$A];if(c){const u=c.get(t,li,r);if(u!==li)return u}l=TS(o),o=o[Da]}s=l}return i}(n,e,t,r,li);if(o!==li)return o}const s=wS(n,e,t,r,li);if(s!==li)return s}return bS(e,t,r,i)}function wS(n,e,t,r,i){const s=function K$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mc)?n[Mc]:void 0;return"number"==typeof e?e>=0?e&mS:Q$:e}(t);if("function"==typeof s){if(!oS(e,n,r))return r&se.Host?vS(i,0,r):bS(e,t,r,i);try{const o=s(r);if(null!=o||r&se.Optional)return o;kh()}finally{uS()}}else if("number"==typeof s){let o=null,a=yS(n,e),l=Ma,c=r&se.Host?e[wn][En]:null;for((-1===a||r&se.SkipSelf)&&(l=-1===a?J_(n,e):e[a+8],l!==Ma&&IS(r,!1)?(o=e[Q],a=Yh(l),e=Xh(l,e)):a=-1);-1!==a;){const u=e[Q];if(CS(s,a,u.data)){const d=q$(a,e,t,o,r,c);if(d!==li)return d}l=e[a+8],l!==Ma&&IS(r,e[Q].data[a+8]===c)&&CS(s,a,e)?(o=u,a=Yh(l),e=Xh(l,e)):a=-1}}return i}function q$(n,e,t,r,i,s){const o=e[Q],a=o.data[n+8],u=ef(a,o,t,null==r?Nc(a)&&X_:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==u?go(e,o,u,a):li}function ef(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&$r(f)&&f.type===t)return l}return null}function go(n,e,t,r){let i=n[t];const s=e.data;if(function U$(n){return n instanceof Vc}(i)){const o=i;o.resolving&&function zj(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${t}`)}(function $e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[t]));const a=Zh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?wr(o.injectImpl):null;oS(n,r,se.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function L$(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=WA(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&wr(l),Zh(a),o.resolving=!1,uS()}}return i}function CS(n,e,t){return!!(t[e+(n>>_S)]&1<<n)}function IS(n,e){return!(n&se.Self||n&se.Host&&e)}class Pa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ES(this._tNode,this._lView,e,Vh(r),t)}}function Q$(){return new Pa(hn(),O())}function tn(n){return Fi(()=>{const e=n.prototype.constructor,t=e[Li]||ty(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Li]||ty(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ty(n){return S_(n)?()=>{const e=ty(ae(n));return e&&e()}:fo(n)}function TS(n){const e=n[Q],t=e.type;return 2===t?e.declTNode:1===t?n[En]:null}const Oa="__parameters__";function Fa(n,e,t){return Fi(()=>{const r=function ny(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Oa)?l[Oa]:Object.defineProperty(l,Oa,{value:[]})[Oa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class L{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mo(n,e){n.forEach(t=>Array.isArray(t)?mo(t,e):e(t))}function AS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lr(n,e,t){let r=Va(n,e);return r>=0?n[1|r]=t:(r=~r,function e5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function iy(n,e){const t=Va(n,e);if(t>=0)return n[1|t]}function Va(n,e){return function SS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const In=Rc(Fa("Optional"),8),La=Rc(Fa("SkipSelf"),4);var qn=(()=>((qn=qn||{})[qn.Important=1]="Important",qn[qn.DashCase=2]="DashCase",qn))();const uy=new Map;let C5=0;const hy="__ngContext__";function Tn(n,e){sr(e)?(n[hy]=e[Oc],function T5(n){uy.set(n[Oc],n)}(e)):n[hy]=e}let fy;function py(n,e){return fy(n,e)}function Gc(n){const e=n[Ct];return jr(e)?e[Ct]:e}function gy(n){return KS(n[Pc])}function my(n){return KS(n[Ur])}function KS(n){for(;null!==n&&!jr(n);)n=n[Ur];return n}function Ua(n,e,t,r,i){if(null!=r){let s,o=!1;jr(r)?s=r:sr(r)&&(o=!0,r=r[Bi]);const a=dn(r);0===n&&null!==t?null==i?ex(e,t,a):_o(e,t,a,i||null,!0):1===n&&null!==t?_o(e,t,a,i||null,!0):2===n?function Cy(n,e,t){const r=lf(n,e);r&&function G5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function K5(n,e,t,r,i){const s=t[$h];s!==dn(t)&&Ua(e,n,r,s,i);for(let a=Nn;a<t.length;a++){const l=t[a];Wc(l[Q],l,n,e,r,s)}}(e,n,s,t,i)}}function yy(n,e,t){return n.createElement(e,t)}function YS(n,e){const t=n[Sa],r=t.indexOf(e),i=e[Ct];512&e[be]&&(e[be]&=-513,U_(i,-1)),t.splice(r,1)}function vy(n,e){if(n.length<=Nn)return;const t=Nn+e,r=n[t];if(r){const i=r[kc];null!==i&&i!==n&&YS(i,r),e>0&&(n[t-1][Ur]=r[Ur]);const s=nf(n,Nn+e);!function V5(n,e){Wc(n,e,e[we],2,null,null),e[Bi]=null,e[En]=null}(r[Q],r);const o=s[oi];null!==o&&o.detachView(s[Q]),r[Ct]=null,r[Ur]=null,r[be]&=-65}return r}function XS(n,e){if(!(128&e[be])){const t=e[we];t.destroyNode&&Wc(n,e,t,3,null,null),function U5(n){let e=n[Pc];if(!e)return by(n[Q],n);for(;e;){let t=null;if(sr(e))t=e[Pc];else{const r=e[Nn];r&&(t=r)}if(!t){for(;e&&!e[Ur]&&e!==n;)sr(e)&&by(e[Q],e),e=e[Ct];null===e&&(e=n),sr(e)&&by(e[Q],e),t=e&&e[Ur]}e=t}}(e)}}function by(n,e){if(!(128&e[be])){e[be]&=-65,e[be]|=128,function z5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Vc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Cr(4,a,l);try{l.call(a)}finally{Cr(5,a,l)}}else{Cr(4,i,s);try{s.call(i)}finally{Cr(5,i,s)}}}}}(n,e),function H5(n,e){const t=n.cleanup,r=e[Ta];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Ta]=null}}(n,e),1===e[Q].type&&e[we].destroy();const t=e[kc];if(null!==t&&jr(e[Ct])){t!==e[Ct]&&YS(t,e);const r=e[oi];null!==r&&r.detachView(n)}!function D5(n){uy.delete(n[Oc])}(e)}}function ZS(n,e,t){return function JS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Bi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Br.None||s===Br.Emulated)return null}return ar(r,t)}}(n,e.parent,t)}function _o(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ex(n,e,t){n.appendChild(e,t)}function tx(n,e,t,r,i){null!==r?_o(n,e,t,r,i):ex(n,e,t)}function lf(n,e){return n.parentNode(e)}let Ey,df,Dy,hf,ix=function rx(n,e,t){return 40&n.type?ar(n,t):null};function cf(n,e,t,r){const i=ZS(n,r,e),s=e[we],a=function nx(n,e,t){return ix(n,e,t)}(r.parent||e[En],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)tx(s,i,t[l],a,!1);else tx(s,i,t,a,!1);void 0!==Ey&&Ey(s,r,e,t,i)}function uf(n,e){if(null!==e){const t=e.type;if(3&t)return ar(e,n);if(4&t)return wy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return uf(n,r);{const i=n[e.index];return jr(i)?wy(-1,i):dn(i)}}if(32&t)return py(e,n)()||dn(n[e.index]);{const r=ox(n,e);return null!==r?Array.isArray(r)?r[0]:uf(Gc(n[wn]),r):uf(n,e.next)}}return null}function ox(n,e){return null!==e?n[wn][En].projection[e.projection]:null}function wy(n,e){const t=Nn+n+1;if(t<e.length){const r=e[t],i=r[Q].firstChild;if(null!==i)return uf(r,i)}return e[$h]}function Iy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Tn(dn(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Iy(n,e,t.child,r,i,s,!1),Ua(e,n,i,a,s);else if(32&l){const c=py(t,r);let u;for(;u=c();)Ua(e,n,i,u,s);Ua(e,n,i,a,s)}else 16&l?ax(n,e,r,t,i,s):Ua(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Wc(n,e,t,r,i,s){Iy(t,r,n.firstChild,e,i,s,!1)}function ax(n,e,t,r,i,s){const o=t[wn],l=o[En].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ua(e,n,i,l[c],s);else Iy(n,e,l,o[Ct],i,s,!0)}function lx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Y_(n,e,r),null!==i&&lx(n,e,i),null!==s&&function Y5(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ja(n){return function Ty(){if(void 0===df&&(df=null,it.trustedTypes))try{df=it.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return df}()?.createHTML(n)||n}function Ay(){if(void 0===hf&&(hf=null,it.trustedTypes))try{hf=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hf}function dx(n){return Ay()?.createHTML(n)||n}function fx(n){return Ay()?.createScriptURL(n)||n}class yo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mh})`}}function cr(n){return n instanceof yo?n.changingThisBreaksApplicationSecurity:n}function ci(n,e){const t=function oH(n){return n instanceof yo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Mh})`)}return t===e}class hH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ja(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class fH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ja(e),t}}const gH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ff(n){return(n=String(n)).match(gH)?n:"unsafe:"+n}function $i(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function qc(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const gx=$i("area,br,col,hr,img,wbr"),mx=$i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_x=$i("rp,rt"),Sy=qc(gx,qc(mx,$i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qc(_x,$i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qc(_x,mx)),xy=$i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yx=qc(xy,$i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mH=$i("script,style,template");class _H{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Sy.hasOwnProperty(t))return this.sanitizedSomething=!0,!mH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!yx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;xy[a]&&(l=ff(l)),this.buf.push(" ",o,'="',vx(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Sy.hasOwnProperty(t)&&!gx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vx(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const yH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vH=/([^\#-~ |!])/g;function vx(n){return n.replace(/&/g,"&amp;").replace(yH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(vH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pf;function bx(n,e){let t=null;try{pf=pf||function px(n){const e=new fH(n);return function pH(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch{return!1}}()?new hH(e):e}(n);let r=e?String(e):"";t=pf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=pf.getInertBodyElement(r)}while(r!==s);return ja((new _H).sanitizeChildren(Ry(t)||t))}finally{if(t){const r=Ry(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ry(n){return"content"in n&&function bH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var je=(()=>((je=je||{})[je.NONE=0]="NONE",je[je.HTML=1]="HTML",je[je.STYLE=2]="STYLE",je[je.SCRIPT=3]="SCRIPT",je[je.URL=4]="URL",je[je.RESOURCE_URL=5]="RESOURCE_URL",je))();function My(n){const e=Kc();return e?dx(e.sanitize(je.HTML,n)||""):ci(n,"HTML")?dx(cr(n)):bx(function ux(){return void 0!==Dy?Dy:typeof document<"u"?document:void 0}(),pe(n))}function Ex(n){const e=Kc();return e?e.sanitize(je.URL,n)||"":ci(n,"URL")?cr(n):ff(pe(n))}function wx(n){const e=Kc();if(e)return fx(e.sanitize(je.RESOURCE_URL,n)||"");if(ci(n,"ResourceURL"))return fx(cr(n));throw new M(904,!1)}function Kc(){const n=O();return n&&n[F_]}const gf=new L("ENVIRONMENT_INITIALIZER"),Ix=new L("INJECTOR",-1),Tx=new L("INJECTOR_DEF_TYPES");class Dx{get(e,t=Sc){if(t===Sc){const r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return t}}function AH(...n){return{\u0275providers:Ax(0,n),\u0275fromNgModule:!0}}function Ax(n,...e){const t=[],r=new Set;let i;return mo(e,s=>{const o=s;Py(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Sx(i,t),t}function Sx(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ky(i,s=>{e.push(s)})}}function Py(n,e,t,r){if(!(n=ae(n)))return!1;let i=null,s=PA(n);const o=!s&&ze(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=PA(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Py(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{mo(s.imports,u=>{Py(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Sx(c,e)}if(!a){const c=fo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ue},{provide:Tx,useValue:i,multi:!0},{provide:gf,useValue:()=>x(i),multi:!0})}const l=s.providers;null==l||a||ky(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function ky(n,e){for(let t of n)x_(t)&&(t=t.\u0275providers),Array.isArray(t)?ky(t,e):e(t)}const SH=Ye({provide:String,useValue:Ye});function Oy(n){return null!==n&&"object"==typeof n&&SH in n}function vo(n){return"function"==typeof n}const Ny=new L("Set Injector scope."),mf={},RH={};let Fy;function _f(){return void 0===Fy&&(Fy=new Dx),Fy}class ui{}class Mx extends ui{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(e,o=>this.processProvider(o)),this.records.set(Ix,$a(void 0,this)),i.has("environment")&&this.records.set(ui,$a(void 0,this));const s=this.records.get(Ny);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Tx.multi,Ue,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ca(this),r=wr(void 0);try{return e()}finally{Ca(t),wr(r)}}get(e,t=Sc,r=se.Default){this.assertNotDestroyed(),r=Vh(r);const i=Ca(this),s=wr(void 0);try{if(!(r&se.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function NH(n){return"function"==typeof n||"object"==typeof n&&n instanceof L}(e)&&Oh(e);a=l&&this.injectableDefInScope(l)?$a(Vy(e),mf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&se.Self?_f():this.parent).get(e,t=r&se.Optional&&t===Sc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Fh]=o[Fh]||[]).unshift(Je(e)),i)throw o;return function i$(n,e,t,r){const i=n[Fh];throw e[NA]&&i.unshift(e[NA]),n.message=function s$(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==t$?n.slice(2):n;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(e$,"\n  ")}`}("\n"+n.message,i,t,r),n[Jj]=i,n[Fh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{wr(s),Ca(i)}}resolveInjectorInitializers(){const e=Ca(this),t=wr(void 0);try{const r=this.get(gf.multi,Ue,se.Self);for(const i of r)i()}finally{Ca(e),wr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let t=vo(e=ae(e))?e:ae(e&&e.provide);const r=function PH(n){return Oy(n)?$a(void 0,n.useValue):$a(Px(n),mf)}(e);if(vo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=$a(void 0,mf,!0),i.factory=()=>k_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===mf&&(t.value=RH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function OH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Vy(n){const e=Oh(n),t=null!==e?e.factory:fo(n);if(null!==t)return t;if(n instanceof L)throw new M(204,!1);if(n instanceof Function)return function MH(n){const e=n.length;if(e>0)throw function jc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new M(204,!1);const t=function Yj(n){return n&&(n[Nh]||n[kA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new M(204,!1)}function Px(n,e,t){let r;if(vo(n)){const i=ae(n);return fo(i)||Vy(i)}if(Oy(n))r=()=>ae(n.useValue);else if(function Rx(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...k_(n.deps||[]));else if(function xx(n){return!(!n||!n.useExisting)}(n))r=()=>x(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function kH(n){return!!n.deps}(n))return fo(i)||Vy(i);r=()=>new i(...k_(n.deps))}return r}function $a(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ly(n,e){for(const t of n)Array.isArray(t)?Ly(t,e):t&&x_(t)?Ly(t.\u0275providers,e):e(t)}class FH{}class kx{}class LH{resolveComponentFactory(e){throw function VH(n){const e=Error(`No component factory found for ${Je(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let bo=(()=>{class n{}return n.NULL=new LH,n})();function BH(){return Ha(hn(),O())}function Ha(n,e){return new nn(ar(n,e))}let nn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=BH,n})();function UH(n){return n instanceof nn?n.nativeElement:n}class Qc{}let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jH(){const n=O(),t=Wn(hn().index,n);return(sr(t)?t:n)[we]}(),n})(),$H=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>null}),n})();class bs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Nx=new bs("15.2.10"),By={},Uy="ngOriginalError";function jy(n){return n[Uy]}class Es{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jy(e);for(;t&&jy(t);)t=jy(t);return t||null}}function Fx(n){return n.ownerDocument}function Hi(n){return n instanceof Function?n():n}function Lx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Bx="ng-template";function ZH(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Lx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Ux(n){return 4===n.type&&n.value!==Bx}function JH(n,e,t){return e===(4!==n.type||t?n.value:Bx)}function ez(n,e,t){let r=4;const i=n.attrs||[],s=function rz(n){for(let e=0;e<n.length;e++)if(hS(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!JH(n,l,t)||""===l&&1===e.length){if(Hr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!ZH(n.attrs,c,t)){if(Hr(r))return!1;o=!0}continue}const d=tz(8&r?"class":l,i,Ux(n),t);if(-1===d){if(Hr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Lx(f,c,0)||2&r&&c!==h){if(Hr(r))return!1;o=!0}}}}else{if(!o&&!Hr(r)&&!Hr(l))return!1;if(o&&Hr(l))continue;o=!1,r=l|1&r}}return Hr(r)||o}function Hr(n){return 0==(1&n)}function tz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function iz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function jx(n,e,t=!1){for(let r=0;r<e.length;r++)if(ez(n,e[r],t))return!0;return!1}function $x(n,e){return n?":not("+e.trim()+")":e}function oz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Hr(o)&&(e+=$x(s,i),i=""),r=o,s=s||!Hr(r);t++}return""!==i&&(e+=$x(s,i)),e}const me={};function E(n){Hx(ke(),O(),Vn()+n,!1)}function Hx(n,e,t,r){if(!r)if(3==(3&e[be])){const s=n.preOrderCheckHooks;null!==s&&Kh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Qh(e,s,0,t)}po(t)}function qx(n,e=null,t=null,r){const i=Kx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Kx(n,e=null,t=null,r,i=new Set){const s=[t||Ue,AH(n)];return r=r||("object"==typeof n?void 0:Je(n)),new Mx(s,e||_f(),r||null,i)}let rn=(()=>{class n{static create(t,r){if(Array.isArray(t))return qx({name:""},r,t,"");{const i=t.name??"";return qx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Sc,n.NULL=new Dx,n.\u0275prov=j({token:n,providedIn:"any",factory:()=>x(Ix)}),n.__NG_ELEMENT_ID__=-1,n})();function R(n,e=se.Default){const t=O();return null===t?x(n,e):ES(hn(),t,ae(n),e)}function Wy(){throw new Error("invalid")}function t1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];G_(t[r]),o.contentQueries(2,e[s],s)}}}function vf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Bi]=i,d[be]=76|r,(null!==u||n&&1024&n[be])&&(d[be]|=1024),ZA(d),d[Ct]=d[Da]=n,d[St]=t,d[jh]=o||n&&n[jh],d[we]=a||n&&n[we],d[F_]=l||n&&n[F_]||null,d[Uh]=c||n&&n[Uh]||null,d[En]=s,d[Oc]=function I5(){return C5++}(),d[$A]=u,d[wn]=2==e.type?n[wn]:d,d}function Wa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function qy(n,e,t,r,i){const s=tS(),o=j_(),l=n.data[e]=function Pz(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function x$(){return ge.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Fc(){const n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ai(s,!0),s}function Yc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ky(n,e,t){W_(e);try{const r=n.viewQuery;null!==r&&rv(1,r,t);const i=n.template;null!==i&&n1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&t1(n,e),n.staticViewQueries&&rv(2,n.viewQuery,t);const s=n.components;null!==s&&function xz(n,e){for(let t=0;t<e.length;t++)Zz(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[be]&=-5,q_()}}function bf(n,e,t,r){const i=e[be];if(128!=(128&i)){W_(e);try{ZA(e),function rS(n){return ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&n1(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Kh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Qh(e,c,0,null),K_(e,0)}if(function Yz(n){for(let e=gy(n);null!==e;e=my(e)){if(!e[HA])continue;const t=e[Sa];for(let r=0;r<t.length;r++){const i=t[r];512&i[be]||U_(i[Ct],1),i[be]|=512}}}(e),function Qz(n){for(let e=gy(n);null!==e;e=my(e))for(let t=Nn;t<e.length;t++){const r=e[t],i=r[Q];Wh(r)&&bf(i,r,i.template,r[St])}}(e),null!==n.contentQueries&&t1(n,e),o){const c=n.contentCheckHooks;null!==c&&Kh(e,c)}else{const c=n.contentHooks;null!==c&&Qh(e,c,1),K_(e,1)}!function Az(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)po(~i);else{const s=i,o=t[++r],a=t[++r];R$(o,s),a(2,e[s])}}}finally{po(-1)}}(n,e);const a=n.components;null!==a&&function Sz(n,e){for(let t=0;t<e.length;t++)Xz(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&rv(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Kh(e,c)}else{const c=n.viewHooks;null!==c&&Qh(e,c,2),K_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[be]&=-41,512&e[be]&&(e[be]&=-513,U_(e[Ct],-1))}finally{q_()}}}function n1(n,e,t,r,i){const s=Vn(),o=2&r;try{po(-1),o&&e.length>ot&&Hx(n,e,ot,!1),Cr(o?2:0,i),t(r,i)}finally{po(s),Cr(o?3:1,i)}}function Qy(n,e,t){if(L_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Yy(n,e,t){eS()&&(function Bz(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Nc(t)&&function Wz(n,e,t){const r=ar(e,n),i=r1(t),s=n[jh],o=Ef(n,vf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Jh(t,e),Tn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=go(e,n,a,t);Tn(c,e),null!==o&&qz(0,a-i,c,l,0,o),$r(l)&&(Wn(t.index,e)[St]=go(e,n,a,t))}}(n,e,t,ar(t,e)),64==(64&t.flags)&&c1(n,e,t))}function Xy(n,e,t=ar){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function r1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Zy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Zy(n,e,t,r,i,s,o,a,l,c){const u=ot+r,d=u+i,h=function Rz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:me);return t}(u,d),f="function"==typeof c?c():c;return h[Q]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function s1(n,e,t,r){const i=d1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&h1(n).push(r,i.length-1))}function o1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?a1(t,e,i,s):r.hasOwnProperty(i)&&a1(t,e,r[i],s)}return t}function a1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ur(n,e,t,r,i,s,o,a){const l=ar(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(iv(n,t,u,r,i),Nc(e)&&function Nz(n,e){const t=Wn(e,n);16&t[be]||(t[be]|=32)}(t,e.index)):3&e.type&&(r=function Oz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Jy(n,e,t,r){if(eS()){const i=null===r?null:{"":-1},s=function jz(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(jx(e,o.selectors,!1))if(r||(r=[]),$r(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ev(n,e,a.length)}else r.unshift(o),ev(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&l1(n,e,t,o,i,a),i&&function $z(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new M(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Lc(t.mergedAttrs,t.attrs)}function l1(n,e,t,r,i,s){for(let c=0;c<r.length;c++)ey(Jh(t,e),n,r[c].type);!function zz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Yc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Lc(t.mergedAttrs,u.hostAttrs),Gz(n,t,e,l,u),Hz(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function kz(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=o1(d.inputs,u,l,h?h.inputs:null),c=o1(d.outputs,u,c,p);const _=null===l||null===o||Ux(e)?null:Kz(l,u,o);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function c1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function M$(){return ge.lFrame.currentDirectiveIndex}();try{po(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];H_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Uz(l,c)}}finally{po(-1),H_(o)}}function Uz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ev(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function Hz(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$r(e)&&(t[""]=n)}}function Gz(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=fo(i.type)),o=new Vc(s,$r(i),R);n.blueprint[r]=o,t[r]=o,function Vz(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Lz(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Yc(n,t,i.hostVars,me),i)}function hi(n,e,t,r,i,s){const o=ar(n,e);!function tv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?pe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[we],o,s,n.value,t,r,i)}function qz(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function Kz(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function u1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Xz(n,e){const t=Wn(e,n);if(Wh(t)){const r=t[Q];48&t[be]?bf(r,t,r.template,t[St]):t[ho]>0&&nv(t)}}function nv(n){for(let r=gy(n);null!==r;r=my(r))for(let i=Nn;i<r.length;i++){const s=r[i];if(Wh(s))if(512&s[be]){const o=s[Q];bf(o,s,o.template,s[St])}else s[ho]>0&&nv(s)}const t=n[Q].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Wn(t[r],n);Wh(i)&&i[ho]>0&&nv(i)}}function Zz(n,e){const t=Wn(e,n),r=t[Q];(function Jz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ky(r,t,t[St])}function Ef(n,e){return n[Pc]?n[jA][Ur]=e:n[Pc]=e,n[jA]=e,e}function wf(n){for(;n;){n[be]|=32;const e=Gc(n);if(d$(n)&&!e)return n;n=e}return null}function Cf(n,e,t,r=!0){const i=e[jh];i.begin&&i.begin();try{bf(n,e,n.template,t)}catch(o){throw r&&p1(e,o),o}finally{i.end&&i.end()}}function rv(n,e,t){G_(0),e(n,t)}function d1(n){return n[Ta]||(n[Ta]=[])}function h1(n){return n.cleanup||(n.cleanup=[])}function f1(n,e,t){return(null===n||$r(n))&&(t=function v$(n){for(;Array.isArray(n);){if("object"==typeof n[V_])return n;n=n[Bi]}return null}(t[e.index])),t[we]}function p1(n,e){const t=n[Uh],r=t?t.get(Es,null):null;r&&r.handleError(e)}function iv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function zi(n,e,t){const r=Gh(e,n);!function QS(n,e,t){n.setValue(e,t)}(n[we],r,t)}function If(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=A_(i,a):2==s&&(r=A_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Tf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(dn(s)),jr(s))for(let a=Nn;a<s.length;a++){const l=s[a],c=l[Q].firstChild;null!==c&&Tf(l[Q],l,c,r)}const o=t.type;if(8&o)Tf(n,e,t.child,r);else if(32&o){const a=py(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ox(e,t);if(Array.isArray(a))r.push(...a);else{const l=Gc(e[wn]);Tf(l[Q],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Xc{get rootNodes(){const e=this._lView,t=e[Q];return Tf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return 128==(128&this._lView[be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ct];if(jr(e)){const t=e[Hh],r=t?t.indexOf(this):-1;r>-1&&(vy(e,r),nf(t,r))}this._attachedToViewContainer=!1}XS(this._lView[Q],this._lView)}onDestroy(e){s1(this._lView[Q],this._lView,null,e)}markForCheck(){wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-65}reattach(){this._lView[be]|=64}detectChanges(){Cf(this._lView[Q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B5(n,e){Wc(n,e,e[we],2,null,null)}(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class e6 extends Xc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cf(e[Q],e,e[St],!1)}checkNoChanges(){}get context(){return null}}class g1 extends bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ze(e);return new Zc(t,this.ngModule)}}function m1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class n6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vh(r);const i=this.injector.get(e,By,r);return i!==By||t===By?i:this.parentInjector.get(e,t,r)}}class Zc extends kx{get inputs(){return m1(this.componentDef.inputs)}get outputs(){return m1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function az(n){return n.map(oz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ui?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new n6(e,s):e,a=o.get(Qc,null);if(null===a)throw new M(407,!1);const l=o.get($H,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function Mz(n,e,t){return n.selectRootElement(e,t===Br.ShadowDom)}(c,r,this.componentDef.encapsulation):yy(c,u,function t6(n){const e=n.toLowerCase();return"svg"===e?QA:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Zy(0,null,null,1,0,null,null,null,null,null),p=vf(null,f,null,h,null,null,a,c,l,o,null);let _,v;W_(p);try{const b=this.componentDef;let I,w=null;b.findHostDirectiveDefs?(I=[],w=new Map,b.findHostDirectiveDefs(b,I,w),I.push(b)):I=[b];const P=function i6(n,e){const t=n[Q],r=ot;return n[r]=e,Wa(t,r,2,"#host",null)}(p,d),K=function s6(n,e,t,r,i,s,o,a){const l=i[Q];!function o6(n,e,t,r){for(const i of n)e.mergedAttrs=Lc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(If(e,e.mergedAttrs,!0),null!==t&&cx(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=vf(i,r1(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&ev(l,n,r.length-1),Ef(i,u),i[n.index]=u}(P,d,b,I,p,a,c);v=XA(f,ot),d&&function l6(n,e,t,r){if(r)Y_(n,t,["ng-version",Nx.full]);else{const{attrs:i,classes:s}=function lz(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Hr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Y_(n,t,i),s&&s.length>0&&lx(n,t,s.join(" "))}}(c,b,d,r),void 0!==t&&function c6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(v,this.ngContentSelectors,t),_=function a6(n,e,t,r,i,s){const o=hn(),a=i[Q],l=ar(o,i);l1(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Tn(go(i,a,o.directiveStart+u,o),i);c1(a,i,o),l&&Tn(l,i);const c=go(i,a,o.directiveStart+o.componentOffset,o);if(n[St]=i[St]=c,null!==s)for(const u of s)u(c,e);return Qy(a,o,n),c}(K,b,I,w,p,[u6]),Ky(f,p,null)}finally{q_()}return new r6(this.componentType,_,Ha(v,p),p,v)}}class r6 extends FH{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new e6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;iv(s[Q],s,i,e,t),wf(Wn(this._tNode.index,s))}}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function u6(){const n=hn();qh(O()[Q],n)}function Le(n){let e=function _1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if($r(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=sv(n.inputs),o.declaredInputs=sv(n.declaredInputs),o.outputs=sv(n.outputs);const a=i.hostBindings;a&&p6(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&h6(n,l),c&&f6(n,c),D_(n.inputs,i.inputs),D_(n.declaredInputs,i.declaredInputs),D_(n.outputs,i.outputs),$r(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Le&&(t=!1)}}e=Object.getPrototypeOf(e)}!function d6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lc(i.hostAttrs,t=Lc(t,i.hostAttrs))}}(r)}function sv(n){return n===Vi?{}:n===Ue?[]:n}function h6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function f6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function p6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Df(n){return!!ov(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ov(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function fi(n,e,t){return n[e]=t}function Dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Eo(n,e,t,r){const i=Dn(n,e,t);return Dn(n,e+1,r)||i}function Af(n,e,t,r,i){const s=Eo(n,e,t,r);return Dn(n,e+2,i)||s}function dr(n,e,t,r){const i=O();return Dn(i,Ra(),e)&&(ke(),hi(_t(),i,n,e,t,r)),dr}function Ka(n,e,t,r){return Dn(n,Ra(),t)?e+pe(t)+r:me}function Ya(n,e,t,r,i,s,o,a){const c=Af(n,function Ui(){return ge.lFrame.bindingIndex}(),t,i,o);return ji(3),c?e+pe(t)+r+pe(i)+s+pe(o)+a:me}function H(n,e,t,r,i,s,o,a){const l=O(),c=ke(),u=n+ot,d=c.firstCreatePass?function I6(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Wa(e,n,4,o||null,vs(c,a));Jy(e,t,u,vs(c,l)),qh(e,u);const d=u.tView=Zy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ai(d,!1);const h=l[we].createComment("");cf(c,l,h,d),Tn(h,l),Ef(l,l[u]=u1(h,l,h,d)),zh(d)&&Yy(c,l,d),null!=o&&Xy(l,d,a)}function av(n){return xa(function S$(){return ge.lFrame.contextLView}(),ot+n)}function k(n,e,t){const r=O();return Dn(r,Ra(),e)&&ur(ke(),_t(),r,n,e,r[we],t,!1),k}function lv(n,e,t,r,i){const o=i?"class":"style";iv(n,t,e.inputs[o],o,r)}function g(n,e,t,r){const i=O(),s=ke(),o=ot+n,a=i[we],l=s.firstCreatePass?function D6(n,e,t,r,i,s){const o=e.consts,l=Wa(e,n,2,r,vs(o,i));return Jy(e,t,l,vs(o,s)),null!==l.attrs&&If(l,l.attrs,!1),null!==l.mergedAttrs&&If(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=yy(a,e,function V$(){return ge.lFrame.currentNamespace}()),u=zh(l);return ai(l,!0),cx(a,c,l),32!=(32&l.flags)&&cf(s,i,c,l),0===function C$(){return ge.lFrame.elementDepthCount}()&&Tn(c,i),function I$(){ge.lFrame.elementDepthCount++}(),u&&(Yy(s,i,l),Qy(s,l,i)),null!==r&&Xy(i,l),g}function m(){let n=hn();j_()?$_():(n=n.parent,ai(n,!1));const e=n;!function T$(){ge.lFrame.elementDepthCount--}();const t=ke();return t.firstCreatePass&&(qh(t,n),L_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function j$(n){return 0!=(8&n.flags)}(e)&&lv(t,e,O(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $$(n){return 0!=(16&n.flags)}(e)&&lv(t,e,O(),e.stylesWithoutHost,!1),m}function Ce(n,e,t,r){return g(n,e,t,r),m(),Ce}function Ge(n,e,t){const r=O(),i=ke(),s=n+ot,o=i.firstCreatePass?function A6(n,e,t,r,i){const s=e.consts,o=vs(s,r),a=Wa(e,n,8,"ng-container",o);return null!==o&&If(a,o,!0),Jy(e,t,a,vs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ai(o,!0);const a=r[s]=r[we].createComment("");return cf(i,r,a,o),Tn(a,r),zh(o)&&(Yy(i,r,o),Qy(i,o,r)),null!=t&&Xy(r,o),Ge}function We(){let n=hn();const e=ke();return j_()?$_():(n=n.parent,ai(n,!1)),e.firstCreatePass&&(qh(e,n),L_(n)&&e.queries.elementEnd(n)),We}function wo(n,e,t){return Ge(n,e,t),We(),wo}function xe(){return O()}function eu(n){return!!n&&"function"==typeof n.then}const cv=function R1(n){return!!n&&"function"==typeof n.subscribe};function V(n,e,t,r){const i=O(),s=ke(),o=hn();return M1(s,i,i[we],o,n,e,r),V}function uv(n,e){const t=hn(),r=O(),i=ke();return M1(i,r,f1(z_(i.data),t,r),t,n,e),uv}function M1(n,e,t,r,i,s,o){const a=zh(r),c=n.firstCreatePass&&h1(n),u=e[St],d=d1(e);let h=!0;if(3&r.type||o){const _=ar(r,e),v=o?o(_):_,b=d.length,I=o?P=>o(dn(P[r.index])):r.index;let w=null;if(!o&&a&&(w=function S6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ta],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=k1(r,e,u,s,!1);const P=t.listen(v,i,s);d.push(s,P),c&&c.push(i,I,b,b+1)}}else s=k1(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const _=p.length;if(_)for(let v=0;v<_;v+=2){const K=e[p[v]][p[v+1]].subscribe(s),X=d.length;d.push(s,K),c&&c.push(i,r.index,X,-(X+1))}}}function P1(n,e,t,r){try{return Cr(6,e,t),!1!==t(r)}catch(i){return p1(n,i),!1}finally{Cr(7,e,t)}}function k1(n,e,t,r,i){return function s(o){if(o===Function)return r;wf(n.componentOffset>-1?Wn(n.index,e):e);let l=P1(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=P1(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function T(n=1){return function k$(n){return(ge.lFrame.contextLView=function O$(n,e){for(;n>0;)e=e[Da],n--;return e}(n,ge.lFrame.contextLView))[St]}(n)}function dv(n,e,t){return hv(n,"",e,"",t),dv}function hv(n,e,t,r,i){const s=O(),o=Ka(s,e,t,r);return o!==me&&ur(ke(),_t(),s,n,o,s[we],i,!1),hv}function Sf(n,e){return n<<17|e<<2}function ws(n){return n>>17&32767}function fv(n){return 2|n}function Co(n){return(131068&n)>>2}function pv(n,e){return-131069&n|e<<2}function gv(n){return 1|n}function $1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ws(s):Co(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];V6(n[a],e)&&(l=!0,n[a+1]=r?gv(u):fv(u)),a=r?ws(u):Co(u)}l&&(n[t+1]=r?fv(s):gv(s))}function V6(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Va(n,e)>=0}const Qt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H1(n){return n.substring(Qt.key,Qt.keyEnd)}function z1(n,e){const t=Qt.textEnd;return t===e?-1:(e=Qt.keyEnd=function j6(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Qt.key=e,t),nl(n,e,t))}function nl(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Cs(n,e){return function zr(n,e,t,r){const i=O(),s=ke(),o=ji(2);s.firstUpdatePass&&X1(s,n,o,r),e!==me&&Dn(i,o,e)&&J1(s,s.data[Vn()],i,i[we],n,i[o+1]=function J6(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Je(cr(n)))),n}(e,t),r,o)}(n,e,null,!0),Cs}function gi(n,e){for(let t=function B6(n){return function W1(n){Qt.key=0,Qt.keyEnd=0,Qt.value=0,Qt.valueEnd=0,Qt.textEnd=n.length}(n),z1(n,nl(n,0,Qt.textEnd))}(e);t>=0;t=z1(e,t))lr(n,H1(e),!0)}function Y1(n,e){return e>=n.expandoStartIndex}function X1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Vn()],o=Y1(n,t);tR(s,r)&&null===e&&!o&&(e=!1),e=function W6(n,e,t,r){const i=z_(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=tu(t=mv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=mv(i,n,e,t,r),null===s){let l=function q6(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Co(r))return n[ws(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=mv(null,n,e,l[1],r),l=tu(l,e.attrs,r),function K6(n,e,t,r){n[ws(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Q6(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tu(r,n[s].hostAttrs,t);return tu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function N6(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ws(o),l=Co(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Va(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=ws(n[a+1]);n[r+1]=Sf(h,a),0!==h&&(n[h+1]=pv(n[h+1],r)),n[a+1]=function k6(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Sf(a,0),0!==a&&(n[a+1]=pv(n[a+1],r)),a=r;else n[r+1]=Sf(l,0),0===a?a=r:n[l+1]=pv(n[l+1],r),l=r;c&&(n[r+1]=fv(n[r+1])),$1(n,u,r,!0),$1(n,u,r,!1),function F6(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Va(s,e)>=0&&(t[r+1]=gv(t[r+1]))}(e,u,n,r,s),o=Sf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function mv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=tu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function tu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),lr(n,o,!!t||e[++s]))}return void 0===n?null:n}function J1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function O6(n){return 1==(1&n)}(c)?eR(l,e,t,i,Co(c),o):void 0;xf(u)||(xf(s)||function P6(n){return 2==(2&n)}(c)&&(s=eR(l,null,t,i,a,o)),function Q5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:qn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qn.Important),n.setStyle(t,r,i,s))}}(r,o,Gh(Vn(),t),i,s))}function eR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===me&&(h=d?Ue:void 0);let f=d?iy(h,r):u===r?h:void 0;if(c&&!xf(f)&&(f=iy(l,r)),xf(f)&&(a=f,o))return a;const p=n[i+1];i=o?ws(p):Co(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=iy(l,r))}return a}function xf(n){return void 0!==n}function tR(n,e){return 0!=(n.flags&(e?8:16))}function y(n,e=""){const t=O(),r=ke(),i=n+ot,s=r.firstCreatePass?Wa(r,i,1,e,null):r.data[i],o=t[i]=function _y(n,e){return n.createText(e)}(t[we],e);cf(r,t,o,s),ai(s,!1)}function yt(n){return J("",n,""),yt}function J(n,e,t){const r=O(),i=Ka(r,n,e,t);return i!==me&&zi(r,Vn(),i),J}function _v(n,e,t,r,i,s,o){const a=O(),l=Ya(a,n,e,t,r,i,s,o);return l!==me&&zi(a,Vn(),l),_v}function rl(n,e,t){!function Gr(n,e,t,r){const i=ke(),s=ji(2);i.firstUpdatePass&&X1(i,null,s,r);const o=O();if(t!==me&&Dn(o,s,t)){const a=i.data[Vn()];if(tR(a,r)&&!Y1(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=A_(l,t||"")),lv(i,a,o,t,r)}else!function Z6(n,e,t,r,i,s,o,a){i===me&&(i=Ue);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let _,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,_=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,_=f),null!==p&&J1(n,e,t,r,p,_,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[we],o[s+1],o[s+1]=function Y6(n,e,t){if(null==t||""===t)return Ue;const r=[],i=cr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(lr,gi,Ka(O(),n,e,t),!0)}function yv(n,e,t){const r=O();return Dn(r,Ra(),e)&&ur(ke(),_t(),r,n,e,r[we],t,!0),yv}function vv(n,e,t){const r=O();if(Dn(r,Ra(),e)){const s=ke(),o=_t();ur(s,o,r,n,e,f1(z_(s.data),o,r),t,!0)}return vv}const Io=void 0;var yG=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _G(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let il={};function Ln(n){const e=function vG(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=vR(e);if(t)return t;const r=e.split("-")[0];if(t=vR(r),t)return t;if("en"===r)return yG;throw new M(701,!1)}function vR(n){return n in il||(il[n]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[n]),il[n]}var q=(()=>((q=q||{})[q.LocaleId=0]="LocaleId",q[q.DayPeriodsFormat=1]="DayPeriodsFormat",q[q.DayPeriodsStandalone=2]="DayPeriodsStandalone",q[q.DaysFormat=3]="DaysFormat",q[q.DaysStandalone=4]="DaysStandalone",q[q.MonthsFormat=5]="MonthsFormat",q[q.MonthsStandalone=6]="MonthsStandalone",q[q.Eras=7]="Eras",q[q.FirstDayOfWeek=8]="FirstDayOfWeek",q[q.WeekendRange=9]="WeekendRange",q[q.DateFormat=10]="DateFormat",q[q.TimeFormat=11]="TimeFormat",q[q.DateTimeFormat=12]="DateTimeFormat",q[q.NumberSymbols=13]="NumberSymbols",q[q.NumberFormats=14]="NumberFormats",q[q.CurrencyCode=15]="CurrencyCode",q[q.CurrencySymbol=16]="CurrencySymbol",q[q.CurrencyName=17]="CurrencyName",q[q.Currencies=18]="Currencies",q[q.Directionality=19]="Directionality",q[q.PluralCase=20]="PluralCase",q[q.ExtraData=21]="ExtraData",q))();const sl="en-US";let bR=sl;function wv(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let s=0;s<n.length;s++)wv(n[s],e,t,r,i);else{const s=ke(),o=O();let a=vo(n)?n:ae(n.provide),l=Px(n);const c=hn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(vo(n)||!n.multi){const f=new Vc(l,i,R),p=Iv(a,e,i?u:u+h,d);-1===p?(ey(Jh(c,o),s,a),Cv(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Iv(a,e,u+h,d),p=Iv(a,e,u,u+h),v=p>=0&&t[p];if(i&&!v||!i&&!(f>=0&&t[f])){ey(Jh(c,o),s,a);const b=function m9(n,e,t,r,i){const s=new Vc(n,t,R);return s.multi=[],s.index=e,s.componentProviders=0,GR(s,i,r&&!t),s}(i?g9:p9,t.length,i,r,l);!i&&v&&(t[p].providerFactory=b),Cv(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else Cv(s,n,f>-1?f:p,GR(t[i?p:f],l,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function Cv(n,e,t,r){const i=vo(e),s=function xH(n){return!!n.useClass}(e);if(i||s){const l=(s?ae(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function GR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Iv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function p9(n,e,t,r){return Tv(this.multi,[])}function g9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=go(t,t[Q],this.providerFactory.index,r);s=a.slice(0,o),Tv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Tv(i,s);return s}function Tv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function at(n,e=[]){return t=>{t.providersResolver=(r,i)=>function f9(n,e,t){const r=ke();if(r.firstCreatePass){const i=$r(n);wv(t,r.data,r.blueprint,i,!0),wv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ol{}class WR{}class qR extends ol{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new g1(this);const r=ir(e);this._bootstrapComponents=Hi(r.bootstrap),this._r3Injector=Kx(e,t,[{provide:ol,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dv extends WR{constructor(e){super(),this.moduleType=e}create(e){return new qR(this.moduleType,e)}}class y9 extends ol{constructor(e,t,r){super(),this.componentFactoryResolver=new g1(this),this.instance=null;const i=new Mx([...e,{provide:ol,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],t||_f(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Of(n,e,t=null){return new y9(n,e,t).injector}let v9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Ax(0,t.type),i=r.length>0?Of([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(x(ui))}),n})();function KR(n){n.getStandaloneInjector=e=>e.get(v9).getOrCreateStandaloneInjector(n)}function au(n,e,t){const r=Fn()+n,i=O();return i[r]===me?fi(i,r,t?e.call(t):e()):function Jc(n,e){return n[e]}(i,r)}function To(n,e,t,r){return function tM(n,e,t,r,i,s){const o=e+t;return Dn(n,o,i)?fi(n,o+1,s?r.call(s,i):r(i)):lu(n,o+1)}(O(),Fn(),n,e,t,r)}function Sv(n,e,t,r,i){return nM(O(),Fn(),n,e,t,r,i)}function lu(n,e){const t=n[e];return t===me?void 0:t}function nM(n,e,t,r,i,s,o){const a=e+t;return Eo(n,a,i,s)?fi(n,a+2,o?r.call(o,i,s):r(i,s)):lu(n,a+2)}function Nf(n,e){const t=ke();let r;const i=n+ot;t.firstCreatePass?(r=function N9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=fo(r.type)),o=wr(R);try{const a=Zh(!1),l=s();return Zh(a),function T6(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,O(),i,l),l}finally{wr(o)}}function xv(n,e,t,r){const i=n+ot,s=O(),o=xa(s,i);return cu(s,i)?nM(s,Fn(),e,o.transform,t,r,o):o.transform(t,r)}function oM(n,e,t,r,i){const s=n+ot,o=O(),a=xa(o,s);return cu(o,s)?function rM(n,e,t,r,i,s,o,a){const l=e+t;return Af(n,l,i,s,o)?fi(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):lu(n,l+3)}(o,Fn(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function cu(n,e){return n[Q].data[e].pure}function Rv(n){return e=>{setTimeout(n,void 0,e)}}const Be=class B9 extends ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Rv(s),i&&(i=Rv(i)),o&&(o=Rv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof vn&&e.add(a),a}};function U9(){return this._results[Symbol.iterator]()}class Mv{get changes(){return this._changes||(this._changes=new Be)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Mv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=U9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ir(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Z$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wr=(()=>{class n{}return n.__NG_ELEMENT_ID__=H9,n})();const j9=Wr,$9=class extends j9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=vf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[kc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[oi];return null!==o&&(i[oi]=o.createEmbeddedView(r)),Ky(r,i,e),new Xc(i)}};function H9(){return Ff(hn(),O())}function Ff(n,e){return 4&n.type?new $9(e,n,Ha(n,e)):null}let Dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=z9,n})();function z9(){return cM(hn(),O())}const G9=Dr,aM=class extends G9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const e=J_(this._hostTNode,this._hostLView);if(gS(e)){const t=Xh(e,this._hostLView),r=Yh(e);return new Pa(t[Q].data[r+8],t)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=lM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Uc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Zc(ze(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(ui,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[Q];if(function w$(n){return jr(n[Ct])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[Ct],h=new aM(d,d[En],d[Ct]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function j5(n,e,t,r){const i=Nn+r,s=t.length;r>0&&(t[i-1][Ur]=e),r<s-Nn?(e[Ur]=t[i],AS(t,Nn+r,e)):(t.push(e),e[Ur]=null),e[Ct]=t;const o=e[kc];null!==o&&t!==o&&function $5(n,e){const t=n[Sa];e[wn]!==e[Ct][Ct][wn]&&(n[HA]=!0),null===t?n[Sa]=[e]:t.push(e)}(o,e);const a=e[oi];null!==a&&a.insertView(n),e[be]|=64}(i,r,o,s);const a=wy(s,o),l=r[we],c=lf(l,o[$h]);return null!==c&&function L5(n,e,t,r,i,s){r[Bi]=i,r[En]=e,Wc(n,r,t,1,i,s)}(i,o[En],l,r,c,a),e.attachToViewContainerRef(),AS(Pv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=lM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);r&&(nf(Pv(this._lContainer),t),XS(r[Q],r))}detach(e){const t=this._adjustIndex(e,-1),r=vy(this._lContainer,t);return r&&null!=nf(Pv(this._lContainer),t)?new Xc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lM(n){return n[Hh]}function Pv(n){return n[Hh]||(n[Hh]=[])}function cM(n,e){let t;const r=e[n.index];if(jr(r))t=r;else{let i;if(8&n.type)i=dn(r);else{const s=e[we];i=s.createComment("");const o=ar(n,e);_o(s,lf(s,o),i,function W5(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=u1(r,e,i,n),Ef(e,t)}return new aM(t,n,e)}class kv{constructor(e){this.queryList=e,this.matches=null}clone(){return new kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ov{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ov(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==pM(e,t).matches&&this.queries[t].setDirty()}}class uM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Nv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Nv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Fv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,W9(t,s)),this.matchTNodeWithReadOption(e,t,ef(t,e,s,!1,!1))}else r===Wr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ef(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===nn||i===Dr||i===Wr&&4&t.type)this.addMatch(t.index,-2);else{const s=ef(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function W9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function K9(n,e,t,r){return-1===t?function q9(n,e){return 11&n.type?Ha(n,e):4&n.type?Ff(n,e):null}(e,n):-2===t?function Q9(n,e,t){return t===nn?Ha(e,n):t===Wr?Ff(e,n):t===Dr?cM(e,n):void 0}(n,e,r):go(n,n[Q],t,e)}function dM(n,e,t,r){const i=e[oi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:K9(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Vv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=dM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Nn;d<u.length;d++){const h=u[d];h[kc]===h[Ct]&&Vv(h[Q],h,c,r)}if(null!==u[Sa]){const d=u[Sa];for(let h=0;h<d.length;h++){const f=d[h];Vv(f[Q],f,c,r)}}}}}return r}function Do(n){const e=O(),t=ke(),r=sS();G_(r+1);const i=pM(t,r);if(n.dirty&&function E$(n){return 4==(4&n[be])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Vv(t,e,r,[]):dM(t,e,i,r);n.reset(s,UH),n.notifyOnChanges()}return!0}return!1}function uu(n,e,t){const r=ke();r.firstCreatePass&&(fM(r,new uM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),hM(r,O(),e)}function Ao(){return function Y9(n,e){return n[oi].queries[e].queryList}(O(),sS())}function hM(n,e,t){const r=new Mv(4==(4&t));s1(n,e,r,r.destroy),null===e[oi]&&(e[oi]=new Ov),e[oi].queries.push(new kv(r))}function fM(n,e,t){null===n.queries&&(n.queries=new Nv),n.queries.track(new Fv(e,t))}function pM(n,e){return n.queries.getByIndex(e)}function Bv(n,e){return Ff(n,e)}function Lf(...n){}const Bf=new L("Application Initializer");let Uf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Lf,this.reject=Lf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(eu(s))t.push(s);else if(cv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(x(Bf,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hu=new L("AppId",{providedIn:"root",factory:function PM(){return`${Gv()}${Gv()}${Gv()}`}});function Gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kM=new L("Platform Initializer"),fu=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wv=new L("AnimationModuleType");let _8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const mi=new L("LocaleId",{providedIn:"root",factory:()=>_e(mi,se.Optional|se.SkipSelf)||function y8(){return typeof $localize<"u"&&$localize.locale||sl}()});class b8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let OM=(()=>{class n{compileModuleSync(t){return new Dv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Hi(ir(t).declarations).reduce((o,a)=>{const l=ze(a);return l&&o.push(new Zc(l)),o},[]);return new b8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C8=(()=>Promise.resolve(0))();function qv(n){typeof Zone>"u"?C8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I8(){let n=it.requestAnimationFrame,e=it.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function A8(n){const e=()=>{!function D8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(it,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qv(n),n.isCheckStableRunning=!0,Kv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return VM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),LM(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return VM(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),LM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Qv(n),Kv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,T8,Lf,Lf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const T8={};function Kv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LM(n){n._nesting--,Kv(n)}class S8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const BM=new L(""),jf=new L("");let Zv,Yv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zv||(function x8(n){Zv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),qv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(Xv),x(jf))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),Xv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Zv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Gi=!1;let Is=null;const UM=new L("AllowMultipleToken"),Jv=new L("PlatformDestroyListeners"),jM=new L("appBootstrapListener");class $M{constructor(e,t){this.name=e,this.token=t}}function zM(n,e,t=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=e0();if(!o||o.injector.get(UM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function P8(n){if(Is&&!Is.get(UM,!1))throw new M(400,!1);Is=n;const e=n.get(WM);(function HM(n){const e=n.get(kM,null);e&&e.forEach(t=>t())})(n)}(function GM(n=[],e){return rn.create({name:e,providers:[{provide:Ny,useValue:"platform"},{provide:Jv,useValue:new Set([()=>Is=null])},...n]})}(a,r))}return function O8(n){const e=e0();if(!e)throw new M(401,!1);return e}()}}function e0(){return Is?.get(WM)??null}let WM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function KM(n,e){let t;return t="noop"===n?new S8:("zone.js"===n?void 0:n)||new Re(e),t}(r?.ngZone,function qM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Re,useValue:i}];return i.run(()=>{const o=rn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Es,null);if(!l)throw new M(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{$f(this._modules,a),c.unsubscribe()})}),function QM(n,e,t){try{const r=t();return eu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Uf);return c.runInitializers(),c.donePromise.then(()=>(function ER(n){Er(n,"Expected localeId to be defined"),"string"==typeof n&&(bR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(mi,sl)||sl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=YM({},r);return function R8(n,e,t){const r=new Dv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(cl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new M(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Jv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(x(rn))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function YM(n,e){return Array.isArray(e)?e.reduce(YM,n):{...n,...e}}let cl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ze(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),qv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=xA(s,o.pipe(function RA(n={}){const{connector:e=(()=>new ht),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const _=o;f(),_?.unsubscribe()};return wt((_,v)=>{c++,!d&&!u&&h();const b=l=l??e();v.add(()=>{c--,0===c&&!d&&!u&&(a=T_(p,i))}),b.subscribe(v),!o&&c>0&&(o=new Dc({next:I=>b.next(I),error:I=>{d=!0,h(),a=T_(f,t,I),b.error(I)},complete:()=>{u=!0,h(),a=T_(f,r),b.complete()}}),zn(_).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof kx;if(!this._injector.get(Uf).done){!i&&function Ia(n){const e=ze(n)||bn(n)||Gn(n);return null!==e&&e.standalone}(t);throw new M(405,Gi)}let o;o=i?t:this._injector.get(bo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function M8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ol),c=o.create(rn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(BM,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),$f(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$f(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(jM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$f(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(ui),x(Es))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $f(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let pu=(()=>{class n{}return n.__NG_ELEMENT_ID__=F8,n})();function F8(n){return function V8(n,e,t){if(Nc(n)&&!t){const r=Wn(n.index,e);return new Xc(r,r)}return 47&n.type?new Xc(e[wn],e):null}(hn(),O(),16==(16&n))}class tP{constructor(){}supports(e){return Df(e)}create(e){return new H8(e)}}const $8=(n,e)=>e;class H8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rP(r,i,s)?t:r,a=rP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Df(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function E6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new z8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class z8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nP{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new G8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rP(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iP{constructor(){}supports(e){return e instanceof Map||ov(e)}create(){return new W8}}class W8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ov(e)))throw new M(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new q8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class q8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sP(){return new Gf([new tP])}let Gf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sP()),deps:[[n,new La,new In]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new M(901,!1)}}return n.\u0275prov=j({token:n,providedIn:"root",factory:sP}),n})();function oP(){return new gu([new iP])}let gu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oP()),deps:[[n,new La,new In]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new M(901,!1)}}return n.\u0275prov=j({token:n,providedIn:"root",factory:oP}),n})();const Y8=zM(null,"core",[]);let X8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(x(cl))},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})();function ul(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let o0=null;function Wi(){return o0}class eW{}const Ie=new L("DocumentToken");let a0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return function tW(){return x(aP)}()},providedIn:"platform"}),n})();const nW=new L("Location Initialized");let aP=(()=>{class n extends a0{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wi().getBaseHref(this._doc)}onPopState(t){const r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){lP()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){lP()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:function(){return function rW(){return new aP(x(Ie))}()},providedIn:"platform"}),n})();function lP(){return!!window.history.pushState}function l0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qi(n){return n&&"?"!==n[0]?"?"+n:n}let xo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return _e(dP)},providedIn:"root"}),n})();const uP=new L("appBaseHref");let dP=(()=>{class n extends xo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_e(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return l0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+qi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+qi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(x(a0),x(uP,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iW=(()=>{class n extends xo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=l0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(x(a0),x(uP,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),mu=(()=>{class n{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function aW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cP(hP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qi(r))}normalize(t){return n.stripTrailingSlash(function oW(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,hP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qi,n.joinWithSlash=l0,n.stripTrailingSlash=cP,n.\u0275fac=function(t){return new(t||n)(x(xo))},n.\u0275prov=j({token:n,factory:function(){return function sW(){return new mu(x(xo))}()},providedIn:"root"}),n})();function hP(n){return n.replace(/\/index.html$/,"")}var xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),vt=(()=>((vt=vt||{})[vt.Short=0]="Short",vt[vt.Medium=1]="Medium",vt[vt.Long=2]="Long",vt[vt.Full=3]="Full",vt))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function Wf(n,e){return Sr(Ln(n)[q.DateFormat],e)}function qf(n,e){return Sr(Ln(n)[q.TimeFormat],e)}function Kf(n,e){return Sr(Ln(n)[q.DateTimeFormat],e)}function Ar(n,e){const t=Ln(n),r=t[q.NumberSymbols][e];if(typeof r>"u"){if(e===oe.CurrencyDecimal)return t[q.NumberSymbols][oe.Decimal];if(e===oe.CurrencyGroup)return t[q.NumberSymbols][oe.Group]}return r}function pP(n){if(!n[q.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[q.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function u0(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const bW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_u={},EW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),ce=(()=>((ce=ce||{})[ce.FullYear=0]="FullYear",ce[ce.Month=1]="Month",ce[ce.Date=2]="Date",ce[ce.Hours=3]="Hours",ce[ce.Minutes=4]="Minutes",ce[ce.Seconds=5]="Seconds",ce[ce.FractionalSeconds=6]="FractionalSeconds",ce[ce.Day=7]="Day",ce))(),Ee=(()=>((Ee=Ee||{})[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee))();function wW(n,e,t,r){let i=function MW(n){if(_P(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Qf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(bW))return function PW(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!_P(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ki(t,e)||e;let a,o=[];for(;e;){if(a=EW.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=mP(r,l),i=function RW(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function xW(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(mP(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const d=function SW(n){if(h0[n])return h0[n];let e;switch(n){case"G":case"GG":case"GGG":e=tt(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=tt(Ee.Eras,Ae.Wide);break;case"GGGGG":e=tt(Ee.Eras,Ae.Narrow);break;case"y":e=jt(ce.FullYear,1,0,!1,!0);break;case"yy":e=jt(ce.FullYear,2,0,!0,!0);break;case"yyy":e=jt(ce.FullYear,3,0,!1,!0);break;case"yyyy":e=jt(ce.FullYear,4,0,!1,!0);break;case"Y":e=Jf(1);break;case"YY":e=Jf(2,!0);break;case"YYY":e=Jf(3);break;case"YYYY":e=Jf(4);break;case"M":case"L":e=jt(ce.Month,1,1);break;case"MM":case"LL":e=jt(ce.Month,2,1);break;case"MMM":e=tt(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=tt(Ee.Months,Ae.Wide);break;case"MMMMM":e=tt(Ee.Months,Ae.Narrow);break;case"LLL":e=tt(Ee.Months,Ae.Abbreviated,xt.Standalone);break;case"LLLL":e=tt(Ee.Months,Ae.Wide,xt.Standalone);break;case"LLLLL":e=tt(Ee.Months,Ae.Narrow,xt.Standalone);break;case"w":e=d0(1);break;case"ww":e=d0(2);break;case"W":e=d0(1,!0);break;case"d":e=jt(ce.Date,1);break;case"dd":e=jt(ce.Date,2);break;case"c":case"cc":e=jt(ce.Day,1);break;case"ccc":e=tt(Ee.Days,Ae.Abbreviated,xt.Standalone);break;case"cccc":e=tt(Ee.Days,Ae.Wide,xt.Standalone);break;case"ccccc":e=tt(Ee.Days,Ae.Narrow,xt.Standalone);break;case"cccccc":e=tt(Ee.Days,Ae.Short,xt.Standalone);break;case"E":case"EE":case"EEE":e=tt(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=tt(Ee.Days,Ae.Wide);break;case"EEEEE":e=tt(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=tt(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=tt(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=tt(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=tt(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=tt(Ee.DayPeriods,Ae.Abbreviated,xt.Standalone,!0);break;case"bbbb":e=tt(Ee.DayPeriods,Ae.Wide,xt.Standalone,!0);break;case"bbbbb":e=tt(Ee.DayPeriods,Ae.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=tt(Ee.DayPeriods,Ae.Abbreviated,xt.Format,!0);break;case"BBBB":e=tt(Ee.DayPeriods,Ae.Wide,xt.Format,!0);break;case"BBBBB":e=tt(Ee.DayPeriods,Ae.Narrow,xt.Format,!0);break;case"h":e=jt(ce.Hours,1,-12);break;case"hh":e=jt(ce.Hours,2,-12);break;case"H":e=jt(ce.Hours,1);break;case"HH":e=jt(ce.Hours,2);break;case"m":e=jt(ce.Minutes,1);break;case"mm":e=jt(ce.Minutes,2);break;case"s":e=jt(ce.Seconds,1);break;case"ss":e=jt(ce.Seconds,2);break;case"S":e=jt(ce.FractionalSeconds,1);break;case"SS":e=jt(ce.FractionalSeconds,2);break;case"SSS":e=jt(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xf(Yt.Short);break;case"ZZZZZ":e=Xf(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xf(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xf(Yt.Long);break;default:return null}return h0[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Qf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ki(n,e){const t=function lW(n){return Ln(n)[q.LocaleId]}(n);if(_u[t]=_u[t]||{},_u[t][e])return _u[t][e];let r="";switch(e){case"shortDate":r=Wf(n,vt.Short);break;case"mediumDate":r=Wf(n,vt.Medium);break;case"longDate":r=Wf(n,vt.Long);break;case"fullDate":r=Wf(n,vt.Full);break;case"shortTime":r=qf(n,vt.Short);break;case"mediumTime":r=qf(n,vt.Medium);break;case"longTime":r=qf(n,vt.Long);break;case"fullTime":r=qf(n,vt.Full);break;case"short":const i=Ki(n,"shortTime"),s=Ki(n,"shortDate");r=Yf(Kf(n,vt.Short),[i,s]);break;case"medium":const o=Ki(n,"mediumTime"),a=Ki(n,"mediumDate");r=Yf(Kf(n,vt.Medium),[o,a]);break;case"long":const l=Ki(n,"longTime"),c=Ki(n,"longDate");r=Yf(Kf(n,vt.Long),[l,c]);break;case"full":const u=Ki(n,"fullTime"),d=Ki(n,"fullDate");r=Yf(Kf(n,vt.Full),[u,d])}return r&&(_u[t][e]=r),r}function Yf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Kr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function jt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function IW(n,e){switch(n){case ce.FullYear:return e.getFullYear();case ce.Month:return e.getMonth();case ce.Date:return e.getDate();case ce.Hours:return e.getHours();case ce.Minutes:return e.getMinutes();case ce.Seconds:return e.getSeconds();case ce.FractionalSeconds:return e.getMilliseconds();case ce.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===ce.Hours)0===a&&-12===t&&(a=12);else if(n===ce.FractionalSeconds)return function CW(n,e){return Kr(n,3).substring(0,e)}(a,e);const l=Ar(o,oe.MinusSign);return Kr(a,e,l,r,i)}}function tt(n,e,t=xt.Format,r=!1){return function(i,s){return function TW(n,e,t,r,i,s){switch(t){case Ee.Months:return function dW(n,e,t){const r=Ln(n),s=Sr([r[q.MonthsFormat],r[q.MonthsStandalone]],e);return Sr(s,t)}(e,i,r)[n.getMonth()];case Ee.Days:return function uW(n,e,t){const r=Ln(n),s=Sr([r[q.DaysFormat],r[q.DaysStandalone]],e);return Sr(s,t)}(e,i,r)[n.getDay()];case Ee.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function gW(n){const e=Ln(n);return pP(e),(e[q.ExtraData][2]||[]).map(r=>"string"==typeof r?u0(r):[u0(r[0]),u0(r[1])])}(e),u=function mW(n,e,t){const r=Ln(n);pP(r);const s=Sr([r[q.ExtraData][0],r[q.ExtraData][1]],e)||[];return Sr(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=o>=f.hours&&a>=f.minutes,v=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&v)return!0}else if(_||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function cW(n,e,t){const r=Ln(n),s=Sr([r[q.DayPeriodsFormat],r[q.DayPeriodsStandalone]],e);return Sr(s,t)}(e,i,r)[o<12?0:1];case Ee.Eras:return function hW(n,e){return Sr(Ln(n)[q.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Xf(n){return function(e,t,r){const i=-1*r,s=Ar(t,oe.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Yt.Short:return(i>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(i%60),2,s);case Yt.ShortGMT:return"GMT"+(i>=0?"+":"")+Kr(o,1,s);case Yt.Long:return"GMT"+(i>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(i%60),2,s);case Yt.Extended:return 0===r?"Z":(i>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const DW=0,Zf=4;function gP(n){return Qf(n.getFullYear(),n.getMonth(),n.getDate()+(Zf-n.getDay()))}function d0(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=gP(t),o=function AW(n){const e=Qf(n,DW,1).getDay();return Qf(n,0,1+(e<=Zf?Zf:Zf+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Kr(i,n,Ar(r,oe.MinusSign))}}function Jf(n,e=!1){return function(t,r){return Kr(gP(t).getFullYear(),n,Ar(r,oe.MinusSign),e)}}const h0={};function mP(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _P(n){return n instanceof Date&&!isNaN(n.valueOf())}function EP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const y0=/\s+/,wP=[];let CP=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=wP,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(y0):wP}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(y0):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(y0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(R(Gf),R(gu),R(nn),R(di))},n.\u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class GW{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new GW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),DP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{DP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(R(Dr),R(Wr),R(Gf))},n.\u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function DP(n,e){n.context.$implicit=e.item}let _i=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(R(Dr),R(Wr))},n.\u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qW{constructor(){this.$implicit=null,this.ngIf=null}}function AP(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Je(e)}'.`)}let xP=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(R(Dr))},n.\u0275dir=le({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[or]}),n})();const lq=new L("DATE_PIPE_DEFAULT_TIMEZONE"),cq=new L("DATE_PIPE_DEFAULT_OPTIONS");let vu=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return wW(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Yr(n,e){return new M(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(R(mi,16),R(lq,24),R(cq,24))},n.\u0275pipe=On({name:"date",type:n,pure:!0,standalone:!0}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})();const PP="browser";let Cq=(()=>{class n{}return n.\u0275prov=j({token:n,providedIn:"root",factory:()=>new Iq(x(Ie),window)}),n})();class Iq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Tq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kP(this.window.history)||kP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class OP{}class Zq extends eW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T0 extends Zq{static makeCurrent(){!function J8(n){o0||(o0=n)}(new T0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jq(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}();return null==t?null:function e7(n){rp=rp||document.createElement("a"),rp.setAttribute("href",n);const e=rp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return EP(document.cookie,e)}}let rp,Eu=null;const BP=new L("TRANSITION_ID"),n7=[{provide:Bf,useFactory:function t7(n,e,t){return()=>{t.get(Uf).donePromise.then(()=>{const r=Wi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[BP,Ie,rn],multi:!0}];let i7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const ip=new L("EventManagerPlugins");let sp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(x(ip),x(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class UP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Wi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let jP=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),wu=(()=>{class n extends jP{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const D0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A0=/%COMP%/g,zP=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function GP(n,e){return e.flat(100).map(t=>t.replace(A0,n))}function WP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let op=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new S0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof QP?i.applyToHost(t):i instanceof x0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Br.Emulated:s=new QP(o,a,r,this.appId,l);break;case Br.ShadowDom:return new d7(o,a,t,r);default:s=new x0(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(x(sp),x(wu),x(hu),x(zP))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class S0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(D0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(KP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=D0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=D0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(t,r,i&qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,WP(r)):this.eventManager.addEventListener(e,t,WP(r))}}function KP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class d7 extends S0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=GP(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class x0 extends S0{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=GP(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class QP extends x0{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function l7(n){return"_ngcontent-%COMP%".replace(A0,n)}(o),this.hostAttr=function c7(n){return"_nghost-%COMP%".replace(A0,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let h7=(()=>{class n extends UP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const YP=["alt","control","meta","shift"],f7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let g7=(()=>{class n extends UP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),YP.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=f7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),YP.forEach(o=>{o!==i&&(0,p7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const ZP=[{provide:fu,useValue:PP},{provide:kM,useValue:function m7(){T0.makeCurrent()},multi:!0},{provide:Ie,useFactory:function y7(){return function eH(n){Dy=n}(document),document},deps:[]}],v7=zM(Y8,"browser",ZP),JP=new L(""),ek=[{provide:jf,useClass:class r7{addToWindow(e){it.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},it.getAllAngularTestabilities=()=>e.getAllTestabilities(),it.getAllAngularRootElements=()=>e.getAllRootElements(),it.frameworkStabilizers||(it.frameworkStabilizers=[]),it.frameworkStabilizers.push(r=>{const i=it.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Wi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:BM,useClass:Yv,deps:[Re,Xv,jf]},{provide:Yv,useClass:Yv,deps:[Re,Xv,jf]}],tk=[{provide:Ny,useValue:"root"},{provide:Es,useFactory:function _7(){return new Es},deps:[]},{provide:ip,useClass:h7,multi:!0,deps:[Ie,Re,fu]},{provide:ip,useClass:g7,multi:!0,deps:[Ie]},{provide:op,useClass:op,deps:[sp,wu,hu,zP]},{provide:Qc,useExisting:op},{provide:jP,useExisting:wu},{provide:wu,useClass:wu,deps:[Ie]},{provide:sp,useClass:sp,deps:[ip,Re]},{provide:OP,useClass:i7,deps:[]},[]];let k0,nk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:hu,useValue:t.appId},{provide:BP,useExisting:hu},n7]}}}return n.\u0275fac=function(t){return new(t||n)(x(JP,12))},n.\u0275mod=st({type:n}),n.\u0275inj=et({providers:[...tk,...ek],imports:[MP,X8]}),n})(),rk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:function(t){let r=null;return r=t?new t:function E7(){return new rk(x(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{k0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{k0=!1}let Cu,Ro,N0,Qi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function wq(n){return n===PP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(x(fu))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O0(n){return function A7(){if(null==Cu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cu=!0}))}finally{Cu=Cu||!1}return Cu}()?n:!!n.capture}function S7(){if(null==Ro){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ro=!1,Ro;if("scrollBehavior"in document.documentElement.style)Ro=!0;else{const n=Element.prototype.scrollTo;Ro=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ro}function F0(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Mo(n){return n.composedPath?n.composedPath()[0]:n.target}function V0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class xr extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ne(...n){return Lt(n,Ac(n))}function Xr(n){return n<=0?()=>ii:wt((e,t)=>{let r=0;e.subscribe(ft(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Tt(n,e){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>n.call(e,s,i++)&&r.next(s)))})}function U7(n,e){return n===e}function lk(n){return wt((e,t)=>{zn(n).subscribe(ft(t,()=>t.complete(),h_)),!t.closed&&e.subscribe(t)})}function ck(n){return Array.isArray(n)?n:[n]}function $t(n){return null==n?"":"string"==typeof n?n:`${n}px`}function lp(n){return n instanceof nn?n.nativeElement:n}let hk=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function G7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function z7(n){try{return n.frameElement}catch{return null}}(function J7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===pk(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=pk(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function X7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Z7(n){return!function q7(n){return function Q7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function W7(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function K7(n){return function Y7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fk(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(x(Qi))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function pk(n){if(!fk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class eK{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Xr(1)).subscribe(e)}}let tK=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new eK(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(x(hk),x(Re),x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iK=new L("cdk-input-modality-detector-options"),sK={ignoreKeys:[18,17,224,91,16]},hl=O0({passive:!0,capture:!0});let oK=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new xr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mo(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function nK(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=Mo(o))},this._onTouchstart=o=>{!function rK(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mo(o)):this._modality.next("keyboard")},this._options={...sK,...s},this.modalityDetected=this._modality.pipe(function L7(n){return Tt((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function B7(n,e=ms){return n=n??U7,wt((t,r)=>{let i,s=!0;t.subscribe(ft(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,hl),i.addEventListener("mousedown",this._onMousedown,hl),i.addEventListener("touchstart",this._onTouchstart,hl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hl),document.removeEventListener("mousedown",this._onMousedown,hl),document.removeEventListener("touchstart",this._onTouchstart,hl))}}return n.\u0275fac=function(t){return new(t||n)(x(Qi),x(Re),x(Ie),x(iK,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lK=new L("cdk-focus-monitor-default-options"),cp=O0({passive:!0,capture:!0});let cK=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht,this._rootNodeFocusAndBlurListener=a=>{const l=Mo(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=lp(t);if(!this._platform.isBrowser||1!==i.nodeType)return ne(null);const s=function R7(n){if(function x7(){if(null==N0){const n=typeof document<"u"?document.head:null;N0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return N0}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new ht,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=lp(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=lp(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Mo(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,cp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,cp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(lk(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(Qi),x(oK),x(Ie,8),x(lK,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mk="cdk-high-contrast-black-on-white",_k="cdk-high-contrast-white-on-black",L0="cdk-high-contrast-active";let uK=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(L0),t.remove(mk),t.remove(_k),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(L0),t.add(mk)):2===r&&(t.add(L0),t.add(_k))}}}return n.\u0275fac=function(t){return new(t||n)(x(Qi),x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dK=new L("cdk-dir-doc",{providedIn:"root",factory:function hK(){return _e(Ie)}}),fK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let B0=(()=>{class n{constructor(t){this.value="ltr",this.change=new Be,t&&(this.value=function pK(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?fK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(x(dK,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})();const mK=new L("mat-sanity-checks",{providedIn:"root",factory:function gK(){return!0}});let Ds=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!V0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(x(uK),x(mK,8),x(Ie))},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[Iu],Iu]}),n})(),wK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[Ds],Ds]}),n})();function fl(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}const{isArray:CK}=Array,{getPrototypeOf:IK,prototype:TK,keys:DK}=Object;function Ck(n){if(1===n.length){const e=n[0];if(CK(e))return{args:e,keys:null};if(function AK(n){return n&&"object"==typeof n&&IK(n)===TK}(e)){const t=DK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:SK}=Array;function j0(n){return de(e=>function xK(n,e){return SK(e)?n(...e):n(e)}(n,e))}function Ik(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ht(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ms}function Yi(n){return wt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ft(t,void 0,void 0,o=>{s=zn(n(o,Yi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function up(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function As(n,e){return Fe(e)?Jt(n,e,1):Jt(n,1)}class dp{}class $0{}class Xi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RK{encodeKey(e){return Dk(e)}encodeValue(e){return Dk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const PK=/%(\d[a-f0-9])/gi,kK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dk(n){return encodeURIComponent(n).replace(PK,(e,t)=>kK[t]??e)}function hp(n){return`${n}`}class Ss{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(hp):[hp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ss({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(hp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(hp(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Ak(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Sk(n){return typeof Blob<"u"&&n instanceof Blob}function xk(n){return typeof FormData<"u"&&n instanceof FormData}class Du{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xi),this.context||(this.context=new OK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ss,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ak(this.body)||Sk(this.body)||xk(this.body)||function FK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xk(this.body)?null:Sk(this.body)?this.body.type||null:Ak(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Du(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var zt=(()=>((zt=zt||{})[zt.Sent=0]="Sent",zt[zt.UploadProgress=1]="UploadProgress",zt[zt.ResponseHeader=2]="ResponseHeader",zt[zt.DownloadProgress=3]="DownloadProgress",zt[zt.Response=4]="Response",zt[zt.User=5]="User",zt))();class H0{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class z0 extends H0{constructor(e={}){super(e),this.type=zt.ResponseHeader}clone(e={}){return new z0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fp extends H0{constructor(e={}){super(e),this.type=zt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rk extends H0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function G0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let W0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Du)s=t;else{let l,c;l=i.headers instanceof Xi?i.headers:new Xi(i.headers),i.params&&(c=i.params instanceof Ss?i.params:new Ss({fromObject:i.params})),s=new Du(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ne(s).pipe(As(l=>this.handler.handle(l)));if(t instanceof Du||"events"===i.observe)return o;const a=o.pipe(Tt(l=>l instanceof fp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,G0(i,r))}post(t,r,i={}){return this.request("POST",t,G0(i,r))}put(t,r,i={}){return this.request("PUT",t,G0(i,r))}}return n.\u0275fac=function(t){return new(t||n)(x(dp))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function Mk(n,e){return e(n)}function VK(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const BK=new L("HTTP_INTERCEPTORS"),Au=new L("HTTP_INTERCEPTOR_FNS");function UK(){let n=null;return(e,t)=>(null===n&&(n=(_e(BK,{optional:!0})??[]).reduceRight(VK,Mk)),n(e,t))}let Pk=(()=>{class n extends dp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Au)));this.chain=r.reduceRight((i,s)=>function LK(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),Mk)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(x($0),x(ui))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const zK=/^\)\]\}',?\n/;let Ok=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Xi(i.getAllResponseHeaders()),_=function GK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new z0({headers:p,status:i.status,statusText:f,url:_}),o},l=()=>{let{headers:f,status:p,statusText:_,url:v}=a(),b=null;204!==p&&(b=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=b?200:0);let I=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const w=b;b=b.replace(zK,"");try{b=""!==b?JSON.parse(b):null}catch(P){b=w,I&&(I=!1,b={error:P,text:b})}}I?(r.next(new fp({body:b,headers:f,status:p,statusText:_,url:v||void 0})),r.complete()):r.error(new Rk({error:b,headers:f,status:p,statusText:_,url:v||void 0}))},c=f=>{const{url:p}=a(),_=new Rk({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:zt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:zt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:zt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(x(OP))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const q0=new L("XSRF_ENABLED"),Nk=new L("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fk=new L("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vk{}let KK=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=EP(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(x(Ie),x(fu),x(Nk))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();function QK(n,e){const t=n.url.toLowerCase();if(!_e(q0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=_e(Vk).getToken(),i=_e(Fk);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mt=(()=>((Mt=Mt||{})[Mt.Interceptors=0]="Interceptors",Mt[Mt.LegacyInterceptors=1]="LegacyInterceptors",Mt[Mt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mt[Mt.NoXsrfProtection=3]="NoXsrfProtection",Mt[Mt.JsonpSupport=4]="JsonpSupport",Mt[Mt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mt))();function pl(n,e){return{\u0275kind:n,\u0275providers:e}}function YK(...n){const e=[W0,Ok,Pk,{provide:dp,useExisting:Pk},{provide:$0,useExisting:Ok},{provide:Au,useValue:QK,multi:!0},{provide:q0,useValue:!0},{provide:Vk,useClass:KK}];for(const t of n)e.push(...t.\u0275providers);return function DH(n){return{\u0275providers:n}}(e)}const Lk=new L("LEGACY_INTERCEPTOR_FN");let ZK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({providers:[YK(pl(Mt.LegacyInterceptors,[{provide:Lk,useFactory:UK},{provide:Au,useExisting:Lk,multi:!0}]))]}),n})(),iQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[Ds],Ds]}),n})(),sQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[wK,Ds],Ds]}),n})(),Hk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(R(di),R(nn))},n.\u0275dir=le({type:n}),n})(),ko=(()=>{class n extends Hk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=tn(n)))(r||n)}}(),n.\u0275dir=le({type:n,features:[Le]}),n})();const Zr=new L("NgValueAccessor"),aQ={provide:Zr,useExisting:Xe(()=>yi),multi:!0},cQ=new L("CompositionEventMode");let yi=(()=>{class n extends Hk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lQ(){const n=Wi()?Wi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(R(di),R(nn),R(cQ,8))},n.\u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&V("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[at([aQ]),Le]}),n})();const uQ=!1;const An=new L("NgValidators"),Rs=new L("NgAsyncValidators");function Kk(n){return function xs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function mp(n){return null}function eO(n){return null!=n}function tO(n){const e=eu(n)?Lt(n):n;if(uQ&&!cv(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new M(-1101,t)}return e}function nO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function rO(n,e){return e.map(t=>t(n))}function iO(n){return n.map(e=>function hQ(n){return!n.validate}(e)?e:t=>e.validate(t))}function Q0(n){return null!=n?function sO(n){if(!n)return null;const e=n.filter(eO);return 0==e.length?null:function(t){return nO(rO(t,e))}}(iO(n)):null}function oO(n){if(!n)return null;const e=n.filter(eO);return 0==e.length?null:function(t){return function Tk(...n){const e=AA(n),{args:t,keys:r}=Ck(n),i=new Ze(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;zn(t[u]).subscribe(ft(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Ik(r,a):a),s.complete())}))}});return e?i.pipe(j0(e)):i}(rO(t,e).map(tO)).pipe(de(nO))}}function Y0(n){return null!=n?oO(iO(n)):null}function aO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function X0(n){return n?Array.isArray(n)?n:[n]:[]}function _p(n,e){return Array.isArray(n)?n.includes(e):n===e}function uO(n,e){const t=X0(e);return X0(n).forEach(i=>{_p(t,i)||t.push(i)}),t}function dO(n,e){return X0(e).filter(t=>!_p(n,t))}class hO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Q0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Un extends hO{get formDirective(){return null}get path(){return null}}class Ms extends hO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ps=(()=>{class n extends fO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(R(Ms,2))},n.\u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Cs("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Le]}),n})();const xu="VALID",vp="INVALID",gl="PENDING",Ru="DISABLED";function bp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _O{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===vp}get pending(){return this.status==gl}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dO(e,this._rawAsyncValidators))}hasValidator(e){return _p(this._rawValidators,e)}hasAsyncValidator(e){return _p(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===gl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gl,this._hasOwnPendingAsyncValidator=!0;const t=tO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?vp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gl)?gl:this._anyControlsHaveStatus(vp)?vp:xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bQ(n){return Array.isArray(n)?Q0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function EQ(n){return Array.isArray(n)?Y0(n):n||null}(this._rawAsyncValidators)}}const ml=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Ep}),Ep="always";function Mu(n,e,t=Ep){(function ib(n,e){const t=function lO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(aO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function cO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(aO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ip(e._rawValidators,i),Ip(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function IQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yO(n,e)})}(n,e),function DQ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function TQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function CQ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ip(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CO=class extends _O{constructor(e=null,t,r){super(function tb(n){return(bp(n)?n.validators:n)||null}(t),function nb(n,e){return(bp(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},OQ={provide:Ms,useExisting:Xe(()=>Zi)},DO=(()=>Promise.resolve())();let Zi=(()=>{class n extends Ms{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new CO,this._registered=!1,this.update=new Be,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ab(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yi?t=s:function xQ(n){return Object.getPrototypeOf(n.constructor)===ko}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ob(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){DO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ul(r);DO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function wp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(R(Un,9),R(An,10),R(Rs,10),R(Zr,10),R(pu,8),R(ml,8))},n.\u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([OQ]),Le,or]}),n})();const FQ={provide:Zr,useExisting:Xe(()=>cb),multi:!0};let cb=(()=>{class n extends ko{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=tn(n)))(r||n)}}(),n.\u0275dir=le({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&V("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[at([FQ]),Le]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})(),Oo=(()=>{class n{constructor(){this._validator=mp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=le({type:n,features:[or]}),n})();const JQ={provide:An,useExisting:Xe(()=>Dp),multi:!0};let Dp=(()=>{class n extends Oo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ul,this.createValidator=t=>Kk}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=tn(n)))(r||n)}}(),n.\u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&dr("required",r._enabled?"":null)},inputs:{required:"required"},features:[at([JQ]),Le]}),n})(),sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[AO]}),n})(),GO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ml,useValue:t.callSetDisabledState??Ep}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[sY]}),n})();const Ap=Tc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function WO(...n){const e=Ac(n),t=AA(n),{args:r,keys:i}=Ck(n);if(0===r.length)return Lt([],e);const s=new Ze(function aY(n,e,t=ms){return r=>{qO(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)qO(e,()=>{const c=Lt(n[l],e);let u=!1;c.subscribe(ft(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Ik(i,o):ms));return t?s.pipe(j0(t)):s}function qO(n,e,t){n?Ni(t,n,e):e()}function gb(...n){return function lY(){return wa(1)}()(Lt(n,Ac(n)))}function mb(n){return new Ze(e=>{zn(n()).subscribe(e)})}function _b(){return wt((n,e)=>{let t=null;n._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KO extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,hA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vn;const t=this.getSubject();e.add(this.source.subscribe(ft(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vn.EMPTY)}return e}refCount(){return _b()(this)}}function vi(n,e){return wt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ft(r,l=>{i?.unsubscribe();let c=0;const u=s++;zn(n(l,u)).subscribe(i=ft(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function QO(...n){const e=Ac(n);return wt((t,r)=>{(e?gb(n,t,e):gb(n,t)).subscribe(r)})}function Sp(n){return wt((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function YO(n=cY){return wt((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cY(){return new Ap}function ks(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tt((i,s)=>n(i,s,r)):ms,Xr(1),t?Sp(e):YO(()=>new Ap))}function XO(n,e){return wt(function uY(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ft(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function yb(n){return n<=0?()=>ii:wt((e,t)=>{let r=[];e.subscribe(ft(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ZO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tt((i,s)=>n(i,s,r)):ms,yb(1),t?Sp(e):YO(()=>new Ap))}const ye="primary",ku=Symbol("RouteTitle");class fY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _l(n){return new fY(n)}function pY(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!JO(n[i],e[i]))return!1;return!0}function JO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function eN(n){return Array.prototype.concat.apply([],n)}function tN(n){return n.length>0?n[n.length-1]:null}function fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Os(n){return cv(n)?n:eu(n)?Lt(Promise.resolve(n)):ne(n)}const xp=!1,mY={exact:function iN(n,e,t){if(!No(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!iN(n.children[r],e.children[r],t))return!1;return!0},subset:sN},nN={exact:function _Y(n,e){return bi(n,e)},subset:function yY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JO(n[t],e[t]))},ignored:()=>!0};function rN(n,e,t){return mY[t.paths](n.root,e.root,t.matrixParams)&&nN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sN(n,e,t){return oN(n,e,e.segments,t)}function oN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!No(i,t)||e.hasChildren()||!Rp(i,t,r))}if(n.segments.length===t.length){if(!No(n.segments,t)||!Rp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(No(n.segments,i)&&Rp(n.segments,i,r)&&n.children[ye])&&oN(n.children[ye],e,s,r)}}function Rp(n,e,t){return e.every((r,i)=>nN[t](n[i].parameters,r.parameters))}class Ns{constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return EY.serialize(this)}}class Te{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}}class Ou{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_l(this.parameters)),this._parameterMap}toString(){return cN(this)}}function No(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return new vb},providedIn:"root"}),n})();class vb{parse(e){const t=new RY(e);return new Ns(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fu(e.root,!0)}`,r=function IY(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Pp(t)}=${Pp(i)}`).join("&"):`${Pp(t)}=${Pp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const EY=new vb;function Mp(n){return n.segments.map(e=>cN(e)).join("/")}function Fu(n,e){if(!n.hasChildren())return Mp(n);if(e){const t=n.children[ye]?Fu(n.children[ye],!1):"",r=[];return fn(n.children,(i,s)=>{s!==ye&&r.push(`${s}:${Fu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bY(n,e){let t=[];return fn(n.children,(r,i)=>{i===ye&&(t=t.concat(e(r,i)))}),fn(n.children,(r,i)=>{i!==ye&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ye?[Fu(n.children[ye],!1)]:[`${i}:${Fu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ye]?`${Mp(n)}/${t[0]}`:`${Mp(n)}/(${t.join("//")})`}}function aN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pp(n){return aN(n).replace(/%3B/gi,";")}function bb(n){return aN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kp(n){return decodeURIComponent(n)}function lN(n){return kp(n.replace(/\+/g,"%20"))}function cN(n){return`${bb(n.path)}${function CY(n){return Object.keys(n).map(e=>`;${bb(e)}=${bb(n[e])}`).join("")}(n.parameters)}`}const TY=/^[^\/()?;=#]+/;function Op(n){const e=n.match(TY);return e?e[0]:""}const DY=/^[^=?&#]+/,SY=/^[^&#]+/;class RY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Te(e,t)),r}parseSegment(){const e=Op(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,xp);return this.capture(e),new Ou(kp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Op(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Op(this.remaining);i&&(r=i,this.capture(r))}e[kp(t)]=kp(r)}parseQueryParam(e){const t=function AY(n){const e=n.match(DY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function xY(n){const e=n.match(SY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lN(t),s=lN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Op(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,xp);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ye]:new Te([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,xp)}}function Eb(n){return n.segments.length>0?new Te([],{[ye]:n}):n}function Np(n){const e={};for(const r of Object.keys(n.children)){const s=Np(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function MY(n){if(1===n.numberOfChildren&&n.children[ye]){const e=n.children[ye];return new Te(n.segments.concat(e.segments),e.children)}return n}(new Te(n.segments,e))}function Fo(n){return n instanceof Ns}const wb=!1;function PY(n,e,t,r,i){if(0===t.length)return yl(e.root,e.root,e.root,r,i);const s=function pN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return fn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fN(t,e,r)}(t);return s.toRoot()?yl(e.root,e.root,new Te([],{}),r,i):function o(l){const c=function OY(n,e,t,r){if(n.isAbsolute)return new vl(e.root,!0,0);if(-1===r)return new vl(t,t===e.root,0);return function gN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,wb&&"Invalid number of '../'");i=r.segments.length}return new vl(r,!1,i-s)}(t,r+(Vu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?bl(c.segmentGroup,c.index,s.commands):Cb(c.segmentGroup,c.index,s.commands);return yl(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function yl(n,e,t,r,i){let o,s={};r&&fn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:hN(n,e,t);const a=Eb(Np(o));return new Ns(a,s,i)}function hN(n,e,t){const r={};return fn(n.children,(i,s)=>{r[s]=i===e?t:hN(i,e,t)}),new Te(n.segments,r)}class fN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vu(r[0]))throw new M(4003,wb&&"Root segment cannot have matrix parameters");const i=r.find(Lu);if(i&&i!==tN(r))throw new M(4004,wb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cb(n,e,t){if(n||(n=new Te([],{})),0===n.segments.length&&n.hasChildren())return bl(n,e,t);const r=function FY(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Lu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!_N(l,c,o))return s;r+=2}else{if(!_N(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Te(n.segments.slice(0,r.pathIndex),{});return s.children[ye]=new Te(n.segments.slice(r.pathIndex),n.children),bl(s,0,i)}return r.match&&0===i.length?new Te(n.segments,{}):r.match&&!n.hasChildren()?Ib(n,e,t):r.match?bl(n,0,i):Ib(n,e,t)}function bl(n,e,t){if(0===t.length)return new Te(n.segments,{});{const r=function NY(n){return Lu(n[0])?n[0].outlets:{[ye]:n}}(t),i={};if(!r[ye]&&n.children[ye]&&1===n.numberOfChildren&&0===n.children[ye].segments.length){const s=bl(n.children[ye],e,t);return new Te(n.segments,s.children)}return fn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Cb(n.children[o],e,s))}),fn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Te(n.segments,i)}}function Ib(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Lu(s)){const l=VY(s.outlets);return new Te(r,l)}if(0===i&&Vu(t[0])){r.push(new Ou(n.segments[e].path,mN(t[0]))),i++;continue}const o=Lu(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Vu(a)?(r.push(new Ou(o,mN(a))),i+=2):(r.push(new Ou(o,{})),i++)}return new Te(r,{})}function VY(n){const e={};return fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ib(new Te([],{}),0,t))}),e}function mN(n){const e={};return fn(n,(t,r)=>e[r]=`${t}`),e}function _N(n,e,t){return n==t.path&&bi(e,t.parameters)}const Bu="imperative";class Ei{constructor(e,t){this.id=e,this.url=t}}class Tb extends Ei{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vo extends Ei{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fp extends Ei{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vp extends Ei{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Db extends Ei{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LY extends Ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BY extends Ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UY extends Ei{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jY extends Ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Ei{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let XY=(()=>{class n{createUrlTree(t,r,i,s,o,a){return PY(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),JY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(e){return XY.\u0275fac(e)},providedIn:"root"}),n})();class vN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ab(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ab(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Sb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sb(e,this._root).map(t=>t.value)}}function Ab(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ab(n,t);if(r)return r}return null}function Sb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Sb(n,t);if(r.length)return r.unshift(e),r}return[]}class Ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function El(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bN extends vN{constructor(e,t){super(e),this.snapshot=t,xb(this,e)}toString(){return this.snapshot.toString()}}function EN(n,e){const t=function eX(n,e){const o=new Lp([],{},{},"",{},ye,e,null,n.root,-1,{});return new CN("",new Ji(o,[]))}(n,e),r=new xr([new Ou("",{})]),i=new xr({}),s=new xr({}),o=new xr({}),a=new xr(""),l=new Fs(r,i,o,a,s,ye,e,t.root);return l.snapshot=t.root,new bN(new Ji(l,[]),t)}class Fs{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(de(c=>c[ku]))??ne(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>_l(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>_l(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function tX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Lp{get title(){return this.data?.[ku]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_l(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CN extends vN{constructor(e,t){super(t),this.url=e,xb(this,t)}toString(){return IN(this._root)}}function xb(n,e){e.value._routerState=n,e.children.forEach(t=>xb(n,t))}function IN(n){const e=n.children.length>0?` { ${n.children.map(IN).join(", ")} } `:"";return`${n.value}${e}`}function Rb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bi(e.params,t.params)||n.params.next(t.params),function gY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mb(n,e){const t=bi(n.params,e.params)&&function vY(n,e){return No(n,e)&&n.every((t,r)=>bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mb(n.parent,e.parent))}function Uu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function rX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uu(n,r,i);return Uu(n,r)})}(n,e,t);return new Ji(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uu(n,a)),o}}const r=function iX(n){return new Fs(new xr(n.url),new xr(n.params),new xr(n.queryParams),new xr(n.fragment),new xr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Uu(n,s));return new Ji(r,i)}}const Pb="ngNavigationCancelingError";function TN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function DN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Pb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AN(n){return SN(n)&&Fo(n.url)}function SN(n){return n&&n[Pb]}class sX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bp=!1;let kb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=_e(ju),this.location=_e(Dr),this.changeDetector=_e(pu),this.environmentInjector=_e(ui)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,Bp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,Bp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,Bp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,Bp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new oX(t,a,i.injector);if(r&&function aX(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]}),n})();class oX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fs?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}let Ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=en({type:n,selectors:[["ng-component"]],standalone:!0,features:[KR],decls:1,vars:0,template:function(t,r){1&t&&Ce(0,"router-outlet")},dependencies:[kb],encapsulation:2}),n})();function xN(n,e){return n.providers&&!n._injector&&(n._injector=Of(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fb(n){const e=n.children&&n.children.map(Fb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=Ob),t}function Rr(n){return n.outlet||ye}function RN(n,e){const t=n.filter(r=>Rr(r)===e);return t.push(...n.filter(r=>Rr(r)!==e)),t}function $u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Rb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=El(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),fn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=El(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new KY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new WY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Rb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Rb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=$u(i.snapshot),l=a?.get(bo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class MN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Up{constructor(e,t){this.component=e,this.route=t}}function fX(n,e,t){const r=n._root;return Hu(r,e?e._root:null,t,[r.value])}function wl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Qj(n){return null!==Oh(n)}(n)?e.get(n):n:r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=El(e);return n.children.forEach(o=>{(function gX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function mX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mb(n,e)||!bi(n.queryParams,e.queryParams);default:return!Mb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new MN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Hu(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Up(a.outlet.component,o))}else o&&zu(e,a,i),i.canActivateChecks.push(new MN(r)),Hu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),fn(s,(o,a)=>zu(o,t.getContext(a),i)),i}function zu(n,e,t){const r=El(n),i=n.value;fn(r,(s,o)=>{zu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Up(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function Vb(n){return n instanceof Ap||"EmptyError"===n?.name}const jp=Symbol("INITIAL_VALUE");function Cl(){return vi(n=>WO(n.map(e=>e.pipe(Xr(1),QO(jp)))).pipe(de(e=>{for(const t of e)if(!0!==t){if(t===jp)return jp;if(!1===t||t instanceof Ns)return t}return!0}),Tt(e=>e!==jp),Xr(1)))}function PN(n){return function nj(...n){return cA(n)}(Ht(e=>{if(Fo(e))throw TN(0,e)}),de(e=>!0===e))}const Lb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kN(n,e,t,r,i){const s=Bb(n,e,t);return s.matched?function kX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ne(i.map(o=>{const a=wl(o,n);return Os(function wX(n){return n&&Gu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Cl(),PN()):ne(!0)}(r=xN(e,r),e,t).pipe(de(o=>!0===o?s:{...Lb})):ne(s)}function Bb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Lb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||pY)(t,n,e);if(!i)return{...Lb};const s={};fn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $p(n,e,t,r){if(t.length>0&&function FX(n,e,t){return t.some(r=>Hp(n,e,r)&&Rr(r)!==ye)}(n,t,r)){const s=new Te(e,function NX(n,e,t,r){const i={};i[ye]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Rr(s)!==ye){const o=new Te([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Rr(s)]=o}return i}(n,e,r,new Te(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function VX(n,e,t){return t.some(r=>Hp(n,e,r))}(n,t,r)){const s=new Te(n.segments,function OX(n,e,t,r,i){const s={};for(const o of r)if(Hp(n,t,o)&&!i[Rr(o)]){const a=new Te([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Rr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Te(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Hp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ON(n,e,t,r){return!!(Rr(n)===r||r!==ye&&Hp(e,t,n))&&("**"===n.path||Bb(e,n,t).matched)}function NN(n,e,t){return 0===e.length&&!n.children[t]}const zp=!1;class Gp{constructor(e){this.segmentGroup=e||null}}class FN{constructor(e){this.urlTree=e}}function Wu(n){return fl(new Gp(n))}function VN(n){return fl(new FN(n))}class jX{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=$p(this.urlTree.root,[],[],this.config).segmentGroup,t=new Te(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ye).pipe(de(s=>this.createUrlTree(Np(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yi(s=>{if(s instanceof FN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Gp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ye).pipe(de(i=>this.createUrlTree(Np(i),e.queryParams,e.fragment))).pipe(Yi(i=>{throw i instanceof Gp?this.noMatchError(i):i}))}noMatchError(e){return new M(4002,zp)}createUrlTree(e,t,r){const i=Eb(e);return new Ns(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(de(s=>new Te([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Lt(i).pipe(As(s=>{const o=r.children[s],a=RN(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(de(l=>({segment:l,outlet:s})))}),XO((s,o)=>(s[o.outlet]=o.segment,s),{}),ZO())}expandSegment(e,t,r,i,s,o){return Lt(r).pipe(As(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Yi(c=>{if(c instanceof Gp)return ne(null);throw c}))),ks(a=>!!a),Yi((a,l)=>{if(Vb(a))return NN(t,i,s)?ne(new Te([],{})):Wu(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return ON(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Wu(t):Wu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VN(s):this.lineralizeSegments(r,s).pipe(Jt(o=>{const a=new Te(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Bb(t,i,s);if(!a)return Wu(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?VN(d):this.lineralizeSegments(i,d).pipe(Jt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=xN(r,e),r.loadChildren?(r._loadedRoutes?ne({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Te(i,{})))):ne(new Te(i,{}))):kN(t,r,i,e).pipe(vi(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Jt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=$p(t,a,l,h),_=new Te(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(de(w=>new Te(a,w)));if(0===h.length&&0===p.length)return ne(new Te(a,{}));const v=Rr(r)===s;return this.expandSegment(d,_,h,p,v?ye:s,!0).pipe(de(I=>new Te(a.concat(I.segments),I.children)))})):Wu(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):function PX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(o=>{const a=wl(o,n);return Os(function yX(n){return n&&Gu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Cl(),PN())}(e,t,r).pipe(Jt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ht(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function BX(n){return fl(DN(zp,3))}())):ne({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[ye])return e.redirectTo,fl(new M(4e3,zp));i=i.children[ye]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ns(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return fn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Te(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new M(4001,zp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class HX{}class WX{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=$p(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(de(t=>{if(null===t)return null;const r=new Lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ji(r,t),s=new CN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=wN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Lt(Object.keys(r.children)).pipe(As(i=>{const s=r.children[i],o=RN(t,i);return this.processSegmentGroup(e,o,s,i)}),XO((i,s)=>i&&s?(i.push(...s),i):null),function dY(n,e=!1){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Sp(null),ZO(),de(i=>{if(null===i)return null;const s=BN(i);return function qX(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Lt(t).pipe(As(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ks(o=>!!o),Yi(o=>{if(Vb(o))return NN(r,i,s)?ne([]):ne(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!ON(t,r,i,s))return ne(null);let o;if("**"===t.path){const a=i.length>0?tN(i).parameters:{},l=jN(r)+i.length;o=ne({snapshot:new Lp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$N(t),Rr(t),t.component??t._loadedComponent??null,t,UN(r),l,HN(t)),consumedSegments:[],remainingSegments:[]})}else o=kN(r,t,i,e).pipe(de(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=jN(r)+l.length;return{snapshot:new Lp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$N(t),Rr(t),t.component??t._loadedComponent??null,t,UN(r),d,HN(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(vi(a=>{if(null===a)return ne(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function KX(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=$p(r,c,u,h.filter(v=>void 0===v.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(de(v=>null===v?null:[new Ji(l,v)]));if(0===h.length&&0===p.length)return ne([new Ji(l,[])]);const _=Rr(t)===s;return this.processSegment(d,h,f,p,_?ye:s).pipe(de(v=>null===v?null:[new Ji(l,v)]))}))}}function QX(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BN(n){const e=[],t=new Set;for(const r of n){if(!QX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=BN(r.children);e.push(new Ji(r.value,i))}return e.filter(r=>!t.has(r))}function UN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jN(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $N(n){return n.data||{}}function HN(n){return n.resolve||{}}function zN(n){return"string"==typeof n.title||null===n.title}function Ub(n){return vi(e=>{const t=n(e);return t?Lt(t).pipe(de(()=>e)):ne(e)})}const Il=new L("ROUTES");let jb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e(OM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Os(t.loadComponent()).pipe(de(WN),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),up(()=>{this.componentLoaders.delete(t)})),i=new KO(r,()=>new ht).pipe(_b());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=eN(l.get(Il,[],se.Self|se.Optional)));return{routes:c.map(Fb),injector:l}}),up(()=>{this.childrenLoaders.delete(r)})),o=new KO(s,()=>new ht).pipe(_b());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Os(t()).pipe(de(WN),Jt(r=>r instanceof WR||Array.isArray(r)?ne(r):Lt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WN(n){return function rZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.configLoader=_e(jb),this.environmentInjector=_e(ui),this.urlSerializer=_e(Nu),this.rootContexts=_e(ju),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new zY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new HY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new xr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tt(r=>0!==r.id),de(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vi(r=>{let i=!1,s=!1;return ne(r).pipe(Ht(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Vp(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),ii}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qN(o.source)&&(t.browserUrlTree=o.extractedUrl),ne(o).pipe(vi(u=>{const d=this.transitions?.getValue();return this.events.next(new Tb(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?ii:Promise.resolve(u)}),function $X(n,e,t,r){return vi(i=>function UX(n,e,t,r,i){return new jX(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(de(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ht(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function XX(n,e,t,r,i){return Jt(s=>function GX(n,e,t,r,i,s,o="emptyOnly"){return new WX(n,e,t,r,i,o,s).recognize().pipe(vi(a=>null===a?function zX(n){return new Ze(e=>e.error(n))}(new HX):ne(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(de(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ht(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new LY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,_=new Tb(u,this.urlSerializer.serialize(d),h,f);this.events.next(_);const v=EN(d,this.rootComponentType).snapshot;return ne(r={...o,targetSnapshot:v,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Vp(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),ii}}),Ht(o=>{const a=new BY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),de(o=>r={...o,guards:fX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function IX(n,e){return Jt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ne({...t,guardsResult:!0}):function TX(n,e,t,r){return Lt(n).pipe(Jt(i=>function MX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const l=$u(e)??i,c=wl(a,l);return Os(function EX(n){return n&&Gu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(ks())})).pipe(Cl()):ne(!0)}(i.component,i.route,t,e,r)),ks(i=>!0!==i,!0))}(o,r,i,n).pipe(Jt(a=>a&&function _X(n){return"boolean"==typeof n}(a)?function DX(n,e,t,r){return Lt(e).pipe(As(i=>gb(function SX(n,e){return null!==n&&e&&e(new GY(n)),ne(!0)}(i.route.parent,r),function AX(n,e){return null!==n&&e&&e(new qY(n)),ne(!0)}(i.route,r),function RX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>mb(()=>ne(o.guards.map(l=>{const c=$u(o.node)??t,u=wl(l,c);return Os(function bX(n){return n&&Gu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(ks())})).pipe(Cl())));return ne(s).pipe(Cl())}(n,i.path,t),function xX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(s=>mb(()=>{const o=$u(e)??t,a=wl(s,o);return Os(function vX(n){return n&&Gu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(ks())}));return ne(i).pipe(Cl())}(n,i.route,t))),ks(i=>!0!==i,!0))}(r,s,n,e):ne(a)),de(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ht(o=>{if(r.guardsResult=o.guardsResult,Fo(o.guardsResult))throw TN(0,o.guardsResult);const a=new UY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Tt(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Ub(o=>{if(o.guards.canActivateChecks.length)return ne(o).pipe(Ht(a=>{const l=new jY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),vi(a=>{let l=!1;return ne(a).pipe(function ZX(n,e){return Jt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let s=0;return Lt(i).pipe(As(o=>function JX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!zN(i)&&(s[ku]=i.title),function eZ(n,e,t,r){const i=function tZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ne({});const s={};return Lt(i).pipe(Jt(o=>function nZ(n,e,t,r){const i=$u(e)??r,s=wl(n,i);return Os(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(ks(),Ht(a=>{s[o]=a}))),yb(1),function hY(n){return de(()=>n)}(s),Yi(o=>Vb(o)?ii:fl(o)))}(s,n,e,r).pipe(de(o=>(n._resolvedData=o,n.data=wN(n,t).resolve,i&&zN(i)&&(n.data[ku]=i.title),null)))}(o.route,r,n,e)),Ht(()=>s++),yb(1),Jt(o=>s===i.length?ne(t):ii))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ht(a=>{const l=new $Y(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Ub(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ht(u=>{l.component=u}),de(()=>{})));for(const u of l.children)c.push(...a(u));return c};return WO(a(o.targetSnapshot.root)).pipe(Sp(),Xr(1))}),Ub(()=>this.afterPreactivation()),de(o=>{const a=function nX(n,e,t){const r=Uu(n,e._root,t?t._root:void 0);return new bN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ht(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>de(r=>(new hX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Xr(1),Ht({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),up(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yi(o=>{if(s=!0,SN(o)){AN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Fp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),AN(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qN(r.source)};t.scheduleNavigation(l,Bu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Db(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return ii}))}))}cancelNavigationTransition(t,r,i){const s=new Fp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qN(n){return n!==Bu}let KN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[ku]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return _e(iZ)},providedIn:"root"}),n})(),iZ=(()=>{class n extends KN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(x(rk))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return _e(aZ)},providedIn:"root"}),n})();class oZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let aZ=(()=>{class n extends oZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=tn(n)))(r||n)}}(),n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kp=new L("",{providedIn:"root",factory:()=>({})});let cZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:function(){return _e(uZ)},providedIn:"root"}),n})(),uZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dZ(n){throw n}function hZ(n,e,t){return e.parse("/")}const fZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_e(_8),this.isNgZoneEnabled=!1,this.options=_e(Kp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||dZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_e(cZ),this.routeReuseStrategy=_e(sZ),this.urlCreationStrategy=_e(JY),this.titleStrategy=_e(KN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eN(_e(Il,{optional:!0})??[]),this.navigationTransitions=_e(qp),this.urlSerializer=_e(Nu),this.location=_e(mu),this.isNgZoneEnabled=_e(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ns,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Fb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Bu,null,r)}navigate(t,r={skipLocationChange:!1}){return function gZ(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new M(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...fZ}:!1===r?{...pZ}:r,Fo(t))return rN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return rN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qp=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ht;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Vo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ul(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ul(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ul(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Cx(n,e,t){return function TH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?wx:Ex}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(R(Gt),R(Fs),function tf(n){return function W$(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(hS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(hn(),n)}("tabindex"),R(di),R(nn),R(xo))},n.\u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&V("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&dr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[or]}),n})();class QN{}let yZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Tt(t=>t instanceof Vo),As(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Of(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Lt(i).pipe(wa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ne(null);const s=i.pipe(Jt(o=>null===o?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Lt([s,this.loader.loadComponent(r)]).pipe(wa()):s})}}return n.\u0275fac=function(t){return new(t||n)(x(Gt),x(OM),x(ui),x(QN),x(jb))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hb=new L("");let YN=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Wy()},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();var hr=(()=>((hr=hr||{})[hr.COMPLETE=0]="COMPLETE",hr[hr.FAILED=1]="FAILED",hr[hr.REDIRECTING=2]="REDIRECTING",hr))();const Tl=!1;function Vs(n,e){return{\u0275kind:n,\u0275providers:e}}const zb=new L("",{providedIn:"root",factory:()=>!1});function ZN(){const n=_e(rn);return e=>{const t=n.get(cl);if(e!==t.components[0])return;const r=n.get(Gt),i=n.get(JN);1===n.get(Gb)&&r.initialNavigation(),n.get(eF,null,se.Optional)?.setUpPreloading(),n.get(Hb,null,se.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const JN=new L(Tl?"bootstrap done indicator":"",{factory:()=>new ht}),Gb=new L(Tl?"initial navigation":"",{providedIn:"root",factory:()=>1});function CZ(){let n=[];return n=Tl?[{provide:gf,multi:!0,useFactory:()=>{const e=_e(Gt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function QY(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Vs(1,n)}const eF=new L(Tl?"router preloader":"");function IZ(n){return Vs(0,[{provide:eF,useExisting:yZ},{provide:QN,useExisting:n}])}const qu=!1,tF=new L(qu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),TZ=[mu,{provide:Nu,useClass:vb},Gt,ju,{provide:Fs,useFactory:function XN(n){return n.routerState.root},deps:[Gt]},jb,qu?{provide:zb,useValue:!0}:[]];function DZ(){return new $M("Router",Gt)}let nF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TZ,qu&&r?.enableTracing?CZ().\u0275providers:[],{provide:Il,multi:!0,useValue:t},{provide:tF,useFactory:RZ,deps:[[Gt,new In,new La]]},{provide:Kp,useValue:r||{}},r?.useHash?{provide:xo,useClass:iW}:{provide:xo,useClass:dP},{provide:Hb,useFactory:()=>{const n=_e(Cq),e=_e(Re),t=_e(Kp),r=_e(qp),i=_e(Nu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YN(i,r,n,e,t)}},r?.preloadingStrategy?IZ(r.preloadingStrategy).\u0275providers:[],{provide:$M,multi:!0,useFactory:DZ},r?.initialNavigation?MZ(r):[],[{provide:rF,useFactory:ZN},{provide:jM,multi:!0,useExisting:rF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Il,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(x(tF,8))},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[Ob]}),n})();function RZ(n){if(qu&&n)throw new M(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function MZ(n){return["disabled"===n.initialNavigation?Vs(3,[{provide:Bf,multi:!0,useFactory:()=>{const e=_e(Gt);return()=>{e.setUpLocationChangeListener()}}},{provide:Gb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vs(2,[{provide:Gb,useValue:0},{provide:Bf,multi:!0,deps:[rn],useFactory:e=>{const t=e.get(nW,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Gt),s=e.get(JN);(function vZ(n,e){n.events.pipe(Tt(t=>t instanceof Vo||t instanceof Fp||t instanceof Db||t instanceof Vp),de(t=>t instanceof Vo||t instanceof Vp?hr.COMPLETE:t instanceof Fp&&(0===t.code||1===t.code)?hr.REDIRECTING:hr.FAILED),Tt(t=>t!==hr.REDIRECTING),Xr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(qp).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const rF=new L(qu?"Router Initializer":""),kZ=function(){return["/facture-create"]},OZ=function(){return["/caisse"]},NZ=function(){return["/bons"]},FZ=function(){return["/clients"]};let VZ=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=en({type:n,selectors:[["app-home"]],decls:60,vars:8,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["href","#"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"],["src","assets/client.webp","alt","",1,"h-60","mx-auto","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),y(2,"Transit Operation"),m(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),Ce(8,"img",6),m(),g(9,"div",7)(10,"span",8),y(11,"total : 11"),m(),g(12,"h3",9),y(13,"Create Facture"),m(),g(14,"p"),y(15,"by "),g(16,"a",10),y(17,"Transit Operation"),m()()()()()(),g(18,"div",3)(19,"div",4)(20,"div")(21,"div",5),Ce(22,"img",11),m(),g(23,"div",7)(24,"span",8),y(25,"Montant :"),m(),g(26,"h3",9),y(27,"Caisse"),m(),g(28,"p"),y(29,"by "),g(30,"a",12),y(31,"Transit Operation"),m()()()()()(),g(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),Ce(36,"img",13),m(),g(37,"div",7)(38,"span",8),y(39,"total :"),m(),g(40,"h3",9),y(41,"Create Bons"),m(),g(42,"p"),y(43,"by "),g(44,"a",12),y(45,"Transit Operation"),m()()()()()(),g(46,"div",3)(47,"div",4)(48,"div")(49,"div",5),Ce(50,"img",14),m(),g(51,"div",7)(52,"span",8),y(53,"total :"),m(),g(54,"h3",9),y(55,"Create Client"),m(),g(56,"p"),y(57,"by "),g(58,"a",12),y(59,"Transit Operation"),m()()()()()()()()),2&r&&(E(4),k("routerLink",au(4,kZ)),E(14),k("routerLink",au(5,OZ)),E(14),k("routerLink",au(6,NZ)),E(14),k("routerLink",au(7,FZ)))},dependencies:[Qp],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function iF(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function S(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){iF(s,r,i,o,a,"next",l)}function a(l){iF(s,r,i,o,a,"throw",l)}o(void 0)})}}const sF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},oF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new jZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yp=function(n){return function(n){const e=sF(n);return oF.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Xp=function(n){try{return oF.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Zp=()=>{try{return function zZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},QZ=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Zp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},lF=()=>{var n;return null===(n=Zp())||void 0===n?void 0:n.config};class cF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function fr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ls extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function sJ(n,e){return n.replace(oJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ls(i,`${this.serviceName}: ${o} (${i}).`,r)}}const oJ=/\{\$([^}]+)}/g;function qb(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(dF(s)&&dF(o)){if(!qb(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function dF(n){return null!==n&&"object"==typeof n}function hF(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class lJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function cJ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Kb),void 0===i.error&&(i.error=Kb),void 0===i.complete&&(i.complete=Kb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kb(){}function Jr(n){return n&&n._delegate?n._delegate:n}class Lo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class gJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cF;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function _J(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Bo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yb=[];var Se=(()=>{return(n=Se||(Se={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Se;var n})();const fF={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},vJ=Se.INFO,bJ={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},EJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=bJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Xb{constructor(e){this.name=e,this._logLevel=vJ,this._logHandler=EJ,this._userLogHandler=null,Yb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const wJ=(n,e)=>e.some(t=>n instanceof t);let pF,gF;const mF=new WeakMap,Zb=new WeakMap,_F=new WeakMap,Jb=new WeakMap,eE=new WeakMap;let tE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Zb.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_F.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function xJ(n){return"function"==typeof n?function SJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function IJ(){return gF||(gF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(nE(this),e),Bs(mF.get(this))}:function(...e){return Bs(n.apply(nE(this),e))}:function(e,...t){const r=n.call(nE(this),e,...t);return _F.set(r,e.sort?e.sort():[e]),Bs(r)}}(n):(n instanceof IDBTransaction&&function DJ(n){if(Zb.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Zb.set(n,e)}(n),wJ(n,function CJ(){return pF||(pF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,tE):n)}function Bs(n){if(n instanceof IDBRequest)return function TJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Bs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&mF.set(t,n)}).catch(()=>{}),eE.set(e,n),e}(n);if(Jb.has(n))return Jb.get(n);const e=xJ(n);return e!==n&&(Jb.set(n,e),eE.set(e,n)),e}const nE=n=>eE.get(n),MJ=["get","getKey","getAll","getAllKeys","count"],PJ=["put","add","delete","clear"],rE=new Map;function yF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(rE.get(e))return rE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=PJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MJ.includes(t))return;const s=function(){var o=S(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return rE.set(e,s),s}!function AJ(n){tE=n(tE)}(n=>({...n,get:(e,t,r)=>yF(e,t)||n.get(e,t,r),has:(e,t)=>!!yF(e,t)||n.has(e,t)}));class kJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function OJ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const iE="@firebase/app",Uo=new Xb("@firebase/app"),eg="[DEFAULT]",oee={[iE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jo=new Map,tg=new Map;function aee(n,e){try{n.container.addComponent(e)}catch(t){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dl(n){const e=n.name;if(tg.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,n);for(const t of jo.values())aee(t,n);return!0}const es=new Ku("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cee{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const ng="10.7.1";function EF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw es.create("bad-app-name",{appName:String(i)});if(t||(t=lF()),!t)throw es.create("no-options");const s=jo.get(i);if(s){if(qb(t,s.options)&&qb(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const o=new yJ(i);for(const l of tg.values())o.addComponent(l);const a=new cee(t,r,o);return jo.set(i,a),a}function wF(n=eg){const e=jo.get(n);if(!e&&n===eg&&lF())return EF();if(!e)throw es.create("no-app",{appName:n});return e}function CF(){return Array.from(jo.values())}function Mr(n,e,t){var r;let i=null!==(r=oee[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Uo.warn(a.join(" "))}Dl(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const uee="firebase-heartbeat-database",dee=1,Qu="firebase-heartbeat-store";let oE=null;function IF(){return oE||(oE=function RJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bs(o.result),l.oldVersion,l.newVersion,Bs(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(uee,dee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Qu)}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),oE}function aE(){return(aE=S(function*(n){try{return yield(yield IF()).transaction(Qu).objectStore(Qu).get(DF(n))}catch(e){if(e instanceof Ls)Uo.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e?.message});Uo.warn(t.message)}}})).apply(this,arguments)}function TF(n,e){return lE.apply(this,arguments)}function lE(){return(lE=S(function*(n,e){try{const r=(yield IF()).transaction(Qu,"readwrite");yield r.objectStore(Qu).put(e,DF(n)),yield r.done}catch(t){if(t instanceof Ls)Uo.warn(t.message);else{const r=es.create("idb-set",{originalErrorMessage:t?.message});Uo.warn(r.message)}}})).apply(this,arguments)}function DF(n){return`${n.name}!${n.options.appId}`}class gee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _ee(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AF();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=AF(),{heartbeatsToSend:i,unsentEntries:s}=function mee(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),SF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Yp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function AF(){return(new Date).toISOString().substring(0,10)}class _ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!function nJ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function rJ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function hee(n){return aE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return S(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return TF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return S(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return TF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function SF(n){return Yp(JSON.stringify({version:2,heartbeats:n})).length}!function yee(n){Dl(new Lo("platform-logger",e=>new kJ(e),"PRIVATE")),Dl(new Lo("heartbeat",e=>new gee(e),"PRIVATE")),Mr(iE,"0.9.25",n),Mr(iE,"0.9.25","esm2017"),Mr("fire-js","")}("");class Eee extends vn{constructor(e,t){super()}schedule(e,t=0){return this}}const rg={setInterval(n,e,...t){const{delegate:r}=rg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class ig extends Eee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return rg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ea(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const xF={now:()=>(xF.delegate||Date).now(),delegate:void 0};class Yu{constructor(e,t=Yu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Yu.now=xF.now;class sg extends Yu{constructor(e,t=Yu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Iee=new class Cee extends sg{}(class wee extends ig{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),og=new sg(ig),Tee=og,cE=new bs("ANGULARFIRE2_VERSION");const uE=(n,e)=>{const t=e?[e]:CF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Dee{constructor(){return uE(Aee)}}const Aee="app-check";function Al(){}class MF{zone;delegate;constructor(e,t=Iee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class See{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al)),t.pipe(Ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let PF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new MF(Zone.current)),this.insideAngular=t.run(()=>new MF(Zone.current,og)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(x(Re))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function $o(n){return Sl().ngZone.run(()=>n())}function Ree(n){return function Mee(n){return function(t){return(t=t.lift(new See(n.ngZone))).pipe(Rh(n.outsideAngular),xh(n.insideAngular))}}(Sl())(n)}const Pee=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$o(()=>n.apply(void 0,r))},Yn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al))),r[s]=Pee(r[s],t));const i=function xee(n){return Sl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ze){const s=Sl();return i.pipe(Rh(s.outsideAngular),xh(s.insideAngular))}return $o(()=>i)}return i instanceof Ze?i.pipe(Ree):i instanceof Promise?$o(()=>new Promise((s,o)=>i.then(a=>$o(()=>s(a)),a=>$o(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:$o(()=>i)};class Xu{constructor(e){return e}}class kF{constructor(){return CF()}}const dE=new L("angularfire2._apps"),Oee={provide:Xu,useFactory:function kee(n){return n&&1===n.length?n[0]:new Xu(wF())},deps:[[new In,dE]]},Nee={provide:kF,deps:[[new In,dE]]};function Fee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xu(r)}}let Vee=(()=>{class n{constructor(t){Mr("angularfire",cE.full,"core"),Mr("angularfire",cE.full,"app"),Mr("angular",Nx.full,t.toString())}static \u0275fac=function(r){return new(r||n)(x(fu))};static \u0275mod=st({type:n});static \u0275inj=et({providers:[Oee,Nee]})}return n})();function Lee(n,...e){return{ngModule:Vee,providers:[{provide:dE,useFactory:Fee(n),multi:!0,deps:[Re,rn,PF,...e]}]}}const Bee=Yn(EF,!0);const Uee=function OF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},NF=new Ku("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ag=new Xb("@firebase/auth");function lg(n,...e){ag.logLevel<=Se.ERROR&&ag.error(`Auth (${ng}): ${n}`,...e)}function Xn(n,...e){throw hE(n,...e)}function wi(n,...e){return hE(n,...e)}function hE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NF.create(n,...e)}function B(n,e,...t){if(!n)throw hE(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lg(e),new Error(e)}function Us(n,e){n||Ci(e)}function VF(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function $ee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function fE(){return"http:"===VF()||"https:"===VF()}()||function eJ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=function ZZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}()||function tJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return $ee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class LF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gee=new Ju(3e4,6e4);function lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ct(n,e,t,r){return gE.apply(this,arguments)}function gE(){return(gE=S(function*(n,e,t,r,i={}){return BF(n,i,S(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hF(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),LF.fetch()(UF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function BF(n,e,t){return mE.apply(this,arguments)}function mE(){return(mE=S(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zee),e);try{const i=new qee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ed(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw ed(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw ed(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw ed(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function FF(n,e,t){const r=Object.assign(Object.assign({},Uee()),{[e]:t});return new Ku("auth","Firebase",r).create(e,{appName:n.name})}(n,u,c);Xn(n,u)}}catch(i){if(i instanceof Ls)throw i;Xn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function UF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function pE(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class qee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),Gee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=wi(n,e,r);return i.customData._tokenResponse=t,i}function bE(){return(bE=S(function*(n,e){return ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function wE(){return(wE=S(function*(n,e){return ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function td(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function CE(){return(CE=S(function*(n,e=!1){const t=Jr(n),r=yield t.getIdToken(e),i=cg(r);B(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:td(IE(i.auth_time)),issuedAtTime:td(IE(i.iat)),expirationTime:td(IE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function IE(n){return 1e3*Number(n)}function cg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xp(t);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ns(n,e){return TE.apply(this,arguments)}function TE(){return(TE=S(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ls&&function ete({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class tte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(S(function*(){yield t.iteration()}),r)}iteration(){var e=this;return S(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class GF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nd(n){return DE.apply(this,arguments)}function DE(){return DE=S(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ns(n,function Xee(n,e){return wE.apply(this,arguments)}(t,{idToken:r}));B(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ite(n){return n.map(e=>{var{providerId:t}=e,r=b_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function rte(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new GF(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),DE.apply(this,arguments)}function AE(){return(AE=S(function*(n){const e=Jr(n);yield nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function SE(){return(SE=S(function*(n,e){const t=yield BF(n,{},S(function*(){const r=hF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=UF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function xE(){return(xE=S(function*(n,e){return ct(n,"POST","/v2/accounts:revokeToken",lt(n,e))})).apply(this,arguments)}class rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Jee(n){const e=cg(n);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return S(function*(){return B(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return S(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function ste(n,e){return SE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new rd;return r&&(B("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(B("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(B("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rd,this.toJSON())}_performRefresh(){return Ci("not implemented")}}function js(n,e){B("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ho{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=b_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new GF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return S(function*(){const r=yield ns(t,t.stsTokenManager.getToken(t.auth,e));return B(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Zee(n){return CE.apply(this,arguments)}(this,e)}reload(){return function nte(n){return AE.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return S(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield nd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return S(function*(){const t=yield e.getIdToken();return yield ns(e,function Qee(n,e){return bE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,I=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:P,isAnonymous:K,providerData:X,stsTokenManager:De}=t;B(w&&De,e,"internal-error");const mt=rd.fromJSON(this.name,De);B("string"==typeof w,e,"internal-error"),js(d,e.name),js(h,e.name),B("boolean"==typeof P,e,"internal-error"),B("boolean"==typeof K,e,"internal-error"),js(f,e.name),js(p,e.name),js(_,e.name),js(v,e.name),js(b,e.name),js(I,e.name);const Hn=new Ho({uid:w,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:K,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:mt,createdAt:b,lastLoginAt:I});return X&&Array.isArray(X)&&(Hn.providerData=X.map(nr=>Object.assign({},nr))),v&&(Hn._redirectEventId=v),Hn}static _fromIdTokenResponse(e,t,r=!1){return S(function*(){const i=new rd;i.updateFromServerResponse(t);const s=new Ho({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nd(s),s})()}}const WF=new Map;function rs(n){Us(n instanceof Function,"Expected a class definition");let e=WF.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WF.set(n,e),e)}const qF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(function*(){return!0})()}_set(t,r){var i=this;return S(function*(){i.storage[t]=r})()}_get(t){var r=this;return S(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return S(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ug(n,e,t){return`firebase:${n}:${e}:${t}`}class Rl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,s),this.fullPersistenceKey=ug("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return S(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ho._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return S(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(function*(){if(!t.length)return new Rl(rs(qF),e,r);const i=(yield Promise.all(t.map(function(){var c=S(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||rs(qF);const o=ug(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Ho._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=S(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Rl(s,e,r)):new Rl(s,e,r)})()}}function KF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function XF(n=fr()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function QF(n=fr()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function JF(n=fr()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function eV(n=fr()){return/webos/i.test(n)}(e))return"Webos";if(function RE(n=fr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function YF(n=fr()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function ZF(n=fr()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function tV(n,e=[]){let t;switch(n){case"Browser":t=KF(fr());break;case"Worker":t=`${KF(fr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ng}/${r}`}class cte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return S(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ME(){return(ME=S(function*(n,e={}){return ct(n,"GET","/v2/passwordPolicy",lt(n,e))})).apply(this,arguments)}class hte{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class fte{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nV(this),this.idTokenSubscription=new nV(this),this.beforeStateQueue=new cte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue(S(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Rl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return S(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return S(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return B(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return S(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return S(function*(){try{yield nd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Hee(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return S(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return S(function*(){const r=e?Jr(e):null;return r&&B(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return S(function*(){if(!r._deleted)return e&&B(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(S(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return S(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(S(function*(){yield t.assertedPersistence.setPersistence(rs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return S(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return S(function*(){const t=yield function ute(n){return ME.apply(this,arguments)}(e),r=new hte(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ku("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return S(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ote(n,e){return xE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return S(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return S(function*(){if(!t.redirectPersistenceManager){const r=e&&rs(e)||t._popupRedirectResolver;B(r,t,"argument-error"),t.redirectPersistenceManager=yield Rl.create(t,[rs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return S(function*(){var r,i;return t._isInitialized&&(yield t.queue(S(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return S(function*(){if(e===t.currentUser)return t.queue(S(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var t=this;return S(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return S(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return S(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function jee(n,...e){ag.logLevel<=Se.WARN&&ag.warn(`Auth (${ng}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class nV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function aJ(n,e){const t=new lJ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function rV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ju(3e4,6e4),new Ju(2e3,1e4),new Ju(3e4,6e4),new Ju(5e3,15e3),encodeURIComponent("fac");var OV="@firebase/auth";class gre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return S(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Zp(),function _re(n){Dl(new Lo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tV(n)},c=new fte(r,i,s,l);return function bte(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new Lo("auth-internal",e=>{const t=function Pt(n){return Jr(n)}(e.getProvider("auth").getImmediate());return new gre(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(OV,"1.5.1",function mre(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Mr(OV,"1.5.1","esm2017")}("Browser");class LV{constructor(){return uE("auth")}}var z,Ire=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei={},CC=CC||{},fe=Ire||self;function Cg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var IC="closure_uid_"+(1e9*Math.random()>>>0),Dre=0;function Are(n,e,t){return n.call.apply(n.bind,arguments)}function Sre(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Sn(n,e,t){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Are:Sre).apply(null,arguments)}function Ig(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function sn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $s(){this.s=this.s,this.o=this.o}$s.prototype.s=!1,$s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tre(n){Object.prototype.hasOwnProperty.call(n,IC)&&n[IC]||(n[IC]=++Dre)}(this)},$s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function TC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function UV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Cg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function xn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xn.prototype.h=function(){this.defaultPrevented=!0};var Rre=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};fe.addEventListener("test",t,e),fe.removeEventListener("test",t,e)}catch{}return n}();function ud(n){return/^[\s\xa0]*$/.test(n)}function Tg(){var n=fe.navigator;return n&&(n=n.userAgent)?n:""}function Ii(n){return-1!=Tg().indexOf(n)}function DC(n){return DC[" "](n),n}DC[" "]=function(){};var SC,Pre=Ii("Opera"),Ml=Ii("Trident")||Ii("MSIE"),jV=Ii("Edge"),AC=jV||Ml,$V=Ii("Gecko")&&!(-1!=Tg().toLowerCase().indexOf("webkit")&&!Ii("Edge"))&&!(Ii("Trident")||Ii("MSIE"))&&!Ii("Edge"),kre=-1!=Tg().toLowerCase().indexOf("webkit")&&!Ii("Edge");function HV(){var n=fe.document;return n?n.documentMode:void 0}e:{var xC="",RC=function(){var n=Tg();return $V?/rv:([^\);]+)(\)|;)/.exec(n):jV?/Edge\/([\d\.]+)/.exec(n):Ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kre?/WebKit\/(\S+)/.exec(n):Pre?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(RC&&(xC=RC?RC[1]:""),Ml){var MC=HV();if(null!=MC&&MC>parseFloat(xC)){SC=String(MC);break e}}SC=xC}var Ore=fe.document&&Ml&&(HV()||parseInt(SC,10))||void 0;function dd(n,e){if(xn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($V){e:{try{DC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Nre[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dd.$.h.call(this)}}sn(dd,xn);var Nre={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hd="closure_listenable_"+(1e6*Math.random()|0),Fre=0;function Vre(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Fre,this.fa=this.ia=!1}function Dg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function kC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function GV(n){const e={};for(const t in n)e[t]=n[t];return e}const WV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<WV.length;s++)t=WV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ag(n){this.src=n,this.g={},this.h=0}function OC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=BV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Dg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Ag.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=NC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Vre(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var FC="closure_lm_"+(1e6*Math.random()|0),VC={};function KV(n,e,t,r,i){if(r&&r.once)return YV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)KV(n,e[s],t,r,i);return null}return t=jC(t),n&&n[hd]?n.O(e,t,cd(r)?!!r.capture:!!r,i):QV(n,e,t,!1,r,i)}function QV(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=cd(i)?!!i.capture:!!i,a=BC(n);if(a||(n[FC]=a=new Ag(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Bre(){const e=Ure;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Rre||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ZV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function YV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YV(n,e[s],t,r,i);return null}return t=jC(t),n&&n[hd]?n.P(e,t,cd(r)?!!r.capture:!!r,i):QV(n,e,t,!0,r,i)}function XV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XV(n,e[s],t,r,i);else r=cd(r)?!!r.capture:!!r,t=jC(t),n&&n[hd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NC(s=n.g[e],t,r,i))&&(Dg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=BC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NC(e,t,r,i)),(t=-1<n?e[n]:null)&&LC(t))}function LC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[hd])OC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=BC(e))?(OC(t,n),0==t.h&&(t.src=null,e[FC]=null)):Dg(n)}}}function ZV(n){return n in VC?VC[n]:VC[n]="on"+n}function Ure(n,e){if(n.fa)n=!0;else{e=new dd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&LC(n),n=t.call(r,e)}return n}function BC(n){return(n=n[FC])instanceof Ag?n:null}var UC="__closure_events_fn_"+(1e9*Math.random()>>>0);function jC(n){return"function"==typeof n?n:(n[UC]||(n[UC]=function(e){return n.handleEvent(e)}),n[UC])}function on(){$s.call(this),this.i=new Ag(this),this.S=this,this.J=null}function pn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new xn(e,n);else if(e instanceof xn)e.target=e.target||n;else{var i=e;qV(e=new xn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Sg(o,r,!0,e)&&i}if(i=Sg(o=e.g=n,r,!0,e)&&i,i=Sg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Sg(o=e.g=t[s],r,!1,e)&&i}function Sg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&OC(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}sn(on,$s),on.prototype[hd]=!0,on.prototype.removeEventListener=function(n,e,t,r){XV(this,n,e,t,r)},on.prototype.N=function(){if(on.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Dg(t[r]);delete n.g[e],n.h--}}this.J=null},on.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},on.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $C=fe.JSON.stringify;function $re(){var n=HC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var JV=new class jre{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new zre,n=>n.reset());class zre{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gre(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Wre(n){fe.setTimeout(()=>{throw n},0)}let fd,pd=!1,HC=new class Hre{constructor(){this.h=this.g=null}add(e,t){const r=JV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},e2=()=>{const n=fe.Promise.resolve(void 0);fd=()=>{n.then(qre)}};var qre=()=>{for(var n;n=$re();){try{n.h.call(n.g)}catch(t){Wre(t)}var e=JV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}pd=!1};function xg(n,e){on.call(this),this.h=n||1,this.g=e||fe,this.j=Sn(this.qb,this),this.l=Date.now()}function zC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function GC(n,e,t){if("function"==typeof n)t&&(n=Sn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sn(n.handleEvent,n)}return 2147483647<Number(e)?-1:fe.setTimeout(n,e||0)}function t2(n){n.g=GC(()=>{n.g=null,n.i&&(n.i=!1,t2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}sn(xg,on),(z=xg.prototype).ga=!1,z.T=null,z.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(zC(this),this.start()))}},z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.N=function(){xg.$.N.call(this),zC(this),delete this.g};class Kre extends $s{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t2(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gd(n){$s.call(this),this.h=n,this.g={}}sn(gd,$s);var n2=[];function r2(n,e,t,r){Array.isArray(t)||(t&&(n2[0]=t.toString()),t=n2);for(var i=0;i<t.length;i++){var s=KV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function s2(n){kC(n.g,function(e,t){this.g.hasOwnProperty(t)&&LC(e)},n),n.g={}}function Rg(){this.g=!0}function Pl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zre(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return $C(t)}catch{return e}}(n,t)+(r?" "+r:"")})}gd.prototype.N=function(){gd.$.N.call(this),s2(this)},gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rg.prototype.Ea=function(){this.g=!1},Rg.prototype.info=function(){};var qo={},o2=null;function Mg(){return o2=o2||new on}function a2(n){xn.call(this,qo.Ta,n)}function md(n){const e=Mg();pn(e,new a2(e))}function l2(n,e){xn.call(this,qo.STAT_EVENT,n),this.stat=e}function jn(n){const e=Mg();pn(e,new l2(e,n))}function c2(n,e){xn.call(this,qo.Ua,n),this.size=e}function _d(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){n()},e)}qo.Ta="serverreachability",sn(a2,xn),qo.STAT_EVENT="statevent",sn(l2,xn),qo.Ua="timingevent",sn(c2,xn);var Pg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WC(){}function h2(){}WC.prototype.h=null;var QC,yd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qC(){xn.call(this,"d")}function KC(){xn.call(this,"c")}function kg(){}function vd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new gd(this),this.P=Jre,this.V=new xg(n=AC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new f2}function f2(){this.i=null,this.g="",this.h=!1}sn(qC,xn),sn(KC,xn),sn(kg,WC),kg.prototype.g=function(){return new XMLHttpRequest},kg.prototype.i=function(){return{}},QC=new kg;var Jre=45e3,p2={},YC={};function XC(n,e,t){n.L=1,n.A=Vg(ss(e)),n.u=t,n.S=!0,g2(n,null)}function g2(n,e){n.G=Date.now(),bd(n),n.B=ss(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),T2(t.i,"t",r),n.o=0,t=n.l.J,n.h=new f2,n.g=Q2(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Kre(Sn(n.Pa,n,n.g),n.O)),r2(n.U,n.g,"readystatechange",n.nb),e=n.I?GV(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),md(),function Qre(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function m2(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function _2(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=eie(n,t),i==YC){4==e&&(n.s=4,jn(14),r=!1),Pl(n.j,n.m,null,"[Incomplete Response]");break}if(i==p2){n.s=4,jn(15),Pl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pl(n.j,n.m,i,null),ZC(n,i)}m2(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,jn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sI(e),e.M=!0,jn(11))):(Pl(n.j,n.m,t,"[Invalid Chunked Response]"),Ko(n),Ed(n))}function eie(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?YC:(t=Number(e.substring(t,r)),isNaN(t)?p2:(r+=1)+t>e.length?YC:(e=e.slice(r,r+t),n.o=r+t,e))}function bd(n){n.Y=Date.now()+n.P,y2(n,n.P)}function y2(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=_d(Sn(n.lb,n),e)}function Og(n){n.C&&(fe.clearTimeout(n.C),n.C=null)}function Ed(n){0==n.l.H||n.J||G2(n.l,n)}function Ko(n){Og(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zC(n.V),s2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ZC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||JC(t.i,n)))if(!n.K&&JC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hg(t),jg(t)}iI(t),jn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=_d(Sn(t.ib,t),6e3));if(1>=S2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Yo(t,11)}else if((n.K||t.g==n)&&Hg(t),!ud(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eI(s,s.h),s.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ut(r.I,r.F,_))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=K2(r,r.J?r.pa:null,r.Y),o.K){x2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Og(a),bd(a)),r.g=o}else H2(r);0<t.j.length&&$g(t)}else"stop"!=c[0]&&"close"!=c[0]||Yo(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Yo(t,7):rI(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}md()}catch{}}function v2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Cg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nie(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Cg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tie(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Cg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(z=vd.prototype).setTimeout=function(n){this.P=n},z.nb=function(n){n=n.target;const e=this.M;e&&3==Ti(n)?e.l():this.Pa(n)},z.Pa=function(n){try{if(n==this.g)e:{const u=Ti(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||AC||this.g&&(this.h.h||this.g.ja()||V2(this.g)))){this.J||4!=u||7==e||md(),Og(this);var t=this.g.da();this.ca=t;t:if(m2(this)){var r=V2(this.g);n="";var i=r.length,s=4==Ti(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Ed(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Yre(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ud(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,jn(12),Ko(this),Ed(this);break e}Pl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZC(this,t)}this.S?(_2(this,u,o),AC&&this.i&&3==u&&(r2(this.U,this.V,"tick",this.mb),this.V.start())):(Pl(this.j,this.m,o,null),ZC(this,o)),4==u&&Ko(this),this.i&&!this.J&&(4==u?G2(this.l,this):(this.i=!1,bd(this)))}else(function bie(n){const e={};n=(n.g&&2<=Ti(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ud(n[r]))continue;var t=Gre(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Lre(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,jn(12)):(this.s=0,jn(13)),Ko(this),Ed(this)}}}catch{}},z.mb=function(){if(this.g){var n=Ti(this.g),e=this.g.ja();this.o<e.length&&(Og(this),_2(this,n,e),this.i&&4!=n&&bd(this))}},z.cancel=function(){this.J=!0,Ko(this)},z.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Xre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(md(),jn(17)),Ko(this),this.s=2,Ed(this)):y2(this,this.Y-n)};var b2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qo){this.h=n.h,Ng(this,n.j),this.s=n.s,this.g=n.g,Fg(this,n.m),this.l=n.l;var e=n.i,t=new Id;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),E2(this,t),this.o=n.o}else n&&(e=String(n).match(b2))?(this.h=!1,Ng(this,e[1]||"",!0),this.s=wd(e[2]||""),this.g=wd(e[3]||"",!0),Fg(this,e[4]),this.l=wd(e[5]||"",!0),E2(this,e[6]||"",!0),this.o=wd(e[7]||"")):(this.h=!1,this.i=new Id(null,this.h))}function ss(n){return new Qo(n)}function Ng(n,e,t){n.j=t?wd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function E2(n,e,t){e instanceof Id?(n.i=e,function cie(n,e){e&&!n.j&&(Hs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(C2(this,r),T2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Cd(e,aie)),n.i=new Id(e,n.h))}function ut(n,e,t){n.i.set(e,t)}function Vg(n){return ut(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,iie),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iie(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cd(e,w2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cd(e,w2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cd(t,"/"==t.charAt(0)?oie:sie,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cd(t,lie)),n.join("")};var w2=/[#\/\?@]/g,sie=/[#\?:]/g,oie=/[#\?]/g,aie=/[#\?@]/g,lie=/#/g;function Id(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hs(n){n.g||(n.g=new Map,n.h=0,n.i&&function rie(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function C2(n,e){Hs(n),e=kl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function I2(n,e){return Hs(n),e=kl(n,e),n.g.has(e)}function T2(n,e,t){C2(n,e),0<t.length&&(n.i=null,n.g.set(kl(n,e),TC(t)),n.h+=t.length)}function kl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D2(n){this.l=n||die,n=fe.PerformanceNavigationTiming?0<(n=fe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=Id.prototype).add=function(n,e){Hs(this),this.i=null,n=kl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},z.forEach=function(n,e){Hs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},z.ta=function(){Hs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},z.Z=function(n){Hs(this);let e=[];if("string"==typeof n)I2(this,n)&&(e=e.concat(this.g.get(kl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},z.set=function(n,e){return Hs(this),this.i=null,I2(this,n=kl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},z.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var die=10;function A2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function S2(n){return n.h?1:n.g?n.g.size:0}function JC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eI(n,e){n.g?n.g.add(e):n.h=e}function x2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function R2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return TC(n.i)}D2.prototype.cancel=function(){if(this.i=R2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var hie=class{stringify(n){return fe.JSON.stringify(n,void 0)}parse(n){return fe.JSON.parse(n,void 0)}};function fie(){this.g=new hie}function pie(n,e,t){const r=t||"";try{v2(n,function(i,s){let o=i;cd(i)&&(o=$C(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Td(n){this.l=n.ec||null,this.j=n.ob||!1}function Bg(n,e){on.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(Td,WC),Td.prototype.g=function(){return new Bg(this.l,this.j)},Td.prototype.i=function(n){return function(){return n}}({}),sn(Bg,on);var tI=0;function M2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Dd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ad(n)}function Ad(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(z=Bg.prototype).open=function(n,e){if(this.readyState!=tI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ad(this)},z.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dd(this)),this.readyState=tI},z.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},z.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dd(this):Ad(this),3==this.readyState&&M2(this)}},z.Za=function(n){this.g&&(this.response=this.responseText=n,Dd(this))},z.Ya=function(n){this.g&&(this.response=n,Dd(this))},z.ka=function(){this.g&&Dd(this)},z.setRequestHeader=function(n,e){this.v.append(n,e)},z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mie=fe.JSON.parse;function Dt(n){on.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P2,this.L=this.M=!1}sn(Dt,on);var P2="",_ie=/^https?$/i,yie=["POST","PUT"];function k2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,O2(n),Ug(n)}function O2(n){n.F||(n.F=!0,pn(n,"complete"),pn(n,"error"))}function N2(n){if(n.h&&typeof CC<"u"&&(!n.C[1]||4!=Ti(n)||2!=n.da()))if(n.v&&4==Ti(n))GC(n.La,0,n);else if(pn(n,"readystatechange"),4==Ti(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(b2)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!_ie.test(i?i.toLowerCase():"")}t=r}if(t)pn(n,"complete"),pn(n,"success");else{n.m=6;try{var s=2<Ti(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",O2(n)}}finally{Ug(n)}}}function Ug(n,e){if(n.g){F2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||pn(n,"ready");try{t.onreadystatechange=r}catch{}}}function F2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(fe.clearTimeout(n.A),n.A=null)}function Ti(n){return n.g?n.g.readyState:0}function V2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case P2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function L2(n){let e="";return kC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nI(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=L2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ut(n,e,t))}function Sd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function B2(n){this.Ga=0,this.j=[],this.l=new Rg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sd("baseRetryDelayMs",5e3,n),this.hb=Sd("retryDelaySeedMs",1e4,n),this.eb=Sd("forwardChannelMaxRetries",2,n),this.xa=Sd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new D2(n&&n.concurrentRequestLimit),this.Ja=new fie,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rI(n){if(U2(n),3==n.H){var e=n.W++,t=ss(n.I);if(ut(t,"SID",n.K),ut(t,"RID",e),ut(t,"TYPE","terminate"),xd(n,t),(e=new vd(n,n.l,e)).L=2,e.A=Vg(ss(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon)try{t=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&fe.Image&&((new Image).src=e.A,t=!0),t||(e.g=Q2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),bd(e)}q2(n)}function jg(n){n.g&&(sI(n),n.g.cancel(),n.g=null)}function U2(n){jg(n),n.u&&(fe.clearTimeout(n.u),n.u=null),Hg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fe.clearTimeout(n.m),n.m=null)}function $g(n){if(!A2(n.i)&&!n.m){n.m=!0;var e=n.Na;fd||e2(),pd||(fd(),pd=!0),HC.add(e,n),n.C=0}}function j2(n,e){var t;t=e?e.m:n.W++;const r=ss(n.I);ut(r,"SID",n.K),ut(r,"RID",t),ut(r,"AID",n.V),xd(n,r),n.o&&n.s&&nI(r,n.o,n.s),t=new vd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=$2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),eI(n.i,t),XC(t,r,e)}function xd(n,e){n.na&&kC(n.na,function(t,r){ut(e,r,t)}),n.h&&v2({},function(t,r){ut(e,r,t)})}function $2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Sn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{pie(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function H2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;fd||e2(),pd||(fd(),pd=!0),HC.add(e,n),n.A=0}}function iI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=_d(Sn(n.Ma,n),W2(n,n.A)),n.A++,0))}function sI(n){null!=n.B&&(fe.clearTimeout(n.B),n.B=null)}function z2(n){n.g=new vd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ss(n.wa);ut(e,"RID","rpc"),ut(e,"SID",n.K),ut(e,"AID",n.V),ut(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ut(e,"TO",n.qa),ut(e,"TYPE","xmlhttp"),xd(n,e),n.o&&n.s&&nI(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Vg(ss(e)),t.u=null,t.S=!0,g2(t,n)}function Hg(n){null!=n.v&&(fe.clearTimeout(n.v),n.v=null)}function G2(n,e){var t=null;if(n.g==e){Hg(n),sI(n),n.g=null;var r=2}else{if(!JC(n.i,e))return;t=e.F,x2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;pn(r=Mg(),new c2(r,t)),$g(n)}else H2(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Eie(n,e){return!(S2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=_d(Sn(n.Na,n,e),W2(n,n.C)),n.C++,0)))}(n,e)||2==r&&iI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Yo(n,5);break;case 4:Yo(n,10);break;case 3:Yo(n,6);break;default:Yo(n,2)}}function W2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Yo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Sn(n.pb,n);t||(t=new Qo("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||Ng(t,"https"),Vg(t)),function gie(n,e){const t=new Rg;if(fe.Image){const r=new Image;r.onload=Ig(Lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ig(Lg,t,r,"TestLoadImage: error",!1,e),r.onabort=Ig(Lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ig(Lg,t,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else jn(2);n.H=0,n.h&&n.h.za(e),q2(n),U2(n)}function q2(n){if(n.H=0,n.ma=[],n.h){const e=R2(n.i);(0!=e.length||0!=n.j.length)&&(UV(n.ma,e),UV(n.ma,n.j),n.i.i.length=0,TC(n.j),n.j.length=0),n.h.ya()}}function K2(n,e,t){var r=t instanceof Qo?ss(t):new Qo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Fg(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qo(null);r&&Ng(s,r),e&&(s.g=e),i&&Fg(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ut(r,t,e),ut(r,"VER",n.ra),xd(n,r),r}function Q2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dt(n.Ha&&!n.va?new Td({ob:t}):n.va)).Oa(n.J),e}function Y2(){}function zg(){if(Ml&&!(10<=Number(Ore)))throw Error("Environmental error: no available transport.")}function pr(n,e){on.call(this),this.g=new B2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ud(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ud(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ol(this)}function X2(n){qC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Z2(){KC.call(this),this.status=1}function Ol(n){this.g=n}function ti(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function qe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(z=Dt.prototype).Oa=function(n){this.M=n},z.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():QC.g(),this.C=function d2(n){return n.h||(n.h=n.i())}(this.u?this.u:QC),this.g.onreadystatechange=Sn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void k2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=fe.FormData&&n instanceof fe.FormData,!(0<=BV(yie,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F2(this),0<this.B&&((this.L=function vie(n){return Ml&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.ua,this)):this.A=GC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){k2(this,s)}},z.ua=function(){typeof CC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pn(this,"complete"),pn(this,"abort"),Ug(this))},z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ug(this,!0)),Dt.$.N.call(this)},z.La=function(){this.s||(this.G||this.v||this.l?N2(this):this.kb())},z.kb=function(){N2(this)},z.isActive=function(){return!!this.g},z.da=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mie(e)}},z.Ia=function(){return this.m},z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=B2.prototype).ra=8,z.H=1,z.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new vd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=GV(s),qV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$2(this,i,e),ut(t=ss(this.I),"RID",n),ut(t,"CVER",22),this.F&&ut(t,"X-HTTP-Session-Id",this.F),xd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(L2(s)))+"&"+e:this.o&&nI(t,this.o,s)),eI(this.i,i),this.bb&&ut(t,"TYPE","init"),this.P?(ut(t,"$req",e),ut(t,"SID","null"),i.aa=!0,XC(i,t,null)):XC(i,t,e),this.H=2}}else 3==this.H&&(n?j2(this,n):0==this.j.length||A2(this.i)||j2(this))},z.Ma=function(){if(this.u=null,z2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=_d(Sn(this.jb,this),n)}},z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),jg(this),z2(this))},z.ib=function(){null!=this.v&&(this.v=null,jg(this),iI(this),jn(19))},z.pb=function(n){n?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))},z.isActive=function(){return!!this.h&&this.h.isActive(this)},(z=Y2.prototype).Ba=function(){},z.Aa=function(){},z.za=function(){},z.ya=function(){},z.isActive=function(){return!0},z.Va=function(){},zg.prototype.g=function(n,e){return new pr(n,e)},sn(pr,on),pr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;jn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=K2(n,null,n.Y),$g(n)},pr.prototype.close=function(){rI(this.g)},pr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$C(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&$g(e)},pr.prototype.N=function(){this.g.h=null,delete this.j,rI(this.g),delete this.g,pr.$.N.call(this)},sn(X2,qC),sn(Z2,KC),sn(Ol,Y2),Ol.prototype.Ba=function(){pn(this.g,"a")},Ol.prototype.Aa=function(n){pn(this.g,new X2(n))},Ol.prototype.za=function(n){pn(this.g,new Z2)},Ol.prototype.ya=function(){pn(this.g,"b")},sn(ti,function wie(){this.blockSize=-1}),ti.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ti.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)oI(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){oI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){oI(this,r),i=0;break}}this.h=i,this.i+=e},ti.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Cie={};function aI(n){return-128<=n&&128>n?function Mre(n,e){var t=Cie;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new qe([0|e],0>e?-1:0)}):new qe([0|n],0>n?-1:0)}function Di(n){if(isNaN(n)||!isFinite(n))return Nl;if(0>n)return gn(Di(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=lI;return new qe(e,0)}var lI=4294967296,Nl=aI(0),cI=aI(1),eL=aI(16777216);function os(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function kr(n){return-1==n.h}function gn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new qe(t,~n.h).add(cI)}function Gg(n,e){return n.add(gn(e))}function Wg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rd(n,e){this.g=n,this.h=e}function qg(n,e){if(os(e))throw Error("division by zero");if(os(n))return new Rd(Nl,Nl);if(kr(n))return e=qg(gn(n),e),new Rd(gn(e.g),gn(e.h));if(kr(e))return e=qg(n,gn(e)),new Rd(gn(e.g),e.h);if(30<n.g.length){if(kr(n)||kr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cI,r=e;0>=r.X(n);)t=tL(t),r=tL(r);var i=Fl(t,1),s=Fl(r,1);for(r=Fl(r,2),t=Fl(t,2);!os(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Fl(r,1),t=Fl(t,1)}return e=Gg(n,i.R(e)),new Rd(i,e)}for(i=Nl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Di(t)).R(e);kr(o)||0<o.X(n);)o=(s=Di(t-=r)).R(e);os(s)&&(s=cI),i=i.add(s),n=Gg(n,o)}return new Rd(i,n)}function tL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new qe(t,n.h)}function Fl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new qe(i,n.h)}(z=qe.prototype).ea=function(){if(kr(this))return-gn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:lI+r)*e,e*=lI}return n},z.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(os(this))return"0";if(kr(this))return"-"+gn(this).toString(n);for(var e=Di(Math.pow(n,6)),t=this,r="";;){var i=qg(t,e).g,s=((0<(t=Gg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(os(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},z.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},z.X=function(n){return kr(n=Gg(this,n))?-1:os(n)?0:1},z.abs=function(){return kr(this)?gn(this):this},z.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new qe(t,-2147483648&t[t.length-1]?-1:0)},z.R=function(n){if(os(this)||os(n))return Nl;if(kr(this))return kr(n)?gn(this).R(gn(n)):gn(gn(this).R(n));if(kr(n))return gn(this.R(gn(n)));if(0>this.X(eL)&&0>n.X(eL))return Di(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Wg(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Wg(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Wg(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Wg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new qe(t,0)},z.gb=function(n){return qg(this,n).h},z.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new qe(t,this.h&n.h)},z.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new qe(t,this.h|n.h)},z.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new qe(t,this.h^n.h)},zg.prototype.createWebChannel=zg.prototype.g,pr.prototype.send=pr.prototype.u,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Pg.NO_ERROR=0,Pg.TIMEOUT=8,Pg.HTTP_ERROR=6,u2.COMPLETE="complete",h2.EventType=yd,yd.OPEN="a",yd.CLOSE="b",yd.ERROR="c",yd.MESSAGE="d",on.prototype.listen=on.prototype.O,Dt.prototype.listenOnce=Dt.prototype.P,Dt.prototype.getLastError=Dt.prototype.Sa,Dt.prototype.getLastErrorCode=Dt.prototype.Ia,Dt.prototype.getStatus=Dt.prototype.da,Dt.prototype.getResponseJson=Dt.prototype.Wa,Dt.prototype.getResponseText=Dt.prototype.ja,Dt.prototype.send=Dt.prototype.ha,Dt.prototype.setWithCredentials=Dt.prototype.Oa,ti.prototype.digest=ti.prototype.l,ti.prototype.reset=ti.prototype.reset,ti.prototype.update=ti.prototype.j,qe.prototype.add=qe.prototype.add,qe.prototype.multiply=qe.prototype.R,qe.prototype.modulo=qe.prototype.gb,qe.prototype.compare=qe.prototype.X,qe.prototype.toNumber=qe.prototype.ea,qe.prototype.toString=qe.prototype.toString,qe.prototype.getBits=qe.prototype.D,qe.fromNumber=Di,qe.fromString=function J2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return gn(J2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Di(Math.pow(e,8)),r=Nl,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Di(Math.pow(e,s)),r=r.R(s).add(Di(o))):r=(r=r.R(t)).add(Di(o))}return r};var Iie=ei.createWebChannelTransport=function(){return new zg},Tie=ei.getStatEventTarget=function(){return Mg()},uI=ei.ErrorCode=Pg,Die=ei.EventType=u2,Aie=ei.Event=qo,nL=ei.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kg=(ei.FetchXmlHttpFactory=Td,ei.WebChannel=h2),Sie=ei.XhrIo=Dt,xie=ei.Md5=ti,Vl=ei.Integer=qe;const rL="@firebase/firestore";class an{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Ll="10.7.0";const zs=new Xb("@firebase/firestore");function Bl(){return zs.logLevel}function N(n,...e){if(zs.logLevel<=Se.DEBUG){const t=e.map(dI);zs.debug(`Firestore (${Ll}): ${n}`,...t)}}function kt(n,...e){if(zs.logLevel<=Se.ERROR){const t=e.map(dI);zs.error(`Firestore (${Ll}): ${n}`,...t)}}function gr(n,...e){if(zs.logLevel<=Se.WARN){const t=e.map(dI);zs.warn(`Firestore (${Ll}): ${n}`,...t)}}function dI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Y(n="Unexpected state"){const e=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: `+n;throw kt(e),new Error(e)}function te(n,e){n||Y()}function U(n,e){return n}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class Mie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pie{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(S(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te("string"==typeof r.accessToken),new iL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new an(e)}}class kie{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Oie{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(te("string"==typeof t.token),this.R=t.token,new sL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Fie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function he(n,e){return n<e?-1:n>e?1:0}function Ul(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class bt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new bt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new bt(0,0))}static max(){return new re(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Md{constructor(e,t,r){void 0===t?t=0:t>e.length&&Y(),void 0===r?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Md.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Oe extends Md{construct(e,t,r){return new Oe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Oe(t)}static emptyPath(){return new Oe([])}}const Vie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Md{construct(e,t,r){return new pt(e,t,r)}static isValidIdentifier(e){return Vie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new F(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new F(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(t)}static emptyPath(){return new pt([])}}class ${constructor(e){this.path=e}static fromPath(e){return new $(Oe.fromString(e))}static fromName(e){return new $(Oe.fromString(e).popFirst(5))}static empty(){return new $(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Oe(e.slice()))}}function cL(n){return new mr(n.readTime,n.key,-1)}class mr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mr(re.min(),$.empty(),-1)}static max(){return new mr(re.max(),$.empty(),-1)}}function fI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$.comparator(n.documentKey,e.documentKey),0!==t?t:he(n.largestBatchId,e.largestBatchId))}const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gs(n){return pI.apply(this,arguments)}function pI(){return pI=S(function*(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==uL)throw n;N("LocalStore","Unexpectedly lost primary lease")}),pI.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,r)=>{t(e)})}static reject(e){return new C((t,r)=>{r(e)})}static waitFor(e){return new C((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next(i=>i?C.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new C((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ws(n){return"IndexedDbTransactionError"===n.name}let _r=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function kd(n){return null==n}function Od(n){return 0===n&&1/n==-1/0}function vL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class nt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}}class Xg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=s??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new mn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1,mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,r,i,s){return this}insert(e,t,r){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EL(this.data.getIterator())}getIteratorFrom(e){return new EL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qe(this.comparator);return t.data=e,t}}class EL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Qe(pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wL("Invalid base64 string: "+s):s}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const cse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(n){if(te(!!n),"string"==typeof n){let e=0;const t=cse.exec(n);if(te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function as(n){return"string"==typeof n?Zt.fromBase64String(n):Zt.fromUint8Array(n)}function Zg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jg(n){const e=n.mapValue.fields.__previous_value__;return Zg(e)?Jg(e):e}function Nd(n){const e=Ks(n.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}class use{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}const Qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zg(n)?4:DL(n)?9007199254740991:10:Y()}function Si(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nd(n).isEqual(Nd(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ks(i.timestampValue),a=Ks(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,as(n.bytesValue).isEqual(as(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=At(i.doubleValue),a=At(s.doubleValue);return o===a?Od(o)===Od(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ul(n.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vL(o)!==vL(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Si(o[l],a[l])))return!1;return!0}(n,e);default:return Y()}var s}function Fd(n,e){return void 0!==(n.values||[]).find(t=>Si(t,e))}function Xs(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=At(s.integerValue||s.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return CL(n.timestampValue,e.timestampValue);case 4:return CL(Nd(n),Nd(e));case 5:return he(n.stringValue,e.stringValue);case 6:return function(s,o){const a=as(s),l=as(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=he(a[c],l[c]);if(0!==u)return u}return he(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(At(s.latitude),At(o.latitude));return 0!==a?a:he(At(s.longitude),At(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Xs(a[c],l[c]);if(u)return u}return he(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Qs.mapValue&&o===Qs.mapValue)return 0;if(s===Qs.mapValue)return 1;if(o===Qs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=he(l[d],u[d]);if(0!==h)return h;const f=Xs(a[l[d]],c[u[d]]);if(0!==f)return f}return he(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Y()}}function CL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return he(n,e);const t=Ks(n),r=Ks(e),i=he(t.seconds,r.seconds);return 0!==i?i:he(t.nanos,r.nanos)}function zl(n){return _I(n)}function _I(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ks(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?as(n.bytesValue).toBase64():"referenceValue"in n?$.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=_I(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_I(t.fields[o])}`;return i+"}"}(n.mapValue):Y()}function ta(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yI(n){return!!n&&"integerValue"in n}function Vd(n){return!!n&&"arrayValue"in n}function IL(n){return!!n&&"nullValue"in n}function TL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nm(n){return!!n&&"mapValue"in n}function Ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ld(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(t)}setAll(e){let t=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ld(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){qs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Ld(this.value))}}function xL(n){const e=[];return qs(n.fields,(t,r)=>{const i=new pt([t]);if(nm(r)){const s=xL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}class dt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,re.min(),re.min(),re.min(),_n.empty(),0)}static newFoundDocument(e,t,r,i){return new dt(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new dt(e,2,t,re.min(),re.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new dt(e,3,t,re.min(),re.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zs{constructor(e,t){this.position=e,this.inclusive=t}}function RL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?$.comparator($.fromName(o.referenceValue),t.key):Xs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ML(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Si(n.position[t],e.position[t]))return!1;return!0}class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function fse(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PL{}class Me extends PL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pse(e,t,r):"array-contains"===t?new _se(e,r):"in"===t?new LL(e,r):"not-in"===t?new yse(e,r):"array-contains-any"===t?new vse(e,r):new Me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new gse(e,r):new mse(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xs(t,this.value)):null!==t&&Ys(this.value)===Ys(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ke extends PL{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ke(e,t)}matches(e){return Gl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gl(n){return"and"===n.op}function bI(n){return function kL(n){for(const e of n.filters)if(e instanceof Ke)return!1;return!0}(n)&&Gl(n)}function EI(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(bI(n))return n.filters.map(e=>EI(e)).join(",");{const e=n.filters.map(t=>EI(t)).join(",");return`${n.op}(${e})`}}function OL(n,e){return n instanceof Me?(r=n,(i=e)instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Si(r.value,i.value)):n instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&OL(o,i.filters[a]),!0)}(n,e):void Y();var r,i}function FL(n){return n instanceof Me?`${(t=n).field.canonicalString()} ${t.op} ${zl(t.value)}`:n instanceof Ke?function(t){return t.op.toString()+" {"+t.getFilters().map(FL).join(" ,")+"}"}(n):"Filter";var t}class pse extends Me{constructor(e,t,r){super(e,t,r),this.key=$.fromName(r.referenceValue)}matches(e){const t=$.comparator(e.key,this.key);return this.matchesComparison(t)}}class gse extends Me{constructor(e,t){super(e,"in",t),this.keys=VL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mse extends Me{constructor(e,t){super(e,"not-in",t),this.keys=VL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$.fromName(r.referenceValue))}class _se extends Me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vd(t)&&Fd(t.arrayValue,this.value)}}class LL extends Me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fd(this.value.arrayValue,t)}}class yse extends Me{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fd(this.value.arrayValue,t)}}class vse extends Me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fd(this.value.arrayValue,r))}}class bse{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function wI(n,e=null,t=[],r=[],i=null,s=null,o=null){return new bse(n,e,t,r,i,s,o)}function na(n){const e=U(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>EI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),kd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zl(r)).join(",")),e.ce=t}return e.ce}function Ud(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fse(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ML(n.startAt,e.startAt)&&ML(n.endAt,e.endAt)}function rm(n){return $.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ls{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Wl(n){return new ls(n)}function $L(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function CI(n){return null!==n.collectionGroup}function ql(n){const e=U(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Bd(s,r))}),t.has(pt.keyField().canonicalString())||e.le.push(new Bd(pt.keyField(),r))}return e.le}function $n(n){const e=U(n);return e.he||(e.he=function HL(n,e){if("F"===n.limitType)return wI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Bd(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Zs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zs(n.startAt.position,n.startAt.inclusive):null;return wI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ql(n))),e.he}function II(n,e){const t=n.filters.concat([e]);return new ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sm(n,e,t){return new ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jd(n,e){return Ud($n(n),$n(e))&&n.limitType===e.limitType}function zL(n){return`${na($n(n))}|lt:${n.limitType}`}function Kl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>FL(i)).join(", ")}]`),kd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zl(i)).join(",")),`Target(${r})`}($n(n))}; limitType=${n.limitType})`}function $d(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ql(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=RL(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ql(r),i)||r.endAt&&!function(o,a,l){const c=RL(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ql(r),i)));var r,i}function WL(n){return(e,t)=>{let r=!1;for(const i of ql(n)){const s=Ese(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ese(n,e,t){const r=n.field.isKeyField()?$.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Xs(l,c):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}class cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bL(this.inner)}size(){return this.innerSize}}const wse=new nt($.comparator);function Jn(){return wse}const qL=new nt($.comparator);function Hd(...n){let e=qL;for(const t of n)e=e.insert(t.key,t);return e}function KL(n){let e=qL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xi(){return zd()}function QL(){return zd()}function zd(){return new cs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Cse=new nt($.comparator),Ise=new Qe($.comparator);function ve(...n){let e=Ise;for(const t of n)e=e.add(t);return e}const Tse=new Qe(he);function YL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function XL(n){return{integerValue:""+n}}function ZL(n,e){return function hL(n){return"number"==typeof n&&Number.isInteger(n)&&!Od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?XL(e):YL(n,e)}class om{constructor(){this._=void 0}}function Dse(n,e,t){return n instanceof Ql?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zg(s)&&(s=Jg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ra?eB(n,e):n instanceof ia?tB(n,e):function(i,s){const o=JL(i,s),a=nB(o)+nB(i.Ie);return yI(o)&&yI(i.Ie)?XL(a):YL(i.serializer,a)}(n,e)}function Ase(n,e,t){return n instanceof ra?eB(n,e):n instanceof ia?tB(n,e):t}function JL(n,e){return n instanceof Yl?yI(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Ql extends om{}class ra extends om{constructor(e){super(),this.elements=e}}function eB(n,e){const t=rB(e);for(const r of n.elements)t.some(i=>Si(i,r))||t.push(r);return{arrayValue:{values:t}}}class ia extends om{constructor(e){super(),this.elements=e}}function tB(n,e){let t=rB(e);for(const r of n.elements)t=t.filter(i=>!Si(i,r));return{arrayValue:{values:t}}}class Yl extends om{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nB(n){return At(n.integerValue||n.doubleValue)}function rB(n){return Vd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xse{constructor(e,t){this.version=e,this.transformResults=t}}class gt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function am(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class lm{}function iB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Zl(n.key,gt.none()):new Xl(n.key,n.data,gt.none());{const t=n.data,r=_n.empty();let i=new Qe(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new us(n.key,r,new Zn(i.toArray()),gt.none())}}function Rse(n,e,t){n instanceof Xl?function(i,s,o){const a=i.value.clone(),l=aB(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof us?function(i,s,o){if(!am(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=aB(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oB(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wd(n,e,t,r){return n instanceof Xl?function(s,o,a,l){if(!am(s.precondition,o))return a;const c=s.value.clone(),u=lB(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof us?function(s,o,a,l){if(!am(s.precondition,o))return a;const c=lB(s.fieldTransforms,l,o),u=o.data;return u.setAll(oB(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,am(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Mse(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=JL(r.transform,i||null);null!=s&&(null===t&&(t=_n.empty()),t.set(r.field,s))}return t||null}function sB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ul(r,i,(s,o)=>function Sse(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof ra&&i instanceof ra||r instanceof ia&&i instanceof ia?Ul(r.elements,i.elements,Si):r instanceof Yl&&i instanceof Yl?Si(r.Ie,i.Ie):r instanceof Ql&&i instanceof Ql);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Xl extends lm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends lm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function aB(n,e,t){const r=new Map;te(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ase(o,a,t[i]))}return r}function lB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Dse(s,o,e))}return r}class Zl extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Rse(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=iB(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(t,r)=>sB(t,r))&&Ul(this.baseMutations,e.baseMutations,(t,r)=>sB(t,r))}}class SI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){te(e.mutations.length===r.length);let i=Cse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new SI(e,t,r,i)}}class xI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kse{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,Ne;function uB(n){if(void 0===n)return kt("GRPC error has no .code"),D.UNKNOWN;switch(n){case qt.OK:return D.OK;case qt.CANCELLED:return D.CANCELLED;case qt.UNKNOWN:return D.UNKNOWN;case qt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case qt.INTERNAL:return D.INTERNAL;case qt.UNAVAILABLE:return D.UNAVAILABLE;case qt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case qt.NOT_FOUND:return D.NOT_FOUND;case qt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case qt.ABORTED:return D.ABORTED;case qt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case qt.DATA_LOSS:return D.DATA_LOSS;default:return Y()}}(Ne=qt||(qt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";const Ose=new Vl([4294967295,4294967295],0);function hB(n){const e=function dB(){return new TextEncoder}().encode(n),t=new xie;return t.update(e),new Uint8Array(t.digest())}function fB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vl([t,r],0),new Vl([i,s],0)]}class RI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qd(`Invalid padding: ${t}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new qd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Vl.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Vl.fromNumber(r)));return 1===i.compare(Ose)&&(i=new Vl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=hB(e),[r,i]=fB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new RI(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=hB(e),[r,i]=fB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kd(re.min(),i,new nt(he),Jn(),ve())}}class Qd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qd(r,t,ve(),ve(),ve())}}class um{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class pB{constructor(e,t){this.targetId=e,this.fe=t}}class gB{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mB{constructor(){this.ge=0,this.pe=yB(),this.ye=Zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),t=ve(),r=ve();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Qd(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=yB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,te(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Nse{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jn(),this.Qe=_B(),this.Ke=new nt(he)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(rm(s))if(0===r){const o=new $(s.path);this.We(t,o,dt.newNoDocument(o,re.min()))}else te(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=as(r).toUint8Array()}catch(l){if(l instanceof wL)return gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new RI(o,i,s)}catch(l){return gr(l instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&rm(a.target)){const l=new $(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,dt.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Kd(e,t,this.Ke,this.qe,r);return this.qe=Jn(),this.Qe=_B(),this.Ke=new nt(he),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new mB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qe(he),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||N("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _B(){return new nt($.comparator)}function yB(){return new nt($.comparator)}const Fse={asc:"ASCENDING",desc:"DESCENDING"},Vse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lse={and:"AND",or:"OR"};class Bse{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MI(n,e){return n.useProto3Json||kd(e)?e:{value:e}}function Jl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Use(n,e){return Jl(n,e.toTimestamp())}function Ot(n){return te(!!n),re.fromTimestamp(function(t){const r=Ks(t);return new bt(r.seconds,r.nanos)}(n))}function PI(n,e){return(r=n,new Oe(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function bB(n){const e=Oe.fromString(n);return te(xB(e)),e}function Yd(n,e){return PI(n.databaseId,e.path)}function Ri(n,e){const t=bB(e);if(t.get(1)!==n.databaseId.projectId)throw new F(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(wB(t))}function kI(n,e){return PI(n.databaseId,e)}function Xd(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wB(n){return te(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CB(n,e,t){return{name:Yd(n,e),fields:t.value.mapValue.fields}}function TB(n,e){return{documents:[kI(n,e.path)]}}function NI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return SB(Ke.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Js((d=c).field),direction:Gse(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=MI(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function DB(n){let e=function EB(n){const e=bB(n);return 4===e.length?Oe.emptyPath():wB(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){te(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(d){const h=AB(d);return h instanceof Ke&&bI(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new Bd(ec((p=h).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,kd(h)?null:h}(t.limit));let l=null;var d;t.startAt&&(l=new Zs((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Zs(d.values||[],!d.before)}(t.endAt)),function jL(n,e,t,r,i,s,o,a){return new ls(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function AB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ec(t.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ec(t.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ec(t.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ec(t.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):void 0!==n.fieldFilter?Me.create(ec((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ke.create(t.compositeFilter.filters.map(r=>AB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(n):Y();var t}function Gse(n){return Fse[n]}function Wse(n){return Vse[n]}function qse(n){return Lse[n]}function Js(n){return{fieldPath:n.canonicalString()}}function ec(n){return pt.fromServerFormat(n.fieldPath)}function SB(n){return n instanceof Me?function(t){if("=="===t.op){if(TL(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NAN"}};if(IL(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(TL(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NAN"}};if(IL(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(t.field),op:Wse(t.op),value:t.value}}}(n):n instanceof Ke?function(t){const r=t.getFilters().map(i=>SB(i));return 1===r.length?r[0]:{compositeFilter:{op:qse(t.op),filters:r}}}(n):Y()}function Kse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ds{constructor(e,t,r,i,s=re.min(),o=re.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RB{constructor(e){this.ut=e}}function FI(n){const e=DB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sm(e,e.limit,"L"):e}class la{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Od(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(as(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?DL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Y()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),$.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}la.St=new la;class noe{constructor(){this.on=new $I}addToCollectionParentIndex(e,t){return this.on.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(mr.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class $I{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(Oe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Oe.comparator)).toArray()}}new Uint8Array(0);class Mn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class ua{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ua(0)}static Nn(){return new ua(-1)}}class loe{constructor(){this.changes=new cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class doe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Wd(r.mutation,i,Zn.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){const i=xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Hd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Jn();const o=zd(),a=zd();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof us)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Wd(u.mutation,c,u.mutation.getFieldMask(),bt.now())):o.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new doe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=zd();let i=new nt((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Zn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=QL();u.forEach(h=>{if(!s.has(h)){const f=iB(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return $.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):CI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):C.resolve(xi());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:KL(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Hd();return this.indexManager.getCollectionParents(e,s).next(a=>C.forEach(a,l=>{const c=(d=t,h=l.child(s),new ls(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,dt.newInvalidDocument(u)))});let a=Hd();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&Wd(u.mutation,c,Zn.empty(),bt.now()),$d(t,c)&&(a=a.insert(l,c))}),a})}}class hoe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return C.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Ot(i.createTime)}),C.resolve();var i}getNamedQuery(e,t){return C.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:FI(i.bundledQuery),readTime:Ot(i.readTime)}),C.resolve();var i}}class foe{constructor(){this.overlays=new nt($.comparator),this.lr=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xi();return C.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=xi(),s=t.length+1,o=new $(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=xi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return C.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xI(t,r));let s=this.lr.get(t);void 0===s&&(s=ve(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class HI{constructor(){this.hr=new Qe(cn.Pr),this.Ir=new Qe(cn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new cn(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new cn(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new $(new Oe([])),r=new cn(t,e),i=new cn(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new $(new Oe([])),r=new cn(t,e),i=new cn(t,e+1);let s=ve();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new cn(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class cn{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return $.comparator(e.key,t.key)||he(e.gr,t.gr)}static Tr(e,t){return he(e.gr,t.gr)||$.comparator(e.key,t.key)}}class poe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qe(cn.Pr)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new AI(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cn(t,0),i=new cn(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(he);return t.forEach(i=>{const s=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),C.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;$.isDocumentKey(s)||(s=s.child(""));const o=new cn(new $(s),0);let a=new Qe(he);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),C.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){te(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return C.forEach(t.mutations,i=>{const s=new cn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new cn(t,0),i=this.yr.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class goe{constructor(e){this.Cr=e,this.docs=new nt($.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Jn();const o=t.path,a=new $(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fI(cL(u),r)<=0||(i.has(u.key)||$d(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Y()}vr(e,t){return C.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new moe(this)}getSize(e){return C.resolve(this.size)}}class moe extends loe{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),C.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class _oe{constructor(e){this.persistence=e,this.Fr=new cs(t=>na(t),Ud),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new HI,this.targetCount=0,this.Nr=ua.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),C.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.kn(t),C.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.Or.containsKey(t))}}class zI{constructor(e,t){this.Br={},this.overlays={},this.Lr=new _r(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _oe(this),this.indexManager=new noe,this.remoteDocumentCache=new goe(r=>this.referenceDelegate.Qr(r)),this.serializer=new RB(t),this.Kr=new hoe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new foe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new poe(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){N("MemoryPersistence","Starting transaction:",e);const i=new yoe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return C.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class yoe extends Uie{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Gr=new HI,this.zr=null}static jr(e){return new ym(e)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),C.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Hr,r=>{const i=$.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,re.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return C.or([()=>C.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class KI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ve(),i=ve();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KI(e,t.fromCache,r,i)}}class boe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new boe;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Bl()<=Se.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",Kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),C.resolve()):(Bl()<=Se.DEBUG&&N("QueryEngine","Query:",Kl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Bl()<=Se.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",Kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(t))):C.resolve())}zi(e,t){if($L(t))return C.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sm(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,o,l.readTime)?this.zi(e,sm(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,r,i){return $L(t)||i.isEqual(re.min())?C.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?C.resolve(null):(Bl()<=Se.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kl(t)),this.Xi(e,o,t,function lL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(1e9===r?new bt(t+1,0):new bt(t,r));return new mr(i,$.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Qe(WL(e));return t.forEach((i,s)=>{$d(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Bl()<=Se.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.Gi.getDocumentsMatchingQuery(e,t,mr.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Eoe{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new nt(he),this.ns=new cs(s=>na(s),Ud),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function aU(n,e){return QI.apply(this,arguments)}function QI(){return QI=S(function*(n,e){const t=U(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),QI.apply(this,arguments)}function lU(n){const e=U(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Ioe(n,e){const t=U(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oc(n,e,t){return YI.apply(this,arguments)}function YI(){return YI=S(function*(n,e,t){const r=U(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ws(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),YI.apply(this,arguments)}function Em(n,e,t){const r=U(n);let i=re.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=U(l),h=d.ns.get(u);return void 0!==h?C.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:re.min(),t?s:ve())).next(a=>(function hU(n,e,t){let r=n.rs.get(e)||re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function GL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class tT{constructor(){this.activeTargetIds=function TI(){return Tse}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gU{constructor(){this.eo=new tT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Aoe{ro(e){}shutdown(){}}class mU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Im=null;function rT(){return null===Im?Im=268435456+Math.round(2147483648*Math.random()):Im++,"0x"+Im.toString(16)}const Soe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xoe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Pn="WebChannelConnection";class Roe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=rT(),l=this.So(t,r);N("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,l,c,i).then(u=>(N("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw gr("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ll,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${Soe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=rT();return new Promise((o,a)=>{const l=new Sie;l.setWithCredentials(!0),l.listenOnce(Die.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uI.NO_ERROR:const u=l.getResponseJson();N(Pn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case uI.TIMEOUT:N(Pn,`RPC '${e}' ${s} timed out`),a(new F(D.DEADLINE_EXCEEDED,"Request time out"));break;case uI.HTTP_ERROR:const d=l.getStatus();if(N(Pn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(b)>=0?b:D.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(D.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{N(Pn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);N(Pn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}vo(e,t,r){const i=rT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Iie(),a=Tie(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");N(Pn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new xoe({co:v=>{f?N(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(N(Pn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),N(Pn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),_=(v,b,I)=>{v.listen(b,w=>{try{I(w)}catch(P){setTimeout(()=>{throw P},0)}})};return _(d,Kg.EventType.OPEN,()=>{f||N(Pn,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Kg.EventType.CLOSE,()=>{f||(f=!0,N(Pn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),_(d,Kg.EventType.ERROR,v=>{f||(f=!0,gr(Pn,`RPC '${e}' stream ${i} transport errored:`,v),p.Ro(new F(D.UNAVAILABLE,"The operation could not be completed")))}),_(d,Kg.EventType.MESSAGE,v=>{var b;if(!f){const I=v.data[0];te(!!I);const P=I.error||(null===(b=I[0])||void 0===b?void 0:b.error);if(P){N(Pn,`RPC '${e}' stream ${i} received error:`,P);const K=P.status;let X=function(Hn){const nr=qt[Hn];if(void 0!==nr)return uB(nr)}(K),De=P.message;void 0===X&&(X=D.INTERNAL,De="Unknown error status: "+K+" with message "+P.message),f=!0,p.Ro(new F(X,De)),d.close()}else N(Pn,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),_(a,Aie.STAT_EVENT,v=>{v.stat===nL.PROXY?N(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===nL.NOPROXY&&N(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Tm(){return typeof document<"u"?document:null}function oh(n){return new Bse(n,!0)}class iT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class yU{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new iT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return S(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return S(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return S(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(kt(t.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new F(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(S(function*(){e.state=0,e.start()}))}o_(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Moe extends yU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function $se(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Y(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(te(void 0===u||"string"==typeof u),Zt.fromBase64String(u||"")):(te(void 0===u||u instanceof Uint8Array),Zt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?D.UNKNOWN:uB(c.code);return new F(u,c.message||"")}(o);t=new gB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ri(n,r.document.name),s=Ot(r.document.updateTime),o=r.document.createTime?Ot(r.document.createTime):re.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(i,s,o,a);t=new um(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ri(n,r.document),s=r.readTime?Ot(r.readTime):re.min(),o=dt.newNoDocument(i,s);t=new um([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ri(n,r.document);t=new um([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Y();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new kse(i,s);t=new pB(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Ot(o.readTime):re.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Xd(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=rm(l)?{documents:TB(s,l)}:{query:NI(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vB(s,o.resumeToken);const c=MI(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Jl(s,o.snapshotVersion.toTimestamp());const c=MI(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function zse(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Xd(this.serializer),t.removeTarget=e,this.e_(t)}}class Poe extends yU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Hse(n,e){return n&&n.length>0?(te(void 0!==e),n.map(t=>function(i,s){let o=Ot(i.updateTime?i.updateTime:s);return o.isEqual(re.min())&&(o=Ot(s)),new xse(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.I_(r,t)}return te(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xd(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Zd(n,e){let t;if(e instanceof Xl)t={update:CB(n,e.key,e.value)};else if(e instanceof Zl)t={delete:Yd(n,e.key)};else if(e instanceof us)t={update:CB(n,e.key,e.data),updateMask:Kse(e.fieldMask)};else{if(!(e instanceof DI))return Y();t={verify:Yd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ra)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ia)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Y()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Use(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Y()),t;var s}(this.serializer,r))};this.e_(t)}}class koe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new F(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(D.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(D.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Noe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(kt(t),this.f_=!1):N("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Foe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(S(function*(){var l;ro(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(l=S(function*(u){const d=U(u);d.C_.add(4),yield ac(d),d.M_.set("Unknown"),d.C_.delete(4),yield ah(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Noe(r,i)}}function ah(n){return oT.apply(this,arguments)}function oT(){return oT=S(function*(n){if(ro(n))for(const e of n.v_)yield e(!0)}),oT.apply(this,arguments)}function ac(n){return aT.apply(this,arguments)}function aT(){return aT=S(function*(n){for(const e of n.v_)yield e(!1)}),aT.apply(this,arguments)}function Dm(n,e){const t=U(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),uT(t)?cT(t):cc(t).Ho()&&lT(t,e))}function lh(n,e){const t=U(n),r=cc(t);t.D_.delete(e),r.Ho()&&vU(t,e),0===t.D_.size&&(r.Ho()?r.Zo():ro(t)&&t.M_.set("Unknown"))}function lT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(n).u_(e)}function vU(n,e){n.x_.Oe(e),cc(n).c_(e)}function cT(n){n.x_=new Nse({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.M_.g_()}function uT(n){return ro(n)&&!cc(n).jo()&&n.D_.size>0}function ro(n){return 0===U(n).C_.size}function bU(n){n.x_=void 0}function Voe(n){return dT.apply(this,arguments)}function dT(){return dT=S(function*(n){n.D_.forEach((e,t)=>{lT(n,e)})}),dT.apply(this,arguments)}function Loe(n,e){return hT.apply(this,arguments)}function hT(){return hT=S(function*(n,e){bU(n),uT(n)?(n.M_.w_(e),cT(n)):n.M_.set("Unknown")}),hT.apply(this,arguments)}function Boe(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=S(function*(n,e,t){if(n.M_.set("Online"),e instanceof gB&&2===e.state&&e.cause)try{yield(r=S(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Am(n,r)}else if(e instanceof um?n.x_.$e(e):e instanceof pB?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(re.min()))try{const r=yield lU(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Zt.EMPTY_BYTE_STRING,u.snapshotVersion)),vU(s,l);const d=new ds(u.target,l,c,u.sequenceNumber);lT(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield Am(n,r)}var r}),fT.apply(this,arguments)}function Am(n,e,t){return pT.apply(this,arguments)}function pT(){return pT=S(function*(n,e,t){if(!Ws(e))throw e;n.C_.add(1),yield ac(n),n.M_.set("Offline"),t||(t=()=>lU(n.localStore)),n.asyncQueue.enqueueRetryable(S(function*(){N("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield ah(n)}))}),pT.apply(this,arguments)}function EU(n,e){return e().catch(t=>Am(n,t,e))}function lc(n){return gT.apply(this,arguments)}function gT(){return gT=S(function*(n){const e=U(n),t=io(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Uoe(e);)try{const i=yield Ioe(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,joe(e,i)}catch(i){yield Am(e,i)}wU(e)&&CU(e)}),gT.apply(this,arguments)}function Uoe(n){return ro(n)&&n.b_.length<10}function joe(n,e){n.b_.push(e);const t=io(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function wU(n){return ro(n)&&!io(n).jo()&&n.b_.length>0}function CU(n){io(n).start()}function $oe(n){return mT.apply(this,arguments)}function mT(){return mT=S(function*(n){io(n).E_()}),mT.apply(this,arguments)}function Hoe(n){return _T.apply(this,arguments)}function _T(){return _T=S(function*(n){const e=io(n);for(const t of n.b_)e.P_(t.mutations)}),_T.apply(this,arguments)}function zoe(n,e,t){return yT.apply(this,arguments)}function yT(){return yT=S(function*(n,e,t){const r=n.b_.shift(),i=SI.from(r,e,t);yield EU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lc(n)}),yT.apply(this,arguments)}function Goe(n,e){return vT.apply(this,arguments)}function vT(){return vT=S(function*(n,e){var t;e&&io(n).h_&&(yield(t=S(function*(i,s){if(function cB(n){switch(n){default:return Y();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}(a=s.code)&&a!==D.ABORTED){const o=i.b_.shift();io(i).Yo(),yield EU(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield lc(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),wU(n)&&CU(n)}),vT.apply(this,arguments)}function IU(n,e){return bT.apply(this,arguments)}function bT(){return bT=S(function*(n,e){const t=U(n);t.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=ro(t);t.C_.add(3),yield ac(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield ah(t)}),bT.apply(this,arguments)}function wT(){return wT=S(function*(n,e){const t=U(n);e?(t.C_.delete(2),yield ah(t)):e||(t.C_.add(2),yield ac(t),t.M_.set("Unknown"))}),wT.apply(this,arguments)}function cc(n){return n.O_||(n.O_=function(t,r,i){const s=U(t);return s.A_(),new Moe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Voe.bind(null,n),Io:Loe.bind(null,n),a_:Boe.bind(null,n)}),n.v_.push(function(){var e=S(function*(t){t?(n.O_.Yo(),uT(n)?cT(n):n.M_.set("Unknown")):(yield n.O_.stop(),bU(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function io(n){return n.N_||(n.N_=function(t,r,i){const s=U(t);return s.A_(),new Poe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:$oe.bind(null,n),Io:Goe.bind(null,n),T_:Hoe.bind(null,n),I_:zoe.bind(null,n)}),n.v_.push(function(){var e=S(function*(t){t?(n.N_.Yo(),yield lc(n)):(yield n.N_.stop(),n.b_.length>0&&(N("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class CT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new CT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(n,e){if(kt("AsyncQueue",`${e}: ${n}`),Ws(n))return new F(D.UNAVAILABLE,`${e}: ${n}`);throw n}class dc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$.comparator(t.key,r.key):(t,r)=>$.comparator(t.key,r.key),this.keyedMap=Hd(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TU{constructor(){this.B_=new nt($.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Y():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class hc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new hc(e,t,dc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Woe{constructor(){this.k_=void 0,this.listeners=[]}}class qoe{constructor(){this.queries=new cs(e=>zL(e),jd),this.onlineState="Unknown",this.q_=new Set}}function IT(n,e){return TT.apply(this,arguments)}function TT(){return TT=S(function*(n,e){const t=U(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Woe),i)try{s.k_=yield t.onListen(r)}catch(o){const a=uc(o,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&ST(t)}),TT.apply(this,arguments)}function DT(n,e){return AT.apply(this,arguments)}function AT(){return AT=S(function*(n,e){const t=U(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),AT.apply(this,arguments)}function Koe(n,e){const t=U(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&ST(t)}function Qoe(n,e,t){const r=U(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function ST(n){n.q_.forEach(e=>{e.next()})}class xT{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class SU{constructor(e){this.key=e}}class xU{constructor(e){this.key=e}}class RU{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ve(),this.mutatedKeys=ve(),this._a=WL(e),this.aa=new dc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new TU,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=$d(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,d)=>function(f,p){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return _(f)-_(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],l=0===this.oa.size&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new hc(this.query,e.aa,s,o,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new TU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ve(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new xU(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new SU(r))}),t}da(e){this.ia=e.ls,this.oa=ve();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return hc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Zoe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Joe{constructor(e){this.key=e,this.Ra=!1}}class eae{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new cs(a=>zL(a),jd),this.fa=new Map,this.ga=new Set,this.pa=new nt($.comparator),this.ya=new Map,this.wa=new HI,this.Sa={},this.ba=new Map,this.Da=ua.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function tae(n,e){return RT.apply(this,arguments)}function RT(){return RT=S(function*(n,e){const t=function JT(n){const e=U(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iae.bind(null,e),e.Va.a_=Koe.bind(null,e.eventManager),e.Va.Fa=Qoe.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function sc(n,e){const t=U(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,$n(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function MT(n,e,t,r,i){return PT.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Dm(t.remoteStore,o)}return i}),RT.apply(this,arguments)}function PT(){return PT=S(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=S(function*(v,b,I,w){let P=b.view.ca(I);P.Zi&&(P=yield Em(v.localStore,b.query,!1).then(({documents:mt})=>b.view.ca(mt,P)));const K=w&&w.targetChanges.get(b.targetId),X=w&&null!=w.targetMismatches.get(b.targetId),De=b.view.applyChanges(P,v.isPrimaryClient,K,X);return $T(v,b.targetId,De.Ta),De.snapshot}),function _(v,b,I,w){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Em(n.localStore,e,!0),o=new RU(e,s.ls),a=o.ca(s.documents),l=Qd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);$T(n,t,c.Ta);const u=new Zoe(e,t,o);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),PT.apply(this,arguments)}function nae(n,e){return kT.apply(this,arguments)}function kT(){return kT=S(function*(n,e){const t=U(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!jd(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield oc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),lh(t.remoteStore,r.targetId),fc(t,r.targetId)}).catch(Gs))):(fc(t,r.targetId),yield oc(t.localStore,r.targetId,!0))}),kT.apply(this,arguments)}function OT(){return OT=S(function*(n,e,t){const r=function eD(n){const e=U(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oae.bind(null,e),e}(n);try{const i=yield function(o,a){const l=U(o),c=bt.now(),u=a.reduce((f,p)=>f.add(p.key),ve());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Jn(),_=ve();return l.ss.getEntries(f,u).next(v=>{p=v,p.forEach((b,I)=>{I.isValidDocument()||(_=_.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const b=[];for(const I of a){const w=Mse(I,d.get(I.key).overlayedDocument);null!=w&&b.push(new us(I.key,w,xL(w.value.mapValue),gt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(f,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:KL(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new nt(he)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield hs(r,i.changes),yield lc(r.remoteStore)}catch(i){const s=uc(i,"Failed to persist write");t.reject(s)}}),OT.apply(this,arguments)}function MU(n,e){return NT.apply(this,arguments)}function NT(){return NT=S(function*(n,e){const t=U(n);try{const r=yield function Coe(n,e){const t=U(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var _,v,b;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Zt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),v=f,b=u,(0===(_=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let l=Jn(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function cU(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Jn();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(re.min())){const u=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?te(o.Ra):i.removedDocuments.size>0&&(te(o.Ra),o.Ra=!1))}),yield hs(t,r,e)}catch(r){yield Gs(r)}}),NT.apply(this,arguments)}function PU(n,e,t){const r=U(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=U(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&ST(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iae(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=S(function*(n,e,t){const r=U(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new nt($.comparator);o=o.insert(s,dt.newNoDocument(s,re.min()));const a=ve().add(s),l=new Kd(re.min(),new Map,new nt(he),o,a);yield MU(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),HT(r)}else yield oc(r.localStore,e,!1).then(()=>fc(r,e,t)).catch(Gs)}),FT.apply(this,arguments)}function sae(n,e){return VT.apply(this,arguments)}function VT(){return VT=S(function*(n,e){const t=U(n),r=e.batch.batchId;try{const i=yield function woe(n,e){const t=U(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=C.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(_=>{const v=c.docVersions.get(p);te(null!==v),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);jT(t,r,null),UT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hs(t,i)}catch(i){yield Gs(i)}}),VT.apply(this,arguments)}function oae(n,e,t){return LT.apply(this,arguments)}function LT(){return LT=S(function*(n,e,t){const r=U(n);try{const i=yield function(o,a){const l=U(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(te(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);jT(r,e,t),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hs(r,i)}catch(i){yield Gs(i)}}),LT.apply(this,arguments)}function UT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function jT(n,e,t){const r=U(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function fc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||kU(n,r)})}function kU(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(lh(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),HT(n))}function $T(n,e,t){for(const r of t)r instanceof SU?(n.wa.addReference(r.key,e),lae(n,r)):r instanceof xU?(N("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||kU(n,r.key)):Y()}function lae(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(N("SyncEngine","New document in limbo: "+t),n.ga.add(r),HT(n))}function HT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new $(Oe.fromString(e)),r=n.Da.next();n.ya.set(r,new Joe(t)),n.pa=n.pa.insert(t,r),Dm(n.remoteStore,new ds($n(Wl(t.path)),r,"TargetPurposeLimboResolution",_r._e))}}function hs(n,e,t){return zT.apply(this,arguments)}function zT(){return zT=S(function*(n,e,t){const r=U(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=KI.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=S(function*(c,u){const d=U(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(u,f=>C.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>C.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ws(h))throw h;N("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),v=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,v)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,s))}),zT.apply(this,arguments)}function cae(n,e){return GT.apply(this,arguments)}function GT(){return GT=S(function*(n,e){const t=U(n);if(!t.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield aU(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new F(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hs(t,r._s)}var s}),GT.apply(this,arguments)}function uae(n,e){const t=U(n),r=t.ya.get(e);if(r&&r.Ra)return ve().add(r.key);{let i=ve();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Sm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return S(function*(){t.serializer=oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function oU(n,e,t,r){return new Eoe(n,e,t,r)}(this.persistence,new sU,e.initialUser,this.serializer)}createPersistence(e){return new zI(ym.jr,this.serializer)}createSharedClientState(e){return new gU}terminate(){var e=this;return S(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pc{initialize(e,t){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>PU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cae.bind(null,r.syncEngine),yield function ET(n,e){return wT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qoe}createDatastore(e){const t=oh(e.databaseInfo.databaseId),r=new Roe(e.databaseInfo);return new koe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>PU(this.syncEngine,t,0),a=mU.D()?new mU:new Aoe,new Foe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const d=new eae(i,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=S(function*(r){const i=U(r);N("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield ac(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class xm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Cae{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=oL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return S(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=uc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Rm(n,e){return tD.apply(this,arguments)}function tD(){return tD=S(function*(n,e){n.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield aU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),tD.apply(this,arguments)}function nD(n,e){return rD.apply(this,arguments)}function rD(){return rD=S(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function iD(n){return sD.apply(this,arguments)}(n);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>IU(e.remoteStore,s)),n._onlineComponents=e}),rD.apply(this,arguments)}function sD(){return sD=S(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function BU(n){return"FirebaseError"===n.name?n.code===D.FAILED_PRECONDITION||n.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;gr("Error using user provided cache. Falling back to memory cache: "+t),yield Rm(n,new Sm)}}else N("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(n,new Sm);return n._offlineComponents}),sD.apply(this,arguments)}function Mm(n){return oD.apply(this,arguments)}function oD(){return oD=S(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),yield nD(n,n._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),yield nD(n,new pc))),n._onlineComponents}),oD.apply(this,arguments)}function mc(n){return lD.apply(this,arguments)}function lD(){return lD=S(function*(n){const e=yield Mm(n),t=e.eventManager;return t.onListen=tae.bind(null,e.syncEngine),t.onUnlisten=nae.bind(null,e.syncEngine),t}),lD.apply(this,arguments)}function GU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const WU=new Map;function cD(n,e,t){if(!t)throw new F(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qU(n){if(!$.isDocumentKey(n))throw new F(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KU(n){if($.isDocumentKey(n))throw new F(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Y()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pm(n);throw new F(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class YU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new F(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Oae(n,e,t,r){if(!0===e&&!0===r)throw new F(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=GU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Rie;switch(r.type){case"firstParty":return new Oie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=WU.get(t);r&&(N("ComponentProvider","Removing Datastore"),WU.delete(t),r.terminate())}(this),Promise.resolve()}}class yn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yn(this.firestore,e,this._query)}}class Nt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class Mi extends yn{constructor(e,t,r){super(e,t,Wl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new $(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function Fae(n,e,...t){if(n=Jr(n),cD("collection","path",e),n instanceof ch){const r=Oe.fromString(e,...t);return KU(r),new Mi(n,null,r)}{if(!(n instanceof Nt||n instanceof Mi))throw new F(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Oe.fromString(e,...t));return KU(r),new Mi(n.firestore,null,r)}}function XU(n,e,...t){if(n=Jr(n),1===arguments.length&&(e=oL.newId()),cD("doc","path",e),n instanceof ch){const r=Oe.fromString(e,...t);return qU(r),new Nt(n,null,new $(r))}{if(!(n instanceof Nt||n instanceof Mi))throw new F(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Oe.fromString(e,...t));return qU(r),new Nt(n.firestore,n instanceof Mi?n.converter:null,new $(r))}}class Vae{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new iT(this,"async_queue_retry"),this.iu=()=>{const t=Tm();t&&N("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Tm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Tm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Xt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return S(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Ws(t))throw t;N("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,kt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=CT.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Y()}verifyOperationInProgress(){}uu(){var e=this;return S(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class rt extends ch{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JU(this),this._firestoreClient.terminate()}}function Bae(n,e){const r="string"==typeof n?n:e||"(default)",i=function bF(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:wF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QZ("firestore");s&&function Nae(n,e,t,r={}){var i;const s=(n=Pe(n,ch))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=an.MOCK_USER;else{a=function XZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yp(JSON.stringify({alg:"none",type:"JWT"})),Yp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}n._authCredentials=new Mie(new iL(a,l))}}(i,...s)}return i}function Ft(n){return n._firestoreClient||JU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JU(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new use(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GU(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new Cae(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Zt.fromBase64String(e))}catch(t){throw new F(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function jae(){return new _c("__name__")}class n4{constructor(e){this._methodName=e}}class dD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const $ae=/^__.*__$/;class Hae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}function i4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class km{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Nm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(i4(this.Iu)&&$ae.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class zae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||oh(e)}pu(e,t,r,i=!1){return new km({Iu:e,methodName:t,gu:r,path:pt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yc(n){const e=n._freezeSettings(),t=oh(n._databaseId);return new zae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hD(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);pD("Data must be an object, but it was:",o,r);const a=c4(r,o);let l,c;if(s.merge)l=new Zn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=hh(e,d,t);if(!o.contains(h))throw new F(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);d4(u,h)||u.push(h)}l=new Zn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Hae(new _n(a),l,c)}function l4(n,e,t,r=!1){return fa(t,n.pu(r?4:3,e))}function fa(n,e){if(u4(n=Jr(n)))return pD("Unsupported field value:",e,n),c4(n,e);if(n instanceof n4)return function(r,i){if(!i4(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fa(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Jr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ZL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=bt.fromDate(r);return{timestampValue:Jl(i.serializer,s)}}if(r instanceof bt){const s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jl(i.serializer,s)}}if(r instanceof dD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:vB(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Pm(r)}`)}(n,e)}function c4(n,e){const t={};return bL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(n,(r,i)=>{const s=fa(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function u4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof dD||n instanceof ha||n instanceof Nt||n instanceof n4)}function pD(n,e,t){if(!u4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Pm(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function hh(n,e,t){if((e=Jr(e))instanceof _c)return e._internalPath;if("string"==typeof e)return Om(n,e);throw Nm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kae=new RegExp("[~\\*/\\[\\]]");function Om(n,e,t){if(e.search(Kae)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new F(D.INVALID_ARGUMENT,a+n+l)}function d4(n,e){return n.some(t=>t.isEqual(e))}class gD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qae extends gD{data(){return super.data()}}function Fm(n,e){return"string"==typeof e?Om(n,e):e instanceof _c?e._internalPath:e._delegate._internalPath}class mD{}class Vm extends mD{}function Yae(n,e,...t){let r=[];e instanceof mD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof vc).length,a=s.filter(l=>l instanceof fh).length;if(o>1||o>0&&a>0)throw new F(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class fh extends Vm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fh(e,t,r)}_apply(e){const t=this._parse(e);return m4(e._query,t),new yn(e.firestore,e.converter,II(e._query,t))}_parse(e){const t=yc(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new F(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){g4(d,u);const f=[];for(const p of d)f.push(p4(l,s,p));h={arrayValue:{values:f}}}else h=p4(l,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||g4(d,u),h=l4(a,"where",d,"in"===u||"not-in"===u);return Me.create(c,u,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xae(n,e,t){const r=e,i=Fm("where",n);return fh._create(i,r,t)}class vc extends mD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ke.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)m4(o,l),o=II(o,l)}(e._query,t),new yn(e.firestore,e.converter,II(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _D extends Vm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _D(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new F(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new F(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bd(s,o)}(e._query,this._field,this._direction);return new yn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ls(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Zae(n,e="asc"){const t=e,r=Fm("orderBy",n);return _D._create(r,t)}class Lm extends Vm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Lm(e,t,r)}_apply(e){return new yn(e.firestore,e.converter,sm(e._query,this._limit,this._limitType))}}function Jae(n){return function QU(n,e){if(e<=0)throw new F(D.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Lm._create("limit",n,"F")}class Bm extends Vm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Bm(e,t,r)}_apply(e){const t=function f4(n,e,t,r){if(t[0]=Jr(t[0]),t[0]instanceof gD)return function(s,o,a,l,c){if(!l)throw new F(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of ql(s))if(d.field.isKeyField())u.push(ta(o,l.key));else{const h=l.data.field(d.field);if(Zg(h))throw new F(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const f=d.field.canonicalString();throw new F(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Zs(u,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=yc(n.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new F(D.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<u.length;p++){const _=u[p];if(h[p].field.isKeyField()){if("string"!=typeof _)throw new F(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!CI(o)&&-1!==_.indexOf("/"))throw new F(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const v=o.path.child(Oe.fromString(_));if(!$.isDocumentKey(v))throw new F(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const b=new $(v);f.push(ta(a,b))}else{const v=l4(l,c,_);f.push(v)}}return new Zs(f,d)}(n._query,n.firestore._databaseId,i,e,t,r)}}(e,this.type,this._docOrFields,this._inclusive);return new yn(e.firestore,e.converter,(s=t,new ls((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}function ele(...n){return Bm._create("startAfter",n,!1)}function p4(n,e,t){if("string"==typeof(t=Jr(t))){if(""===t)throw new F(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CI(e)&&-1!==t.indexOf("/"))throw new F(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Oe.fromString(t));if(!$.isDocumentKey(r))throw new F(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ta(n,new $(r))}if(t instanceof Nt)return ta(n,t._key);throw new F(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(t)}.`)}function g4(n,e){if(!Array.isArray(n)||0===n.length)throw new F(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m4(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new F(D.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tle{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return qs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new dD(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const t=Ks(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Oe.fromString(e);te(xB(r));const i=new ea(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(t)||kt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends gD{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jm extends bc{data(e={}){return super.data(e)}}class Ec{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jm(this._firestore,this._userDataWriter,r.key,r,new pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new jm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:rle(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rle(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function ile(n){n=Pe(n,Nt);const e=Pe(n.firestore,rt);return function HU(n,e,t={}){const r=new Xt;return n.asyncQueue.enqueueAndForget(S(function*(){return function(s,o,a,l,c){const u=new xm({next:h=>{o.enqueueAndForget(()=>DT(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new F(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&"server"===l.source?c.reject(new F(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new xT(Wl(a.path),u,{includeMetadataChanges:!0,J_:!0});return IT(s,d)}(yield mc(n),n.asyncQueue,e,t,r)})),r.promise}(Ft(e),n._key).then(t=>function vD(n,e,t){const r=t.docs.get(e._key),i=new so(n);return new bc(n,i,e._key,r,new pa(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class so extends tle{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function sle(n){n=Pe(n,yn);const e=Pe(n.firestore,rt),t=Ft(e),r=new so(e);return function h4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function zU(n,e,t={}){const r=new Xt;return n.asyncQueue.enqueueAndForget(S(function*(){return function(s,o,a,l,c){const u=new xm({next:h=>{o.enqueueAndForget(()=>DT(s,d)),h.fromCache&&"server"===l.source?c.reject(new F(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new xT(a,u,{includeMetadataChanges:!0,J_:!0});return IT(s,d)}(yield mc(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Ec(e,r,n,i))}function ole(n,e,t){n=Pe(n,Nt);const r=Pe(n.firestore,rt),i=function yD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return ph(r,[hD(yc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,gt.none())])}function ale(n){return ph(Pe(n.firestore,rt),[new Zl(n._key,gt.none())])}function ph(n,e){return function(r,i){const s=new Xt;return r.asyncQueue.enqueueAndForget(S(function*(){return function rae(n,e,t){return OT.apply(this,arguments)}(yield function aD(n){return Mm(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Ft(n),e)}!function(e,t=!0){Ll=ng,Dl(new Lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new rt(new Pie(r.getProvider("auth-internal")),new Nie(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mr(rL,"4.4.0",e),Mr(rL,"4.4.0","esm2017")}();class zm{constructor(e){return e}}const E4="firestore",ED=new L("angularfire2.firestore-instances");function wle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zm(r)}}const Cle={provide:class ble{constructor(){return uE(E4)}},deps:[[new In,ED]]},Ile={provide:zm,useFactory:function Ele(n,e){const t=function RF(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(E4,n,e);return t&&new zm(t)},deps:[[new In,ED],Xu]};let Tle=(()=>{class n{constructor(){Mr("angularfire",cE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=et({providers:[Ile,Cle]})}return n})();function Dle(n,...e){return{ngModule:Tle,providers:[{provide:ED,useFactory:wle(n),multi:!0,deps:[Re,rn,PF,kF,[new In,LV],[new In,Dee],...e]}]}}const er=Yn(Fae,!0),Gm=Yn(ale,!0),Vt=Yn(XU,!0),Or=Yn(jae,!0),wc=Yn(ile,!0),gh=Yn(sle,!0),Ale=Yn(Bae,!0),wD=Yn(Jae,!0),fs=Yn(Zae,!0),tr=Yn(Yae,!0),ri=Yn(ole,!0),CD=Yn(ele,!0),Nr=Yn(Xae,!0);let Pi=(()=>{class n{constructor(t){this.firestore=t}createClient(t,r,i){var s=this;return S(function*(){return t.dateCreation=new Date,s.getCaisseData().then(o=>(ri(Vt(s.firestore,"facture",(o.lastFactureId+1).toString()),r),ri(Vt(s.firestore,"client",(o.lastFactureId+1).toString()),t),ri(Vt(s.firestore,"entete","1"),i),ri(Vt(s.firestore,"general","1"),{...o,caisse:o.caisse+parseInt(t.NetPayer),lastFactureId:o.lastFactureId+1,numberFacture:o.numberFacture+1}),!0)).catch(o=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}createUser(t){var r=this;return S(function*(){return r.getCaisseData().then(i=>(ri(Vt(r.firestore,"user",(i.lastClientId+1).toString()),t),ri(Vt(r.firestore,"general","1"),{...i,lastClientId:i.lastClientId+1,numberClient:i.numberClient+1}),!0)).catch(i=>(confirm("le client na pas ete cree il peut quelle existe deja"),console.log(i),!1)),!0})()}readClients(t,r){var i=this;return S(function*(){let s=[];return(yield gh(tr(er(i.firestore,"client")))).docs.map(o=>{s.push(o.data())}),s})()}readClientsPaged(t,r,i,s){var o=this;return S(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"client"),Nr("dateCreation",">=",new Date(s)),Nr(Or(),">=",i));else c=null!=i?tr(er(o.firestore,"client"),fs(Or()),Nr(Or(),">=",i)):null!=s?tr(er(o.firestore,"client"),fs("dateCreation"),Nr("dateCreation",">=",new Date(s))):tr(er(o.firestore,"client"),fs(Or()),CD(t+""),wD(r));return(yield gh(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readBons(){var t=this;return S(function*(){let r=[];return(yield gh(tr(er(t.firestore,"bons")))).docs.map(i=>{r.push(i.data())}),r})()}readBonsPaged(t,r,i,s){var o=this;return S(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"bons"),Nr("date",">=",new Date(s)),Nr(Or(),">=",i));else c=null!=i?tr(er(o.firestore,"bons"),fs(Or()),Nr(Or(),">=",i)):null!=s?tr(er(o.firestore,"bons"),fs("date"),Nr("date",">=",new Date(s))):tr(er(o.firestore,"bons"),fs(Or()),CD(t+""),wD(r));return(yield gh(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readUsersPaged(t,r,i,s){var o=this;return S(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"user"),Nr("Name","==",s),Nr(Or(),">=",i));else c=null!=i?tr(er(o.firestore,"user"),fs(Or()),Nr(Or(),">=",i)):null!=s?tr(er(o.firestore,"user"),fs("date"),Nr("Name","==",s)):tr(er(o.firestore,"user"),fs(Or()),CD(t+""),wD(r));return(yield gh(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readClient(t,r){var i=this;return S(function*(){if("facture"==r){var s=yield Vt(i.firestore,"facture",t),o=yield wc(s);return yield o.data()}if("client"==r){var l=yield Vt(i.firestore,"client",t),c=yield wc(l);return yield c.data()}if("entete"==r){var d=yield Vt(i.firestore,"entete","1"),h=yield wc(d);return yield h.data()}})()}deleteFacture(t,r){var i=this;return S(function*(){try{yield Gm(Vt(i.firestore,"client",t)),yield Gm(Vt(i.firestore,"facture",t)),i.getCaisseData().then(s=>{ri(Vt(i.firestore,"general","1"),{...s,caisse:s.caisse-r,lastFactureId:s.lastFactureId,numberFacture:s.numberFacture-1})})}catch{return!1}return!0})()}deleteUser(t){var r=this;return S(function*(){try{yield Gm(Vt(r.firestore,"user",t.toString())),r.getCaisseData().then(i=>{ri(Vt(r.firestore,"general","1"),{...i,numberClient:i.numberClient-1})})}catch{return!1}return!0})()}deleteBon(t,r){var i=this;return S(function*(){try{console.log(t),console.log(typeof t),yield Gm(Vt(i.firestore,"bons",t+"")),i.getCaisseData().then(s=>{ri(Vt(i.firestore,"general","1"),{...s,caisse:s.caisse+r,numberBons:s.numberBons-1})})}catch{confirm("le Bons n'est pas supprimer ")}return!0})()}readBon(t){var r=this;return S(function*(){console.log(t);var i=Vt(r.firestore,"bons",t);return{bon:yield(yield wc(i)).data()}})()}getCaisseData(){var t=this;return S(function*(){const r=yield Vt(t.firestore,"general","1");return(yield wc(r)).data()})()}getTitleData(t){var r=this;return S(function*(){const i=Vt(r.firestore,"entete",t);return(yield wc(i)).data()})()}createBons(t){var r=this;return S(function*(){return r.getCaisseData().then(i=>(t.id=i.lastBonsId+1,ri(Vt(r.firestore,"bons",t.id+""),t),ri(Vt(r.firestore,"general","1"),{...i,caisse:i.caisse-parseInt(t.total+""),lastBonsId:i.lastBonsId+1,numberBons:i.numberBons+1}),!0)).catch(i=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(zm))};static#t=this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sle(n,e){if(1&n&&(g(0,"div")(1,"div"),y(2),m()()),2&n){const t=e.$implicit;E(2),_v("",t.name," ",t.prenom," ",t.age,"")}}let xle=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt),R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(g(0,"div")(1,"h1",0),y(2,"Factures"),m(),g(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),V("click",function(){return i.goToFacture()}),g(7,"h2",4),y(8,"Facture 1"),m(),g(9,"h3",5),y(10,"Client 1"),m()()()(),g(11,"div")(12,"div",2)(13,"div",3),V("click",function(){return i.goToFacture()}),g(14,"h2",4),y(15,"Facture 2"),m(),g(16,"h3",5),y(17,"Client 2"),m()()()(),g(18,"div")(19,"div",2)(20,"div",3),V("click",function(){return i.goToFacture()}),g(21,"h2",4),y(22,"Facture 3"),m(),g(23,"h3",5),y(24,"Client 3"),m()()()()()(),H(25,Sle,3,3,"div",6)),2&r&&(E(25),k("ngForOf",i.clients))},dependencies:[Qr]})}return n})();function Rle(n,e){if(1&n&&(g(0,"p",28),y(1),g(2,"span",8),y(3),m()()),2&n){const t=T().$implicit,r=T();E(1),J("",t," : "),E(2),J(" ",r.champsClientValue[t],"")}}function Mle(n,e){if(1&n&&(Ge(0),H(1,Rle,4,2,"p",27),We()),2&n){const t=e.$implicit;E(1),k("ngIf","dateCreation"!=t&&"Nombre_Colis"!=t&&"selected"!=t&&"NetPayer"!=t&&"NIF"!=t&&"N RC"!=t&&"AI"!=t&&"NIC"!=t)}}function Ple(n,e){if(1&n&&(g(0,"p",28),y(1),g(2,"span",8),y(3),m()()),2&n){const t=T().$implicit,r=T();E(1),J("",t," : "),E(2),J(" ",r.champsClientValue[t],"")}}function kle(n,e){if(1&n&&(Ge(0),H(1,Ple,4,2,"p",27),We()),2&n){const t=e.$implicit;E(1),k("ngIf","Nombre_Colis"==t||"NIF"==t||"N RC"==t||"AI"==t||"NIC"==t)}}function Ole(n,e){if(1&n&&(g(0,"td",37),y(1),m()),2&n){const t=T(3).$implicit,r=T();E(1),J("",r.champsClientValueFacture[t]," DA")}}function Nle(n,e){1&n&&(g(0,"td",37),y(1,"--"),m())}function Fle(n,e){if(1&n&&(Ge(0),Ce(1,"td",34),H(2,Ole,2,1,"td",35),H(3,Nle,2,0,"td",35),g(4,"td",36),y(5,"--"),m(),We()),2&n){const t=T(2).$implicit,r=T();E(2),k("ngIf",""!=r.champsClientValueFacture[t]&&"0"!=r.champsClientValueFacture[t]),E(1),k("ngIf",""==r.champsClientValueFacture[t]||"0"==r.champsClientValueFacture[t])}}function Vle(n,e){if(1&n&&(g(0,"td",36),y(1),m()),2&n){const t=T(3).$implicit,r=T();E(1),J("",r.champsClientValueFacture[t]," DA")}}function Lle(n,e){1&n&&(g(0,"td",36),y(1,"--"),m())}function Ble(n,e){if(1&n&&(Ge(0),Ce(1,"td",34),g(2,"td",37),y(3,"--"),m(),H(4,Vle,2,1,"td",38),H(5,Lle,2,0,"td",38),We()),2&n){const t=T(2).$implicit,r=T();E(4),k("ngIf",""!=r.champsClientValueFacture[t]&&"0"!=r.champsClientValueFacture[t]),E(1),k("ngIf",""==r.champsClientValueFacture[t]||"0"==r.champsClientValueFacture[t])}}function Ule(n,e){if(1&n&&(g(0,"tr",30)(1,"td",31)(2,"div",32),y(3),m()(),H(4,Fle,6,2,"ng-container",33),H(5,Ble,6,2,"ng-container",33),m()),2&n){const t=T().$implicit,r=T();E(3),yt(t),E(1),k("ngIf","P"==r.typeItem[t]),E(1),k("ngIf","D"==r.typeItem[t])}}function jle(n,e){if(1&n&&(Ge(0),H(1,Ule,6,3,"tr",29),We()),2&n){const t=e.$implicit;E(1),k("ngIf","dateCreation"!=t)}}let $le=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.champsTitleValue={},this.champsClientValue={},this.champsClientValueFacture={},this.champsClient=[],this.champsFacture=[],this.typeItem={},this.Total=0,this.NetPayer=0}ngOnInit(){this.getFacture(this.route.snapshot.params.data)}getFacture(t){var r=this;return S(function*(){yield r.client.readClient(t,"client").then(i=>{console.log(i),r.extraireClesEtValeurs(i,"client")}),yield r.client.readClient(t,"facture").then(i=>{r.extraireClesEtValeurs(i,"facture"),r.getTotal()}),yield r.client.readClient("1","entete").then(i=>{r.extraireClesEtValeurs(i,"entete")})})()}imprimer(){window.print()}listeTriees(t){return t.slice().sort((r,i)=>r.localeCompare(i))}extraireClesEtValeurs(t,r){if("client"==r)for(const[i,s]of Object.entries(t))this.champsClient.push(i),this.champsClientValue[i]=s;if("facture"==r)for(const[i,s]of Object.entries(t))this.champsFacture.push(i),s.includes("\xa3")?(this.champsClientValueFacture[i]=s.replace("\xa3",""),this.typeItem[i]="P"):(this.champsClientValueFacture[i]=s,this.typeItem[i]="D");else for(const[i,s]of Object.entries(t))this.champsTitleValue[i]=s}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,s]of Object.entries(t))r+=parseInt(s);return r}static#e=this.\u0275fac=function(r){return new(r||n)(R(Fs),R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-facture-view"]],decls:63,vars:12,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"mt-12","flex","flex-col","sm:flex-row"],[1,"sm:w-1/2"],[4,"ngFor","ngForOf"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-10","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-10","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pt-10","text-center","text-xl","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],["class","border-b border-gray-200",4,"ngIf"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[4,"ngIf"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","px-3 py-2 text-right text-sm text-gray-500 sm:table-cell",4,"ngIf"],[1,"py-2","text-center","text-sm","text-gray-500","sm:pr-0"],[1,"px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 text-center text-sm text-gray-500 sm:pr-0",4,"ngIf"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),V("click",function(){return i.imprimer()}),y(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),y(7),m(),g(8,"p",6),y(9),m(),g(10,"p",7),y(11),m(),g(12,"p",7)(13,"span",8),y(14,"RCN :"),m(),y(15),g(16,"span",8),y(17," / NIF :"),m(),y(18),m()(),g(19,"div",9)(20,"p",10),y(21),m(),g(22,"p",6)(23,"span",8),y(24,"Declaration:"),m(),y(25),m(),g(26,"p",6)(27,"span",8),y(28,"Nombre de Colis:"),m(),y(29),m()()(),g(30,"div",11)(31,"div",12),H(32,Mle,2,1,"ng-container",13),m(),g(33,"div",12),H(34,kle,2,1,"ng-container",13),m()(),g(35,"div",14)(36,"table",15)(37,"colgroup"),Ce(38,"col",16)(39,"col",17)(40,"col",17)(41,"col",17),m(),g(42,"thead",18)(43,"tr")(44,"th",19),y(45,"Designation"),m(),Ce(46,"th",20),g(47,"th",21),y(48,"Prestation"),m(),g(49,"th",22),y(50,"Debour"),m()()(),g(51,"tbody"),H(52,jle,2,1,"ng-container",13),m(),g(53,"tfoot")(54,"tr")(55,"th",23),y(56,"NET A PAYER"),m(),g(57,"th",24),y(58,"NET A PAYER"),m(),g(59,"td",25),y(60),m()()()()(),g(61,"div",26),y(62," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(E(7),J(" ",i.champsTitleValue.Name," "),E(2),J(" ",i.champsTitleValue.Adresse," "),E(2),J(" ",i.champsTitleValue["Tel/Fax"]," "),E(4),J("",i.champsTitleValue.RCN," "),E(3),J(" ",i.champsTitleValue.NIF," "),E(3),J(" ",i.champsTitleValue.Date," "),E(4),J(" ",i.champsTitleValue.Declaration," "),E(4),J(" ",i.champsClientValue.Nombre_Colis," "),E(3),k("ngForOf",i.listeTriees(i.champsClient)),E(2),k("ngForOf",i.listeTriees(i.champsClient)),E(18),k("ngForOf",i.listeTriees(i.champsFacture)),E(8),J("",i.NetPayer,"\xa0DA"))},dependencies:[Qr,_i],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function Hle(n,e){if(1&n){const t=xe();Ge(0),g(1,"div",19)(2,"div")(3,"label",20),y(4,"Filtre par N\xb0"),m(),g(5,"input",21),V("ngModelChange",function(i){return G(t),W(T().filterNumber=i)}),m()(),g(6,"div")(7,"label",20),y(8,"Filtre par Date"),m(),g(9,"input",22),V("ngModelChange",function(i){return G(t),W(T().filterDate=i)}),m()(),g(10,"div",23)(11,"button",24),V("click",function(){return G(t),W(T().filter())}),y(12,"Filtre"),m(),g(13,"button",24),V("click",function(){return G(t),W(T().Reset())}),y(14,"Reset/Close"),m()()(),We()}if(2&n){const t=T();E(5),k("ngModel",t.filterNumber),E(4),k("ngModel",t.filterDate)}}function zle(n,e){if(1&n){const t=xe();Ge(0),g(1,"button",25),V("click",function(){return G(t),W(T().filterFlag=!0)}),y(2,"Ouvrir le filtre --\x3e"),m(),We()}}function Gle(n,e){if(1&n){const t=xe();Ge(0),g(1,"tr")(2,"td",26)(3,"div",27),Bt(),g(4,"svg",28),Ce(5,"path",29),m()()(),Cn(),g(6,"td",30),y(7),m(),g(8,"td",31)(9,"div",32)(10,"div")(11,"h2",33),y(12),m()()()(),g(13,"td",34),y(14),m(),g(15,"td",35)(16,"button",36),V("click",function(){const s=G(t).$implicit;return W(T().goToFacture(s.FactureNumber))}),Bt(),g(17,"svg",37),Ce(18,"path",38),m()(),Cn(),g(19,"button",39),V("click",function(){const s=G(t).$implicit;return W(T().deleteFacture(s.FactureNumber,s.NetPayer))}),Bt(),g(20,"svg",28),Ce(21,"path",40),m()()()(),We()}if(2&n){const t=e.$implicit;E(7),J(" ",t.FactureNumber," "),E(5),yt(t.Name),E(2),yt(t.dateCreation)}}let Wle=(()=>{class n{constructor(t,r,i){this.route=t,this.clientService=r,this.datePipe=i,this.clients=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=8,this.filterFlag=!1}ngOnInit(){this.getClientsPaged(this.skip[0],this.maxResultCount),this.clientService.getCaisseData().then(t=>{this.total=t.numberFacture})}getClientsPaged(t,r){this.clientService.readClientsPaged(t,r).then(i=>{this.clients=i,this.skip[this.page]=parseInt(this.clients.pop()),this.clients.forEach(s=>{s.dateCreation=this.formatDate(s.dateCreation)})})}goToFacture(t){this.route.navigate(["/facture-view",{data:t}])}deleteFacture(t,r){confirm("voulez vous vraiment supprimer cette Facture")&&this.clientService.deleteFacture(t,r).then(i=>{alert("la facture a ete supprimer avec succes"),this.skip=[0],this.page=1,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount)})}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}filter(){this.filterFlag=!0,this.clientService.readClientsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.clients=t,this.clients.pop(),this.clients.forEach(r=>{r.dateCreation=this.formatDate(r.dateCreation)})})}formatDate(t){const r=new Date(1e3*t.seconds);return this.datePipe.transform(r,"dd-MM-yyyy")||""}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt),R(Pi),R(vu))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-factures-close"]],decls:34,vars:4,consts:[[1,"container","px-4","mx-auto"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-1.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-1.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de facture a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"flex","items-center","justify-center","text-center","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-1","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-1","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-1","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(g(0,"section",0),H(1,Hle,15,2,"ng-container",1),H(2,zle,3,0,"ng-container",1),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),y(11," Type "),m(),g(12,"th",8),y(13," Facture N\xb0 "),m(),g(14,"th",9)(15,"div",10)(16,"span"),y(17,"Nom ou Raison sociale"),m()()(),g(18,"th",11),y(19," Date "),m(),g(20,"th",12)(21,"span",13),y(22,"Edit"),m()()()(),g(23,"tbody",14),H(24,Gle,22,3,"ng-container",15),m()()()()()(),g(25,"div",16)(26,"a",17),V("click",function(){return i.previousStep()}),g(27,"span"),y(28," << previous "),m()(),g(29,"div",18),y(30),m(),g(31,"a",17),V("click",function(){return i.nextStep()}),g(32,"span"),y(33," Next >> "),m()()()()),2&r&&(E(1),k("ngIf",i.filterFlag),E(1),k("ngIf",!i.filterFlag),E(22),k("ngForOf",i.clients),E(6),J(" ",i.page,""))},dependencies:[Qr,_i,yi,Ps,Zi]})}return n})();const qle=["addListener","removeListener"],Kle=["addEventListener","removeEventListener"],Qle=["on","off"];function mh(n,e,t,r){if(Fe(t)&&(r=t,t=void 0),r)return mh(n,e,t).pipe(j0(r));const[i,s]=function Zle(n){return Fe(n.addEventListener)&&Fe(n.removeEventListener)}(n)?Kle.map(o=>a=>n[o](e,a,t)):function Yle(n){return Fe(n.addListener)&&Fe(n.removeListener)}(n)?qle.map(w4(n,e)):function Xle(n){return Fe(n.on)&&Fe(n.off)}(n)?Qle.map(w4(n,e)):[];if(!i&&C_(n))return Jt(o=>mh(o,e,t))(zn(n));if(!i)throw new TypeError("Invalid event target");return new Ze(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function w4(n,e){return t=>r=>n[t](e,r)}function C4(n,e=og){return wt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(ft(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}const Jle=["searchInput"],ece=["filteredListElement"],tce=["historyListElement"];function nce(n,e){if(1&n){const t=xe();g(0,"div",14),V("click",function(i){return G(t),W(T().remove(i))}),g(1,"i",15),y(2,"close"),m()()}}function rce(n,e){1&n&&(g(0,"div",16),Ce(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"div",24)(9,"div",25)(10,"div",26)(11,"div",27)(12,"div",28),m())}function ice(n,e){if(1&n&&(g(0,"div",29)(1,"div",30),y(2),m()()),2&n){const t=T();E(2),yt(t.heading)}}function sce(n,e){1&n&&wo(0)}const _h=function(n){return{$implicit:n}};function oce(n,e){if(1&n){const t=xe();g(0,"div",33),V("click",function(){G(t);const i=T().$implicit;return W(T().select(i))}),H(1,sce,1,0,"ng-container",34),Nf(2,"highlight"),m()}if(2&n){const t=T(),r=t.index,i=t.$implicit,s=T();Cs("complete-selected",r===s.selectedIdx),E(1),k("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",To(7,_h,xv(2,4,i,s.toHighlight)))}}function ace(n,e){1&n&&wo(0)}function lce(n,e){if(1&n){const t=xe();g(0,"div",33),V("click",function(){G(t);const i=T().$implicit;return W(T().select(i))}),H(1,ace,1,0,"ng-container",34),Nf(2,"highlight"),m()}if(2&n){const t=T(),r=t.index,i=t.$implicit,s=T();Cs("complete-selected",r===s.selectedIdx),E(1),k("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",To(8,_h,oM(2,4,i,s.toHighlight,s.searchKeyword)))}}function cce(n,e){if(1&n&&(g(0,"li",31),H(1,oce,3,9,"div",32),H(2,lce,3,10,"div",32),m()),2&n){const t=e.$implicit,r=T();E(1),k("ngIf",r.isTypeString(t)),E(1),k("ngIf",!r.isTypeString(t))}}function uce(n,e){if(1&n){const t=xe();g(0,"div",29)(1,"div",30),y(2),m(),g(3,"div",14),V("click",function(i){return G(t),W(T().resetHistoryList(i))}),g(4,"i",35),y(5,"delete"),m()()()}if(2&n){const t=T();E(2),yt(t.historyHeading)}}function dce(n,e){1&n&&wo(0)}function hce(n,e){if(1&n){const t=xe();g(0,"div",33),V("click",function(){G(t);const i=T().$implicit;return W(T().select(i))}),H(1,dce,1,0,"ng-container",34),m()}if(2&n){const t=T(),r=t.index,i=t.$implicit,s=T();Cs("complete-selected",r===s.selectedIdx),E(1),k("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",To(4,_h,i))}}function fce(n,e){1&n&&wo(0)}function pce(n,e){if(1&n){const t=xe();g(0,"div",33),V("click",function(){G(t);const i=T().$implicit;return W(T().select(i))}),H(1,fce,1,0,"ng-container",34),m()}if(2&n){const t=T(),r=t.index,i=t.$implicit,s=T();Cs("complete-selected",r===s.selectedIdx),E(1),k("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",To(4,_h,i))}}function gce(n,e){if(1&n){const t=xe();g(0,"li",31),H(1,hce,2,6,"div",32),H(2,pce,2,6,"div",32),g(3,"div",14),V("click",function(i){const o=G(t).index;return W(T().removeHistoryItem(o,i))}),g(4,"i",15),y(5,"close"),m()()()}if(2&n){const t=e.$implicit,r=T();E(1),k("ngIf",r.isTypeString(t)),E(1),k("ngIf",!r.isTypeString(t))}}function mce(n,e){1&n&&wo(0)}function _ce(n,e){if(1&n&&(g(0,"div",36),H(1,mce,1,0,"ng-container",34),m()),2&n){const t=T();E(1),k("ngTemplateOutlet",t.notFoundTemplate)("ngTemplateOutletContext",To(2,_h,t.notFoundText))}}function yce(n,e){if(1&n){const t=xe();g(0,"div",37),V("click",function(){return G(t),W(T().handleOverlay())}),m()}}const vce=function(n){return{active:n}},I4=function(n,e){return{"is-hidden":n,"is-visible":e}};let bce=(()=>{class n{transform(t,r,i){let s=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");s=s.split(" ").filter(a=>a.length>0).join("|");const o=new RegExp(s,"gi");if(!r)return t;if(i){const a=t[i].replace(o,c=>`<b>${c}</b>`),l={...t};return l[i]=a,l}return r?t.replace(o,a=>`<b>${a}</b>`):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=On({name:"highlight",type:n,pure:!0}),n})();const T4=n=>(n=>38===n)(n)||(n=>40===n)(n),ID=n=>13===n,D4=n=>27===n,A4=n=>9===n;let Tce=(()=>{class n{constructor(t,r){this.renderer=r,this.query="",this.filteredList=[],this.historyList=[],this.isHistoryListVisible=!0,this.selectedIdx=-1,this.toHighlight="",this.notFound=!1,this.isFocused=!1,this.isOpen=!1,this.isScrollToEnd=!1,this.overlay=!1,this.manualOpen=void 0,this.manualClose=void 0,this.data=[],this.placeholder="",this.heading="",this.historyHeading="Recently selected",this.historyListMaxNumber=15,this.notFoundText="Not found",this.minQueryLength=1,this.focusFirst=!1,this.selected=new Be,this.inputChanged=new Be,this.inputFocused=new Be,this.inputCleared=new Be,this.opened=new Be,this.closed=new Be,this.scrolledToEnd=new Be,this.propagateChange=()=>{},this.onTouched=()=>{},this.elementRef=t}writeValue(t=""){this.query=void 0!==this.selectedValueRender?this.selectedValueRender(t):this.defaultWriteValue(t)}defaultWriteValue(t){return t&&!this.isTypeString(t)?t[this.searchKeyword]:t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){this.onTouched=t}onChange(t){this.propagateChange(t.target.value)}setDisabledState(t){this.disabled=t}ngOnInit(){}ngAfterViewInit(){this.initEventStream(),this.handleScroll()}setInitialValue(t){this.initialValue&&this.select(t)}ngOnChanges(t){this.setInitialValue(this.initialValue),t&&t.data&&Array.isArray(t.data.currentValue)&&(this.handleItemsChange(),!t.data.firstChange&&this.isFocused&&this.handleOpen())}handleItemsChange(){this.isScrollToEnd=!1,this.isOpen&&(this.filteredList=this.data,this.notFound=!this.filteredList||0===this.filteredList.length,this.isOpen&&this.filterList())}filterList(){this.selectedIdx=-1,this.initSearchHistory(),null!=this.query&&this.data?(this.toHighlight=this.query,this.filteredList=void 0!==this.customFilter?this.customFilter([...this.data],this.query):this.defaultFilterFunction(),this.filteredList.length>0&&this.focusFirst&&(this.selectedIdx=0)):this.notFound=!1}defaultFilterFunction(){return this.data.filter(t=>"string"==typeof t?t.toLowerCase().indexOf(this.query.toLowerCase())>-1:"object"==typeof t&&t instanceof Object?t[this.searchKeyword]?t[this.searchKeyword].toLowerCase().indexOf(this.query.toLowerCase())>-1:"":void 0)}isTypeString(t){return"string"==typeof t}select(t){if(this.query=this.isTypeString(t)?t:t[this.searchKeyword],this.isOpen=!0,this.overlay=!1,this.selected.emit(t),this.propagateChange(t),this.initialValue)if(window.localStorage.getItem(`${this.historyIdentifier}`)){let i=JSON.parse(localStorage[`${this.historyIdentifier}`]);if(i instanceof Array||(i=[]),i.some(s=>this.isTypeString(s)?s==t:s[this.searchKeyword]==t[this.searchKeyword]))if(this.isTypeString(t)){const s=i.slice();s.splice(s.indexOf(t),1),s.splice(0,0,t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(s))}else{const s=i.slice(),o=s.map(a=>a[this.searchKeyword]).indexOf(t[this.searchKeyword]);s.splice(o,1),s.splice(0,0,t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(s))}else i.unshift(t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(i)),i.length>=this.historyListMaxNumber&&(i.splice(i.length-1,1),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(i)))}else this.saveHistory(t);else this.saveHistory(t);this.handleClose()}handleClick(t){let r=t.target,i=!1;do{r===this.elementRef.nativeElement&&(i=!0,this.filteredList.length&&this.handleOpen()),r=r.parentNode}while(r);i||this.handleClose()}handleOverlay(){this.overlay=!1}handleScroll(){this.renderer.listen(this.filteredListElement.nativeElement,"scroll",()=>{this.scrollToEnd()})}setPanelState(t){t&&t.stopPropagation(),typeof this.manualOpen>"u"&&typeof this.manualClose>"u"&&(this.isOpen=!1,this.handleOpen()),(typeof this.manualOpen>"u"&&!1===this.manualClose||typeof this.manualClose>"u"&&!1===this.manualOpen)&&(this.isOpen=!1,this.handleOpen()),!1===this.manualOpen&&!1===this.manualClose&&(this.isOpen=!1,this.handleOpen()),this.manualOpen&&(this.isOpen=!1,this.handleOpen(),this.manualOpen=!1),this.manualClose&&(this.isOpen=!0,this.handleClose(),this.manualClose=!1)}open(){this.manualOpen=!0,this.isOpen=!1,this.handleOpen()}close(){this.manualClose=!0,this.isOpen=!0,this.handleClose()}focus(){this.handleFocus(event)}clear(){this.remove(event)}remove(t){t.stopPropagation(),this.query="",this.inputCleared.emit(),this.propagateChange(this.query),this.setPanelState(t),this.data&&!this.data.length&&(this.notFound=!1)}initSearchHistory(){if(this.isHistoryListVisible=!1,this.historyIdentifier&&!this.query){const t=window.localStorage.getItem(`${this.historyIdentifier}`);t?(this.isHistoryListVisible=!0,this.filteredList=[],this.historyList=t?JSON.parse(t):[]):this.isHistoryListVisible=!1}else this.isHistoryListVisible=!1}handleOpen(){this.isOpen||this.isOpen&&!this.isLoading||this.data&&this.data.length&&(this.isOpen=!0,this.overlay=!0,this.filterList(),this.opened.emit())}handleClose(){this.isOpen?(this.isOpen=!1,this.overlay=!1,this.filteredList=[],this.selectedIdx=-1,this.notFound=!1,this.isHistoryListVisible=!1,this.isFocused=!1,this.closed.emit()):this.isFocused=!1}handleFocus(t){this.searchInput.nativeElement.focus(),!this.isFocused&&(this.inputFocused.emit(t),this.data&&this.data.length&&this.setPanelState(t),this.isFocused=!0)}scrollToEnd(){if(this.isScrollToEnd)return;const i=this.filteredListElement.nativeElement.clientHeight;0!=i&&Math.abs(this.filteredListElement.nativeElement.scrollHeight-i-this.filteredListElement.nativeElement.scrollTop)<1&&(this.scrolledToEnd.emit(),this.isScrollToEnd=!0)}initEventStream(){this.inputKeyUp$=mh(this.searchInput.nativeElement,"keyup").pipe(de(t=>t)),this.inputKeyDown$=mh(this.searchInput.nativeElement,"keydown").pipe(de(t=>t)),this.listenEventStream()}listenEventStream(){this.inputKeyUp$.pipe(Tt(t=>!(T4(t.keyCode)||ID(t.keyCode)||D4(t.keyCode)||A4(t.keyCode))),C4(this.debounceTime)).subscribe(t=>{this.onKeyUp(t)}),this.inputKeyDown$.pipe(Tt(t=>T4(t.keyCode))).subscribe(t=>{t.preventDefault(),this.onFocusItem(t)}),this.inputKeyUp$.pipe(Tt(t=>ID(t.keyCode))).subscribe(t=>{}),this.inputKeyDown$.pipe(Tt(t=>ID(t.keyCode))).subscribe(t=>{this.onHandleEnter()}),this.inputKeyUp$.pipe(Tt(t=>D4(t.keyCode),C4(100))).subscribe(t=>{this.onEsc()}),this.inputKeyDown$.pipe(Tt(t=>A4(t.keyCode))).subscribe(t=>{this.onTab()}),this.inputKeyDown$.pipe(Tt(t=>(n=>8===n)(t.keyCode)||(n=>46===n)(t.keyCode))).subscribe(t=>{this.onDelete()})}onKeyUp(t){this.notFound=!1,this.query||(this.notFound=!1,this.inputChanged.emit(t.target.value),this.inputCleared.emit(),this.setPanelState(t)),(this.query||""===this.query)&&this.query.length>=this.minQueryLength&&(this.inputChanged.emit(t.target.value),this.filterList(),!this.filteredList.length&&!this.isLoading&&(this.notFound=!!this.notFoundText),this.data&&!this.data.length&&(this.isOpen=!0))}onFocusItem(t){if(this.historyList.length&&this.isHistoryListVisible){const r=this.historyList.length;if("ArrowDown"===t.key){let i=this.selectedIdx;i=null===this.selectedIdx?0:i+1,this.selectedIdx=(r+i)%r,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===t.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(r+this.selectedIdx-1)%r,this.scrollToFocusedItem(this.selectedIdx))}else{const r=this.filteredList.length;if("ArrowDown"===t.key){let i=this.selectedIdx;i=null===this.selectedIdx?0:i+1,this.selectedIdx=(r+i)%r,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===t.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(r+this.selectedIdx-1)%r,this.scrollToFocusedItem(this.selectedIdx))}}scrollToFocusedItem(t){let r=null;r=this.historyList.length&&this.isHistoryListVisible?this.historyListElement.nativeElement:this.filteredListElement.nativeElement;const i=Array.prototype.slice.call(r.childNodes).filter(u=>1===u.nodeType&&u.className.includes("item"));if(!i.length)return;const s=r.offsetHeight,o=i[t].offsetHeight,l=r.scrollTop+s-o,c=i[t].offsetTop;c<r.scrollTop&&(r.scrollTop=c),c>l&&(r.scrollTop=c-s+o)}onHandleEnter(){this.selectedIdx>-1&&(this.historyList.length&&this.isHistoryListVisible?(this.query=this.isTypeString(this.historyList[this.selectedIdx])?this.historyList[this.selectedIdx]:this.historyList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.historyList[this.selectedIdx]),this.select(this.historyList[this.selectedIdx])):(this.query=this.isTypeString(this.filteredList[this.selectedIdx])?this.filteredList[this.selectedIdx]:this.filteredList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.filteredList[this.selectedIdx]),this.select(this.filteredList[this.selectedIdx]))),this.isHistoryListVisible=!1,this.handleClose()}onEsc(){this.searchInput.nativeElement.blur(),this.handleClose()}onTab(){this.searchInput.nativeElement.blur(),this.handleClose()}onDelete(){this.isOpen=!0}saveHistory(t){if(this.historyIdentifier)if(this.historyList.some(r=>this.isTypeString(r)?r==t:r[this.searchKeyword]==t[this.searchKeyword]))if(this.isTypeString(t)){const r=this.historyList.slice();r.splice(this.historyList.indexOf(t),1),r.splice(0,0,t),this.saveHistoryToLocalStorage([...r])}else{const r=this.historyList.slice(),i=r.map(s=>s[this.searchKeyword]).indexOf(t[this.searchKeyword]);r.splice(i,1),r.splice(0,0,t),this.saveHistoryToLocalStorage([...r])}else this.saveHistoryToLocalStorage([t,...this.historyList]),this.historyList.length>=this.historyListMaxNumber&&(this.historyList.splice(this.historyList.length-1,1),this.saveHistoryToLocalStorage([t,...this.historyList]))}saveHistoryToLocalStorage(t){window.localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(t))}removeHistoryItem(t,r){r.stopPropagation(),this.historyList=this.historyList.filter((i,s)=>s!==t),this.saveHistoryToLocalStorage(this.historyList),0==this.historyList.length&&(window.localStorage.removeItem(`${this.historyIdentifier}`),this.filterList())}resetHistoryList(t){t.stopPropagation(),this.historyList=[],window.localStorage.removeItem(`${this.historyIdentifier}`),this.filterList()}}return n.\u0275fac=function(t){return new(t||n)(R(nn),R(di))},n.\u0275cmp=en({type:n,selectors:[["ng-autocomplete"]],contentQueries:function(t,r,i){if(1&t&&function Lv(n,e,t,r){const i=ke();if(i.firstCreatePass){const s=hn();fM(i,new uM(e,t,r),s.index),function X9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}hM(i,O(),t)}(i,Wr,5),2&t){let s;Do(s=Ao())&&(r.customTemplate=s.first)}},viewQuery:function(t,r){if(1&t&&(uu(Jle,5),uu(ece,5),uu(tce,5)),2&t){let i;Do(i=Ao())&&(r.searchInput=i.first),Do(i=Ao())&&(r.filteredListElement=i.first),Do(i=Ao())&&(r.historyListElement=i.first)}},hostAttrs:[1,"ng-autocomplete"],hostBindings:function(t,r){1&t&&V("click",function(s){return r.handleClick(s)},0,Fx)},inputs:{data:"data",searchKeyword:"searchKeyword",placeholder:"placeholder",heading:"heading",initialValue:"initialValue",historyIdentifier:"historyIdentifier",historyHeading:"historyHeading",historyListMaxNumber:"historyListMaxNumber",notFoundText:"notFoundText",isLoading:"isLoading",debounceTime:"debounceTime",disabled:"disabled",minQueryLength:"minQueryLength",focusFirst:"focusFirst",customFilter:"customFilter",selectedValueRender:"selectedValueRender",itemTemplate:"itemTemplate",notFoundTemplate:"notFoundTemplate"},outputs:{selected:"selected",inputChanged:"inputChanged",inputFocused:"inputFocused",inputCleared:"inputCleared",opened:"opened",closed:"closed",scrolledToEnd:"scrolledToEnd"},features:[at([{provide:Zr,useExisting:Xe(()=>n),multi:!0}]),or],decls:18,vars:24,consts:[["aria-owns","suggestions suggestions-history",1,"autocomplete-container",3,"ngClass"],[1,"input-container"],["type","text","aria-autocomplete","list","role","combobox","autocomplete","off",3,"placeholder","ngModel","disabled","ngModelChange","input","focus","blur"],["searchInput",""],["class","x",3,"click",4,"ngIf"],["class","sk-fading-circle",4,"ngIf"],["id","suggestions","role","listbox",1,"suggestions-container",3,"ngClass"],["class","heading",4,"ngIf"],["filteredListElement",""],["class","item",4,"ngFor","ngForOf"],["id","suggestions-history","role","listbox",1,"suggestions-container",3,"ngClass"],["historyListElement",""],["class","not-found",4,"ngIf"],["class","autocomplete-overlay",3,"click",4,"ngIf"],[1,"x",3,"click"],["aria-label","Close",1,"material-icons"],[1,"sk-fading-circle"],[1,"sk-circle1","sk-circle"],[1,"sk-circle2","sk-circle"],[1,"sk-circle3","sk-circle"],[1,"sk-circle4","sk-circle"],[1,"sk-circle5","sk-circle"],[1,"sk-circle6","sk-circle"],[1,"sk-circle7","sk-circle"],[1,"sk-circle8","sk-circle"],[1,"sk-circle9","sk-circle"],[1,"sk-circle10","sk-circle"],[1,"sk-circle11","sk-circle"],[1,"sk-circle12","sk-circle"],[1,"heading"],[1,"text"],[1,"item"],[3,"complete-selected","click",4,"ngIf"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-label","Delete",1,"material-icons"],[1,"not-found"],[1,"autocomplete-overlay",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0)(1,"div",1)(2,"input",2,3),V("ngModelChange",function(s){return r.query=s})("input",function(s){return r.onChange(s)})("focus",function(s){return r.handleFocus(s)})("blur",function(s){return r.onTouched(s)}),m(),H(4,nce,3,0,"div",4),H(5,rce,13,0,"div",5),m(),g(6,"div",6),H(7,ice,3,1,"div",7),g(8,"ul",null,8),H(10,cce,3,2,"li",9),m()(),g(11,"div",10),H(12,uce,6,1,"div",7),g(13,"ul",null,11),H(15,gce,6,2,"li",9),m()(),H(16,_ce,2,4,"div",12),m(),H(17,yce,1,0,"div",13)),2&t&&(k("ngClass",To(16,vce,r.isOpen)),dr("aria-expanded",r.isOpen),E(2),dv("placeholder",r.placeholder),k("ngModel",r.query)("disabled",r.disabled),dr("aria-label",r.placeholder),E(2),k("ngIf",r.query&&!r.isLoading&&!r.disabled),E(1),k("ngIf",r.isLoading),E(1),k("ngClass",Sv(18,I4,r.isHistoryListVisible,!r.isHistoryListVisible)),E(1),k("ngIf",r.filteredList.length>0&&r.heading),E(3),k("ngForOf",r.filteredList),E(1),k("ngClass",Sv(21,I4,!r.isHistoryListVisible,r.isHistoryListVisible)),E(1),k("ngIf",r.historyList.length>0&&r.historyHeading),E(3),k("ngForOf",r.historyList),E(1),k("ngIf",r.isLoading?!r.isLoading&&r.notFound:r.notFound),E(1),k("ngIf",r.overlay))},dependencies:[CP,yi,Ps,Zi,_i,Qr,xP,bce],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons";.ng-autocomplete{width:600px}.autocomplete-container{box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;position:relative;overflow:visible;height:40px}.autocomplete-container .input-container input{font-size:14px;box-sizing:border-box;border:none;box-shadow:none;outline:none;background-color:#fff;color:#000000de;width:100%;padding:0 15px;line-height:40px;height:40px}.autocomplete-container .input-container input:disabled{background-color:#eee;color:#666}.autocomplete-container .input-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;transform:translateY(-50%)}.autocomplete-container .input-container .x i{color:#0000008a;font-size:22px;vertical-align:middle}.autocomplete-container .suggestions-container{position:absolute;width:100%;background:white;height:auto;box-shadow:0 2px 5px #00000040;box-sizing:border-box}.autocomplete-container .suggestions-container ul{padding:0;margin:0;max-height:240px;overflow-y:auto}.autocomplete-container .suggestions-container ul li{position:relative;list-style:none;padding:0;margin:0;cursor:pointer}.autocomplete-container .suggestions-container ul li a{padding:14px 15px;display:block;text-decoration:none;color:#333;cursor:pointer;color:#000000de;font-size:15px}.autocomplete-container .suggestions-container ul li:hover,.autocomplete-container .suggestions-container .complete-selected{background-color:#9e9e9e2e}.autocomplete-container .suggestions-container .heading{position:relative;padding:10px 15px;border:solid 1px #f1f1f1}.autocomplete-container .suggestions-container .heading .text{font-size:.85em}.autocomplete-container .suggestions-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;transform:translateY(-50%)}.autocomplete-container .suggestions-container .x i{color:#0000008a;font-size:18px;vertical-align:middle}.autocomplete-container .suggestions-container.is-hidden{visibility:hidden}.autocomplete-container .suggestions-container.is-visible{visibility:visible}.autocomplete-container .not-found{padding:0 .75em;border:solid 1px #f1f1f1;background:white}.autocomplete-container .not-found div{padding:.4em 0;font-size:.95em;line-height:1.4;border-bottom:1px solid rgba(230,230,230,.7)}.autocomplete-container.active{z-index:999}.highlight{font-weight:700}.autocomplete-overlay{position:fixed;background-color:transparent;width:100%;height:100%;top:0;right:0;bottom:0;left:0;z-index:50}input[type=text]::-ms-clear{display:none}.sk-fading-circle{width:20px;height:20px;position:absolute;right:10px;top:0;bottom:0;margin:auto}.sk-fading-circle .sk-circle{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;animation:sk-circleFadeDelay 1.2s infinite ease-in-out both}.sk-fading-circle .sk-circle2{transform:rotate(30deg)}.sk-fading-circle .sk-circle3{transform:rotate(60deg)}.sk-fading-circle .sk-circle4{transform:rotate(90deg)}.sk-fading-circle .sk-circle5{transform:rotate(120deg)}.sk-fading-circle .sk-circle6{transform:rotate(150deg)}.sk-fading-circle .sk-circle7{transform:rotate(180deg)}.sk-fading-circle .sk-circle8{transform:rotate(210deg)}.sk-fading-circle .sk-circle9{transform:rotate(240deg)}.sk-fading-circle .sk-circle10{transform:rotate(270deg)}.sk-fading-circle .sk-circle11{transform:rotate(300deg)}.sk-fading-circle .sk-circle12{transform:rotate(330deg)}.sk-fading-circle .sk-circle2:before{animation-delay:-1.1s}.sk-fading-circle .sk-circle3:before{animation-delay:-1s}.sk-fading-circle .sk-circle4:before{animation-delay:-.9s}.sk-fading-circle .sk-circle5:before{animation-delay:-.8s}.sk-fading-circle .sk-circle6:before{animation-delay:-.7s}.sk-fading-circle .sk-circle7:before{animation-delay:-.6s}.sk-fading-circle .sk-circle8:before{animation-delay:-.5s}.sk-fading-circle .sk-circle9:before{animation-delay:-.4s}.sk-fading-circle .sk-circle10:before{animation-delay:-.3s}.sk-fading-circle .sk-circle11:before{animation-delay:-.2s}.sk-fading-circle .sk-circle12:before{animation-delay:-.1s}@keyframes sk-circleFadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}\n'],encapsulation:2}),n})(),Dce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[MP,GO]]}),n})();function Ace(n,e){if(1&n){const t=xe();Ge(0),g(1,"div")(2,"div",18)(3,"label",19),y(4),m(),g(5,"span",20),V("click",function(){const s=G(t).$implicit;return W(T(2).deleteChamp(s,"title"))}),y(6,"X"),m()(),g(7,"input",21),V("ngModelChange",function(i){const o=G(t).$implicit;return W(T(2).champsTitleValue[o]=i)}),m()(),We()}if(2&n){const t=e.$implicit,r=T(2);E(4),J("",t," "),E(3),k("ngModel",r.champsTitleValue[t])}}function Sce(n,e){if(1&n){const t=xe();Ge(0),g(1,"h2",10),y(2,"Create L'entete de facture"),m(),g(3,"div",11),H(4,Ace,8,2,"ng-container",12),m(),g(5,"div",13)(6,"div",14)(7,"input",15),V("ngModelChange",function(i){return G(t),W(T().newChamp=i)}),m(),g(8,"button",16),V("click",function(){return G(t),W(T().addChamp())}),y(9,"Ajouter un champ"),m()(),g(10,"button",17),V("click",function(){return G(t),W(T().nextStep())}),y(11,"Save"),m()(),We()}if(2&n){const t=T();E(4),k("ngForOf",t.champsTitle),E(3),k("ngModel",t.newChamp),E(1),k("disabled",""==t.newChamp)}}function xce(n,e){1&n&&Ce(0,"a",27),2&n&&k("innerHTML",e.$implicit.name,My)}function Rce(n,e){1&n&&Ce(0,"div",27),2&n&&k("innerHTML",e.$implicit,My)}function Mce(n,e){if(1&n){const t=xe();g(0,"input",30),V("ngModelChange",function(i){G(t);const s=T().$implicit;return W(T(2).champsClientValue[s]=i)}),m()}if(2&n){const t=T().$implicit;k("ngModel",T(2).champsClientValue[t])}}function Pce(n,e){if(1&n){const t=xe();g(0,"input",31),V("ngModelChange",function(i){return G(t),W(T(3).factureNumber=i)}),m()}2&n&&k("ngModel",T(3).factureNumber)}function kce(n,e){if(1&n){const t=xe();Ge(0),g(1,"div")(2,"div",18)(3,"label",19),y(4),m(),g(5,"span",20),V("click",function(){const s=G(t).$implicit;return W(T(2).deleteChamp(s,"client"))}),y(6,"X"),m()(),H(7,Mce,1,1,"input",28),H(8,Pce,1,1,"input",29),m(),We()}if(2&n){const t=e.$implicit;E(4),J("",t," "),E(3),k("ngIf","FactureNumber"!=t),E(1),k("ngIf","FactureNumber"==t)}}function Oce(n,e){if(1&n){const t=xe();Ge(0),g(1,"h2",10),y(2,"Create L'entete de facture"),m(),g(3,"div",22)(4,"ng-autocomplete",23),V("selected",function(i){return G(t),W(T().selectEvent(i))})("inputChanged",function(i){return G(t),W(T().onChangeSearch(i))})("scrolledToEnd",function(){return G(t),W(T().onScroll())}),m(),H(5,xce,1,1,"ng-template",null,24,Bv),H(7,Rce,1,1,"ng-template",null,25,Bv),m(),g(9,"div",11),H(10,kce,9,3,"ng-container",12),m(),g(11,"div",13)(12,"div",14)(13,"input",15),V("ngModelChange",function(i){return G(t),W(T().newChamp=i)}),m(),g(14,"button",16),V("click",function(){return G(t),W(T().addChamp())}),y(15,"Ajouter un champ"),m()(),g(16,"button",26),V("click",function(){return G(t),W(T().previousStep())}),y(17,"pr\xe9c\xe9dent"),m(),g(18,"button",17),V("click",function(){return G(t),W(T().nextStep())}),y(19,"Save"),m()(),We()}if(2&n){const t=av(6),r=av(8),i=T();E(4),k("data",i.data)("searchKeyword",i.keyword)("itemTemplate",t)("notFoundTemplate",r),E(6),k("ngForOf",i.champsClient),E(3),k("ngModel",i.newChamp),E(1),k("disabled",""==i.newChamp)}}function Nce(n,e){if(1&n){const t=xe();g(0,"span",36),V("click",function(){G(t);const i=T().$implicit;return W(T(2).change(i))}),y(1),m()}if(2&n){const t=T().$implicit,r=T(2);E(1),yt(r.typeItem[t])}}function Fce(n,e){if(1&n){const t=xe();g(0,"span",37),V("click",function(){G(t);const i=T().$implicit;return W(T(2).change(i))}),y(1),m()}if(2&n){const t=T().$implicit,r=T(2);E(1),yt(r.typeItem[t])}}function Vce(n,e){if(1&n){const t=xe();g(0,"div")(1,"div",18)(2,"label",19),y(3),m(),g(4,"div"),H(5,Nce,2,1,"span",33),H(6,Fce,2,1,"span",34),g(7,"span",20),V("click",function(){const s=G(t).$implicit;return W(T(2).deleteChamp(s,"facture"))}),y(8,"X"),m()()(),g(9,"input",35),V("ngModelChange",function(i){const o=G(t).$implicit;return W(T(2).champsClientValueFacture[o]=i)}),m()()}if(2&n){const t=e.$implicit,r=T(2);E(3),J("",t," "),E(2),k("ngIf","P"==r.typeItem[t]),E(1),k("ngIf","D"==r.typeItem[t]),E(3),k("ngModel",r.champsClientValueFacture[t])}}function Lce(n,e){if(1&n){const t=xe();Ge(0),g(1,"h2",10),y(2,"Create facture"),m(),g(3,"div",11),H(4,Vce,10,4,"div",12),m(),g(5,"div",13)(6,"div",14)(7,"input",32),V("ngModelChange",function(i){return G(t),W(T().newChamp=i)}),m(),g(8,"button",16),V("click",function(){return G(t),W(T().addChampFacture())}),y(9,"Ajouter un champ"),m()(),g(10,"button",26),V("click",function(){return G(t),W(T().previousStep())}),y(11,"pr\xe9c\xe9dent"),m(),g(12,"button",17),V("click",function(){return G(t),W(T().nextStep())}),y(13,"Save"),m()(),We()}if(2&n){const t=T();E(4),k("ngForOf",t.champsFacture),E(3),k("ngModel",t.newChamp),E(1),k("disabled",""==t.newChamp)}}function Bce(n,e){if(1&n&&(g(0,"p",64),y(1),g(2,"span",46),y(3),m()()),2&n){const t=T().$implicit,r=T(2);E(1),J("",t," : "),E(2),J(" ",r.champsClientValue[t],"")}}function Uce(n,e){if(1&n&&(g(0,"p",64),y(1),g(2,"span",46),y(3),m()()),2&n){const t=T().$implicit,r=T(2);E(1),J("",t," : "),E(2),J(" ",r.champsClientValue[t]," ")}}function jce(n,e){if(1&n&&(Ge(0),H(1,Bce,4,2,"p",63),H(2,Uce,4,2,"p",63),We()),2&n){const t=e.$implicit;E(1),k("ngIf","FactureNumber"!=t&&"Nombre_Colis"!=t),E(1),k("ngIf","FactureNumber"==t)}}function $ce(n,e){if(1&n&&(g(0,"td",70),y(1),m()),2&n){const t=T(2).$implicit,r=T(2);E(1),J("",r.champsClientValueFacture[t]," DA")}}function Hce(n,e){1&n&&(g(0,"td",70),y(1,"--"),m())}function zce(n,e){if(1&n&&(Ge(0),H(1,$ce,2,1,"td",68),H(2,Hce,2,0,"td",68),g(3,"td",69),y(4,"--"),m(),We()),2&n){const t=T().$implicit,r=T(2);E(1),k("ngIf","0"!=r.champsClientValueFacture[t]),E(1),k("ngIf","0"==r.champsClientValueFacture[t])}}function Gce(n,e){if(1&n&&(g(0,"td",73),y(1),m()),2&n){const t=T(2).$implicit,r=T(2);E(1),J("",r.champsClientValueFacture[t]," DA")}}function Wce(n,e){1&n&&(g(0,"td",73),y(1,"--"),m())}function qce(n,e){if(1&n&&(Ge(0),g(1,"td",71),y(2,"--"),m(),H(3,Gce,2,1,"td",72),H(4,Wce,2,0,"td",72),We()),2&n){const t=T().$implicit,r=T(2);E(3),k("ngIf","0"!=r.champsClientValueFacture[t]),E(1),k("ngIf","0"==r.champsClientValueFacture[t])}}function Kce(n,e){if(1&n&&(Ge(0),g(1,"tr",65)(2,"td",66)(3,"div",67),y(4),m()(),H(5,zce,5,2,"ng-container",9),H(6,qce,5,2,"ng-container",9),m(),We()),2&n){const t=e.$implicit,r=T(2);E(4),yt(t),E(1),k("ngIf","P"==r.typeItem[t]),E(1),k("ngIf","D"==r.typeItem[t])}}function Qce(n,e){if(1&n){const t=xe();Ge(0),g(1,"div",38)(2,"button",39),V("click",function(){return G(t),W(T().previousStep())}),y(3,"pr\xe9c\xe9dent"),m(),g(4,"button",17),V("click",function(){return G(t),W(T().stock())}),y(5,"Stocker"),m()(),g(6,"div",40)(7,"div",41)(8,"div",42)(9,"p",43),y(10),m(),g(11,"p",44),y(12),m(),g(13,"p",45),y(14),m(),g(15,"p",45)(16,"span",46),y(17,"RCN :"),m(),y(18),g(19,"span",46),y(20," / NIF :"),m(),y(21),m()(),g(22,"div",47)(23,"p",48),y(24),m(),g(25,"p",44)(26,"span",46),y(27,"Declaration:"),m(),y(28),m(),g(29,"p",44)(30,"span",46),y(31,"Nombre de Colis:"),m(),y(32),m()()(),g(33,"div",49)(34,"div"),H(35,jce,3,2,"ng-container",12),m()(),g(36,"div",50)(37,"table",51)(38,"colgroup"),Ce(39,"col",52)(40,"col",53)(41,"col",54),m(),g(42,"thead",55)(43,"tr")(44,"th",56),y(45,"Items"),m(),g(46,"th",57),y(47,"Prestation"),m(),g(48,"th",58),y(49,"Debour"),m()()(),g(50,"tbody"),H(51,Kce,7,3,"ng-container",12),m(),g(52,"tfoot")(53,"tr")(54,"th",59),y(55,"NET A PAYER"),m(),g(56,"th",60),y(57,"NET A PAYER"),m(),g(58,"td",61),y(59),m()()()()(),g(60,"div",62),y(61," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),We()}if(2&n){const t=T();E(10),J(" ",t.champsTitleValue.Name," "),E(2),J(" ",t.champsTitleValue.Adresse," "),E(2),J(" ",t.champsTitleValue["Tel/Fax"]," "),E(4),J("",t.champsTitleValue.RCN," "),E(3),J(" ",t.champsTitleValue.NIF," "),E(3),J(" ",t.champsTitleValue.Date," "),E(4),J(" ",t.champsTitleValue.Declaration," "),E(4),J(" ",t.champsClientValue.Nombre_Colis," "),E(3),k("ngForOf",t.champsClient),E(16),k("ngForOf",t.champsFacture),E(8),J("",t.NetPayer,"\xa0DA")}}let Yce=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitle=["Name","Date","Adresse","Tel/Fax","Declaration","RCN","NIF","AI","NIC"],this.champsTitleValue={},this.champsClient=["Name","Adresse","FactureNumber","NIC","NRC","NIF","AI","Origine","Nature de Marchandise","Nombre_Colis"],this.champsClientValue={},this.newChamp="",this.factureNumber=0,this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes","Honoraires"],this.champsClientValueFacture={},this.newChampFacture="",this.typeItem={},this.width="w-2",this.color=["text-blue-600","","",""],this.step=0,this.Total=0,this.NetPayer=0,this.keyword="name",this.data=[],this.USERS=[]}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]="0",this.typeItem[t]="D"}),this.getClients()}getClients(){this.service.readUsersPaged(0,100).then(t=>{t.pop(),this.USERS=[...t],console.log(t),t.forEach(i=>{this.data.push({name:i.Name,id:i.id})})})}onScroll(){}selectEvent(t){var r=this.USERS.find(i=>i.id==t.id);console.log(r),this.champsClientValue.Name=r.Name,this.champsClientValue.Adresse=r.Adresse,this.champsClientValue.NRC=r.NRC,this.champsClientValue.NIF=r.NIF,this.champsClientValue.AI=r.AI,this.champsClientValue.NIC=r.NIC}onChangeSearch(t){}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]="0",this.newChamp=""}deleteChamp(t,r){"client"==r?(this.champsClient.splice(this.champsClient.indexOf(t),1),delete this.champsClientValue[t]):"title"==r?(this.champsTitle.splice(this.champsTitle.indexOf(t),1),delete this.champsTitleValue[t]):(this.champsFacture.splice(this.champsFacture.indexOf(t),1),delete this.champsClientValueFacture[t])}change(t){this.typeItem[t]="D"==this.typeItem[t]?"P":"D"}nextStep(){switch(this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.checkFactureNumber()&&(this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""]);break;case 3:this.checkFactureChiffres()&&(this.champsClientValue.FactureNumber=this.factureNumber+""),this.getTotal(),this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.service.getCaisseData().then(t=>{this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.champsTitleValue.AI="1212551",this.champsTitleValue.NIC="54641321",this.factureNumber=t.lastFactureId+1})}stock(){this.champsClientValue.FactureNumber=this.factureNumber+"",this.champsClientValue.NetPayer=this.NetPayer+"",this.champsClientValue.selected="true",this.champsFacture.forEach(t=>{"P"==this.typeItem[t]&&(this.champsClientValueFacture[t]=this.champsClientValueFacture[t]+"\xa3")}),this.service.createClient(this.champsClientValue,this.champsClientValueFacture,this.champsTitleValue).then(t=>{console.log(t),1==t?this.route.navigate(["/facture-view",{data:this.champsClientValue.FactureNumber}]):confirm("la facture na pas ete cree il peut quelle existe deja")})}checkFactureChiffres(){let t=!0;return this.champsFacture.forEach(r=>{!1===/^[0-9]+$/.test(this.champsClientValueFacture[r].toString())&&(alert("les entrees de la facture il faut quil soient des nombres"),this.step--,t=!1)}),t}checkFactureNumber(){return"number"==typeof this.factureNumber||(alert("le nombre de facture il faut quil etre un nombre"),this.step--,!1)}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,s]of Object.entries(t))r+=parseInt(s);return r}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt),R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"h-3/4"],[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","mb-28","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["required","","id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"ng-autocomplete","w-3/4","mx-auto","md:w-1/2"],["placeholder","Select Client",3,"data","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","scrolledToEnd"],["itemTemplate",""],["notFoundTemplate",""],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],[3,"innerHTML"],["id","","type","text","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","number","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["id","","type","number",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["class","text-white cursor-pointer mr-3 transition-all duration-400 text-gray-600 bg-yellow-200 rounded-full hover:bg-yellow-500 text-base px-2 font-semibold font-sans ",3,"click",4,"ngIf"],["class","text-white cursor-pointer mr-3 transition-all duration-200 text-gray-600 bg-blue-500 rounded-full hover:bg-blue-700 text-base px-2 font-semibold font-sans ",3,"click",4,"ngIf"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"text-white","cursor-pointer","mr-3","transition-all","duration-400","text-gray-600","bg-yellow-200","rounded-full","hover:bg-yellow-500","text-base","px-2","font-semibold","font-sans",3,"click"],[1,"text-white","cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-blue-500","rounded-full","hover:bg-blue-700","text-base","px-2","font-semibold","font-sans",3,"click"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-3/4"],[1,"sm:w-full","mr-3"],[1,"sm:w-full","ml-3"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-6","pr-0","text-right","text-sm","font-semibold","text-gray-900"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],["class","py-2 pl-1 pr-0  text-right text-sm text-gray-500 sm:pr-5",4,"ngIf"],[1,"py-2","pl-1","pr-0","text-right","text-sm","text-gray-500","sm:pr-0"],[1,"py-2","pl-1","pr-0","text-right","text-sm","text-gray-500","sm:pr-5"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-5"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2),Ce(3,"div"),m(),g(4,"ol",3)(5,"li")(6,"span",4),y(7,"Entete"),m(),Bt(),g(8,"svg",5),Ce(9,"path",6),m()(),Cn(),g(10,"li")(11,"span",4),y(12,"Client"),m(),Bt(),g(13,"svg",5),Ce(14,"path",6),m()(),Cn(),g(15,"li")(16,"span",4),y(17,"Commandes"),m(),Bt(),g(18,"svg",5),Ce(19,"path",6),m()(),Cn(),g(20,"li")(21,"span",4),y(22,"Facture final"),m(),Bt(),g(23,"svg",5),Ce(24,"path",7),m()()()()(),Cn(),g(25,"section",8),H(26,Sce,12,3,"ng-container",9),H(27,Oce,20,7,"ng-container",9),H(28,Lce,14,3,"ng-container",9),H(29,Qce,62,11,"ng-container",9),m()),2&r&&(E(3),rl("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),E(2),rl("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),E(5),rl("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),E(5),rl("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),E(5),rl("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),E(6),k("ngIf",0==i.step),E(1),k("ngIf",1==i.step),E(1),k("ngIf",2==i.step),E(1),k("ngIf",3==i.step))},dependencies:[Qr,_i,Tce,yi,cb,Ps,Dp,Zi],styles:[".ng-autocomplete[_ngcontent-%COMP%]{width:50%}@media screen and (max-width: 600px){.ng-autocomplete[_ngcontent-%COMP%]{width:70%!important}}"]})}return n})(),Xce=(()=>{class n{constructor(t){this.service=t,this.total=0,this.nombreFacture=0,this.nombreBons=0}ngOnInit(){this.service.getCaisseData().then(t=>{this.total=t.caisse,this.nombreFacture=t.numberFacture,this.nombreBons=t.numberBons})}static#e=this.\u0275fac=function(r){return new(r||n)(R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-caisse"]],decls:29,vars:3,consts:[[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-2xl","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(g(0,"h1",0),y(1,"La Caisse des Factures"),m(),g(2,"article",1)(3,"span",2),Bt(),g(4,"svg",3),Ce(5,"path",4),m()(),Cn(),g(6,"div")(7,"p",5),y(8),m(),g(9,"p",6),y(10,"Total Sales"),m()()(),g(11,"article",1)(12,"span",2),Bt(),g(13,"svg",3),Ce(14,"path",4),m()(),Cn(),g(15,"div")(16,"p",5),y(17),m(),g(18,"p",6),y(19,"Total Factures"),m()()(),g(20,"article",1)(21,"span",2),Bt(),g(22,"svg",3),Ce(23,"path",4),m()(),Cn(),g(24,"div")(25,"p",5),y(26),m(),g(27,"p",6),y(28,"Total Bons"),m()()()),2&r&&(E(8),J("",i.total," DA"),E(9),yt(i.nombreFacture),E(9),yt(i.nombreBons))}})}return n})();function Zce(n,e){if(1&n){const t=xe();g(0,"div")(1,"div",12)(2,"label",13),y(3),m(),g(4,"span",14),V("click",function(){const s=G(t).$implicit;return W(T(2).deleteChamp(s))}),y(5,"X"),m()(),g(6,"input",15),V("ngModelChange",function(i){const o=G(t).$implicit;return W(T(2).champBonsQnt[o]=i)}),m(),g(7,"input",16),V("ngModelChange",function(i){const o=G(t).$implicit;return W(T(2).champBonsPrice[o]=i)}),m()()}if(2&n){const t=e.$implicit,r=T(2);E(3),J("",t," "),E(3),k("ngModel",r.champBonsQnt[t]),E(1),k("ngModel",r.champBonsPrice[t])}}function Jce(n,e){if(1&n){const t=xe();Ge(0),g(1,"h2",2),y(2,"Create BONS"),m(),g(3,"div",3)(4,"div")(5,"label",4),y(6,"Date"),m(),g(7,"input",5),V("ngModelChange",function(i){return G(t),W(T().champDate=i)}),m()(),H(8,Zce,8,3,"div",6),m(),g(9,"div",7)(10,"div",8)(11,"input",9),V("ngModelChange",function(i){return G(t),W(T().newChamp=i)}),m(),g(12,"button",10),V("click",function(){return G(t),W(T().addChamp())}),y(13,"Ajouter un champ"),m()(),g(14,"button",11),V("click",function(){return G(t),W(T().nextStep())}),y(15,"Suivant"),m()(),We()}if(2&n){const t=T();E(7),k("ngModel",t.champDate),E(1),k("ngForOf",t.champs),E(3),k("ngModel",t.newChamp),E(1),k("disabled",""==t.newChamp),E(2),k("disabled",0==t.champs.length||null==t.champDate)}}function eue(n,e){if(1&n&&(g(0,"td",48),y(1),m()),2&n){const t=T().$implicit,r=T(2);E(1),J("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function tue(n,e){1&n&&(g(0,"td",48),y(1,"--"),m())}function nue(n,e){if(1&n&&(Ge(0),g(1,"tr",43)(2,"td",44)(3,"div",45),y(4),m()(),g(5,"td",46),y(6),m(),g(7,"td",46),y(8),m(),H(9,eue,2,1,"td",47),H(10,tue,2,0,"td",47),m(),We()),2&n){const t=e.$implicit,r=T(2);E(4),yt(t),E(2),yt(r.champBonsQnt[t]||1),E(2),yt(r.champBonsPrice[t]||0),E(1),k("ngIf",0!=r.champBonsPrice[t]),E(1),k("ngIf",0==r.champBonsPrice[t])}}function rue(n,e){if(1&n){const t=xe();Ge(0),g(1,"div",17)(2,"button",18),V("click",function(){return G(t),W(T().previousStep())}),y(3,"pr\xe9c\xe9dent"),m(),g(4,"button",19),V("click",function(){return G(t),W(T().stock())}),y(5,"Stocker"),m()(),g(6,"div",20)(7,"div",21)(8,"div",22)(9,"p",23),y(10),m(),g(11,"p",24),y(12),m(),g(13,"p",25),y(14),m(),g(15,"p",25)(16,"span",26),y(17,"RCN :"),m(),y(18),g(19,"span",26),y(20," / NIF :"),m(),y(21),m()(),g(22,"div",27)(23,"p",28),y(24),Nf(25,"date"),m(),g(26,"p",24)(27,"span",26),y(28,"Declaration:"),m(),y(29),m()(),g(30,"div",29),Ce(31,"img",30),m()(),g(32,"div",31)(33,"table",32)(34,"colgroup"),Ce(35,"col",33)(36,"col",34)(37,"col",34)(38,"col",34),m(),g(39,"thead",35)(40,"tr")(41,"th",36),y(42,"Items"),m(),g(43,"th",37),y(44,"Quantity"),m(),g(45,"th",37),y(46,"Price"),m(),g(47,"th",38),y(48,"Amount"),m()()(),g(49,"tbody"),H(50,nue,11,5,"ng-container",6),m(),g(51,"tfoot")(52,"tr")(53,"th",39),y(54,"Total"),m(),g(55,"th",40),y(56,"Total"),m(),g(57,"td",41),y(58),m()()()()(),g(59,"div",42),y(60," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),We()}if(2&n){const t=T();E(10),J(" ",t.champsTitleValue.Name," "),E(2),J(" ",t.champsTitleValue.Adresse," "),E(2),J(" ",t.champsTitleValue["Tel/Fax"]," "),E(4),J("",t.champsTitleValue.RCN," "),E(3),J(" ",t.champsTitleValue.NIF," "),E(3),J(" Date : ",xv(25,9,t.champDate,"dd/MM/yyyy")," "),E(5),J(" ",t.champsTitleValue.Declaration," "),E(21),k("ngForOf",t.champs),E(8),J("",t.total,"\xa0DA")}}let iue=(()=>{class n{constructor(t,r){this.service=t,this.route=r,this.champs=[],this.champBonsPrice={},this.champBonsQnt={},this.champsTitleValue={},this.champTitle=[],this.step=0,this.newChamp="",this.total=0}addChamp(){this.champs.push(this.newChamp),this.newChamp=""}previousStep(){this.step--}nextStep(){console.log(this.champDate),this.checkFactureChiffres()&&(this.step++,1==this.step&&(this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t)}),this.getTotal()))}deleteChamp(t){this.champs.splice(this.champs.indexOf(t),1),delete this.champBonsPrice[t],delete this.champBonsQnt[t]}stock(){var t={};this.champs.forEach(i=>{t[i]=[this.champBonsQnt[i]||0,this.champBonsPrice[i]||0]});var r={date:new Date(this.champDate||""),data:t,total:this.total,selected:!0};this.service.createBons(r).then(i=>{confirm("la facture a ete cree avec succes"),this.route.navigate(["/bonsList"])}).catch(i=>{confirm("la facture na pas ete cree il peut quelle existe deja")})}extraireClesEtValeurs(t){for(const[r,i]of Object.entries(t))this.champTitle.push(r),this.champsTitleValue[r]=i}getTotal(){this.total=0;for(const[t,r]of Object.entries(this.champBonsPrice))this.total+=(r||0)*(this.champBonsQnt[t]||1)}checkFactureChiffres(){let t=!0;if(null==this.champDate)return!1;for(const r of this.champs)if(!1===/^[0-9]+$/.test((this.champBonsPrice[r]||0).toString())||!1===/^[0-9]+$/.test((this.champBonsQnt[r]||1).toString())){alert("les entrees de la facture il faut quil soient des nombres numeriques"),t=!1;break}return t}static#e=this.\u0275fac=function(r){return new(r||n)(R(Pi),R(Gt))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-bons"]],decls:3,vars:2,consts:[[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","date","placeholder","Date",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"disabled","click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["type","text","placeholder","Quantite",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Prix",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"section",0),H(1,Jce,16,5,"ng-container",1),H(2,rue,61,12,"ng-container",1),m()),2&r&&(E(1),k("ngIf",0==i.step),E(1),k("ngIf",1==i.step))},dependencies:[Qr,_i,yi,Ps,Zi,vu]})}return n})();function sue(n,e){if(1&n){const t=xe();g(0,"div",19)(1,"div")(2,"label",20),y(3,"Filtre par N\xb0"),m(),g(4,"input",21),V("ngModelChange",function(i){return G(t),W(T().filterNumber=i)}),m()(),g(5,"div")(6,"label",20),y(7,"Filtre par Date"),m(),g(8,"input",22),V("ngModelChange",function(i){return G(t),W(T().filterDate=i)}),m()(),g(9,"div",23)(10,"button",24),V("click",function(){return G(t),W(T().filter())}),y(11,"Filtre"),m(),g(12,"button",24),V("click",function(){return G(t),W(T().Reset())}),y(13,"Reset/Close"),m()()()}if(2&n){const t=T();E(4),k("ngModel",t.filterNumber),E(4),k("ngModel",t.filterDate)}}function oue(n,e){if(1&n){const t=xe();Ge(0),g(1,"button",25),V("click",function(){return G(t),W(T().filterFlag=!0)}),y(2,"Ouvrir le filtre --\x3e"),m(),We()}}function aue(n,e){if(1&n){const t=xe();Ge(0),g(1,"tr")(2,"td",26),y(3),m(),g(4,"td",27)(5,"div",28)(6,"div")(7,"h2",29),y(8),m()()()(),g(9,"td",30),y(10),m(),g(11,"td",30),y(12),m(),g(13,"td",31)(14,"button",32),V("click",function(){const s=G(t).$implicit;return W(T().goToBons(s.id))}),Bt(),g(15,"svg",33),Ce(16,"path",34),m()(),Cn(),g(17,"button",35),V("click",function(){const s=G(t).$implicit;return W(T().deleteBons(s.id,s.total))}),Bt(),g(18,"svg",36),Ce(19,"path",37),m()()()(),We()}if(2&n){const t=e.$implicit;E(3),J(" ",t.id," "),E(5),yt(t.name),E(2),yt(t.date),E(2),J("",t.total," DA")}}function lue(n,e){if(1&n){const t=xe();g(0,"div",38)(1,"a",39),V("click",function(){return G(t),W(T().previousStep())}),g(2,"span"),y(3," << previous "),m()(),g(4,"div",40),y(5),m(),g(6,"a",39),V("click",function(){return G(t),W(T().nextStep())}),g(7,"span"),y(8," Next >> "),m()()()}if(2&n){const t=T();E(5),J(" ",t.page,"")}}let cue=(()=>{class n{constructor(t,r,i){this.route=t,this.datePipe=r,this.service=i,this.Bons=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=10,this.filterFlag=!1}ngOnInit(){this.getBons(this.skip[0],this.maxResultCount),this.service.getCaisseData().then(t=>{this.total=t.numberBons})}getBons(t,r){this.service.readBonsPaged(t,r).then(i=>{this.skip[this.page]=parseInt(i.pop()),this.Bons=i,this.Bons.forEach(s=>{s.date=this.formatDate(s.date)})})}deleteBons(t,r){confirm("voulez vous vraiment supprimer ce Bons")&&this.service.deleteBon(t,r).then(i=>{confirm("le Bons est bien supprimer"),this.skip=[0],this.page=1,this.getBons(this.skip[this.page-1],this.maxResultCount)}).catch(i=>{console.log(i)})}goToBons(t){this.route.navigate(["/bon-view",{data:t}])}filter(){this.filterFlag=!0,this.service.readBonsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.Bons=t,this.Bons.forEach(r=>{r.date=new Date(1e3*r.date.seconds)})})}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getBons(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getBons(this.skip[this.page-1],this.maxResultCount))}formatDate(t){const r=new Date(1e3*t.seconds),i=this.datePipe.transform(r,"dd-MM-yyyy");return console.log(i),i||""}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt),R(vu),R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-bons-list"]],decls:26,vars:4,consts:[[1,"container","px-4","mx-auto"],["class","grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-center","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center mt-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de Bons a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"px-3","py-4","text-sm","text-center","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"]],template:function(r,i){1&r&&(g(0,"section",0),H(1,sue,14,2,"div",1),H(2,oue,3,0,"ng-container",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7)(8,"thead",8)(9,"tr")(10,"th",9),y(11," Bons N\xb0 "),m(),g(12,"th",10)(13,"div",11)(14,"span"),y(15,"Nom du Bon"),m()()(),g(16,"th",12),y(17," Date "),m(),g(18,"th",13),y(19," Total "),m(),g(20,"th",14)(21,"span",15),y(22,"Edit"),m()()()(),g(23,"tbody",16),H(24,aue,20,4,"ng-container",17),m()()()()()(),H(25,lue,9,1,"div",18),m()),2&r&&(E(1),k("ngIf",i.filterFlag),E(1),k("ngIf",!i.filterFlag),E(22),k("ngForOf",i.Bons),E(1),k("ngIf",!i.filterFlag))},dependencies:[Qr,_i,yi,Ps,Zi]})}return n})();function uue(n,e){if(1&n&&(g(0,"td",32),y(1),m()),2&n){const t=T().$implicit,r=T();E(1),J("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function due(n,e){1&n&&(g(0,"td",32),y(1,"--"),m())}function hue(n,e){if(1&n&&(Ge(0),g(1,"tr",27)(2,"td",28)(3,"div",29),y(4),m()(),g(5,"td",30),y(6),m(),g(7,"td",30),y(8),m(),H(9,uue,2,1,"td",31),H(10,due,2,0,"td",31),m(),We()),2&n){const t=e.$implicit,r=T();E(4),yt(t),E(2),yt(r.champBonsQnt[t]||1),E(2),yt(r.champBonsPrice[t]||0),E(1),k("ngIf",0!=r.champBonsPrice[t]),E(1),k("ngIf",0==r.champBonsPrice[t])}}let fue=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitleValue={},this.champTitle=[],this.champDate="",this.champs=[],this.total=0,this.name="",this.champBonsQnt={},this.champBonsPrice={},this.id=""}ngOnInit(){this.id=this.route.snapshot.params.data,this.getTitleValue(),this.getBon(this.id)}getTitleValue(){this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t,"title")})}getBon(t){var r=this;return S(function*(){yield r.service.readBon(t).then(i=>{r.extraireClesEtValeurs(i.bon.data,"bon"),r.champDate=i.bon.date,r.total=i.bon.total,r.name=i.bon.name})})()}extraireClesEtValeurs(t,r){if("title"==r)for(const[i,s]of Object.entries(t))this.champTitle.push(i),this.champsTitleValue[i]=s;else for(const[i,s]of Object.entries(t))this.champs.push(i),this.champBonsPrice[i]=s[1],this.champBonsQnt[i]=s[0]}imprimer(){window.print()}static#e=this.\u0275fac=function(r){return new(r||n)(R(Fs),R(Pi))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-bons-view"]],decls:59,vars:10,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"text-3xl","text-center","font-semibold","mt-6","underline"],[1,"-mx-4","mt-5","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[4,"ngFor","ngForOf"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0","whitespace-no-wrap","h-8"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),V("click",function(){return i.imprimer()}),y(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),y(7),m(),g(8,"p",6),y(9),m(),g(10,"p",7),y(11),m(),g(12,"p",7)(13,"span",8),y(14,"RCN :"),m(),y(15),g(16,"span",8),y(17," / NIF :"),m(),y(18),m()(),g(19,"div",9)(20,"p",10),y(21),m(),g(22,"p",6)(23,"span",8),y(24,"Declaration:"),m(),y(25),m()(),g(26,"div",11),Ce(27,"img",12),m()(),g(28,"h3",13),y(29),m(),g(30,"div",14)(31,"table",15)(32,"colgroup"),Ce(33,"col",16)(34,"col",17)(35,"col",17)(36,"col",17),m(),g(37,"thead",18)(38,"tr")(39,"th",19),y(40,"Items"),m(),g(41,"th",20),y(42,"Quantity"),m(),g(43,"th",20),y(44,"Price"),m(),g(45,"th",21),y(46,"Amount"),m()()(),g(47,"tbody"),H(48,hue,11,5,"ng-container",22),m(),g(49,"tfoot")(50,"tr")(51,"th",23),y(52,"Total"),m(),g(53,"th",24),y(54,"Total"),m(),g(55,"td",25),y(56),m()()()()(),g(57,"div",26),y(58," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(E(7),J(" ",i.champsTitleValue.Name," "),E(2),J(" ",i.champsTitleValue.Adresse," "),E(2),J(" ",i.champsTitleValue["Tel/Fax"]," "),E(4),J("",i.champsTitleValue.RCN," "),E(3),J(" ",i.champsTitleValue.NIF," "),E(3),J(" Date : ",i.champDate," "),E(4),J(" ",i.champsTitleValue.Declaration," "),E(4),J("Bons N\xb0",i.id,""),E(19),k("ngForOf",i.champs),E(8),J("",i.total,"\xa0DA"))},dependencies:[Qr,_i],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const yh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=yh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new vn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=yh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=yh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class gue extends sg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pue extends ig{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=yh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(yh.cancelAnimationFrame(t),e._scheduled=void 0)}});let TD,_ue=1;const Wm={};function S4(n){return n in Wm&&(delete Wm[n],!0)}const yue={setImmediate(n){const e=_ue++;return Wm[e]=!0,TD||(TD=Promise.resolve()),TD.then(()=>S4(e)&&n()),e},clearImmediate(n){S4(n)}},{setImmediate:vue,clearImmediate:bue}=yue,qm={setImmediate(...n){const{delegate:e}=qm;return(e?.setImmediate||vue)(...n)},clearImmediate(n){const{delegate:e}=qm;return(e?.clearImmediate||bue)(n)},delegate:void 0};new class wue extends sg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Eue extends ig{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(qm.clearImmediate(t),e._scheduled=void 0)}});function x4(n,e=og){return function Iue(n){return wt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(ft(t,c=>{r=!0,i=c,s||zn(n(c)).subscribe(s=ft(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Due(n=0,e,t=Tee){let r=-1;return null!=e&&(DA(e)?t=e:r=e),new Ze(i=>{let s=function Tue(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let Sue=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ze(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(x4(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Tt(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=lp(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(Qi),x(Ie,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R4=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ht,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(x4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(x(Qi),x(Re),x(Ie,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({imports:[[Iu,M4],Iu,M4]}),n})();class DD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class AD extends DD{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class k4 extends DD{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Rue extends DD{constructor(e){super(),this.element=e instanceof nn?e.nativeElement:e}}class SD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof AD?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof k4?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Rue?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Mue extends SD{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||rn.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let O4=(()=>{class n extends SD{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Be,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(R(bo),R(Dr),R(Ie))},n.\u0275dir=le({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Le]}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({}),n})();const F4=S7();class Pue{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$t(-this._previousScrollPosition.left),e.style.top=$t(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),F4&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),F4&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class kue{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class V4{enable(){}disable(){}attach(){}}function xD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function L4(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Oue{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();xD(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Nue=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new V4,this.close=o=>new kue(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Pue(this._viewportRuler,this._document),this.reposition=o=>new Oue(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(x(Sue),x(R4),x(Re),x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B4{constructor(e){if(this.scrollStrategy=new V4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Fue{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let U4=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vue=(()=>{class n extends U4{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(x(Ie),x(Re,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lue=(()=>{class n extends U4{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Mo(s)},this._clickListener=s=>{const o=Mo(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(x(Ie),x(Qi),x(Re,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RD=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||V0()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),V0()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(x(Ie),x(Qi))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bue{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ht,this._attachments=new ht,this._detachments=new ht,this._locationChanges=vn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ht,this._outsidePointerEvents=new ht,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=$t(this._config.width),e.height=$t(this._config.height),e.minWidth=$t(this._config.minWidth),e.minHeight=$t(this._config.minHeight),e.maxWidth=$t(this._config.maxWidth),e.maxHeight=$t(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;e&&(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=ck(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(lk(xA(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const j4="cdk-overlay-connected-position-bounding-box",Uue=/([A-Za-z%]+)$/;class jue{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht,this._resizeSubscription=vn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(j4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ga(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(j4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=H4(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,h,f),v=p*_;return{visibleArea:v,isCompletelyWithinViewport:s.width*s.height===v,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=$4(this._overlayRef.getConfig().minHeight),a=$4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=H4(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Fue(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=$t(r.height),i.top=$t(r.top),i.bottom=$t(r.bottom),i.width=$t(r.width),i.left=$t(r.left),i.right=$t(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=$t(s)),o&&(i.maxWidth=$t(o))}this._lastBoundingBoxSize=r,ga(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ga(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ga(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ga(r,this._getExactOverlayY(t,e,u)),ga(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=$t(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=$t(o.maxWidth):s&&(r.maxWidth="")),ga(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=$t(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=$t(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:L4(e,r),isOriginOutsideView:xD(e,r),isOverlayClipped:L4(t,r),isOverlayOutsideView:xD(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ck(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof nn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ga(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Uue);return t&&"px"!==t?null:parseFloat(e)}return n||null}function H4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const z4="cdk-global-overlay-wrapper";class $ue{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(z4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(z4),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Hue=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new $ue}flexibleConnectedTo(t){return new jue(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(x(R4),x(Ie),x(Qi),x(RD))},n.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zue=0,Km=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new B4(t);return o.direction=o.direction||this._directionality.value,new Bue(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+zue++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(cl)),new Mue(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(x(Nue),x(RD),x(bo),x(Hue),x(Vue),x(rn),x(Re),x(Ie),x(B0),x(mu),x(Lue))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const que={provide:new L("cdk-connected-overlay-scroll-strategy"),deps:[Km],useFactory:function Wue(n){return()=>n.scrollStrategies.reposition()}};let Kue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({providers:[Km,que],imports:[[Iu,N4,P4],P4]}),n})();class G4{}class Que{}const ps="*";function Yue(n,e){return{type:7,name:n,definitions:e,options:{}}}function W4(n,e=null){return{type:4,styles:e,timings:n}}function q4(n,e=null){return{type:3,steps:n,options:e}}function K4(n,e=null){return{type:2,steps:n,options:e}}function Cc(n){return{type:6,styles:n,offset:null}}function Q4(n,e,t){return{type:0,name:n,styles:e,options:t}}function Y4(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function X4(n=null){return{type:9,options:n}}function Z4(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function J4(n){Promise.resolve().then(n)}class vh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class e3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?J4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const MD="!";function Xue(n,e){}class PD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Zue={dialogContainer:Yue("dialogContainer",[Q4("void, exit",Cc({opacity:0,transform:"scale(0.7)"})),Q4("enter",Cc({transform:"none"})),Y4("* => enter",q4([W4("150ms cubic-bezier(0, 0, 0.2, 1)",Cc({transform:"none",opacity:1})),Z4("@*",X4(),{optional:!0})])),Y4("* => void, * => exit",q4([W4("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Cc({opacity:0})),Z4("@*",X4(),{optional:!0})]))])};let Jue=(()=>{class n extends SD{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Be,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=F0())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=F0(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=F0();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(R(nn),R(tK),R(pu),R(Ie,8),R(PD),R(hk),R(Re),R(cK))},n.\u0275dir=le({type:n,viewQuery:function(t,r){if(1&t&&uu(O4,7),2&t){let i;Do(i=Ao())&&(r._portalOutlet=i.first)}},features:[Le]}),n})(),ede=(()=>{class n extends Jue{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=tn(n)))(r||n)}}(),n.\u0275cmp=en({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&uv("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(yv("id",r._id),dr("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),vv("@dialogContainer",r._state))},features:[Le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&H(0,Xue,0,0,"ng-template",0)},dependencies:[O4],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Zue.dialogContainer]}}),n})(),tde=0;class t3{constructor(e,t,r="mat-dialog-"+tde++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ht,this._afterClosed=new ht,this._beforeClosed=new ht,this._state=0,t._id=r,t._animationStateChanged.pipe(Tt(i=>"opened"===i.state),Xr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Tt(i=>"closed"===i.state),Xr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Tt(i=>27===i.keyCode&&!this.disableClose&&!function V7(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),n3(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():n3(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Tt(t=>"closing"===t.state),Xr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function n3(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const r3=new L("MatDialogData"),nde=new L("mat-dialog-default-options"),s3=new L("mat-dialog-scroll-strategy"),ide={provide:s3,deps:[Km],useFactory:function rde(n){return()=>n.scrollStrategies.block()}};let sde=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht,this._afterOpenedAtThisLevel=new ht,this._ariaHiddenElements=new Map,this.afterAllClosed=mb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(QO(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function ode(n,e){return{...e,...n}}(r,this._defaultOptions||new PD),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new B4({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=rn.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:PD,useValue:r}]}),o=new AD(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof Wr)r.attachTemplatePortal(new k4(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new AD(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(B0,null,se.Optional))&&o.push({provide:B0,useValue:{value:t.direction,change:ne()}}),rn.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Wy()},n.\u0275dir=le({type:n}),n})(),o3=(()=>{class n extends sde{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,t3,ede,r3,c)}}return n.\u0275fac=function(t){return new(t||n)(x(Km),x(rn),x(mu,8),x(nde,8),x(s3),x(n,12),x(RD),x(Wv,8))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),ade=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({providers:[o3,ide],imports:[[Kue,N4,Ds],Ds]}),n})();function lde(n,e){if(1&n){const t=xe();Ge(0),g(1,"div")(2,"div",8)(3,"label",9),y(4),m(),g(5,"span",10),V("click",function(){const s=G(t).$implicit;return W(T().deleteChamp(s))}),y(6,"X"),m()(),g(7,"input",11),V("ngModelChange",function(i){const o=G(t).$implicit;return W(T().champsClientValue[o]=i)}),m()(),We()}if(2&n){const t=e.$implicit,r=T();E(4),J("",t," "),E(3),k("ngModel",r.champsClientValue[t])}}let cde=(()=>{class n{constructor(t,r,i){this.clientService=t,this.clients=r,this.dialogRef=i,this.champsClient=["Nom de client","Adresse","NIC","N RC","NIF","AI"],this.champsClientValue={},this.id=0}ngOnInit(){this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.clientService.getCaisseData().then(t=>{this.id=t.lastClientId+1})}Create(){this.clientService.createUser({id:this.id,Name:this.champsClientValue["Nom de client"],Adresse:this.champsClientValue.Adresse,NIC:this.champsClientValue.NIC,NRC:this.champsClientValue["N RC"],NIF:this.champsClientValue.NIF,AI:this.champsClientValue.AI}).then(()=>{alert("client ajouter avec succes"),this.dialogRef.close()}).catch(r=>{alert("le client na pas ete ajouter il peut quelle existe deja")})}deleteChamp(t){this.champsClient.splice(this.champsClient.indexOf(t),1),delete this.champsClientValue[t]}Close(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||n)(R(Pi),R(r3),R(t3))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-add-client-pop-up"]],decls:11,vars:1,consts:[[1,"overlay"],[1,"dialog-content","max-w-5xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"px-2","h-10","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],[1,"px-8","h-10","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"section",1)(2,"h2",2),y(3,"Cr\xe9ation d'un Client"),m(),g(4,"div",3),H(5,lde,8,2,"ng-container",4),m(),g(6,"div",5)(7,"button",6),V("click",function(){return i.Close()}),y(8,"Close"),m(),g(9,"button",7),V("click",function(){return i.Create()}),y(10,"Create"),m()()()()),2&r&&(E(5),k("ngForOf",i.champsClient))},dependencies:[Qr,yi,Ps,Zi],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#80808080}.dialog-content[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;z-index:9999;width:70%}@media screen and (max-width: 600px){.dialog-content[_ngcontent-%COMP%]{width:90%}}'],data:{animation:[]}})}return n})();function ude(n,e){if(1&n){const t=xe();g(0,"div",19)(1,"div")(2,"label",20),y(3,"Filtre par N\xb0"),m(),g(4,"input",21),V("ngModelChange",function(i){return G(t),W(T().filterNic=i)}),m()(),g(5,"div")(6,"label",20),y(7,"Filtre par Date"),m(),g(8,"input",22),V("ngModelChange",function(i){return G(t),W(T().filterName=i)}),m()(),g(9,"div",23)(10,"button",24),V("click",function(){return G(t),W(T().filter())}),y(11,"Filtre"),m(),g(12,"button",24),V("click",function(){return G(t),W(T().Reset())}),y(13,"Reset/Close"),m()()()}if(2&n){const t=T();E(4),k("ngModel",t.filterNic),E(4),k("ngModel",t.filterName)}}function dde(n,e){if(1&n){const t=xe();Ge(0),g(1,"div",25)(2,"button",26),V("click",function(){return G(t),W(T().filterFlag=!0)}),y(3,"Ouvrir le filtre --\x3e"),m(),g(4,"button",27),V("click",function(){return G(t),W(T().add())}),y(5,"Ajouter Client"),m()(),We()}}function hde(n,e){if(1&n){const t=xe();Ge(0),g(1,"tr")(2,"td",28),y(3),m(),g(4,"td",29)(5,"div",30)(6,"div")(7,"h2",31),y(8),m()()()(),g(9,"td",32),y(10),m(),g(11,"td",32),y(12),m(),g(13,"td",33)(14,"button",34),V("click",function(){const s=G(t).$implicit;return W(T().deleteClients(s.id))}),Bt(),g(15,"svg",35),Ce(16,"path",36),m()()()(),We()}if(2&n){const t=e.$implicit;E(3),J(" ",t.id," "),E(5),yt(t.Name),E(2),yt(t.Adresse),E(2),yt(t.NIC)}}function fde(n,e){if(1&n){const t=xe();g(0,"div",37)(1,"a",38),V("click",function(){return G(t),W(T().previousStep())}),g(2,"span"),y(3," << previous "),m()(),g(4,"div",39),y(5),m(),g(6,"a",38),V("click",function(){return G(t),W(T().nextStep())}),g(7,"span"),y(8," Next >> "),m()()()}if(2&n){const t=T();E(5),J(" ",t.page,"")}}const pde=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:VZ},{path:"factures",component:xle},{path:"facture-view",component:$le},{path:"facture-close",component:Wle},{path:"facture-create",component:Yce},{path:"caisse",component:Xce},{path:"bons",component:iue},{path:"bonsList",component:cue},{path:"bon-view",component:fue},{path:"clients",component:(()=>{class n{constructor(t,r,i){this.route=t,this.clientService=r,this.dialog=i,this.filterName="",this.filterNic="",this.filterFlag=!1,this.clients=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=2}ngOnInit(){this.getUsers(this.skip[0],this.maxResultCount),this.clientService.getCaisseData().then(t=>{this.total=t.numberClient})}filter(){}Reset(){this.filterFlag=!1,this.filterName="",this.filterNic=""}add(){this.openDialogPart()}goToClients(t){}deleteClients(t){confirm("voulez vous vraiment supprimer ce Client")&&this.clientService.deleteUser(t).then(r=>{alert("la facture a ete supprimer avec succes"),this.skip=[0],this.page=1,this.getUsers(this.skip[this.page-1],this.maxResultCount)})}getUsers(t,r){this.clientService.readUsersPaged(t,r).then(i=>{this.skip[this.page]=parseInt(i.pop()),this.clients=i})}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getUsers(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getUsers(this.skip[this.page-1],this.maxResultCount))}openDialogPart(){this.dialog.open(cde,{data:{data:this.clients},height:"50%",width:"50%"}).afterClosed().subscribe(r=>{this.clients.map(i=>{})})}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt),R(Pi),R(o3))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-create-client"]],decls:26,vars:4,consts:[[1,"container","px-4","mx-auto"],["class","grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-center","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center mt-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de Bons a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between","w-full"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"addClient","text-center","w-32","h-8","mt-5","text-white","transition-colors","duration-300","transform","rounded-md","focus:outline-none",3,"click"],[1,"px-3","py-4","text-sm","text-center","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"]],template:function(r,i){1&r&&(g(0,"section",0),H(1,ude,14,2,"div",1),H(2,dde,6,0,"ng-container",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7)(8,"thead",8)(9,"tr")(10,"th",9),y(11," Client N\xb0 "),m(),g(12,"th",10)(13,"div",11)(14,"span"),y(15,"Nom du Client"),m()()(),g(16,"th",12),y(17," Date "),m(),g(18,"th",13),y(19," NIC "),m(),g(20,"th",14)(21,"span",15),y(22,"Edit"),m()()()(),g(23,"tbody",16),H(24,hde,17,4,"ng-container",17),m()()()()()(),H(25,fde,9,1,"div",18),m()),2&r&&(E(1),k("ngIf",i.filterFlag),E(1),k("ngIf",!i.filterFlag),E(22),k("ngForOf",i.clients),E(1),k("ngIf",!i.filterFlag))},dependencies:[Qr,_i,yi,Ps,Zi],styles:[".addClient[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}.addClient[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let gde=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=st({type:n});static#n=this.\u0275inj=et({imports:[nF.forRoot(pde),nF]})}return n})();function mde(n,e){if(1&n){const t=xe();Bt(),Cn(),g(0,"div",10)(1,"a",11),y(2,"Home"),m(),g(3,"a",12),V("click",function(){return G(t),W(T().goToFactures())}),y(4,"Factures"),m(),g(5,"a",12),V("click",function(){return G(t),W(T().goToBons())}),y(6,"Bons"),m()()}}let _de=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.desktopMenuOpen=!1,this.route.navigate(["/facture-close"])}goToBons(){this.desktopMenuOpen=!1,this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(R(Gt))};static#t=this.\u0275cmp=en({type:n,selectors:[["app-navbar"]],decls:14,vars:1,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"md:hidden"],[1,"h-10",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],["class","absolute top-10 left-0 z-10 p-6 rounded bg-blue-700 flex flex-col gap-3  ",4,"ngIf"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-300","hover:text-blue-400"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-300","hover:text-blue-400",3,"click"],[1,"absolute","top-10","left-0","z-10","p-6","rounded","bg-blue-700","flex","flex-col","gap-3"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"button",2),V("click",function(){return i.mobile()}),Bt(),g(3,"svg",3),Ce(4,"path",4),m()(),H(5,mde,7,0,"div",5),m(),Cn(),g(6,"div",6)(7,"div",7)(8,"a",8),y(9,"Home"),m(),g(10,"a",9),V("click",function(){return i.goToFactures()}),y(11,"Factures"),m(),g(12,"a",9),V("click",function(){return i.goToBons()}),y(13,"Bons"),m()()()()),2&r&&(E(5),k("ngIf",i.desktopMenuOpen))},dependencies:[_i],styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{color:#ffc300}"]})}return n})(),yde=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=en({type:n,selectors:[["app-footer"]],decls:26,vars:0,consts:[[1,"fixed","bottom-0","w-full","text-gray-600","body-font"],[1,"bg-gray-100"],[1,"container","px-5","py-4","mx-auto","flex","items-center","sm:flex-row","flex-col"],[1,"flex","title-font","font-medium","items-center","md:justify-start","justify-center","text-gray-900"],["src","assets/images/logos/logo.jpg","alt","",1,"h-12"],[1,"ml-3","text-xl"],[1,"text-sm","text-gray-500","sm:ml-6","sm:mt-0","mt-4"],["href","https://www.linkedin.com/in/islem-atchi-95746a208/","rel","noopener noreferrer","target","_blank",1,"text-gray-600","ml-1"],[1,"inline-flex","sm:ml-auto","sm:mt-0","mt-4","justify-center","sm:justify-start"],[1,"text-gray-500"],["fill","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5"],["d","M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"],[1,"ml-3","text-gray-500"],["d","M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5"],["width","20","height","20","x","2","y","2","rx","5","ry","5"],["d","M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"],["fill","currentColor","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","0","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke","none","d","M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"],["cx","4","cy","4","r","2","stroke","none"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),Ce(4,"img",4),g(5,"span",5),y(6,"Transit Operation"),m()(),g(7,"p",6),y(8,"\xa9 2024 AlNour ELITE \u2014 "),g(9,"a",7),y(10,"@ATCHI"),m()(),g(11,"span",8)(12,"a",9),Bt(),g(13,"svg",10),Ce(14,"path",11),m()(),Cn(),g(15,"a",12),Bt(),g(16,"svg",10),Ce(17,"path",13),m()(),Cn(),g(18,"a",12),Bt(),g(19,"svg",14),Ce(20,"rect",15)(21,"path",16),m()(),Cn(),g(22,"a",12),Bt(),g(23,"svg",17),Ce(24,"path",18)(25,"circle",19),m()()()()()())}})}return n})(),vde=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=en({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"print"],[1,""]],template:function(r,i){1&r&&Ce(0,"app-navbar",0)(1,"router-outlet",1)(2,"app-footer",0)},dependencies:[kb,_de,yde],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const Ede={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};function a3(n){return new M(3e3,!1)}function nhe(){return typeof window<"u"&&typeof window.document<"u"}function kD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function oo(n){switch(n.length){case 0:return new vh;case 1:return n[0];default:return new e3(n)}}function l3(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,_)=>{let v=_,b=p;if("offset"!==_)switch(v=e.normalizePropertyName(v,o),b){case MD:b=i.get(_);break;case ps:b=s.get(_);break;default:b=e.normalizeStyleValue(_,v,b,o)}f.set(v,b)}),h||a.push(f),c=f,l=d}),o.length)throw function zde(n){return new M(3502,!1)}();return a}function OD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ND(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ND(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ND(t,"destroy",n)))}}function ND(n,e,t){const s=FD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function FD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function yr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function c3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let VD=(n,e)=>!1,u3=(n,e,t)=>[],d3=null;function LD(n){const e=n.parentNode||n.host;return e===d3?null:e}(kD()||typeof Element<"u")&&(nhe()?(d3=(()=>document.documentElement)(),VD=(n,e)=>{for(;e;){if(e===n)return!0;e=LD(e)}return!1}):VD=(n,e)=>n.contains(e),u3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ma=null,h3=!1;const f3=VD,p3=u3;let g3=(()=>{class n{validateStyleProperty(t){return function ihe(n){ma||(ma=function she(){return typeof document<"u"?document.body:null}()||{},h3=!!ma.style&&"WebkitAppearance"in ma.style);let e=!0;return ma.style&&!function rhe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ma.style,!e&&h3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ma.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return f3(t,r)}getParentElement(t){return LD(t)}query(t,r,i){return p3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new vh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})(),BD=(()=>{class n{}return n.NOOP=new g3,n})();const ohe=1e3,UD="ng-enter",Qm="ng-leave",Ym="ng-trigger",Xm=".ng-trigger",_3="ng-animating",jD=".ng-animating";function gs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$D(parseFloat(e[1]),e[2])}function $D(n,e){return"s"===e?n*ohe:n}function Zm(n,e,t){return n.hasOwnProperty("duration")?n:function lhe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(a3()),{duration:0,delay:0,easing:""};i=$D(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=$D(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function wde(){return new M(3100,!1)}()),a=!0),s<0&&(e.push(function Cde(){return new M(3101,!1)}()),a=!0),a&&e.splice(l,0,a3())}return{duration:i,delay:s,easing:o}}(n,e,t)}function bh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function y3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ao(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function b3(n,e,t){return t?e+":"+t+";":""}function E3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=b3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=b3(0,hhe(t),n.style[t]));n.setAttribute("style",e)}function ki(n,e,t){n.style&&(e.forEach((r,i)=>{const s=zD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),kD()&&E3(n))}function _a(n,e){n.style&&(e.forEach((t,r)=>{const i=zD(r);n.style[i]=""}),kD()&&E3(n))}function Eh(n){return Array.isArray(n)?1==n.length?n[0]:K4(n):n}const HD=new RegExp("{{\\s*(.+?)\\s*}}","g");function w3(n){let e=[];if("string"==typeof n){let t;for(;t=HD.exec(n);)e.push(t[1]);HD.lastIndex=0}return e}function wh(n,e,t){const r=n.toString(),i=r.replace(HD,(s,o)=>{let a=e[o];return null==a&&(t.push(function Tde(n){return new M(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Jm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dhe=/-+([a-z0-9])/g;function zD(n){return n.replace(dhe,(...e)=>e[1].toUpperCase())}function hhe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Dde(n){return new M(3004,!1)}()}}function C3(n,e){return window.getComputedStyle(n)[e]}const n_="*";function yhe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vhe(n,e,t){if(":"==n[0]){const l=function bhe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ude(n){return new M(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Bde(n){return new M(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(I3(i,o));"<"==s[0]&&!(i==n_&&o==n_)&&e.push(I3(o,i))}(r,t,e)):t.push(n),t}const r_=new Set(["true","1"]),i_=new Set(["false","0"]);function I3(n,e){const t=r_.has(n)||i_.has(n),r=r_.has(e)||i_.has(e);return(i,s)=>{let o=n==n_||n==i,a=e==n_||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?r_.has(n):i_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?r_.has(e):i_.has(e)),o&&a}}const Ehe=new RegExp("s*:selfs*,?","g");function GD(n,e,t,r){return new whe(n).build(e,t,r)}class whe{constructor(e){this._driver=e}build(e,t,r){const i=new The(t);return this._resetContextStyleTimingState(i),vr(this,Eh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Sde(){return new M(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function xde(){return new M(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{w3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Jm(s.values()),t.errors.push(function Rde(n,e){return new M(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=vr(this,Eh(e.animation),t);return{type:1,matchers:yhe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ya(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>vr(this,r,t)),options:ya(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=vr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ya(e.options)}}visitAnimate(e,t){const r=function Ahe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return WD(Zm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=WD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Zm(t,e);return WD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Cc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Cc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ps?r.push(a):t.errors.push(new M(3002,!1)):r.push(y3(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function Pde(n,e,t,r,i){return new M(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function uhe(n,e,t){const r=e.params||{},i=w3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Ide(n){return new M(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kde(){return new M(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const I=this._makeStyleAst(b,t);let w=null!=I.offset?I.offset:function Dhe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),P=0;return null!=w&&(s++,P=I.offset=w),l=l||P<0||P>1,a=a||P<c,c=P,o.push(P),I});l&&t.errors.push(function Ode(){return new M(3012,!1)}()),a&&t.errors.push(function Nde(){return new M(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Fde(){return new M(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,v=_.duration;return u.forEach((b,I)=>{const w=h>0?I==f?1:h*I:o[I],P=w*v;t.currentTime=p+_.delay+P,_.duration=P,this._validateStyleAst(b,t),b.offset=w,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:vr(this,Eh(e.animation),t),options:ya(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ya(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ya(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Che(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ehe,"")),n=n.replace(/@\*/g,Xm).replace(/@\w+/g,t=>Xm+"-"+t.slice(1)).replace(/:animating/g,jD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,yr(t.collectedStyles,t.currentQuerySelector,new Map);const a=vr(this,Eh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ya(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Vde(){return new M(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zm(e.timings,t.errors,!0);return{type:12,animation:vr(this,Eh(e.animation),t),timings:r,options:null}}}class The{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ya(n){return n?(n=bh(n)).params&&(n.params=function Ihe(n){return n?bh(n):null}(n.params)):n={},n}function WD(n,e,t){return{duration:n,delay:e,easing:t}}function qD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class s_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Rhe=new RegExp(":enter","g"),Phe=new RegExp(":leave","g");function KD(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new khe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class khe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new s_;const d=new QD(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?gs(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),vr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let _=f.length-1;_>=0;_--){const v=f[_];if(v.element===t){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[qD(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:gs(wh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?gs(r.duration):null,a=null!=r.delay?gs(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),vr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=o_);const o=gs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>vr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?gs(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),vr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Zm(t.params?wh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?gs(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=o_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),vr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;vr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const o_={};class QD{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=o_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new a_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=gs(r.duration)),null!=r.delay&&(i.delay=gs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=wh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new QD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=o_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Ohe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Rhe,"."+this._enterClassName)).replace(Phe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Lde(n){return new M(3014,!1)}()),a}}class a_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new a_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ps),this._currentKeyframe.set(t,ps);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Nhe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ps)}else ao(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=wh(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ps),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ao(a,new Map,this._backFill);c.forEach((u,d)=>{u===MD?e.add(d):u===ps&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Jm(e.values()):[],o=t.size?Jm(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return qD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Ohe extends a_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=ao(e[0]);l.set("offset",0),s.push(l);const c=ao(e[0]);c.set("offset",A3(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ao(e[d]);const f=h.get("offset");h.set("offset",A3((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return qD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function A3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class YD{}const Fhe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vhe extends YD{normalizePropertyName(e,t){return zD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Fhe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Ade(n,e){return new M(3005,!1)}())}return o+s}}function S3(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const XD={};class x3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Lhe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||XD,p=this.buildStyles(r,a&&a.params||XD,d),_=l&&l.params||XD,v=this.buildStyles(i,_,d),b=new Set,I=new Map,w=new Map,P="void"===i,K={params:Bhe(_,h),delay:this.ast.options?.delay},X=u?[]:KD(e,t,this.ast.animation,s,o,p,v,K,c,d);let De=0;if(X.forEach(Hn=>{De=Math.max(Hn.duration+Hn.delay,De)}),d.length)return S3(t,this._triggerName,r,i,P,p,v,[],[],I,w,De,d);X.forEach(Hn=>{const nr=Hn.element,z3=yr(I,nr,new Set);Hn.preStyleProps.forEach(va=>z3.add(va));const Ih=yr(w,nr,new Set);Hn.postStyleProps.forEach(va=>Ih.add(va)),nr!==t&&b.add(nr)});const mt=Jm(b.values());return S3(t,this._triggerName,r,i,P,p,v,X,mt,I,w,De)}}function Bhe(n,e){const t=bh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Uhe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=bh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=wh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class $he{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Uhe(i.style,i.options&&i.options.params||{},r))}),R3(this.states,"true","1"),R3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new x3(e,i,this.states))}),this.fallbackTransition=function Hhe(n,e,t){return new x3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function R3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const zhe=new s_;class Ghe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=GD(this._driver,t,r,i);if(r.length)throw function Gde(n){return new M(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=l3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=KD(this._driver,t,s,UD,Qm,new Map,new Map,r,zhe,i),o.forEach(u=>{const d=yr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Wde(){return new M(3300,!1)}()),o=[]),i.length)throw function qde(n){return new M(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ps))})});const c=oo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Kde(n){return new M(3301,!1)}();return t}listen(e,t,r,i){const s=FD(t,"","","");return OD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const M3="ng-animate-queued",ZD="ng-animate-disabled",Yhe=[],P3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xhe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class JD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function tfe(n){return n??null}(r?e.value:e),r){const s=bh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ch="void",eA=new JD(Ch);class Zhe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Qde(n,e){return new M(3302,!1)}();if(null==r||0==r.length)throw function Yde(n){return new M(3303,!1)}();if(!function nfe(n){return"start"==n||"done"==n}(r))throw function Xde(n,e){return new M(3400,!1)}();const s=yr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=yr(this._engine.statesByElement,e,new Map);return a.has(t)||(Vr(e,Ym),Vr(e,Ym+"-"+t),a.set(t,eA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Zde(n){return new M(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new tA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vr(e,Ym),Vr(e,Ym+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new JD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=eA),c.value!==Ch&&l.value===c.value){if(!function sfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],v=s.matchStyles(l.value,l.params,_),b=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{_a(e,v),ki(e,b)})}return}const h=yr(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Vr(e,M3),o.onStart(()=>{Ic(e,M3)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const v=this._engine.playersByElement.get(e);if(v){let b=v.indexOf(o);b>=0&&v.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Xm,!0);r.forEach(i=>{if(i[Fr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Ch,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&oo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||eA,u=new JD(Ch),d=new tA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Fr];(!s||s===P3)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=FD(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,OD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Jhe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Zhe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(l_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!l_(t))return;const s=t[Fr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vr(e,ZD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ic(e,ZD))}removeNode(e,t,r,i){if(l_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Fr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return l_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Xm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,jD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Fr];if(t&&t.setForRemoval){if(e[Fr]=P3,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ZD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?oo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Jde(n){return new M(3402,!1)}()}_flushAnimations(e,t){const r=new s_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ee=>{u.add(ee);const ie=this.driver.query(ee,".ng-animate-queued",!0);for(let ue=0;ue<ie.length;ue++)u.add(ie[ue])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=N3(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((ee,ie)=>{const ue=UD+_++;p.set(ie,ue),ee.forEach(Ve=>Vr(Ve,ue))});const v=[],b=new Set,I=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){const ie=this.collectedLeaveElements[ee],ue=ie[Fr];ue&&ue.setForRemoval&&(v.push(ie),b.add(ie),ue.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Ve=>b.add(Ve)):I.add(ie))}const w=new Map,P=N3(h,Array.from(b));P.forEach((ee,ie)=>{const ue=Qm+_++;w.set(ie,ue),ee.forEach(Ve=>Vr(Ve,ue))}),e.push(()=>{f.forEach((ee,ie)=>{const ue=p.get(ie);ee.forEach(Ve=>Ic(Ve,ue))}),P.forEach((ee,ie)=>{const ue=w.get(ie);ee.forEach(Ve=>Ic(Ve,ue))}),v.forEach(ee=>{this.processLeaveNode(ee)})});const K=[],X=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(ue=>{const Ve=ue.player,un=ue.element;if(K.push(Ve),this.collectedEnterElements.length){const kn=un[Fr];if(kn&&kn.setForMove){if(kn.previousTriggersValues&&kn.previousTriggersValues.has(ue.triggerName)){const ba=kn.previousTriggersValues.get(ue.triggerName),Lr=this.statesByElement.get(ue.element);if(Lr&&Lr.has(ue.triggerName)){const d_=Lr.get(ue.triggerName);d_.value=ba,Lr.set(ue.triggerName,d_)}}return void Ve.destroy()}}const Oi=!d||!this.driver.containsElement(d,un),br=w.get(un),lo=p.get(un),Et=this._buildInstruction(ue,r,lo,br,Oi);if(Et.errors&&Et.errors.length)return void X.push(Et);if(Oi)return Ve.onStart(()=>_a(un,Et.fromStyles)),Ve.onDestroy(()=>ki(un,Et.toStyles)),void i.push(Ve);if(ue.isFallbackTransition)return Ve.onStart(()=>_a(un,Et.fromStyles)),Ve.onDestroy(()=>ki(un,Et.toStyles)),void i.push(Ve);const q3=[];Et.timelines.forEach(kn=>{kn.stretchStartingKeyframe=!0,this.disabledNodes.has(kn.element)||q3.push(kn)}),Et.timelines=q3,r.append(un,Et.timelines),o.push({instruction:Et,player:Ve,element:un}),Et.queriedElements.forEach(kn=>yr(a,kn,[]).push(Ve)),Et.preStyleProps.forEach((kn,ba)=>{if(kn.size){let Lr=l.get(ba);Lr||l.set(ba,Lr=new Set),kn.forEach((d_,iA)=>Lr.add(iA))}}),Et.postStyleProps.forEach((kn,ba)=>{let Lr=c.get(ba);Lr||c.set(ba,Lr=new Set),kn.forEach((d_,iA)=>Lr.add(iA))})});if(X.length){const ee=[];X.forEach(ie=>{ee.push(function ehe(n,e){return new M(3505,!1)}())}),K.forEach(ie=>ie.destroy()),this.reportError(ee)}const De=new Map,mt=new Map;o.forEach(ee=>{const ie=ee.element;r.has(ie)&&(mt.set(ie,ie),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,De))}),i.forEach(ee=>{const ie=ee.element;this._getPreviousPlayers(ie,!1,ee.namespaceId,ee.triggerName,null).forEach(Ve=>{yr(De,ie,[]).push(Ve),Ve.destroy()})});const Hn=v.filter(ee=>V3(ee,l,c)),nr=new Map;O3(nr,this.driver,I,c,ps).forEach(ee=>{V3(ee,l,c)&&Hn.push(ee)});const Ih=new Map;f.forEach((ee,ie)=>{O3(Ih,this.driver,new Set(ee),l,MD)}),Hn.forEach(ee=>{const ie=nr.get(ee),ue=Ih.get(ee);nr.set(ee,new Map([...Array.from(ie?.entries()??[]),...Array.from(ue?.entries()??[])]))});const va=[],G3=[],W3={};o.forEach(ee=>{const{element:ie,player:ue,instruction:Ve}=ee;if(r.has(ie)){if(u.has(ie))return ue.onDestroy(()=>ki(ie,Ve.toStyles)),ue.disabled=!0,ue.overrideTotalTime(Ve.totalTime),void i.push(ue);let un=W3;if(mt.size>1){let br=ie;const lo=[];for(;br=br.parentNode;){const Et=mt.get(br);if(Et){un=Et;break}lo.push(br)}lo.forEach(Et=>mt.set(Et,un))}const Oi=this._buildAnimation(ue.namespaceId,Ve,De,s,Ih,nr);if(ue.setRealPlayer(Oi),un===W3)va.push(ue);else{const br=this.playersByElement.get(un);br&&br.length&&(ue.parentPlayer=oo(br)),i.push(ue)}}else _a(ie,Ve.fromStyles),ue.onDestroy(()=>ki(ie,Ve.toStyles)),G3.push(ue),u.has(ie)&&i.push(ue)}),G3.forEach(ee=>{const ie=s.get(ee.element);if(ie&&ie.length){const ue=oo(ie);ee.setRealPlayer(ue)}}),i.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<v.length;ee++){const ie=v[ee],ue=ie[Fr];if(Ic(ie,Qm),ue&&ue.hasAnimation)continue;let Ve=[];if(a.size){let Oi=a.get(ie);Oi&&Oi.length&&Ve.push(...Oi);let br=this.driver.query(ie,jD,!0);for(let lo=0;lo<br.length;lo++){let Et=a.get(br[lo]);Et&&Et.length&&Ve.push(...Et)}}const un=Ve.filter(Oi=>!Oi.destroyed);un.length?rfe(this,ie,un):this.processLeaveNode(ie)}return v.length=0,va.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();const ie=this.players.indexOf(ee);this.players.splice(ie,1)}),ee.play()}),va}elementContainsData(e,t){let r=!1;const i=t[Fr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ch;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=yr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}_a(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const v=_[Fr];if(v&&v.removedBeforeQueried)return new vh(p.duration,p.delay);const b=_!==l,I=function ife(n){const e=[];return F3(n,e),e}((r.get(_)||Yhe).map(De=>De.getRealPlayer())).filter(De=>!!De.element&&De.element===_),w=s.get(_),P=o.get(_),K=l3(0,this._normalizer,0,p.keyframes,w,P),X=this._buildPlayer(p,K,I);if(p.subTimeline&&i&&d.add(_),b){const De=new tA(e,a,_);De.setRealPlayer(X),c.push(De)}return X});c.forEach(p=>{yr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function efe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Vr(p,_3));const f=oo(h);return f.onDestroy(()=>{u.forEach(p=>Ic(p,_3)),ki(l,t.toStyles)}),d.forEach(p=>{yr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vh(e.duration,e.delay)}}class tA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>OD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function l_(n){return n&&1===n.nodeType}function k3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function O3(n,e,t,r,i){const s=[];t.forEach(l=>s.push(k3(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Fr]=Xhe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>k3(l,s[a++])),o}function N3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?r:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function Vr(n,e){n.classList?.add(e)}function Ic(n,e){n.classList?.remove(e)}function rfe(n,e,t){oo(t).onDone(()=>n.processLeaveNode(e))}function F3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof e3?F3(r.players,e):e.push(r)}}function V3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class c_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Jhe(e,t,r),this._timelineEngine=new Ghe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=GD(this._driver,s,l,c);if(l.length)throw function Hde(n,e){return new M(3404,!1)}();a=function jhe(n,e,t){return new $he(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=c3(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=c3(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let afe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ki(this._element,this._initialStyles),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_a(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_a(this._element,this._endStyles),this._endStyles=null),ki(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nA(n){let e=null;return n.forEach((t,r)=>{(function lfe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class L3{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:C3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return f3(e,t)}getParentElement(e){return LD(e)}query(e,t,r){return p3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof L3);(function fhe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,_)=>c.set(_,p))});let d=function che(n){return n.length?n[0]instanceof Map?n:n.map(e=>y3(e)):[]}(t).map(f=>ao(f));d=function phe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,C3(n,a)))}}return e}(e,d,c);const h=function ofe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nA(e[0]),e.length>1&&(r=nA(e[e.length-1]))):e instanceof Map&&(t=nA(e)),t||r?new afe(n,t,r):null}(e,d);return new L3(e,d,l,h)}}let ufe=(()=>{class n extends G4{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Br.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?K4(t):t;return B3(this._renderer,null,r,"register",[i]),new dfe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(x(Qc),x(Ie))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class dfe extends Que{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hfe(this._id,e,t||{},this._renderer)}}class hfe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return B3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function B3(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const U3="@.disabled";let ffe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new j3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new pfe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(x(Qc),x(c_),x(Re))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();class j3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==U3?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pfe extends j3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==U3?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function gfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function mfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let _fe=(()=>{class n extends c_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(x(Ie),x(BD),x(YD),x(cl))},n.\u0275prov=j({token:n,factory:n.\u0275fac}),n})();const $3=[{provide:G4,useClass:ufe},{provide:YD,useFactory:function yfe(){return new Vhe}},{provide:c_,useClass:_fe},{provide:Qc,useFactory:function vfe(n,e,t){return new ffe(n,e,t)},deps:[op,c_,Re]}],rA=[{provide:BD,useFactory:()=>new cfe},{provide:Wv,useValue:"BrowserAnimations"},...$3],H3=[{provide:BD,useClass:g3},{provide:Wv,useValue:"NoopAnimations"},...$3];let bfe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?H3:rA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=st({type:n}),n.\u0275inj=et({providers:rA,imports:[nk]}),n})(),Efe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=st({type:n,bootstrap:[vde]});static#n=this.\u0275inj=et({providers:[vu],imports:[nk,bfe,gde,iQ,ZK,Dce,sQ,ade,GO,Lee(()=>Bee(Ede)),Dle(()=>Ale())]})}return n})();v7().bootstrapModule(Efe).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=990)}]);