"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{597:()=>{function Fe(n){return"function"==typeof n}function Cu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const dd=Cu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ts(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(o){e=o instanceof dd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{R0(o)}catch(s){e=e??[],s instanceof dd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)R0(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ts(t,e)}remove(e){const{_finalizers:t}=this;t&&Ts(t,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const n=new kn;return n.closed=!0,n})();const A0=kn.EMPTY;function S0(n){return n instanceof kn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function R0(n){Fe(n)?n():n.unsubscribe()}const wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hd={setTimeout(n,e,...t){const{delegate:r}=hd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=hd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function x0(n){hd.setTimeout(()=>{const{onUnhandledError:e}=wo;if(!e)throw n;e(n)})}function M0(){}const Z2=Pg("C",void 0,void 0);function Pg(n,e,t){return{kind:n,value:e,error:t}}let To=null;function fd(n){if(wo.useDeprecatedSynchronousErrorHandling){const e=!To;if(e&&(To={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=To;if(To=null,t)throw r}}else n()}class kg extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,S0(e)&&e.add(this)):this.destination=sU}static create(e,t,r){return new Du(e,t,r)}next(e){this.isStopped?Og(function tU(n){return Pg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Og(function eU(n){return Pg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Og(Z2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rU=Function.prototype.bind;function Ng(n,e){return rU.call(n,e)}class iU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pd(r)}else pd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pd(t)}}}class Du extends kg{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&wo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ng(e.next,o),error:e.error&&Ng(e.error,o),complete:e.complete&&Ng(e.complete,o)}):i=e}this.destination=new iU(i)}}function pd(n){wo.useDeprecatedSynchronousErrorHandling?function nU(n){wo.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=n)}(n):x0(n)}function Og(n,e){const{onStoppedNotification:t}=wo;t&&hd.setTimeout(()=>t(n,e))}const sU={closed:!0,next:M0,error:function oU(n){throw n},complete:M0},Fg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Co(n){return n}function P0(n){return 0===n.length?Co:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function cU(n){return n&&n instanceof kg||function uU(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&S0(n)}(t)?t:new Du(t,r,i);return fd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=k0(r))((i,o)=>{const s=new Du({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Fg](){return this}pipe(...t){return P0(t)(this)}toPromise(t){return new(t=k0(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function k0(n){var e;return null!==(e=n??wo.Promise)&&void 0!==e?e:Promise}const lU=Cu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ei=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new N0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new lU}next(t){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?A0:(this.currentObservers=null,o.push(t),new kn(()=>{this.currentObservers=null,Ts(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new N0(e,t),n})();class N0 extends ei{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:A0}}function O0(n){return Fe(n?.lift)}function Ot(n){return e=>{if(O0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(n,e,t,r,i){return new dU(n,e,t,r,i)}class dU extends kg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ne(n,e){return Ot((t,r)=>{let i=0;t.subscribe(Dt(r,o=>{r.next(n.call(e,o,i++))}))})}function Ug(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function U0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function jg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const B0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function j0(n){return Fe(n?.then)}function $0(n){return Fe(n[Fg])}function H0(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function G0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const z0=function PU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function W0(n){return Fe(n?.[z0])}function q0(n){return function L0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Oi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function K0(n){return Fe(n?.getReader)}function cr(n){if(n instanceof Ze)return n;if(null!=n){if($0(n))return function kU(n){return new Ze(e=>{const t=n[Fg]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(B0(n))return function NU(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(j0(n))return function OU(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,x0)})}(n);if(H0(n))return Q0(n);if(W0(n))return function FU(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(K0(n))return function VU(n){return Q0(q0(n))}(n)}throw G0(n)}function Q0(n){return new Ze(e=>{(function LU(n,e){var t,r,i,o;return function F0(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=U0(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ti(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $t(n,e,t=1/0){return Fe(e)?$t((r,i)=>ne((o,s)=>e(r,o,i,s))(cr(n(r,i))),t):("number"==typeof e&&(t=e),Ot((r,i)=>function UU(n,e,t,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;cr(t(g,l++)).subscribe(Dt(e,I=>{i?.(I),o?f(I):e.next(I)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const I=u.shift();s?ti(e,s,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(Dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Cs(n=1/0){return $t(Co,n)}const Tr=new Ze(n=>n.complete());function $g(n){return n[n.length-1]}function Y0(n){return Fe($g(n))?n.pop():void 0}function Au(n){return function jU(n){return n&&Fe(n.schedule)}($g(n))?n.pop():void 0}function gd(n,e=0){return Ot((t,r)=>{t.subscribe(Dt(r,i=>ti(r,n,()=>r.next(i),e),()=>ti(r,n,()=>r.complete(),e),i=>ti(r,n,()=>r.error(i),e)))})}function md(n,e=0){return Ot((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function X0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{ti(t,e,()=>{const r=n[Symbol.asyncIterator]();ti(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vt(n,e){return e?function KU(n,e){if(null!=n){if($0(n))return function HU(n,e){return cr(n).pipe(md(e),gd(e))}(n,e);if(B0(n))return function zU(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(j0(n))return function GU(n,e){return cr(n).pipe(md(e),gd(e))}(n,e);if(H0(n))return X0(n,e);if(W0(n))return function WU(n,e){return new Ze(t=>{let r;return ti(t,e,()=>{r=n[z0](),ti(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(K0(n))return function qU(n,e){return X0(q0(n),e)}(n,e)}throw G0(n)}(n,e):cr(n)}function Hg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Du({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function Gg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function zg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const YU=Oe({__forward_ref__:Oe});function Le(n){return n.__forward_ref__=Le,n.toString=function(){return Ve(this())},n}function Y(n){return Wg(n)?n():n}function Wg(n){return"function"==typeof n&&n.hasOwnProperty(YU)&&n.__forward_ref__===Le}function qg(n){return n&&!!n.\u0275providers}const _d="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(yd(e,t)),this.code=e}}function yd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function vd(n,e){throw new P(-201,!1)}function Yn(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ed(n){return Z0(n,Id)||Z0(n,tC)}function Z0(n,e){return n.hasOwnProperty(e)?n[e]:null}function eC(n){return n&&(n.hasOwnProperty(Kg)||n.hasOwnProperty(iB))?n[Kg]:null}const Id=Oe({\u0275prov:Oe}),Kg=Oe({\u0275inj:Oe}),tC=Oe({ngInjectableDef:Oe}),iB=Oe({ngInjectorDef:Oe});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let Qg;function Xn(n){const e=Qg;return Qg=n,e}function nC(n,e,t){const r=Ed(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&X.Optional?null:void 0!==e?e:void vd(Ve(n))}const $e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Su={},Yg="__NG_DI_FLAG__",bd="ngTempTokenPath",sB="ngTokenPath",aB=/\n/gm,uB="\u0275",rC="__source";let Ru;function Ds(n){const e=Ru;return Ru=n,e}function cB(n,e=X.Default){if(void 0===Ru)throw new P(-203,!1);return null===Ru?nC(n,void 0,e):Ru.get(n,e&X.Optional?null:void 0,e)}function L(n,e=X.Default){return(function oB(){return Qg}()||cB)(Y(n),e)}function ae(n,e=X.Default){return L(n,wd(e))}function wd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xg(n){const e=[];for(let t=0;t<n.length;t++){const r=Y(n[t]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){const a=r[s],u=lB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function xu(n,e){return n[Yg]=e,n.prototype[Yg]=e,n}function lB(n){return n[Yg]}function ni(n){return{toString:n}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Dr=(()=>{return(n=Dr||(Dr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dr;var n})();const ri={},Te=[],Td=Oe({\u0275cmp:Oe}),Jg=Oe({\u0275dir:Oe}),Zg=Oe({\u0275pipe:Oe}),oC=Oe({\u0275mod:Oe}),ii=Oe({\u0275fac:Oe}),Mu=Oe({__NG_ELEMENT_ID__:Oe});let fB=0;function Jn(n){return ni(()=>{const e=aC(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,id:"c"+fB++,styles:n.styles||Te,_:null,schemas:n.schemas||null,tView:null};uC(t);const r=n.dependencies;return t.directiveDefs=Cd(r,!1),t.pipeDefs=Cd(r,!0),t})}function gB(n){return Se(n)||Zt(n)}function mB(n){return null!==n}function Ft(n){return ni(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sC(n,e){if(null==n)return ri;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ee(n){return ni(()=>{const e=aC(n);return uC(e),e})}function In(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Se(n){return n[Td]||null}function Zt(n){return n[Jg]||null}function bn(n){return n[Zg]||null}function On(n,e){const t=n[oC]||null;if(!t&&!0===e)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return t}function aC(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sC(n.inputs,e),outputs:sC(n.outputs)}}function uC(n){n.features?.forEach(e=>e(n))}function Cd(n,e){if(!n)return null;const t=e?bn:gB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(mB)}const oi=0,j=1,de=2,ot=3,lr=4,Do=5,en=6,Ss=7,lt=8,Dd=9,Ad=10,fe=11,em=12,Pu=13,cC=14,Rs=15,tn=16,ku=17,xs=18,Ar=19,Nu=20,lC=21,He=22,tm=1,dC=2,Sd=7,Rd=8,Ms=9,hn=10;function Fn(n){return Array.isArray(n)&&"object"==typeof n[tm]}function dr(n){return Array.isArray(n)&&!0===n[tm]}function nm(n){return 0!=(4&n.flags)}function Ou(n){return n.componentOffset>-1}function xd(n){return 1==(1&n.flags)}function hr(n){return!!n.template}function yB(n){return 0!=(256&n[de])}function Ao(n,e){return n.hasOwnProperty(ii)?n[ii]:null}class IB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zn(){return pC}function pC(n){return n.type.prototype.ngOnChanges&&(n.setInput=wB),bB}function bB(){const n=mC(this),e=n?.current;if(e){const t=n.previous;if(t===ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wB(n,e,t,r){const i=this.declaredInputs[t],o=mC(n)||function TB(n,e){return n[gC]=e}(n,{previous:ri,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new IB(u&&u.currentValue,e,a===ri),n[r]=e}Zn.ngInherit=!0;const gC="__ngSimpleChanges__";function mC(n){return n[gC]||null}const er=function(n,e,t){},_C="svg";function Ht(n){for(;Array.isArray(n);)n=n[oi];return n}function Md(n,e){return Ht(e[n])}function Vn(n,e){return Ht(e[n.index])}function vC(n,e){return n.data[e]}function wn(n,e){const t=e[n];return Fn(t)?t:t[oi]}function Pd(n){return 64==(64&n[de])}function Vi(n,e){return null==e?null:n[e]}function EC(n){n[xs]=0}function im(n,e){n[Do]+=e;let t=n,r=n[ot];for(;null!==r&&(1===e&&1===t[Do]||-1===e&&0===t[Do]);)r[Do]+=e,t=r,r=r[ot]}const oe={lFrame:xC(null),bindingsEnabled:!0};function bC(){return oe.bindingsEnabled}function D(){return oe.lFrame.lView}function Ie(){return oe.lFrame.tView}function St(n){return oe.lFrame.contextLView=n,n[lt]}function Rt(n){return oe.lFrame.contextLView=null,n}function Gt(){let n=wC();for(;null!==n&&64===n.type;)n=n.parent;return n}function wC(){return oe.lFrame.currentTNode}function Sr(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function om(){return oe.lFrame.isParent}function sm(){oe.lFrame.isParent=!1}function fn(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ks(){return oe.lFrame.bindingIndex++}function ai(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function VB(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,am(e)}function am(n){oe.lFrame.currentDirectiveIndex=n}function cm(n){oe.lFrame.currentQueryIndex=n}function UB(n){const e=n[j];return 2===e.type?e.declTNode:1===e.type?n[en]:null}function SC(n,e,t){if(t&X.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&X.Host||(i=UB(o),null===i||(o=o[Rs],10&i.type))););if(null===i)return!1;e=i,n=o}const r=oe.lFrame=RC();return r.currentTNode=e,r.lView=n,!0}function lm(n){const e=RC(),t=n[j];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RC(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?xC(n):e}function xC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function MC(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const PC=MC;function dm(){const n=MC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pn(){return oe.lFrame.selectedIndex}function So(n){oe.lFrame.selectedIndex=n}function et(){const n=oe.lFrame;return vC(n.tView,n.selectedIndex)}function gn(){oe.lFrame.currentNamespace=_C}function Ln(){!function HB(){oe.lFrame.currentNamespace=null}()}function kd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function Nd(n,e,t){kC(n,e,3,t)}function Od(n,e,t,r){(3&n[de])===t&&kC(n,e,t,r)}function hm(n,e){let t=n[de];(3&t)===e&&(t&=2047,t+=1,n[de]=t)}function kC(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[xs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[xs]+=65536),(a<o||-1==o)&&(WB(n,t,e,u),n[xs]=(4294901760&n[xs])+u+2),u++}function WB(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[de]>>11<n[xs]>>16&&(3&n[de])===e){n[de]+=2048,er(4,a,o);try{o.call(a)}finally{er(5,a,o)}}}else{er(4,a,o);try{o.call(a)}finally{er(5,a,o)}}}const Ns=-1;class Vu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];OC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function NC(n){return 3===n||4===n||6===n}function OC(n){return 64===n.charCodeAt(0)}function Lu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||FC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function FC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function VC(n){return n!==Ns}function Fd(n){return 32767&n}function Vd(n,e){let t=function YB(n){return n>>16}(n),r=e;for(;t>0;)r=r[Rs],t--;return r}let gm=!0;function Ld(n){const e=gm;return gm=n,e}const LC=255,UC=5;let XB=0;const Rr={};function Ud(n,e){const t=BC(n,e);if(-1!==t)return t;const r=e[j];r.firstCreatePass&&(n.injectorIndex=e.length,mm(r.data,n),mm(e,null),mm(r.blueprint,null));const i=_m(n,e),o=n.injectorIndex;if(VC(i)){const s=Fd(i),a=Vd(i,e),u=a[j].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function mm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function BC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function _m(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=qC(i),null===r)return Ns;if(t++,i=i[Rs],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ns}function ym(n,e,t){!function JB(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Mu)&&(r=t[Mu]),null==r&&(r=t[Mu]=XB++);const i=r&LC;e.data[n+(i>>UC)]|=1<<i}(n,e,t)}function jC(n,e,t){if(t&X.Optional||void 0!==n)return n;vd()}function $C(n,e,t,r){if(t&X.Optional&&void 0===r&&(r=null),!(t&(X.Self|X.Host))){const i=n[Dd],o=Xn(void 0);try{return i?i.get(e,r,t&X.Optional):nC(e,r,t&X.Optional)}finally{Xn(o)}}return jC(r,0,t)}function HC(n,e,t,r=X.Default,i){if(null!==n){if(1024&e[de]){const s=function rj(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[de]&&!(256&s[de]);){const a=GC(o,s,t,r|X.Self,Rr);if(a!==Rr)return a;let u=o.parent;if(!u){const c=s[lC];if(c){const l=c.get(t,Rr,r);if(l!==Rr)return l}u=qC(s),s=s[Rs]}o=u}return i}(n,e,t,r,Rr);if(s!==Rr)return s}const o=GC(n,e,t,r,Rr);if(o!==Rr)return o}return $C(e,t,r,i)}function GC(n,e,t,r,i){const o=function tj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mu)?n[Mu]:void 0;return"number"==typeof e?e>=0?e&LC:nj:e}(t);if("function"==typeof o){if(!SC(e,n,r))return r&X.Host?jC(i,0,r):$C(e,t,r,i);try{const s=o(r);if(null!=s||r&X.Optional)return s;vd()}finally{PC()}}else if("number"==typeof o){let s=null,a=BC(n,e),u=Ns,c=r&X.Host?e[tn][en]:null;for((-1===a||r&X.SkipSelf)&&(u=-1===a?_m(n,e):e[a+8],u!==Ns&&WC(r,!1)?(s=e[j],a=Fd(u),e=Vd(u,e)):a=-1);-1!==a;){const l=e[j];if(zC(o,a,l.data)){const d=ej(a,e,t,s,r,c);if(d!==Rr)return d}u=e[a+8],u!==Ns&&WC(r,e[j].data[a+8]===c)&&zC(o,a,e)?(s=l,a=Fd(u),e=Vd(u,e)):a=-1}}return i}function ej(n,e,t,r,i,o){const s=e[j],a=s.data[n+8],l=function Bd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,l=o>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=s[u];if(f&&hr(f)&&f.type===t)return u}return null}(a,s,t,null==r?Ou(a)&&gm:r!=s&&0!=(3&a.type),i&X.Host&&o===a);return null!==l?Ro(e,s,l,a):Rr}function Ro(n,e,t,r){let i=n[t];const o=e.data;if(function qB(n){return n instanceof Vu}(i)){const s=i;s.resolving&&function XU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function De(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(o[t]));const a=Ld(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Xn(s.injectImpl):null;SC(n,r,X.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function zB(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=pC(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&Xn(u),Ld(a),s.resolving=!1,PC()}}return i}function zC(n,e,t){return!!(t[e+(n>>UC)]&1<<n)}function WC(n,e){return!(n&X.Self||n&X.Host&&e)}class Os{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return HC(this._tNode,this._lView,e,wd(r),t)}}function nj(){return new Os(Gt(),D())}function zt(n){return ni(()=>{const e=n.prototype.constructor,t=e[ii]||vm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ii]||vm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vm(n){return Wg(n)?()=>{const e=vm(Y(n));return e&&e()}:Ao(n)}function qC(n){const e=n[j],t=e.type;return 2===t?e.declTNode:1===t?n[en]:null}const Vs="__parameters__";function Us(n,e,t){return ni(()=>{const r=function Em(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Vs)?u[Vs]:Object.defineProperty(u,Vs,{value:[]})[Vs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class F{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xo(n,e){n.forEach(t=>Array.isArray(t)?xo(t,e):e(t))}function QC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function $d(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Un(n,e,t){let r=Bs(n,e);return r>=0?n[1|r]=t:(r=~r,function aj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function bm(n,e){const t=Bs(n,e);if(t>=0)return n[1|t]}function Bs(n,e){return function YC(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const nn=xu(Us("Optional"),8),js=xu(Us("SkipSelf"),4);var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const Sm=new Map;let Rj=0;const xm="__ngContext__";function rn(n,e){Fn(e)?(n[xm]=e[Nu],function Mj(n){Sm.set(n[Nu],n)}(e)):n[xm]=e}let Mm;function Pm(n,e){return Mm(n,e)}function zu(n){const e=n[ot];return dr(e)?e[ot]:e}function km(n){return mD(n[Pu])}function Nm(n){return mD(n[lr])}function mD(n){for(;null!==n&&!dr(n);)n=n[lr];return n}function Hs(n,e,t,r,i){if(null!=r){let o,s=!1;dr(r)?o=r:Fn(r)&&(s=!0,r=r[oi]);const a=Ht(r);0===n&&null!==t?null==i?bD(e,t,a):Mo(e,t,a,i||null,!0):1===n&&null!==t?Mo(e,t,a,i||null,!0):2===n?function jm(n,e,t){const r=Wd(n,e);r&&function Xj(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function e4(n,e,t,r,i){const o=t[Sd];o!==Ht(t)&&Hs(e,n,r,o,i);for(let a=hn;a<t.length;a++){const u=t[a];Wu(u[j],u,n,e,r,o)}}(e,n,o,t,i)}}function Fm(n,e,t){return n.createElement(e,t)}function yD(n,e){const t=n[Ms],r=t.indexOf(e),i=e[ot];512&e[de]&&(e[de]&=-513,im(i,-1)),t.splice(r,1)}function Vm(n,e){if(n.length<=hn)return;const t=hn+e,r=n[t];if(r){const i=r[ku];null!==i&&i!==n&&yD(i,r),e>0&&(n[t-1][lr]=r[lr]);const o=$d(n,hn+e);!function Hj(n,e){Wu(n,e,e[fe],2,null,null),e[oi]=null,e[en]=null}(r[j],r);const s=o[Ar];null!==s&&s.detachView(o[j]),r[ot]=null,r[lr]=null,r[de]&=-65}return r}function vD(n,e){if(!(128&e[de])){const t=e[fe];t.destroyNode&&Wu(n,e,t,3,null,null),function Wj(n){let e=n[Pu];if(!e)return Lm(n[j],n);for(;e;){let t=null;if(Fn(e))t=e[Pu];else{const r=e[hn];r&&(t=r)}if(!t){for(;e&&!e[lr]&&e!==n;)Fn(e)&&Lm(e[j],e),e=e[ot];null===e&&(e=n),Fn(e)&&Lm(e[j],e),t=e&&e[lr]}e=t}}(e)}}function Lm(n,e){if(!(128&e[de])){e[de]&=-65,e[de]|=128,function Yj(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Vu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];er(4,a,u);try{u.call(a)}finally{er(5,a,u)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}(n,e),function Qj(n,e){const t=n.cleanup,r=e[Ss];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[Ss]=null}}(n,e),1===e[j].type&&e[fe].destroy();const t=e[ku];if(null!==t&&dr(e[ot])){t!==e[ot]&&yD(t,e);const r=e[Ar];null!==r&&r.detachView(n)}!function Pj(n){Sm.delete(n[Nu])}(e)}}function ED(n,e,t){return function ID(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[oi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return Vn(r,t)}}(n,e.parent,t)}function Mo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bD(n,e,t){n.appendChild(e,t)}function wD(n,e,t,r,i){null!==r?Mo(n,e,t,r,i):bD(n,e,t)}function Wd(n,e){return n.parentNode(e)}let Um,Gm,Yd,DD=function CD(n,e,t){return 40&n.type?Vn(n,t):null};function qd(n,e,t,r){const i=ED(n,r,e),o=e[fe],a=function TD(n,e,t){return DD(n,e,t)}(r.parent||e[en],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)wD(o,i,t[u],a,!1);else wD(o,i,t,a,!1);void 0!==Um&&Um(o,r,e,t,i)}function Kd(n,e){if(null!==e){const t=e.type;if(3&t)return Vn(e,n);if(4&t)return Bm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Kd(n,r);{const i=n[e.index];return dr(i)?Bm(-1,i):Ht(i)}}if(32&t)return Pm(e,n)()||Ht(n[e.index]);{const r=SD(n,e);return null!==r?Array.isArray(r)?r[0]:Kd(zu(n[tn]),r):Kd(n,e.next)}}return null}function SD(n,e){return null!==e?n[tn][en].projection[e.projection]:null}function Bm(n,e){const t=hn+n+1;if(t<e.length){const r=e[t],i=r[j].firstChild;if(null!==i)return Kd(r,i)}return e[Sd]}function $m(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&rn(Ht(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)$m(n,e,t.child,r,i,o,!1),Hs(e,n,i,a,o);else if(32&u){const c=Pm(t,r);let l;for(;l=c();)Hs(e,n,i,l,o);Hs(e,n,i,a,o)}else 16&u?RD(n,e,r,t,i,o):Hs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Wu(n,e,t,r,i,o){$m(t,r,n.firstChild,e,i,o,!1)}function RD(n,e,t,r,i,o){const s=t[tn],u=s[en].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Hs(e,n,i,u[c],o);else $m(n,e,u,s[ot],i,o,!0)}function xD(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MD(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&pm(n,e,r),null!==i&&xD(n,e,i),null!==o&&function n4(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function OD(n){return function zm(){if(void 0===Yd&&(Yd=null,$e.trustedTypes))try{Yd=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yd}()?.createScriptURL(n)||n}class Po{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_d})`}}function Bn(n){return n instanceof Po?n.changingThisBreaksApplicationSecurity:n}function xr(n,e){const t=function h4(n){return n instanceof Po&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_d})`)}return t===e}const I4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ce=(()=>((Ce=Ce||{})[Ce.NONE=0]="NONE",Ce[Ce.HTML=1]="HTML",Ce[Ce.STYLE=2]="STYLE",Ce[Ce.SCRIPT=3]="SCRIPT",Ce[Ce.URL=4]="URL",Ce[Ce.RESOURCE_URL=5]="RESOURCE_URL",Ce))();function HD(n){const e=Ku();return e?e.sanitize(Ce.URL,n)||"":xr(n,"URL")?Bn(n):function Xd(n){return(n=String(n)).match(I4)?n:"unsafe:"+n}(ie(n))}function GD(n){const e=Ku();if(e)return OD(e.sanitize(Ce.RESOURCE_URL,n)||"");if(xr(n,"ResourceURL"))return OD(Bn(n));throw new P(904,!1)}function Ku(){const n=D();return n&&n[em]}const Zd=new F("ENVIRONMENT_INITIALIZER"),WD=new F("INJECTOR",-1),qD=new F("INJECTOR_DEF_TYPES");class KD{get(e,t=Su){if(t===Su){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return t}}function N4(...n){return{\u0275providers:QD(0,n),\u0275fromNgModule:!0}}function QD(n,...e){const t=[],r=new Set;let i;return xo(e,o=>{const s=o;Qm(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&YD(i,t),t}function YD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Ym(i,o=>{e.push(o)})}}function Qm(n,e,t,r){if(!(n=Y(n)))return!1;let i=null,o=eC(n);const s=!o&&Se(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=eC(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Qm(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{xo(o.imports,l=>{Qm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&YD(c,e)}if(!a){const c=Ao(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Te},{provide:qD,useValue:i,multi:!0},{provide:Zd,useValue:()=>L(i),multi:!0})}const u=o.providers;null==u||a||Ym(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Ym(n,e){for(let t of n)qg(t)&&(t=t.\u0275providers),Array.isArray(t)?Ym(t,e):e(t)}const O4=Oe({provide:String,useValue:Oe});function Xm(n){return null!==n&&"object"==typeof n&&O4 in n}function ko(n){return"function"==typeof n}const Jm=new F("Set Injector scope."),eh={},V4={};let Zm;function th(){return void 0===Zm&&(Zm=new KD),Zm}class Mr{}class ZD extends Mr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t_(e,s=>this.processProvider(s)),this.records.set(WD,zs(void 0,this)),i.has("environment")&&this.records.set(Mr,zs(void 0,this));const o=this.records.get(Jm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qD.multi,Te,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ds(this),r=Xn(void 0);try{return e()}finally{Ds(t),Xn(r)}}get(e,t=Su,r=X.Default){this.assertNotDestroyed(),r=wd(r);const i=Ds(this),o=Xn(void 0);try{if(!(r&X.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function $4(n){return"function"==typeof n||"object"==typeof n&&n instanceof F}(e)&&Ed(e);a=u&&this.injectableDefInScope(u)?zs(e_(e),eh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&X.Self?th():this.parent).get(e,t=r&X.Optional&&t===Su?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[bd]=s[bd]||[]).unshift(Ve(e)),i)throw s;return function dB(n,e,t,r){const i=n[bd];throw e[rC]&&i.unshift(e[rC]),n.message=function hB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==uB?n.slice(2):n;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(aB,"\n  ")}`}("\n"+n.message,i,t,r),n[sB]=i,n[bd]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Xn(o),Ds(i)}}resolveInjectorInitializers(){const e=Ds(this),t=Xn(void 0);try{const r=this.get(Zd.multi,Te,X.Self);for(const i of r)i()}finally{Ds(e),Xn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=ko(e=Y(e))?e:Y(e&&e.provide);const r=function U4(n){return Xm(n)?zs(void 0,n.useValue):zs(eA(n),eh)}(e);if(ko(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=zs(void 0,eh,!0),i.factory=()=>Xg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===eh&&(t.value=V4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function j4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Y(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function e_(n){const e=Ed(n),t=null!==e?e.factory:Ao(n);if(null!==t)return t;if(n instanceof F)throw new P(204,!1);if(n instanceof Function)return function L4(n){const e=n.length;if(e>0)throw function ju(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new P(204,!1);const t=function rB(n){return n&&(n[Id]||n[tC])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function eA(n,e,t){let r;if(ko(n)){const i=Y(n);return Ao(i)||e_(i)}if(Xm(n))r=()=>Y(n.useValue);else if(function JD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Xg(n.deps||[]));else if(function XD(n){return!(!n||!n.useExisting)}(n))r=()=>L(Y(n.useExisting));else{const i=Y(n&&(n.useClass||n.provide));if(!function B4(n){return!!n.deps}(n))return Ao(i)||e_(i);r=()=>new i(...Xg(n.deps))}return r}function zs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function t_(n,e){for(const t of n)Array.isArray(t)?t_(t,e):t&&qg(t)?t_(t.\u0275providers,e):e(t)}class H4{}class tA{}class z4{resolveComponentFactory(e){throw function G4(n){const e=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Qu=(()=>{class n{}return n.NULL=new z4,n})();function W4(){return Ws(Gt(),D())}function Ws(n,e){return new jn(Vn(n,e))}let jn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=W4,n})();class rA{}let ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function K4(){const n=D(),t=wn(Gt().index,n);return(Fn(t)?t:n)[fe]}(),n})(),Q4=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Li{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iA=new Li("15.2.10"),n_={},r_="ngOriginalError";function i_(n){return n[r_]}class Ui{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&i_(e);for(;t&&i_(t);)t=i_(t);return t||null}}function li(n){return n instanceof Function?n():n}function sA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const aA="ng-template";function s$(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==sA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function uA(n){return 4===n.type&&n.value!==aA}function a$(n,e,t){return e===(4!==n.type||t?n.value:aA)}function u$(n,e,t){let r=4;const i=n.attrs||[],o=function d$(n){for(let e=0;e<n.length;e++)if(NC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!a$(n,u,t)||""===u&&1===e.length){if(fr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!s$(n.attrs,c,t)){if(fr(r))return!1;s=!0}continue}const d=c$(8&r?"class":u,i,uA(n),t);if(-1===d){if(fr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==sA(f,c,0)||2&r&&c!==h){if(fr(r))return!1;s=!0}}}}else{if(!s&&!fr(r)&&!fr(u))return!1;if(s&&fr(u))continue;s=!1,r=u|1&r}}return fr(r)||s}function fr(n){return 0==(1&n)}function c$(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function h$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function cA(n,e,t=!1){for(let r=0;r<e.length;r++)if(u$(n,e[r],t))return!0;return!1}function lA(n,e){return n?":not("+e.trim()+")":e}function p$(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fr(s)&&(e+=lA(o,i),i=""),r=s,o=o||!fr(r);t++}return""!==i&&(e+=lA(o,i)),e}const se={};function U(n){dA(Ie(),D(),pn()+n,!1)}function dA(n,e,t,r){if(!r)if(3==(3&e[de])){const o=n.preOrderCheckHooks;null!==o&&Nd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Od(e,o,0,t)}So(t)}function gA(n,e=null,t=null,r){const i=mA(n,e,t,r);return i.resolveInjectorInitializers(),i}function mA(n,e=null,t=null,r,i=new Set){const o=[t||Te,N4(n)];return r=r||("object"==typeof n?void 0:Ve(n)),new ZD(o,e||th(),r||null,i)}let $n=(()=>{class n{static create(t,r){if(Array.isArray(t))return gA({name:""},r,t,"");{const i=t.name??"";return gA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Su,n.NULL=new KD,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>L(WD)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=X.Default){const t=D();return null===t?L(n,e):HC(Gt(),t,Y(n),e)}function TA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];cm(t[r]),s.contentQueries(2,e[o],o)}}}function rh(n,e,t,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[oi]=i,d[de]=76|r,(null!==l||n&&1024&n[de])&&(d[de]|=1024),EC(d),d[ot]=d[Rs]=n,d[lt]=t,d[Ad]=s||n&&n[Ad],d[fe]=a||n&&n[fe],d[em]=u||n&&n[em]||null,d[Dd]=c||n&&n[Dd]||null,d[en]=o,d[Nu]=function xj(){return Rj++}(),d[lC]=l,d[tn]=2==e.type?n[tn]:d,d}function Qs(n,e,t,r,i){let o=n.data[e];if(null===o)o=function c_(n,e,t,r,i){const o=wC(),s=om(),u=n.data[e]=function B$(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function FB(){return oe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Fu(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Sr(o,!0),o}function Yu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function l_(n,e,t){lm(e);try{const r=n.viewQuery;null!==r&&v_(1,r,t);const i=n.template;null!==i&&CA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&TA(n,e),n.staticViewQueries&&v_(2,n.viewQuery,t);const o=n.components;null!==o&&function V$(n,e){for(let t=0;t<e.length;t++)a3(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,dm()}}function ih(n,e,t,r){const i=e[de];if(128!=(128&i)){lm(e);try{EC(e),function CC(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&CA(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Nd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Od(e,c,0,null),hm(e,0)}if(function o3(n){for(let e=km(n);null!==e;e=Nm(e)){if(!e[dC])continue;const t=e[Ms];for(let r=0;r<t.length;r++){const i=t[r];512&i[de]||im(i[ot],1),i[de]|=512}}}(e),function r3(n){for(let e=km(n);null!==e;e=Nm(e))for(let t=hn;t<e.length;t++){const r=e[t],i=r[j];Pd(r)&&ih(i,r,i.template,r[lt])}}(e),null!==n.contentQueries&&TA(n,e),s){const c=n.contentCheckHooks;null!==c&&Nd(e,c)}else{const c=n.contentHooks;null!==c&&Od(e,c,1),hm(e,1)}!function O$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)So(~i);else{const o=i,s=t[++r],a=t[++r];VB(s,o),a(2,e[o])}}}finally{So(-1)}}(n,e);const a=n.components;null!==a&&function F$(n,e){for(let t=0;t<e.length;t++)s3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&v_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Nd(e,c)}else{const c=n.viewHooks;null!==c&&Od(e,c,2),hm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[de]&=-41,512&e[de]&&(e[de]&=-513,im(e[ot],-1))}finally{dm()}}}function CA(n,e,t,r,i){const o=pn(),s=2&r;try{So(-1),s&&e.length>He&&dA(n,e,He,!1),er(s?2:0,i),t(r,i)}finally{So(o),er(s?3:1,i)}}function d_(n,e,t){if(nm(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function h_(n,e,t){bC()&&(function q$(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ou(t)&&function e3(n,e,t){const r=Vn(e,n),i=DA(t),o=n[Ad],s=oh(n,rh(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ud(t,e),rn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Ro(e,n,a,t);rn(c,e),null!==s&&t3(0,a-i,c,u,0,s),hr(u)&&(wn(t.index,e)[lt]=Ro(e,n,a,t))}}(n,e,t,Vn(t,e)),64==(64&t.flags)&&MA(n,e,t))}function f_(n,e,t=Vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function DA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=p_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function p_(n,e,t,r,i,o,s,a,u,c){const l=He+r,d=l+i,h=function L$(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(l,d),f="function"==typeof c?c():c;return h[j]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function SA(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?RA(t,e,i,o):r.hasOwnProperty(i)&&RA(t,e,r[i],o)}return t}function RA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function g_(n,e,t,r){if(bC()){const i=null===r?null:{"":-1},o=function Q$(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(cA(e,s.selectors,!1))if(r||(r=[]),hr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),m_(n,e,a.length)}else r.unshift(s),m_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&xA(n,e,t,s,i,a),i&&function Y$(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new P(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Lu(t.mergedAttrs,t.attrs)}function xA(n,e,t,r,i,o){for(let c=0;c<r.length;c++)ym(Ud(t,e),n,r[c].type);!function J$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Yu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Lu(t.mergedAttrs,l.hostAttrs),Z$(n,t,e,u,l),X$(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function j$(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=t?t.get(d):null,p=h?h.outputs:null;u=SA(d.inputs,l,u,h?h.inputs:null),c=SA(d.outputs,l,c,p);const g=null===u||null===s||uA(e)?null:n3(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function MA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function LB(){return oe.lFrame.currentDirectiveIndex}();try{So(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];am(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&K$(u,c)}}finally{So(-1),am(s)}}function K$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function m_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function X$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hr(e)&&(t[""]=n)}}function Z$(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ao(i.type)),s=new Vu(o,hr(i),S);n.blueprint[r]=s,t[r]=s,function z$(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function W$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Yu(n,t,i.hostVars,se),i)}function Pr(n,e,t,r,i,o){const s=Vn(n,e);!function __(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ie(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[fe],s,o,n.value,t,r,i)}function t3(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],d=s[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function n3(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function s3(n,e){const t=wn(e,n);if(Pd(t)){const r=t[j];48&t[de]?ih(r,t,r.template,t[lt]):t[Do]>0&&y_(t)}}function y_(n){for(let r=km(n);null!==r;r=Nm(r))for(let i=hn;i<r.length;i++){const o=r[i];if(Pd(o))if(512&o[de]){const s=o[j];ih(s,o,s.template,o[lt])}else o[Do]>0&&y_(o)}const t=n[j].components;if(null!==t)for(let r=0;r<t.length;r++){const i=wn(t[r],n);Pd(i)&&i[Do]>0&&y_(i)}}function a3(n,e){const t=wn(e,n),r=t[j];(function u3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),l_(r,t,t[lt])}function oh(n,e){return n[Pu]?n[cC][lr]=e:n[Pu]=e,n[cC]=e,e}function sh(n){for(;n;){n[de]|=32;const e=zu(n);if(yB(n)&&!e)return n;n=e}return null}function ah(n,e,t,r=!0){const i=e[Ad];i.begin&&i.begin();try{ih(n,e,n.template,t)}catch(s){throw r&&FA(e,s),s}finally{i.end&&i.end()}}function v_(n,e,t){cm(0),e(n,t)}function kA(n){return n[Ss]||(n[Ss]=[])}function NA(n){return n.cleanup||(n.cleanup=[])}function FA(n,e){const t=n[Dd],r=t?t.get(Ui,null):null;r&&r.handleError(e)}function E_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function di(n,e,t){const r=Md(e,n);!function _D(n,e,t){n.setValue(e,t)}(n[fe],r,t)}function uh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=zg(i,a):2==o&&(r=zg(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ch(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Ht(o)),dr(o))for(let a=hn;a<o.length;a++){const u=o[a],c=u[j].firstChild;null!==c&&ch(u[j],u,c,r)}const s=t.type;if(8&s)ch(n,e,t.child,r);else if(32&s){const a=Pm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=SD(e,t);if(Array.isArray(a))r.push(...a);else{const u=zu(e[tn]);ch(u[j],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Xu{get rootNodes(){const e=this._lView,t=e[j];return ch(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return 128==(128&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ot];if(dr(e)){const t=e[Rd],r=t?t.indexOf(this):-1;r>-1&&(Vm(e,r),$d(t,r))}this._attachedToViewContainer=!1}vD(this._lView[j],this._lView)}onDestroy(e){!function AA(n,e,t,r){const i=kA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&NA(n).push(r,i.length-1))}(this._lView[j],this._lView,null,e)}markForCheck(){sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-65}reattach(){this._lView[de]|=64}detectChanges(){ah(this._lView[j],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zj(n,e){Wu(n,e,e[fe],2,null,null)}(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class c3 extends Xu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ah(e[j],e,e[lt],!1)}checkNoChanges(){}get context(){return null}}class VA extends Qu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Se(e);return new Ju(t,this.ngModule)}}function LA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class d3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=wd(r);const i=this.injector.get(e,n_,r);return i!==n_||t===n_?i:this.parentInjector.get(e,t,r)}}class Ju extends tA{get inputs(){return LA(this.componentDef.inputs)}get outputs(){return LA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function g$(n){return n.map(p$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new d3(e,o):e,a=s.get(rA,null);if(null===a)throw new P(407,!1);const u=s.get(Q4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function U$(n,e,t){return n.selectRootElement(e,t===Dr.ShadowDom)}(c,r,this.componentDef.encapsulation):Fm(c,l,function l3(n){const e=n.toLowerCase();return"svg"===e?_C:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=p_(0,null,null,1,0,null,null,null,null,null),p=rh(null,f,null,h,null,null,a,c,u,s,null);let g,m;lm(p);try{const I=this.componentDef;let C,v=null;I.findHostDirectiveDefs?(C=[],v=new Map,I.findHostDirectiveDefs(I,C,v),C.push(I)):C=[I];const M=function f3(n,e){const t=n[j],r=He;return n[r]=e,Qs(t,r,2,"#host",null)}(p,d),H=function p3(n,e,t,r,i,o,s,a){const u=i[j];!function g3(n,e,t,r){for(const i of n)e.mergedAttrs=Lu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(uh(e,e.mergedAttrs,!0),null!==t&&MD(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),l=rh(i,DA(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return u.firstCreatePass&&m_(u,n,r.length-1),oh(i,l),i[n.index]=l}(M,d,I,C,p,a,c);m=vC(f,He),d&&function _3(n,e,t,r){if(r)pm(n,t,["ng-version",iA.full]);else{const{attrs:i,classes:o}=function m$(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!fr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&pm(n,t,i),o&&o.length>0&&xD(n,t,o.join(" "))}}(c,I,d,r),void 0!==t&&function y3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(m,this.ngContentSelectors,t),g=function m3(n,e,t,r,i,o){const s=Gt(),a=i[j],u=Vn(s,i);xA(a,i,s,t,null,r);for(let l=0;l<t.length;l++)rn(Ro(i,a,s.directiveStart+l,s),i);MA(a,i,s),u&&rn(u,i);const c=Ro(i,a,s.directiveStart+s.componentOffset,s);if(n[lt]=i[lt]=c,null!==o)for(const l of o)l(c,e);return d_(a,s,n),c}(H,I,C,v,p,[v3]),l_(f,p,null)}finally{dm()}return new h3(this.componentType,g,Ws(m,p),p,m)}}class h3 extends H4{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new c3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;E_(o[j],o,i,e,t),sh(wn(this._tNode.index,o))}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function v3(){const n=Gt();kd(D()[j],n)}function Re(n){let e=function UA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=I_(n.inputs),s.declaredInputs=I_(n.declaredInputs),s.outputs=I_(n.outputs);const a=i.hostBindings;a&&w3(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&I3(n,u),c&&b3(n,c),Gg(n.inputs,i.inputs),Gg(n.declaredInputs,i.declaredInputs),Gg(n.outputs,i.outputs),hr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Re&&(t=!1)}}e=Object.getPrototypeOf(e)}!function E3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lu(i.hostAttrs,t=Lu(t,i.hostAttrs))}}(r)}function I_(n){return n===ri?{}:n===Te?[]:n}function I3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function b3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function w3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function lh(n){return!!function b_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function kr(n,e,t){return n[e]=t}function on(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function No(n,e,t,r){const i=on(n,e,t);return on(n,e+1,r)||i}function Nr(n,e,t,r){const i=D();return on(i,ks(),e)&&(Ie(),Pr(et(),i,n,e,t,r)),Nr}function Xs(n,e,t,r){return on(n,ks(),t)?e+ie(t)+r:se}function Zs(n,e,t,r,i,o,s,a){const c=function dh(n,e,t,r,i){const o=No(n,e,t,r);return on(n,e+2,i)||o}(n,function si(){return oe.lFrame.bindingIndex}(),t,i,s);return ai(3),c?e+ie(t)+r+ie(i)+o+ie(s)+a:se}function Ke(n,e,t,r,i,o,s,a){const u=D(),c=Ie(),l=n+He,d=c.firstCreatePass?function k3(n,e,t,r,i,o,s,a,u){const c=e.consts,l=Qs(e,n,4,s||null,Vi(c,a));g_(e,t,l,Vi(c,u)),kd(e,l);const d=l.tView=p_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,o,s):c.data[l];Sr(d,!1);const h=u[fe].createComment("");qd(c,u,h,d),rn(h,u),oh(u,u[l]=PA(h,u,h,d)),xd(d)&&h_(c,u,d),null!=s&&f_(u,d,a)}function ge(n,e,t){const r=D();return on(r,ks(),e)&&function Hn(n,e,t,r,i,o,s,a){const u=Vn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(E_(n,t,l,r,i),Ou(e)&&function H$(n,e){const t=wn(e,n);16&t[de]||(t[de]|=32)}(t,e.index)):3&e.type&&(r=function $$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Ie(),et(),r,n,e,r[fe],t,!1),ge}function w_(n,e,t,r,i){const s=i?"class":"style";E_(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=D(),o=Ie(),s=He+n,a=i[fe],u=o.firstCreatePass?function F3(n,e,t,r,i,o){const s=e.consts,u=Qs(e,n,2,r,Vi(s,i));return g_(e,t,u,Vi(s,o)),null!==u.attrs&&uh(u,u.attrs,!1),null!==u.mergedAttrs&&uh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=i[s]=Fm(a,e,function GB(){return oe.lFrame.currentNamespace}()),l=xd(u);return Sr(u,!0),MD(a,c,u),32!=(32&u.flags)&&qd(o,i,c,u),0===function xB(){return oe.lFrame.elementDepthCount}()&&rn(c,i),function MB(){oe.lFrame.elementDepthCount++}(),l&&(h_(o,i,u),d_(o,u,i)),null!==r&&f_(i,u),_}function y(){let n=Gt();om()?sm():(n=n.parent,Sr(n,!1));const e=n;!function PB(){oe.lFrame.elementDepthCount--}();const t=Ie();return t.firstCreatePass&&(kd(t,n),nm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function KB(n){return 0!=(8&n.flags)}(e)&&w_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QB(n){return 0!=(16&n.flags)}(e)&&w_(t,e,D(),e.stylesWithoutHost,!1),y}function xe(n,e,t,r){return _(n,e,t,r),y(),xe}function Dn(n,e,t){const r=D(),i=Ie(),o=n+He,s=i.firstCreatePass?function V3(n,e,t,r,i){const o=e.consts,s=Vi(o,r),a=Qs(e,n,8,"ng-container",s);return null!==s&&uh(a,s,!0),g_(e,t,a,Vi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Sr(s,!0);const a=r[o]=r[fe].createComment("");return qd(i,r,a,s),rn(a,r),xd(s)&&(h_(i,r,s),d_(i,s,r)),null!=t&&f_(r,s),Dn}function An(){let n=Gt();const e=Ie();return om()?sm():(n=n.parent,Sr(n,!1)),e.firstCreatePass&&(kd(e,n),nm(n)&&e.queries.elementEnd(n)),An}function Or(){return D()}function ec(n){return!!n&&"function"==typeof n.then}const T_=function ZA(n){return!!n&&"function"==typeof n.subscribe};function Ee(n,e,t,r){const i=D(),o=Ie(),s=Gt();return function tS(n,e,t,r,i,o,s){const a=xd(r),c=n.firstCreatePass&&NA(n),l=e[lt],d=kA(e);let h=!0;if(3&r.type||s){const g=Vn(r,e),m=s?s(g):g,I=d.length,C=s?M=>s(Ht(M[r.index])):r.index;let v=null;if(!s&&a&&(v=function L3(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Ss],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=rS(r,e,l,o,!1);const M=t.listen(m,i,o);d.push(o,M),c&&c.push(i,C,I,I+1)}}else o=rS(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const H=e[p[m]][p[m+1]].subscribe(o),K=d.length;d.push(o,H),c&&c.push(i,r.index,K,-(K+1))}}}(o,i,i[fe],s,n,e,r),Ee}function nS(n,e,t,r){try{return er(6,e,t),!1!==t(r)}catch(i){return FA(n,i),!1}finally{er(7,e,t)}}function rS(n,e,t,r,i){return function o(s){if(s===Function)return r;sh(n.componentOffset>-1?wn(n.index,e):e);let u=nS(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=nS(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function ce(n=1){return function BB(n){return(oe.lFrame.contextLView=function jB(n,e){for(;n>0;)e=e[Rs],n--;return e}(n,oe.lFrame.contextLView))[lt]}(n)}function hh(n,e){return n<<17|e<<2}function Bi(n){return n>>17&32767}function D_(n){return 2|n}function Oo(n){return(131068&n)>>2}function A_(n,e){return-131069&n|e<<2}function S_(n){return 1|n}function fS(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Bi(o):Oo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=n[a+1];q3(n[a],e)&&(u=!0,n[a+1]=r?S_(l):D_(l)),a=r?Bi(l):Oo(l)}u&&(n[t+1]=r?D_(o):S_(o))}function q3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Bs(n,e)>=0}const Mt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pS(n){return n.substring(Mt.key,Mt.keyEnd)}function gS(n,e){const t=Mt.textEnd;return t===e?-1:(e=Mt.keyEnd=function X3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Mt.key=e,t),oa(n,e,t))}function oa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fh(n,e){return function pr(n,e,t,r){const i=D(),o=Ie(),s=ai(2);o.firstUpdatePass&&bS(o,n,s,r),e!==se&&on(i,s,e)&&TS(o,o.data[pn()],i,i[fe],n,i[s+1]=function cH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ve(Bn(n)))),n}(e,t),r,s)}(n,e,null,!0),fh}function Vr(n,e){for(let t=function Q3(n){return function _S(n){Mt.key=0,Mt.keyEnd=0,Mt.value=0,Mt.valueEnd=0,Mt.textEnd=n.length}(n),gS(n,oa(n,0,Mt.textEnd))}(e);t>=0;t=gS(e,t))Un(n,pS(e),!0)}function IS(n,e){return e>=n.expandoStartIndex}function bS(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[pn()],s=IS(n,t);DS(o,r)&&null===e&&!s&&(e=!1),e=function nH(n,e,t,r){const i=function um(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=tc(t=R_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=R_(i,n,e,t,r),null===o){let u=function rH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Oo(r))return n[Bi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=R_(null,n,e,u[1],r),u=tc(u,e.attrs,r),function iH(n,e,t,r){n[Bi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function oH(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=tc(r,n[o].hostAttrs,t);return tc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function z3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bi(s),u=Oo(s);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Bs(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Bi(n[a+1]);n[r+1]=hh(h,a),0!==h&&(n[h+1]=A_(n[h+1],r)),n[a+1]=function H3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=hh(a,0),0!==a&&(n[a+1]=A_(n[a+1],r)),a=r;else n[r+1]=hh(u,0),0===a?a=r:n[u+1]=A_(n[u+1],r),u=r;c&&(n[r+1]=D_(n[r+1])),fS(n,l,r,!0),fS(n,l,r,!1),function W3(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Bs(o,e)>=0&&(t[r+1]=S_(t[r+1]))}(e,l,n,r,o),s=hh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function R_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=tc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function tc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Un(n,s,!!t||e[++o]))}return void 0===n?null:n}function TS(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function G3(n){return 1==(1&n)}(c)?CS(u,e,t,i,Oo(c),s):void 0;ph(l)||(ph(o)||function $3(n){return 2==(2&n)}(c)&&(o=CS(u,null,t,i,a,s)),function t4(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Tn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tn.Important),n.setStyle(t,r,i,o))}}(r,s,Md(pn(),t),i,o))}function CS(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===se&&(h=d?Te:void 0);let f=d?bm(h,r):l===r?h:void 0;if(c&&!ph(f)&&(f=bm(u,r)),ph(f)&&(a=f,s))return a;const p=n[i+1];i=s?Bi(p):Oo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=bm(u,r))}return a}function ph(n){return void 0!==n}function DS(n,e){return 0!=(n.flags&(e?8:16))}function b(n,e=""){const t=D(),r=Ie(),i=n+He,o=r.firstCreatePass?Qs(r,i,1,e,null):r.data[i],s=t[i]=function Om(n,e){return n.createText(e)}(t[fe],e);qd(r,t,s,o),Sr(o,!1)}function hi(n){return ke("",n,""),hi}function ke(n,e,t){const r=D(),i=Xs(r,n,e,t);return i!==se&&di(r,pn(),i),ke}function x_(n,e,t,r,i,o,s){const a=D(),u=Zs(a,n,e,t,r,i,o,s);return u!==se&&di(a,pn(),u),x_}function sa(n,e,t){!function gr(n,e,t,r){const i=Ie(),o=ai(2);i.firstUpdatePass&&bS(i,null,o,r);const s=D();if(t!==se&&on(s,o,t)){const a=i.data[pn()];if(DS(a,r)&&!IS(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=zg(u,t||"")),w_(i,a,s,t,r)}else!function uH(n,e,t,r,i,o,s,a){i===se&&(i=Te);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&TS(n,e,t,r,p,g,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[fe],s[o+1],s[o+1]=function sH(n,e,t){if(null==t||""===t)return Te;const r=[],i=Bn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Un,Vr,Xs(D(),n,e,t),!0)}const Fo=void 0;var SH=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AH(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let aa={};function mn(n){const e=function RH(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=WS(e);if(t)return t;const r=e.split("-")[0];if(t=WS(r),t)return t;if("en"===r)return SH;throw new P(701,!1)}function WS(n){return n in aa||(aa[n]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[n]),aa[n]}var B=(()=>((B=B||{})[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B))();const ua="en-US";let qS=ua;function k_(n,e,t,r,i){if(n=Y(n),Array.isArray(n))for(let o=0;o<n.length;o++)k_(n[o],e,t,r,i);else{const o=Ie(),s=D();let a=ko(n)?n:Y(n.provide),u=eA(n);const c=Gt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ko(n)||!n.multi){const f=new Vu(u,i,S),p=O_(a,e,i?l:l+h,d);-1===p?(ym(Ud(c,s),o,a),N_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=O_(a,e,l+h,d),p=O_(a,e,l,l+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){ym(Ud(c,s),o,a);const I=function D5(n,e,t,r,i){const o=new Vu(n,t,S);return o.multi=[],o.index=e,o.componentProviders=0,yR(o,i,r&&!t),o}(i?C5:T5,t.length,i,r,u);!i&&m&&(t[p].providerFactory=I),N_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),s.push(I)}else N_(o,n,f>-1?f:p,yR(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function N_(n,e,t,r){const i=ko(e),o=function F4(n){return!!n.useClass}(e);if(i||o){const u=(o?Y(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function yR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function O_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function T5(n,e,t,r){return F_(this.multi,[])}function C5(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ro(t,t[j],this.providerFactory.index,r);o=a.slice(0,s),F_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],F_(i,o);return o}function F_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function w5(n,e,t){const r=Ie();if(r.firstCreatePass){const i=hr(n);k_(t,r.data,r.blueprint,i,!0),k_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ca{}class vR{}class ER extends ca{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VA(this);const r=On(e);this._bootstrapComponents=li(r.bootstrap),this._r3Injector=mA(e,t,[{provide:ca,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class V_ extends vR{constructor(e){super(),this.moduleType=e}create(e){return new ER(this.moduleType,e)}}class S5 extends ca{constructor(e,t,r){super(),this.componentFactoryResolver=new VA(this),this.instance=null;const i=new ZD([...e,{provide:ca,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],t||th(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vh(n,e,t=null){return new S5(n,e,t).injector}let R5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=QD(0,t.type),i=r.length>0?vh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(L(Mr))}),n})();function IR(n){n.getStandaloneInjector=e=>e.get(R5).getOrCreateStandaloneInjector(n)}function Eh(n,e,t){const r=fn()+n,i=D();return i[r]===se?kr(i,r,t?e.call(t):e()):function Zu(n,e){return n[e]}(i,r)}function RR(n,e,t,r,i,o,s){const a=e+t;return No(n,a,i,o)?kr(n,a+2,s?r.call(s,i,o):r(i,o)):function ac(n,e){const t=n[e];return t===se?void 0:t}(n,a+2)}function NR(n,e,t,r){const i=n+He,o=D(),s=function Ps(n,e){return n[e]}(o,i);return function uc(n,e){return n[j].data[e].pure}(o,i)?RR(o,fn(),e,s.transform,t,r,s):s.transform(t,r)}function U_(n){return e=>{setTimeout(n,void 0,e)}}const at=class J5 extends ei{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=U_(o),i&&(i=U_(i)),s&&(s=U_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof kn&&e.add(a),a}};let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=nG,n})();const eG=fi,tG=class extends eG{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=rh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[ku]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Ar];return null!==s&&(i[Ar]=s.createEmbeddedView(r)),l_(r,i,e),new Xu(i)}};function nG(){return function Ih(n,e){return 4&n.type?new tG(e,n,Ws(n,e)):null}(Gt(),D())}let mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=rG,n})();function rG(){return function VR(n,e){let t;const r=e[n.index];if(dr(r))t=r;else{let i;if(8&n.type)i=Ht(r);else{const o=e[fe];i=o.createComment("");const s=Vn(n,e);Mo(o,Wd(o,s),i,function Jj(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=PA(r,e,i,n),oh(e,t)}return new OR(t,n,e)}(Gt(),D())}const iG=mr,OR=class extends iG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const e=_m(this._hostTNode,this._hostLView);if(VC(e)){const t=Vd(e,this._hostLView),r=Fd(e);return new Os(t[j].data[r+8],t)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=FR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Bu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new Ju(Se(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?c:this.parentInjector).get(Mr,null);h&&(o=h)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[j];if(function RB(n){return dr(n[ot])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[ot],h=new OR(d,d[en],d[ot]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function qj(n,e,t,r){const i=hn+r,o=t.length;r>0&&(t[i-1][lr]=e),r<o-hn?(e[lr]=t[i],QC(t,hn+r,e)):(t.push(e),e[lr]=null),e[ot]=t;const s=e[ku];null!==s&&t!==s&&function Kj(n,e){const t=n[Ms];e[tn]!==e[ot][ot][tn]&&(n[dC]=!0),null===t?n[Ms]=[e]:t.push(e)}(s,e);const a=e[Ar];null!==a&&a.insertView(n),e[de]|=64}(i,r,s,o);const a=Bm(o,s),u=r[fe],c=Wd(u,s[Sd]);return null!==c&&function Gj(n,e,t,r,i,o){r[oi]=i,r[en]=e,Wu(n,r,t,1,i,o)}(i,s[en],u,r,c,a),e.attachToViewContainerRef(),QC(j_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=FR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Vm(this._lContainer,t);r&&($d(j_(this._lContainer),t),vD(r[j],r))}detach(e){const t=this._adjustIndex(e,-1),r=Vm(this._lContainer,t);return r&&null!=$d(j_(this._lContainer),t)?new Xu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function FR(n){return n[Rd]}function j_(n){return n[Rd]||(n[Rd]=[])}function wh(...n){}const Th=new F("Application Initializer");let Ch=(()=>{class n{constructor(t){this.appInits=t,this.resolve=wh,this.reject=wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ec(o))t.push(o);else if(T_(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(Th,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lc=new F("AppId",{providedIn:"root",factory:function cx(){return`${J_()}${J_()}${J_()}`}});function J_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lx=new F("Platform Initializer"),dc=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let PG=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Lr=new F("LocaleId",{providedIn:"root",factory:()=>ae(Lr,X.Optional|X.SkipSelf)||function kG(){return typeof $localize<"u"&&$localize.locale||ua}()});class OG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let dx=(()=>{class n{compileModuleSync(t){return new V_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=li(On(t).declarations).reduce((s,a)=>{const u=Se(a);return u&&s.push(new Ju(u)),s},[]);return new OG(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LG=(()=>Promise.resolve(0))();function Z_(n){typeof Zone>"u"?LG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function UG(){let n=$e.requestAnimationFrame,e=$e.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $G(n){const e=()=>{!function jG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($e,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ty(n),n.isCheckStableRunning=!0,ey(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ty(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return px(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),gx(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return px(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),gx(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ty(n),ey(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,BG,wh,wh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const BG={};function ey(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ty(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function px(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gx(n){n._nesting--,ey(n)}class HG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const mx=new F(""),Dh=new F("");let iy,ny=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iy||(function GG(n){iy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),Z_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Z_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Ye),L(ry),L(Dh))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),ry=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return iy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pi=!1;let ji=null;const _x=new F("AllowMultipleToken"),oy=new F("PlatformDestroyListeners"),yx=new F("appBootstrapListener");class vx{constructor(e,t){this.name=e,this.token=t}}function Ix(n,e,t=[]){const r=`Platform: ${e}`,i=new F(r);return(o=[])=>{let s=sy();if(!s||s.injector.get(_x,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function qG(n){if(ji&&!ji.get(_x,!1))throw new P(400,!1);ji=n;const e=n.get(wx);(function Ex(n){const e=n.get(lx,null);e&&e.forEach(t=>t())})(n)}(function bx(n=[],e){return $n.create({name:e,providers:[{provide:Jm,useValue:"platform"},{provide:oy,useValue:new Set([()=>ji=null])},...n]})}(a,r))}return function QG(n){const e=sy();if(!e)throw new P(401,!1);return e}()}}function sy(){return ji?.get(wx)??null}let wx=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Cx(n,e){let t;return t="noop"===n?new HG:("zone.js"===n?void 0:n)||new Ye(e),t}(r?.ngZone,function Tx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ye,useValue:i}];return i.run(()=>{const s=$n.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Ui,null);if(!u)throw new P(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Sh(this._modules,a),c.unsubscribe()})}),function Dx(n,e,t){try{const r=t();return ec(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Ch);return c.runInitializers(),c.donePromise.then(()=>(function KS(n){Yn(n,"Expected localeId to be defined"),"string"==typeof n&&(qS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Lr,ua)||ua),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Ax({},r);return function zG(n,e,t){const r=new V_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ah);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(oy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L($n))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ax(n,e){return Array.isArray(e)?e.reduce(Ax,n):{...n,...e}}let Ah=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ze(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),Z_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function QU(...n){const e=Au(n),t=function $U(n,e){return"number"==typeof $g(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?cr(r[0]):Cs(t)(vt(r,e)):Tr}(o,s.pipe(function J0(n={}){const{connector:e=(()=>new ei),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return Ot((g,m)=>{c++,!d&&!l&&h();const I=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Hg(p,i))}),I.subscribe(m),!s&&c>0&&(s=new Du({next:C=>I.next(C),error:C=>{d=!0,h(),a=Hg(f,t,C),I.error(C)},complete:()=>{l=!0,h(),a=Hg(f,r),I.complete()}}),cr(g).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof tA;if(!this._injector.get(Ch).done){!i&&function As(n){const e=Se(n)||Zt(n)||bn(n);return null!==e&&e.standalone}(t);throw new P(405,pi)}let s;s=i?t:this._injector.get(Qu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function WG(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ca),c=s.create($n.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(mx,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Sh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Sh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(yx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(L(Ye),L(Mr),L(Ui))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Rh=(()=>{class n{}return n.__NG_ELEMENT_ID__=XG,n})();function XG(n){return function JG(n,e,t){if(Ou(n)&&!t){const r=wn(n.index,e);return new Xu(r,r)}return 47&n.type?new Xu(e[tn],e):null}(Gt(),D(),16==(16&n))}class Px{constructor(){}supports(e){return lh(e)}create(e){return new i6(e)}}const r6=(n,e)=>e;class i6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||r6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Nx(r,i,o)?t:r,a=Nx(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!lh(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function x3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new o6(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new kx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class s6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class kx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new s6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nx(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Fx(){return new Ph([new Px])}let Ph=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Fx()),deps:[[n,new js,new nn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new P(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:Fx}),n})();const d6=Ix(null,"core",[]);let h6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(Ah))},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({}),n})();function ha(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let dy=null;function gi(){return dy}class g6{}const tt=new F("DocumentToken");let hy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return function m6(){return L(Lx)}()},providedIn:"platform"}),n})();const _6=new F("Location Initialized");let Lx=(()=>{class n extends hy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(t){const r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){Ux()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){Ux()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(tt))},n.\u0275prov=z({token:n,factory:function(){return function y6(){return new Lx(L(tt))}()},providedIn:"platform"}),n})();function Ux(){return!!window.history.pushState}function fy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Bx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function mi(n){return n&&"?"!==n[0]?"?"+n:n}let Lo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return ae($x)},providedIn:"root"}),n})();const jx=new F("appBaseHref");let $x=(()=>{class n extends Lo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+mi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+mi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(hy),L(jx,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v6=(()=>{class n extends Lo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(hy),L(jx,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),py=(()=>{class n{constructor(t){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function b6(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Bx(Hx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mi(r))}normalize(t){return n.stripTrailingSlash(function I6(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Hx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=mi,n.joinWithSlash=fy,n.stripTrailingSlash=Bx,n.\u0275fac=function(t){return new(t||n)(L(Lo))},n.\u0275prov=z({token:n,factory:function(){return function E6(){return new py(L(Lo))}()},providedIn:"root"}),n})();function Hx(n){return n.replace(/\/index.html$/,"")}var dt=(()=>((dt=dt||{})[dt.Format=0]="Format",dt[dt.Standalone=1]="Standalone",dt))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.Medium=1]="Medium",nt[nt.Long=2]="Long",nt[nt.Full=3]="Full",nt))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function kh(n,e){return ir(mn(n)[B.DateFormat],e)}function Nh(n,e){return ir(mn(n)[B.TimeFormat],e)}function Oh(n,e){return ir(mn(n)[B.DateTimeFormat],e)}function rr(n,e){const t=mn(n),r=t[B.NumberSymbols][e];if(typeof r>"u"){if(e===Q.CurrencyDecimal)return t[B.NumberSymbols][Q.Decimal];if(e===Q.CurrencyGroup)return t[B.NumberSymbols][Q.Group]}return r}function zx(n){if(!n[B.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[B.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function my(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const O6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fc={},F6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),J=(()=>((J=J||{})[J.FullYear=0]="FullYear",J[J.Month=1]="Month",J[J.Date=2]="Date",J[J.Hours=3]="Hours",J[J.Minutes=4]="Minutes",J[J.Seconds=5]="Seconds",J[J.FractionalSeconds=6]="FractionalSeconds",J[J.Day=7]="Day",J))(),he=(()=>((he=he||{})[he.DayPeriods=0]="DayPeriods",he[he.Days=1]="Days",he[he.Months=2]="Months",he[he.Eras=3]="Eras",he))();function V6(n,e,t,r){let i=function W6(n){if(Kx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return Fh(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(O6))return function q6(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,u,c),e}(r)}const e=new Date(n);if(!Kx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=_i(t,e)||e;let a,s=[];for(;e;){if(a=F6.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=qx(r,u),i=function z6(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function G6(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(qx(e,i)-i))}(i,r,!0));let c="";return s.forEach(l=>{const d=function H6(n){if(yy[n])return yy[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ue(he.Eras,me.Abbreviated);break;case"GGGG":e=Ue(he.Eras,me.Wide);break;case"GGGGG":e=Ue(he.Eras,me.Narrow);break;case"y":e=It(J.FullYear,1,0,!1,!0);break;case"yy":e=It(J.FullYear,2,0,!0,!0);break;case"yyy":e=It(J.FullYear,3,0,!1,!0);break;case"yyyy":e=It(J.FullYear,4,0,!1,!0);break;case"Y":e=Bh(1);break;case"YY":e=Bh(2,!0);break;case"YYY":e=Bh(3);break;case"YYYY":e=Bh(4);break;case"M":case"L":e=It(J.Month,1,1);break;case"MM":case"LL":e=It(J.Month,2,1);break;case"MMM":e=Ue(he.Months,me.Abbreviated);break;case"MMMM":e=Ue(he.Months,me.Wide);break;case"MMMMM":e=Ue(he.Months,me.Narrow);break;case"LLL":e=Ue(he.Months,me.Abbreviated,dt.Standalone);break;case"LLLL":e=Ue(he.Months,me.Wide,dt.Standalone);break;case"LLLLL":e=Ue(he.Months,me.Narrow,dt.Standalone);break;case"w":e=_y(1);break;case"ww":e=_y(2);break;case"W":e=_y(1,!0);break;case"d":e=It(J.Date,1);break;case"dd":e=It(J.Date,2);break;case"c":case"cc":e=It(J.Day,1);break;case"ccc":e=Ue(he.Days,me.Abbreviated,dt.Standalone);break;case"cccc":e=Ue(he.Days,me.Wide,dt.Standalone);break;case"ccccc":e=Ue(he.Days,me.Narrow,dt.Standalone);break;case"cccccc":e=Ue(he.Days,me.Short,dt.Standalone);break;case"E":case"EE":case"EEE":e=Ue(he.Days,me.Abbreviated);break;case"EEEE":e=Ue(he.Days,me.Wide);break;case"EEEEE":e=Ue(he.Days,me.Narrow);break;case"EEEEEE":e=Ue(he.Days,me.Short);break;case"a":case"aa":case"aaa":e=Ue(he.DayPeriods,me.Abbreviated);break;case"aaaa":e=Ue(he.DayPeriods,me.Wide);break;case"aaaaa":e=Ue(he.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=Ue(he.DayPeriods,me.Abbreviated,dt.Standalone,!0);break;case"bbbb":e=Ue(he.DayPeriods,me.Wide,dt.Standalone,!0);break;case"bbbbb":e=Ue(he.DayPeriods,me.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ue(he.DayPeriods,me.Abbreviated,dt.Format,!0);break;case"BBBB":e=Ue(he.DayPeriods,me.Wide,dt.Format,!0);break;case"BBBBB":e=Ue(he.DayPeriods,me.Narrow,dt.Format,!0);break;case"h":e=It(J.Hours,1,-12);break;case"hh":e=It(J.Hours,2,-12);break;case"H":e=It(J.Hours,1);break;case"HH":e=It(J.Hours,2);break;case"m":e=It(J.Minutes,1);break;case"mm":e=It(J.Minutes,2);break;case"s":e=It(J.Seconds,1);break;case"ss":e=It(J.Seconds,2);break;case"S":e=It(J.FractionalSeconds,1);break;case"SS":e=It(J.FractionalSeconds,2);break;case"SSS":e=It(J.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Lh(Pt.Short);break;case"ZZZZZ":e=Lh(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Lh(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Lh(Pt.Long);break;default:return null}return yy[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Fh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function _i(n,e){const t=function w6(n){return mn(n)[B.LocaleId]}(n);if(fc[t]=fc[t]||{},fc[t][e])return fc[t][e];let r="";switch(e){case"shortDate":r=kh(n,nt.Short);break;case"mediumDate":r=kh(n,nt.Medium);break;case"longDate":r=kh(n,nt.Long);break;case"fullDate":r=kh(n,nt.Full);break;case"shortTime":r=Nh(n,nt.Short);break;case"mediumTime":r=Nh(n,nt.Medium);break;case"longTime":r=Nh(n,nt.Long);break;case"fullTime":r=Nh(n,nt.Full);break;case"short":const i=_i(n,"shortTime"),o=_i(n,"shortDate");r=Vh(Oh(n,nt.Short),[i,o]);break;case"medium":const s=_i(n,"mediumTime"),a=_i(n,"mediumDate");r=Vh(Oh(n,nt.Medium),[s,a]);break;case"long":const u=_i(n,"longTime"),c=_i(n,"longDate");r=Vh(Oh(n,nt.Long),[u,c]);break;case"full":const l=_i(n,"fullTime"),d=_i(n,"fullDate");r=Vh(Oh(n,nt.Full),[l,d])}return r&&(fc[t][e]=r),r}function Vh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function yr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function It(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function U6(n,e){switch(n){case J.FullYear:return e.getFullYear();case J.Month:return e.getMonth();case J.Date:return e.getDate();case J.Hours:return e.getHours();case J.Minutes:return e.getMinutes();case J.Seconds:return e.getSeconds();case J.FractionalSeconds:return e.getMilliseconds();case J.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===J.Hours)0===a&&-12===t&&(a=12);else if(n===J.FractionalSeconds)return function L6(n,e){return yr(n,3).substring(0,e)}(a,e);const u=rr(s,Q.MinusSign);return yr(a,e,u,r,i)}}function Ue(n,e,t=dt.Format,r=!1){return function(i,o){return function B6(n,e,t,r,i,o){switch(t){case he.Months:return function D6(n,e,t){const r=mn(n),o=ir([r[B.MonthsFormat],r[B.MonthsStandalone]],e);return ir(o,t)}(e,i,r)[n.getMonth()];case he.Days:return function C6(n,e,t){const r=mn(n),o=ir([r[B.DaysFormat],r[B.DaysStandalone]],e);return ir(o,t)}(e,i,r)[n.getDay()];case he.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function x6(n){const e=mn(n);return zx(e),(e[B.ExtraData][2]||[]).map(r=>"string"==typeof r?my(r):[my(r[0]),my(r[1])])}(e),l=function M6(n,e,t){const r=mn(n);zx(r);const o=ir([r[B.ExtraData][0],r[B.ExtraData][1]],e)||[];return ir(o,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function T6(n,e,t){const r=mn(n),o=ir([r[B.DayPeriodsFormat],r[B.DayPeriodsStandalone]],e);return ir(o,t)}(e,i,r)[s<12?0:1];case he.Eras:return function A6(n,e){return ir(mn(n)[B.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Lh(n){return function(e,t,r){const i=-1*r,o=rr(t,Q.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Pt.Short:return(i>=0?"+":"")+yr(s,2,o)+yr(Math.abs(i%60),2,o);case Pt.ShortGMT:return"GMT"+(i>=0?"+":"")+yr(s,1,o);case Pt.Long:return"GMT"+(i>=0?"+":"")+yr(s,2,o)+":"+yr(Math.abs(i%60),2,o);case Pt.Extended:return 0===r?"Z":(i>=0?"+":"")+yr(s,2,o)+":"+yr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const j6=0,Uh=4;function Wx(n){return Fh(n.getFullYear(),n.getMonth(),n.getDate()+(Uh-n.getDay()))}function _y(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=Wx(t),s=function $6(n){const e=Fh(n,j6,1).getDay();return Fh(n,0,1+(e<=Uh?Uh:Uh+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return yr(i,n,rr(r,Q.MinusSign))}}function Bh(n,e=!1){return function(t,r){return yr(Wx(t).getFullYear(),n,rr(r,Q.MinusSign),e)}}const yy={};function qx(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Kx(n){return n instanceof Date&&!isNaN(n.valueOf())}function Jx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class az{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new az(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),nM(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{nM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(mr),S(fi),S(Ph))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function nM(n,e){n.context.$implicit=e.item}let Cy=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(mr),S(fi))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class cz{constructor(){this.$implicit=null,this.ngIf=null}}function rM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ve(e)}'.`)}const bz=new F("DATE_PIPE_DEFAULT_TIMEZONE"),wz=new F("DATE_PIPE_DEFAULT_OPTIONS");let oM=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return V6(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function vr(n,e){return new P(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(S(Lr,16),S(bz,24),S(wz,24))},n.\u0275pipe=In({name:"date",type:n,pure:!0,standalone:!0}),n})(),kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({}),n})();const aM="browser";let Lz=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new Uz(L(tt),window)}),n})();class Uz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Bz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=uM(this.window.history)||uM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cM{}class f9 extends g6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Py extends f9{static makeCurrent(){!function p6(n){dy||(dy=n)}(new Py)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function p9(){return _c=_c||document.querySelector("base"),_c?_c.getAttribute("href"):null}();return null==t?null:function g9(n){Gh=Gh||document.createElement("a"),Gh.setAttribute("href",n);const e=Gh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jx(document.cookie,e)}}let Gh,_c=null;const pM=new F("TRANSITION_ID"),_9=[{provide:Th,useFactory:function m9(n,e,t){return()=>{t.get(Ch).donePromise.then(()=>{const r=gi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[pM,tt,$n],multi:!0}];let v9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const zh=new F("EventManagerPlugins");let Wh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(zh),L(Ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class gM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=gi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),yc=(()=>{class n extends mM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(L(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ny=/%COMP%/g,vM=new F("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function EM(n,e){return e.flat(100).map(t=>t.replace(Ny,n))}function IM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Oy=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof TM?i.applyToHost(t):i instanceof Vy&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Dr.Emulated:o=new TM(s,a,r,this.appId,u);break;case Dr.ShadowDom:return new D9(s,a,t,r);default:o=new Vy(s,a,r,u)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(Wh),L(yc),L(lc),L(vM))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Fy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ky[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=ky[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ky[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(t,r,i&Tn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,IM(r)):this.eventManager.addEventListener(e,t,IM(r))}}function wM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class D9 extends Fy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=EM(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vy extends Fy{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=EM(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class TM extends Vy{constructor(e,t,r,i,o){const s=i+"-"+r.id;super(e,t,r,o,s),this.contentAttr=function w9(n){return"_ngcontent-%COMP%".replace(Ny,n)}(s),this.hostAttr=function T9(n){return"_nghost-%COMP%".replace(Ny,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let A9=(()=>{class n extends gM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const CM=["alt","control","meta","shift"],S9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x9=(()=>{class n extends gM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=S9[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CM.forEach(s=>{s!==i&&(0,R9[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const AM=[{provide:dc,useValue:aM},{provide:lx,useValue:function M9(){Py.makeCurrent()},multi:!0},{provide:tt,useFactory:function k9(){return function s4(n){Gm=n}(document),document},deps:[]}],N9=Ix(d6,"browser",AM),SM=new F(""),RM=[{provide:Dh,useClass:class y9{addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements(),$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(r=>{const i=$e.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?gi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mx,useClass:ny,deps:[Ye,ry,Dh]},{provide:ny,useClass:ny,deps:[Ye,ry,Dh]}],xM=[{provide:Jm,useValue:"root"},{provide:Ui,useFactory:function P9(){return new Ui},deps:[]},{provide:zh,useClass:A9,multi:!0,deps:[tt,Ye,dc]},{provide:zh,useClass:x9,multi:!0,deps:[tt]},{provide:Oy,useClass:Oy,deps:[Wh,yc,lc,vM]},{provide:rA,useExisting:Oy},{provide:mM,useExisting:yc},{provide:yc,useClass:yc,deps:[tt]},{provide:Wh,useClass:Wh,deps:[zh,Ye]},{provide:cM,useClass:v9,deps:[]},[]];let jy,O9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lc,useValue:t.appId},{provide:pM,useExisting:lc},_9]}}}return n.\u0275fac=function(t){return new(t||n)(L(SM,12))},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({providers:[...xM,...RM],imports:[kz,h6]}),n})(),MM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(L(tt))},n.\u0275prov=z({token:n,factory:function(t){let r=null;return r=t?new t:function V9(){return new MM(L(tt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{jy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jy=!1}let H9=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Vz(n){return n===aM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(L(dc))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UM="cdk-high-contrast-black-on-white",BM="cdk-high-contrast-white-on-black",Gy="cdk-high-contrast-active";let sW=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Gy),t.remove(UM),t.remove(BM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Gy),t.add(UM)):2===r&&(t.add(Gy),t.add(BM))}}}return n.\u0275fac=function(t){return new(t||n)(L(H9),L(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({}),n})();const lW=new F("mat-sanity-checks",{providedIn:"root",factory:function cW(){return!0}});let pa=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function W9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(L(sW),L(lW,8),L(tt))},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[[jM],jM]}),n})(),mW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[[pa],pa]}),n})();function q(...n){return vt(n,Au(n))}function ga(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}const{isArray:_W}=Array,{getPrototypeOf:yW,prototype:vW,keys:EW}=Object;function qM(n){if(1===n.length){const e=n[0];if(_W(e))return{args:e,keys:null};if(function IW(n){return n&&"object"==typeof n&&yW(n)===vW}(e)){const t=EW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:bW}=Array;function KM(n){return ne(e=>function wW(n,e){return bW(e)?n(...e):n(e)}(n,e))}function QM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function bt(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ot((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Dt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Co}function yi(n){return Ot((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Dt(t,void 0,void 0,s=>{o=cr(n(s,yi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Kh(n){return Ot((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hi(n,e){return Fe(e)?$t(n,e,1):$t(n,1)}function vi(n,e){return Ot((t,r)=>{let i=0;t.subscribe(Dt(r,o=>n.call(e,o,i++)&&r.next(o)))})}class Qh{}class Wy{}class Ei{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ei?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ei;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ei?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class TW{encodeKey(e){return XM(e)}encodeValue(e){return XM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const DW=/%(\d[a-f0-9])/gi,AW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XM(n){return encodeURIComponent(n).replace(DW,(e,t)=>AW[t]??e)}function Yh(n){return`${n}`}class Gi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function CW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Yh):[Yh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Yh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Yh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class SW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ZM(n){return typeof Blob<"u"&&n instanceof Blob}function e1(n){return typeof FormData<"u"&&n instanceof FormData}class Ic{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function RW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ei),this.context||(this.context=new SW),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Gi,this.urlWithParams=t}serializeBody(){return null===this.body?null:JM(this.body)||ZM(this.body)||e1(this.body)||function xW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||e1(this.body)?null:ZM(this.body)?this.body.type||null:JM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ic(t,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var wt=(()=>((wt=wt||{})[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt))();class qy{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ei,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ky extends qy{constructor(e={}){super(e),this.type=wt.ResponseHeader}clone(e={}){return new Ky({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xh extends qy{constructor(e={}){super(e),this.type=wt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class t1 extends qy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Qy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yy=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ic)o=t;else{let u,c;u=i.headers instanceof Ei?i.headers:new Ei(i.headers),i.params&&(c=i.params instanceof Gi?i.params:new Gi({fromObject:i.params})),o=new Ic(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=q(o).pipe(Hi(u=>this.handler.handle(u)));if(t instanceof Ic||"events"===i.observe)return s;const a=s.pipe(vi(u=>u instanceof Xh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ne(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ne(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Gi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qy(i,r))}post(t,r,i={}){return this.request("POST",t,Qy(i,r))}put(t,r,i={}){return this.request("PUT",t,Qy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(L(Qh))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function n1(n,e){return e(n)}function MW(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const kW=new F("HTTP_INTERCEPTORS"),bc=new F("HTTP_INTERCEPTOR_FNS");function NW(){let n=null;return(e,t)=>(null===n&&(n=(ae(kW,{optional:!0})??[]).reduceRight(MW,n1)),n(e,t))}let r1=(()=>{class n extends Qh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(bc)));this.chain=r.reduceRight((i,o)=>function PW(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),n1)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(L(Wy),L(Mr))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const LW=/^\)\]\}',?\n/;let s1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new Ei(i.getAllResponseHeaders()),g=function UW(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Ky({headers:p,status:i.status,statusText:f,url:g}),s},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),I=null;204!==p&&(I=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=I?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof I){const v=I;I=I.replace(LW,"");try{I=""!==I?JSON.parse(I):null}catch(M){I=v,C&&(C=!1,I={error:M,text:I})}}C?(r.next(new Xh({body:I,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new t1({error:I,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new t1({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:wt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:wt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:wt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(L(cM))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Xy=new F("XSRF_ENABLED"),a1=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),u1=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class c1{}let $W=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(L(tt),L(dc),L(a1))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function HW(n,e){const t=n.url.toLowerCase();if(!ae(Xy)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ae(c1).getToken(),i=ae(u1);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ft=(()=>((ft=ft||{})[ft.Interceptors=0]="Interceptors",ft[ft.LegacyInterceptors=1]="LegacyInterceptors",ft[ft.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ft[ft.NoXsrfProtection=3]="NoXsrfProtection",ft[ft.JsonpSupport=4]="JsonpSupport",ft[ft.RequestsMadeViaParent=5]="RequestsMadeViaParent",ft))();function ma(n,e){return{\u0275kind:n,\u0275providers:e}}function GW(...n){const e=[Yy,s1,r1,{provide:Qh,useExisting:r1},{provide:Wy,useExisting:s1},{provide:bc,useValue:HW,multi:!0},{provide:Xy,useValue:!0},{provide:c1,useClass:$W}];for(const t of n)e.push(...t.\u0275providers);return function k4(n){return{\u0275providers:n}}(e)}const l1=new F("LEGACY_INTERCEPTOR_FN");let WW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({providers:[GW(ma(ft.LegacyInterceptors,[{provide:l1,useFactory:NW},{provide:bc,useExisting:l1,multi:!0}]))]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[[pa],pa]}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[[mW,pa],pa]}),n})(),g1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(ci),S(jn))},n.\u0275dir=ee({type:n}),n})(),jo=(()=>{class n extends g1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Re]}),n})();const Ur=new F("NgValueAccessor"),t8={provide:Ur,useExisting:Le(()=>ef),multi:!0},r8=new F("CompositionEventMode");let ef=(()=>{class n extends g1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function n8(){const n=gi()?gi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(ci),S(jn),S(r8,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ee("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Qe([t8]),Re]}),n})();const i8=!1;const sn=new F("NgValidators"),Wi=new F("NgAsyncValidators");function E1(n){return function zi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function tf(n){return null}function D1(n){return null!=n}function A1(n){const e=ec(n)?vt(n):n;if(i8&&!T_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new P(-1101,t)}return e}function S1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function R1(n,e){return e.map(t=>t(n))}function x1(n){return n.map(e=>function s8(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zy(n){return null!=n?function M1(n){if(!n)return null;const e=n.filter(D1);return 0==e.length?null:function(t){return S1(R1(t,e))}}(x1(n)):null}function P1(n){if(!n)return null;const e=n.filter(D1);return 0==e.length?null:function(t){return function YM(...n){const e=Y0(n),{args:t,keys:r}=qM(n),i=new Ze(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;cr(t[l]).subscribe(Dt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?QM(r,a):a),o.complete())}))}});return e?i.pipe(KM(e)):i}(R1(t,e).map(A1)).pipe(ne(S1))}}function ev(n){return null!=n?P1(x1(n)):null}function k1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tv(n){return n?Array.isArray(n)?n:[n]:[]}function nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function F1(n,e){const t=tv(e);return tv(n).forEach(i=>{nf(t,i)||t.push(i)}),t}function V1(n,e){return tv(e).filter(t=>!nf(n,t))}class L1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ev(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yn extends L1{get formDirective(){return null}get path(){return null}}class qi extends L1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let B1=(()=>{class n extends U1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(qi,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&fh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Re]}),n})();const Tc="VALID",sf="INVALID",_a="PENDING",Cc="DISABLED";function af(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class G1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tc}get invalid(){return this.status===sf}get pending(){return this.status==_a}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(F1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(F1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(V1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(V1(e,this._rawAsyncValidators))}hasValidator(e){return nf(this._rawValidators,e)}hasAsyncValidator(e){return nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_a,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===_a)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_a,this._hasOwnPendingAsyncValidator=!0;const t=A1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_a)?_a:this._anyControlsHaveStatus(sf)?sf:Tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){af(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function p8(n){return Array.isArray(n)?Zy(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function g8(n){return Array.isArray(n)?ev(n):n||null}(this._rawAsyncValidators)}}const ya=new F("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function Dc(n,e,t=uf){(function uv(n,e){const t=function N1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(k1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function O1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(k1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();df(e._rawValidators,i),df(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function y8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z1(n,e)})}(n,e),function E8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function v8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _8(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function df(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function K1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Y1=class extends G1{constructor(e=null,t,r){super(function ov(n){return(af(n)?n.validators:n)||null}(t),function sv(n,e){return(af(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Q1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Q1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},S8={provide:qi,useExisting:Le(()=>fv)},Z1=(()=>Promise.resolve())();let fv=(()=>{class n extends qi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Y1,this._registered=!1,this.update=new at,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function dv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ef?t=o:function w8(n){return Object.getPrototypeOf(n.constructor)===jo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function lv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Z1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ha(r);Z1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function cf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(S(yn,9),S(sn,10),S(Wi,10),S(Ur,10),S(Rh,8),S(ya,8))},n.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qe([S8]),Re,Zn]}),n})();const x8={provide:Ur,useExisting:Le(()=>pv),multi:!0};let pv=(()=>{class n extends jo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Ee("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Qe([x8]),Re]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({}),n})(),$o=(()=>{class n{constructor(){this._validator=tf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,features:[Zn]}),n})();const q8={provide:sn,useExisting:Le(()=>ff),multi:!0};let ff=(()=>{class n extends $o{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ha,this.createValidator=t=>E1}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Nr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Qe([q8]),Re]}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[eP]}),n})(),tq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ya,useValue:t.callSetDisabledState??uf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[Z8]}),n})();class Er extends ei{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const pf=Cu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yP(...n){const e=Au(n),t=Y0(n),{args:r,keys:i}=qM(n);if(0===r.length)return vt([],e);const o=new Ze(function nq(n,e,t=Co){return r=>{vP(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)vP(e,()=>{const c=vt(n[u],e);let l=!1;c.subscribe(Dt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>QM(i,s):Co));return t?o.pipe(KM(t)):o}function vP(n,e,t){n?ti(t,n,e):e()}function Ev(...n){return function rq(){return Cs(1)}()(vt(n,Au(n)))}function EP(n){return new Ze(e=>{cr(n()).subscribe(e)})}function Iv(){return Ot((n,e)=>{let t=null;n._refCount++;const r=Dt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class IP extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,O0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const t=this.getSubject();e.add(this.source.subscribe(Dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return Iv()(this)}}function Br(n,e){return Ot((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Dt(r,u=>{i?.unsubscribe();let c=0;const l=o++;cr(n(u,l)).subscribe(i=Dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function va(n){return n<=0?()=>Tr:Ot((e,t)=>{let r=0;e.subscribe(Dt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gf(n){return Ot((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bP(n=oq){return Ot((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oq(){return new pf}function Ki(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,o)=>n(i,o,r)):Co,va(1),t?gf(e):bP(()=>new pf))}function wP(n,e){return Ot(function sq(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Dt(s,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}function bv(n){return n<=0?()=>Tr:Ot((e,t)=>{let r=[];e.subscribe(Dt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function TP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,o)=>n(i,o,r)):Co,bv(1),t?gf(e):bP(()=>new pf))}const ue="primary",Sc=Symbol("RouteTitle");class cq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ea(n){return new cq(n)}function lq(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CP(n[i],e[i]))return!1;return!0}function CP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function DP(n){return Array.prototype.concat.apply([],n)}function AP(n){return n.length>0?n[n.length-1]:null}function Wt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qi(n){return T_(n)?n:ec(n)?vt(Promise.resolve(n)):q(n)}const mf=!1,hq={exact:function xP(n,e,t){if(!Ho(n.segments,e.segments)||!_f(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xP(n.children[r],e.children[r],t))return!1;return!0},subset:MP},SP={exact:function fq(n,e){return jr(n,e)},subset:function pq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CP(n[t],e[t]))},ignored:()=>!0};function RP(n,e,t){return hq[t.paths](n.root,e.root,t.matrixParams)&&SP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function MP(n,e,t){return PP(n,e,e.segments,t)}function PP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ho(i,t)||e.hasChildren()||!_f(i,t,r))}if(n.segments.length===t.length){if(!Ho(n.segments,t)||!_f(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!MP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ho(n.segments,i)&&_f(n.segments,i,r)&&n.children[ue])&&PP(n.children[ue],e,o,r)}}function _f(n,e,t){return e.every((r,i)=>SP[t](n[i].parameters,r.parameters))}class Yi{constructor(e=new pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return _q.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yf(this)}}class Rc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ea(this.parameters)),this._parameterMap}toString(){return OP(this)}}function Ho(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return new wv},providedIn:"root"}),n})();class wv{parse(e){const t=new Dq(e);return new Yi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mc(e.root,!0)}`,r=function Eq(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${vf(t)}=${vf(i)}`).join("&"):`${vf(t)}=${vf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function yq(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _q=new wv;function yf(n){return n.segments.map(e=>OP(e)).join("/")}function Mc(n,e){if(!n.hasChildren())return yf(n);if(e){const t=n.children[ue]?Mc(n.children[ue],!1):"",r=[];return Wt(n.children,(i,o)=>{o!==ue&&r.push(`${o}:${Mc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function mq(n,e){let t=[];return Wt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Wt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[Mc(n.children[ue],!1)]:[`${i}:${Mc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${yf(n)}/${t[0]}`:`${yf(n)}/(${t.join("//")})`}}function kP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(n){return kP(n).replace(/%3B/gi,";")}function Tv(n){return kP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(n){return decodeURIComponent(n)}function NP(n){return Ef(n.replace(/\+/g,"%20"))}function OP(n){return`${Tv(n.path)}${function vq(n){return Object.keys(n).map(e=>`;${Tv(e)}=${Tv(n[e])}`).join("")}(n.parameters)}`}const Iq=/^[^\/()?;=#]+/;function If(n){const e=n.match(Iq);return e?e[0]:""}const bq=/^[^=?&#]+/,Tq=/^[^&#]+/;class Dq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new pe(e,t)),r}parseSegment(){const e=If(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,mf);return this.capture(e),new Rc(Ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=If(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=If(this.remaining);i&&(r=i,this.capture(r))}e[Ef(t)]=Ef(r)}parseQueryParam(e){const t=function wq(n){const e=n.match(bq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Cq(n){const e=n.match(Tq);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=NP(t),o=NP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=If(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new P(4010,mf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ue]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,mf)}}function Cv(n){return n.segments.length>0?new pe([],{[ue]:n}):n}function bf(n){const e={};for(const r of Object.keys(n.children)){const o=bf(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Aq(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}function Go(n){return n instanceof Yi}const Dv=!1;function Sq(n,e,t,r,i){if(0===t.length)return Ia(e.root,e.root,e.root,r,i);const o=function BP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Wt(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new UP(t,e,r)}(t);return o.toRoot()?Ia(e.root,e.root,new pe([],{}),r,i):function s(u){const c=function xq(n,e,t,r){if(n.isAbsolute)return new ba(e.root,!0,0);if(-1===r)return new ba(t,t===e.root,0);return function jP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,Dv&&"Invalid number of '../'");i=r.segments.length}return new ba(r,!1,i-o)}(t,r+(Pc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,u),l=c.processChildren?wa(c.segmentGroup,c.index,o.commands):Av(c.segmentGroup,c.index,o.commands);return Ia(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Pc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function kc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ia(n,e,t,r,i){let s,o={};r&&Wt(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:LP(n,e,t);const a=Cv(bf(s));return new Yi(a,o,i)}function LP(n,e,t){const r={};return Wt(n.children,(i,o)=>{r[o]=i===e?t:LP(i,e,t)}),new pe(n.segments,r)}class UP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pc(r[0]))throw new P(4003,Dv&&"Root segment cannot have matrix parameters");const i=r.find(kc);if(i&&i!==AP(r))throw new P(4004,Dv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ba{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Av(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return wa(n,e,t);const r=function Pq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(kc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!HP(u,c,s))return o;r+=2}else{if(!HP(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new pe(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new pe(n.segments.slice(r.pathIndex),n.children),wa(o,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?wa(n,0,i):Sv(n,e,t)}function wa(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function Mq(n){return kc(n[0])?n[0].outlets:{[ue]:n}}(t),i={};if(!r[ue]&&n.children[ue]&&1===n.numberOfChildren&&0===n.children[ue].segments.length){const o=wa(n.children[ue],e,t);return new pe(n.segments,o.children)}return Wt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Av(n.children[s],e,o))}),Wt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new pe(n.segments,i)}}function Sv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(kc(o)){const u=kq(o.outlets);return new pe(r,u)}if(0===i&&Pc(t[0])){r.push(new Rc(n.segments[e].path,$P(t[0]))),i++;continue}const s=kc(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Pc(a)?(r.push(new Rc(s,$P(a))),i+=2):(r.push(new Rc(s,{})),i++)}return new pe(r,{})}function kq(n){const e={};return Wt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sv(new pe([],{}),0,t))}),e}function $P(n){const e={};return Wt(n,(t,r)=>e[r]=`${t}`),e}function HP(n,e,t){return n==t.path&&jr(e,t.parameters)}const Nc="imperative";class $r{constructor(e,t){this.id=e,this.url=t}}class Rv extends $r{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zo extends $r{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wf extends $r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tf extends $r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class xv extends $r{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nq extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oq extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fq extends $r{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vq extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lq extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $q{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qq=(()=>{class n{createUrlTree(t,r,i,o,s,a){return Sq(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(e){return qq.\u0275fac(e)},providedIn:"root"}),n})();class zP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Mv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pv(e,this._root).map(t=>t.value)}}function Mv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Mv(n,t);if(r)return r}return null}function Pv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ii{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ta(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class WP extends zP{constructor(e,t){super(e),this.snapshot=t,kv(this,e)}toString(){return this.snapshot.toString()}}function qP(n,e){const t=function Yq(n,e){const s=new Cf([],{},{},"",{},ue,e,null,n.root,-1,{});return new QP("",new Ii(s,[]))}(n,e),r=new Er([new Rc("",{})]),i=new Er({}),o=new Er({}),s=new Er({}),a=new Er(""),u=new Wo(r,i,s,a,o,ue,e,t.root);return u.snapshot=t.root,new WP(new Ii(u,[]),t)}class Wo{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ne(c=>c[Sc]))??q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(e=>Ea(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(e=>Ea(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Xq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cf{get title(){return this.data?.[Sc]}constructor(e,t,r,i,o,s,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QP extends zP{constructor(e,t){super(t),this.url=e,kv(this,t)}toString(){return YP(this._root)}}function kv(n,e){e.value._routerState=n,e.children.forEach(t=>kv(n,t))}function YP(n){const e=n.children.length>0?` { ${n.children.map(YP).join(", ")} } `:"";return`${n.value}${e}`}function Nv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),jr(e.params,t.params)||n.params.next(t.params),function dq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),jr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ov(n,e){const t=jr(n.params,e.params)&&function gq(n,e){return Ho(n,e)&&n.every((t,r)=>jr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ov(n.parent,e.parent))}function Oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Zq(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Oc(n,r,i);return Oc(n,r)})}(n,e,t);return new Ii(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oc(n,a)),s}}const r=function e7(n){return new Wo(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Oc(n,o));return new Ii(r,i)}}const Fv="ngNavigationCancelingError";function XP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function JP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ZP(n){return ek(n)&&Go(n.url)}function ek(n){return n&&n[Fv]}class t7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fc,this.attachRef=null}}let Fc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new t7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Df=!1;let Vv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=ae(Fc),this.location=ae(mr),this.changeDetector=ae(Rh),this.environmentInjector=ae(Mr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,Df);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,Df);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,Df);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,Df);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new n7(t,a,i.injector);if(r&&function r7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]}),n})();class n7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wo?this.route:e===Fc?this.childContexts:this.parent.get(e,t)}}let Lv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jn({type:n,selectors:[["ng-component"]],standalone:!0,features:[IR],decls:1,vars:0,template:function(t,r){1&t&&xe(0,"router-outlet")},dependencies:[Vv],encapsulation:2}),n})();function tk(n,e){return n.providers&&!n._injector&&(n._injector=vh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bv(n){const e=n.children&&n.children.map(Bv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Lv),t}function or(n){return n.outlet||ue}function nk(n,e){const t=n.filter(r=>or(r)===e);return t.push(...n.filter(r=>or(r)!==e)),t}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class u7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ta(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Wt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ta(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Gq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $q(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Nv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Vc(i.snapshot),u=a?.get(Qu)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class rk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Af{constructor(e,t){this.component=e,this.route=t}}function c7(n,e,t){const r=n._root;return Lc(r,e?e._root:null,t,[r.value])}function Ca(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function nB(n){return null!==Ed(n)}(n)?e.get(n):n:r}function Lc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ta(e);return n.children.forEach(s=>{(function d7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function h7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(n.url,e.url)||!jr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(n,e)||!jr(n.queryParams,e.queryParams);default:return!Ov(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rk(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Lc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Af(a.outlet.component,s))}else s&&Uc(e,a,i),i.canActivateChecks.push(new rk(r)),Lc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Wt(o,(s,a)=>Uc(s,t.getContext(a),i)),i}function Uc(n,e,t){const r=Ta(n),i=n.value;Wt(r,(o,s)=>{Uc(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Af(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bc(n){return"function"==typeof n}function jv(n){return n instanceof pf||"EmptyError"===n?.name}const Sf=Symbol("INITIAL_VALUE");function Da(){return Br(n=>yP(n.map(e=>e.pipe(va(1),function iq(...n){const e=Au(n);return Ot((t,r)=>{(e?Ev(n,t,e):Ev(n,t)).subscribe(r)})}(Sf)))).pipe(ne(e=>{for(const t of e)if(!0!==t){if(t===Sf)return Sf;if(!1===t||t instanceof Yi)return t}return!0}),vi(e=>e!==Sf),va(1)))}function ik(n){return function aU(...n){return P0(n)}(bt(e=>{if(Go(e))throw XP(0,e)}),ne(e=>!0===e))}const $v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ok(n,e,t,r,i){const o=Hv(n,e,t);return o.matched?function R7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=Ca(s,n);return Qi(function y7(n){return n&&Bc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Da(),ik()):q(!0)}(r=tk(e,r),e,t).pipe(ne(s=>!0===s?o:{...$v})):q(o)}function Hv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$v}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lq)(t,n,e);if(!i)return{...$v};const o={};Wt(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Rf(n,e,t,r){if(t.length>0&&function P7(n,e,t){return t.some(r=>xf(n,e,r)&&or(r)!==ue)}(n,t,r)){const o=new pe(e,function M7(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&or(o)!==ue){const s=new pe([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[or(o)]=s}return i}(n,e,r,new pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function k7(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)){const o=new pe(n.segments,function x7(n,e,t,r,i){const o={};for(const s of r)if(xf(n,t,s)&&!i[or(s)]){const a=new pe([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[or(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new pe(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sk(n,e,t,r){return!!(or(n)===r||r!==ue&&xf(e,t,n))&&("**"===n.path||Hv(e,n,t).matched)}function ak(n,e,t){return 0===e.length&&!n.children[t]}const Mf=!1;class Pf{constructor(e){this.segmentGroup=e||null}}class uk{constructor(e){this.urlTree=e}}function jc(n){return ga(new Pf(n))}function ck(n){return ga(new uk(n))}class V7{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Rf(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(ne(o=>this.createUrlTree(bf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yi(o=>{if(o instanceof uk)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Pf?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(ne(i=>this.createUrlTree(bf(i),e.queryParams,e.fragment))).pipe(yi(i=>{throw i instanceof Pf?this.noMatchError(i):i}))}noMatchError(e){return new P(4002,Mf)}createUrlTree(e,t,r){const i=Cv(e);return new Yi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ne(o=>new pe([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return vt(i).pipe(Hi(o=>{const s=r.children[o],a=nk(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ne(u=>({segment:u,outlet:o})))}),wP((o,s)=>(o[s.outlet]=s.segment,o),{}),TP())}expandSegment(e,t,r,i,o,s){return vt(r).pipe(Hi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(yi(c=>{if(c instanceof Pf)return q(null);throw c}))),Ki(a=>!!a),yi((a,u)=>{if(jv(a))return ak(t,i,o)?q(new pe([],{})):jc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return sk(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):jc(t):jc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ck(o):this.lineralizeSegments(r,o).pipe($t(s=>{const a=new pe(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Hv(t,i,o);if(!a)return jc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ck(d):this.lineralizeSegments(i,d).pipe($t(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=tk(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ne(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):q(new pe(i,{}))):ok(t,r,i,e).pipe(Br(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe($t(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Rf(t,a,u,h),g=new pe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ne(v=>new pe(a,v)));if(0===h.length&&0===p.length)return q(new pe(a,{}));const m=or(r)===o;return this.expandSegment(d,g,h,p,m?ue:o,!0).pipe(ne(C=>new pe(a.concat(C.segments),C.children)))})):jc(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function S7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=Ca(s,n);return Qi(function p7(n){return n&&Bc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Da(),ik())}(e,t,r).pipe($t(i=>i?this.configLoader.loadChildren(e,t).pipe(bt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function O7(n){return ga(JP(Mf,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ue])return e.redirectTo,ga(new P(4e3,Mf));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Yi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Wt(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new pe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new P(4001,Mf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class U7{}class $7{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Rf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(ne(t=>{if(null===t)return null;const r=new Cf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ii(r,t),o=new QP(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=KP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return vt(Object.keys(r.children)).pipe(Hi(i=>{const o=r.children[i],s=nk(t,i);return this.processSegmentGroup(e,s,o,i)}),wP((i,o)=>i&&o?(i.push(...o),i):null),function aq(n,e=!1){return Ot((t,r)=>{let i=0;t.subscribe(Dt(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),gf(null),TP(),ne(i=>{if(null===i)return null;const o=dk(i);return function H7(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return vt(t).pipe(Hi(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Ki(s=>!!s),yi(s=>{if(jv(s))return ak(r,i,o)?q([]):q(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!sk(t,r,i,o))return q(null);let s;if("**"===t.path){const a=i.length>0?AP(i).parameters:{},u=fk(r)+i.length;s=q({snapshot:new Cf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pk(t),or(t),t.component??t._loadedComponent??null,t,hk(r),u,gk(t)),consumedSegments:[],remainingSegments:[]})}else s=ok(r,t,i,e).pipe(ne(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=fk(r)+u.length;return{snapshot:new Cf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pk(t),or(t),t.component??t._loadedComponent??null,t,hk(r),d,gk(t)),consumedSegments:u,remainingSegments:c}}));return s.pipe(Br(a=>{if(null===a)return q(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function G7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Rf(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ne(m=>null===m?null:[new Ii(u,m)]));if(0===h.length&&0===p.length)return q([new Ii(u,[])]);const g=or(t)===o;return this.processSegment(d,h,f,p,g?ue:o).pipe(ne(m=>null===m?null:[new Ii(u,m)]))}))}}function z7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dk(n){const e=[],t=new Set;for(const r of n){if(!z7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=dk(r.children);e.push(new Ii(r.value,i))}return e.filter(r=>!t.has(r))}function hk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function pk(n){return n.data||{}}function gk(n){return n.resolve||{}}function mk(n){return"string"==typeof n.title||null===n.title}function Gv(n){return Br(e=>{const t=n(e);return t?vt(t).pipe(ne(()=>e)):q(e)})}const Aa=new F("ROUTES");let zv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(dx)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qi(t.loadComponent()).pipe(ne(yk),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Kh(()=>{this.componentLoaders.delete(t)})),i=new IP(r,()=>new ei).pipe(Iv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ne(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=DP(u.get(Aa,[],X.Self|X.Optional)));return{routes:c.map(Bv),injector:u}}),Kh(()=>{this.childrenLoaders.delete(r)})),s=new IP(o,()=>new ei).pipe(Iv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Qi(t()).pipe(ne(yk),$t(r=>r instanceof vR||Array.isArray(r)?q(r):vt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yk(n){return function Z7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Nf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ei,this.configLoader=ae(zv),this.environmentInjector=ae(Mr),this.urlSerializer=ae(xc),this.rootContexts=ae(Fc),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Bq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Uq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(r=>0!==r.id),ne(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Br(r=>{let i=!1,o=!1;return q(r).pipe(bt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new Tf(s.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Tr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return vk(s.source)&&(t.browserUrlTree=s.extractedUrl),q(s).pipe(Br(l=>{const d=this.transitions?.getValue();return this.events.next(new Rv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Tr:Promise.resolve(l)}),function L7(n,e,t,r){return Br(i=>function F7(n,e,t,r,i){return new V7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ne(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),bt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function q7(n,e,t,r,i){return $t(o=>function j7(n,e,t,r,i,o,s="emptyOnly"){return new $7(n,e,t,r,i,s,o).recognize().pipe(Br(a=>null===a?function B7(n){return new Ze(e=>e.error(n))}(new U7):q(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(ne(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),bt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new Nq(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new Rv(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=qP(d,this.rootComponentType).snapshot;return q(r={...s,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Tf(s.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Tr}}),bt(s=>{const a=new Oq(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>r={...s,guards:c7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function E7(n,e){return $t(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function I7(n,e,t,r){return vt(n).pipe($t(i=>function A7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const u=Vc(e)??i,c=Ca(a,u);return Qi(function _7(n){return n&&Bc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Ki())})).pipe(Da()):q(!0)}(i.component,i.route,t,e,r)),Ki(i=>!0!==i,!0))}(s,r,i,n).pipe($t(a=>a&&function f7(n){return"boolean"==typeof n}(a)?function b7(n,e,t,r){return vt(e).pipe(Hi(i=>Ev(function T7(n,e){return null!==n&&e&&e(new jq(n)),q(!0)}(i.route.parent,r),function w7(n,e){return null!==n&&e&&e(new Hq(n)),q(!0)}(i.route,r),function D7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function l7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>EP(()=>q(s.guards.map(u=>{const c=Vc(s.node)??t,l=Ca(u,c);return Qi(function m7(n){return n&&Bc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Ki())})).pipe(Da())));return q(o).pipe(Da())}(n,i.path,t),function C7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>EP(()=>{const s=Vc(e)??t,a=Ca(o,s);return Qi(function g7(n){return n&&Bc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ki())}));return q(i).pipe(Da())}(n,i.route,t))),Ki(i=>!0!==i,!0))}(r,o,n,e):q(a)),ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),bt(s=>{if(r.guardsResult=s.guardsResult,Go(s.guardsResult))throw XP(0,s.guardsResult);const a=new Fq(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Gv(s=>{if(s.guards.canActivateChecks.length)return q(s).pipe(bt(a=>{const u=new Vq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Br(a=>{let u=!1;return q(a).pipe(function K7(n,e){return $t(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=0;return vt(i).pipe(Hi(s=>function Q7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!mk(i)&&(o[Sc]=i.title),function Y7(n,e,t,r){const i=function X7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const o={};return vt(i).pipe($t(s=>function J7(n,e,t,r){const i=Vc(e)??r,o=Ca(n,i);return Qi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ki(),bt(a=>{o[s]=a}))),bv(1),function uq(n){return ne(()=>n)}(o),yi(s=>jv(s)?Tr:ga(s)))}(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=KP(n,t).resolve,i&&mk(i)&&(n.data[Sc]=i.title),null)))}(s.route,r,n,e)),bt(()=>o++),bv(1),$t(s=>o===i.length?q(t):Tr))})}(t.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),bt(a=>{const u=new Lq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Gv(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(bt(l=>{u.component=l}),ne(()=>{})));for(const l of u.children)c.push(...a(l));return c};return yP(a(s.targetSnapshot.root)).pipe(gf(),va(1))}),Gv(()=>this.afterPreactivation()),ne(s=>{const a=function Jq(n,e,t){const r=Oc(n,e._root,t?t._root:void 0);return new WP(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),bt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>ne(r=>(new u7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),va(1),bt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new zo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Kh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),yi(s=>{if(o=!0,ek(s)){ZP(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new wf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),ZP(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||vk(r.source)};t.scheduleNavigation(u,Nc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new xv(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Tr}))}))}cancelNavigationTransition(t,r,i){const o=new wf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vk(n){return n!==Nc}let Ek=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Sc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return ae(eK)},providedIn:"root"}),n})(),eK=(()=>{class n extends Ek{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(L(MM))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return ae(rK)},providedIn:"root"}),n})();class nK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rK=(()=>{class n extends nK{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=zt(n)))(r||n)}}(),n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Of=new F("",{providedIn:"root",factory:()=>({})});let oK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return ae(sK)},providedIn:"root"}),n})(),sK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aK(n){throw n}function uK(n,e,t){return e.parse("/")}const cK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ae(PG),this.isNgZoneEnabled=!1,this.options=ae(Of,{optional:!0})||{},this.errorHandler=this.options.errorHandler||aK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ae(oK),this.routeReuseStrategy=ae(tK),this.urlCreationStrategy=ae(Qq),this.titleStrategy=ae(Ek),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DP(ae(Aa,{optional:!0})??[]),this.navigationTransitions=ae(Nf),this.urlSerializer=ae(xc),this.location=ae(py),this.isNgZoneEnabled=ae(Ye)instanceof Ye&&Ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Bv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Nc,null,r)}navigate(t,r={skipLocationChange:!1}){return function dK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new P(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...cK}:!1===r?{...lK}:r,Go(t))return RP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return RP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ff=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ei;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof zo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ha(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ha(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ha(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function zD(n,e,t){return function P4(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?GD:HD}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(S(qt),S(Wo),function jd(n){return function ZB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(NC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Gt(),n)}("tabindex"),S(ci),S(jn),S(Lo))},n.\u0275dir=ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Ee("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Zn]}),n})();class Ik{}let pK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof zo),Hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vh(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vt(i).pipe(Cs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const o=i.pipe($t(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?vt([o,this.loader.loadComponent(r)]).pipe(Cs()):o})}}return n.\u0275fac=function(t){return new(t||n)(L(qt),L(dx),L(Mr),L(Ik),L(zv))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qv=new F("");let bk=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function wA(){throw new Error("invalid")}()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();var Gn=(()=>((Gn=Gn||{})[Gn.COMPLETE=0]="COMPLETE",Gn[Gn.FAILED=1]="FAILED",Gn[Gn.REDIRECTING=2]="REDIRECTING",Gn))();const Sa=!1;function Xi(n,e){return{\u0275kind:n,\u0275providers:e}}const Kv=new F("",{providedIn:"root",factory:()=>!1});function Tk(){const n=ae($n);return e=>{const t=n.get(Ah);if(e!==t.components[0])return;const r=n.get(qt),i=n.get(Ck);1===n.get(Qv)&&r.initialNavigation(),n.get(Dk,null,X.Optional)?.setUpPreloading(),n.get(qv,null,X.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ck=new F(Sa?"bootstrap done indicator":"",{factory:()=>new ei}),Qv=new F(Sa?"initial navigation":"",{providedIn:"root",factory:()=>1});function vK(){let n=[];return n=Sa?[{provide:Zd,multi:!0,useFactory:()=>{const e=ae(qt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function zq(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Xi(1,n)}const Dk=new F(Sa?"router preloader":"");function EK(n){return Xi(0,[{provide:Dk,useExisting:pK},{provide:Ik,useExisting:n}])}const $c=!1,Ak=new F($c?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),IK=[py,{provide:xc,useClass:wv},qt,Fc,{provide:Wo,useFactory:function wk(n){return n.routerState.root},deps:[qt]},zv,$c?{provide:Kv,useValue:!0}:[]];function bK(){return new vx("Router",qt)}let Sk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[IK,$c&&r?.enableTracing?vK().\u0275providers:[],{provide:Aa,multi:!0,useValue:t},{provide:Ak,useFactory:DK,deps:[[qt,new nn,new js]]},{provide:Of,useValue:r||{}},r?.useHash?{provide:Lo,useClass:v6}:{provide:Lo,useClass:$x},{provide:qv,useFactory:()=>{const n=ae(Lz),e=ae(Ye),t=ae(Of),r=ae(Nf),i=ae(xc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bk(i,r,n,e,t)}},r?.preloadingStrategy?EK(r.preloadingStrategy).\u0275providers:[],{provide:vx,multi:!0,useFactory:bK},r?.initialNavigation?AK(r):[],[{provide:Rk,useFactory:Tk},{provide:yx,multi:!0,useExisting:Rk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Aa,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(L(Ak,8))},n.\u0275mod=Ft({type:n}),n.\u0275inj=At({imports:[Lv]}),n})();function DK(n){if($c&&n)throw new P(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AK(n){return["disabled"===n.initialNavigation?Xi(3,[{provide:Th,multi:!0,useFactory:()=>{const e=ae(qt);return()=>{e.setUpLocationChangeListener()}}},{provide:Qv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xi(2,[{provide:Qv,useValue:0},{provide:Th,multi:!0,deps:[$n],useFactory:e=>{const t=e.get(_6,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(qt),o=e.get(Ck);(function gK(n,e){n.events.pipe(vi(t=>t instanceof zo||t instanceof wf||t instanceof xv||t instanceof Tf),ne(t=>t instanceof zo||t instanceof Tf?Gn.COMPLETE:t instanceof wf&&(0===t.code||1===t.code)?Gn.REDIRECTING:Gn.FAILED),vi(t=>t!==Gn.REDIRECTING),va(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Nf).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Rk=new F($c?"Router Initializer":""),RK=function(){return["/facture-create"]},xk=function(){return["/caisse"]};let xK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-home"]],decls:60,vars:6,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],[1,"overflow-hidden","cursor-pointer"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],["href","#"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["src","assets/bon.png","alt","",1,"h-60","scale-[1.3]","group-hover:scale-[1.1]","mx-auto","transition-all","duration-500"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1",1),b(2,"Transit Operation"),y(),_(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),xe(8,"img",6),y(),_(9,"div",7)(10,"span",8),b(11,"total : 11"),y(),_(12,"h3",9),b(13,"Facture Create"),y(),_(14,"p"),b(15,"by "),_(16,"a",10),b(17,"Transit Operation"),y()()()()()(),_(18,"div",11)(19,"div",4)(20,"div")(21,"div",5),xe(22,"img",12),y(),_(23,"div",7)(24,"span",8),b(25,"total : 3"),y(),_(26,"h3",9),b(27,"Factures Close"),y(),_(28,"p"),b(29,"by "),_(30,"a",13),b(31,"Transit Operation"),y()()()()()(),_(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),xe(36,"img",14),y(),_(37,"div",7)(38,"span",8),b(39,"Montant :"),y(),_(40,"h3",9),b(41,"Caisse"),y(),_(42,"p"),b(43,"by "),_(44,"a",13),b(45,"Transit Operation"),y()()()()()(),_(46,"div",3)(47,"div",4)(48,"div")(49,"div",5),xe(50,"img",15),y(),_(51,"div",7)(52,"span",8),b(53,"total :"),y(),_(54,"h3",9),b(55,"Bons"),y(),_(56,"p"),b(57,"by "),_(58,"a",13),b(59,"Transit Operation"),y()()()()()()()()),2&r&&(U(4),ge("routerLink",Eh(3,RK)),U(28),ge("routerLink",Eh(4,xk)),U(14),ge("routerLink",Eh(5,xk)))},dependencies:[Ff],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function Mk(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function T(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Mk(o,r,i,s,a,"next",u)}function a(u){Mk(o,r,i,s,a,"throw",u)}s(void 0)})}}const Pk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new NK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vf=function(n){return function(n){const e=Pk(n);return kk.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Lf=function(n){try{return kk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Uf=()=>{try{return function VK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},$K=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Uf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ok=()=>{var n;return null===(n=Uf())||void 0===n?void 0:n.config};class Fk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function JK(n,e){return n.replace(ZK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ji(i,`${this.serviceName}: ${s} (${i}).`,r)}}const ZK=/\{\$([^}]+)}/g;function Xv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(Lk(o)&&Lk(s)){if(!Xv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Lk(n){return null!==n&&"object"==typeof n}function Uk(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class tQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function nQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Jv),void 0===i.error&&(i.error=Jv),void 0===i.complete&&(i.complete=Jv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jv(){}function Hr(n){return n&&n._delegate?n._delegate:n}class qo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ko="[DEFAULT]";class uQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Fk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function lQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return T(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ko?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const eE=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const Bk={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},hQ=_e.INFO,fQ={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},pQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=fQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class tE{constructor(e){this.name=e,this._logLevel=hQ,this._logHandler=pQ,this._userLogHandler=null,eE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const gQ=(n,e)=>e.some(t=>n instanceof t);let jk,$k;const Hk=new WeakMap,nE=new WeakMap,Gk=new WeakMap,rE=new WeakMap,iE=new WeakMap;let oE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Gk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function bQ(n){return"function"==typeof n?function IQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _Q(){return $k||($k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(sE(this),e),Zi(Hk.get(this))}:function(...e){return Zi(n.apply(sE(this),e))}:function(e,...t){const r=n.call(sE(this),e,...t);return Gk.set(r,e.sort?e.sort():[e]),Zi(r)}}(n):(n instanceof IDBTransaction&&function vQ(n){if(nE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nE.set(n,e)}(n),gQ(n,function mQ(){return jk||(jk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oE):n)}function Zi(n){if(n instanceof IDBRequest)return function yQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Hk.set(t,n)}).catch(()=>{}),iE.set(e,n),e}(n);if(rE.has(n))return rE.get(n);const e=bQ(n);return e!==n&&(rE.set(n,e),iE.set(e,n)),e}const sE=n=>iE.get(n),TQ=["get","getKey","getAll","getAllKeys","count"],CQ=["put","add","delete","clear"],aE=new Map;function zk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aE.get(e))return aE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=CQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!TQ.includes(t))return;const o=function(){var s=T(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return aE.set(e,o),o}!function EQ(n){oE=n(oE)}(n=>({...n,get:(e,t,r)=>zk(e,t)||n.get(e,t,r),has:(e,t)=>!!zk(e,t)||n.has(e,t)}));class DQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function AQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const uE="@firebase/app",Qo=new tE("@firebase/app"),jf="[DEFAULT]",ZQ={[uE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yo=new Map,$f=new Map;function eY(n,e){try{n.container.addComponent(e)}catch(t){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if($f.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,n);for(const t of Yo.values())eY(t,n);return!0}const bi=new Hc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}const Hf="10.7.1";function Kk(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw bi.create("bad-app-name",{appName:String(i)});if(t||(t=Ok()),!t)throw bi.create("no-options");const o=Yo.get(i);if(o){if(Xv(t,o.options)&&Xv(r,o.config))return o;throw bi.create("duplicate-app",{appName:i})}const s=new dQ(i);for(const u of $f.values())s.addComponent(u);const a=new nY(t,r,s);return Yo.set(i,a),a}function Qk(n=jf){const e=Yo.get(n);if(!e&&n===jf&&Ok())return Kk();if(!e)throw bi.create("no-app",{appName:n});return e}function Yk(){return Array.from(Yo.values())}function sr(n,e,t){var r;let i=null!==(r=ZQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qo.warn(a.join(" "))}Ra(new qo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const rY="firebase-heartbeat-database",iY=1,Gc="firebase-heartbeat-store";let lE=null;function Xk(){return lE||(lE=function wQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Zi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zi(s.result),u.oldVersion,u.newVersion,Zi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(rY,iY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gc)}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),lE}function dE(){return(dE=T(function*(n){try{return yield(yield Xk()).transaction(Gc).objectStore(Gc).get(Zk(n))}catch(e){if(e instanceof Ji)Qo.warn(e.message);else{const t=bi.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(t.message)}}})).apply(this,arguments)}function Jk(n,e){return hE.apply(this,arguments)}function hE(){return(hE=T(function*(n,e){try{const r=(yield Xk()).transaction(Gc,"readwrite");yield r.objectStore(Gc).put(e,Zk(n)),yield r.done}catch(t){if(t instanceof Ji)Qo.warn(t.message);else{const r=bi.create("idb-set",{originalErrorMessage:t?.message});Qo.warn(r.message)}}})).apply(this,arguments)}function Zk(n){return`${n.name}!${n.options.appId}`}class uY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return T(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eN();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return T(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=eN(),{heartbeatsToSend:i,unsentEntries:o}=function cY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Vf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eN(){return(new Date).toISOString().substring(0,10)}class lY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(function*(){return!!function QK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function YK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return T(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function oY(n){return dE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Jk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Jk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function tN(n){return Vf(JSON.stringify({version:2,heartbeats:n})).length}!function dY(n){Ra(new qo("platform-logger",e=>new DQ(e),"PRIVATE")),Ra(new qo("heartbeat",e=>new uY(e),"PRIVATE")),sr(uE,"0.9.25",n),sr(uE,"0.9.25","esm2017"),sr("fire-js","")}("");class pY extends kn{constructor(e,t){super()}schedule(e,t=0){return this}}const Gf={setInterval(n,e,...t){const{delegate:r}=Gf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Gf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class nN extends pY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Gf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Gf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ts(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const rN={now:()=>(rN.delegate||Date).now(),delegate:void 0};class zc{constructor(e,t=zc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}zc.now=rN.now;class iN extends zc{constructor(e,t=zc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _Y=new class mY extends iN{}(class gY extends nN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),yY=new iN(nN),fE=new Li("ANGULARFIRE2_VERSION");const pE=(n,e)=>{const t=e?[e]:Yk(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class vY{constructor(){return pE(EY)}}const EY="app-check";function xa(){}class sN{zone;delegate;constructor(e,t=_Y){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class IY{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),t.pipe(bt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let aN=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new sN(Zone.current)),this.insideAngular=t.run(()=>new sN(Zone.current,yY)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(L(Ye))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ma(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Xo(n){return Ma().ngZone.run(()=>n())}function wY(n){return function TY(n){return function(t){return(t=t.lift(new IY(n.ngZone))).pipe(md(n.outsideAngular),gd(n.insideAngular))}}(Ma())(n)}const CY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xo(()=>n.apply(void 0,r))},eo=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=Xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa))),r[o]=CY(r[o],t));const i=function bY(n){return Ma().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ze){const o=Ma();return i.pipe(md(o.outsideAngular),gd(o.insideAngular))}return Xo(()=>i)}return i instanceof Ze?i.pipe(wY):i instanceof Promise?Xo(()=>new Promise((o,s)=>i.then(a=>Xo(()=>o(a)),a=>Xo(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Xo(()=>i)};class Wc{constructor(e){return e}}class uN{constructor(){return Yk()}}const gE=new F("angularfire2._apps"),AY={provide:Wc,useFactory:function DY(n){return n&&1===n.length?n[0]:new Wc(Qk())},deps:[[new nn,gE]]},SY={provide:uN,deps:[[new nn,gE]]};function RY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wc(r)}}let xY=(()=>{class n{constructor(t){sr("angularfire",fE.full,"core"),sr("angularfire",fE.full,"app"),sr("angular",iA.full,t.toString())}static \u0275fac=function(r){return new(r||n)(L(dc))};static \u0275mod=Ft({type:n});static \u0275inj=At({providers:[AY,SY]})}return n})();function MY(n,...e){return{ngModule:xY,providers:[{provide:gE,useFactory:RY(n),multi:!0,deps:[Ye,$n,aN,...e]}]}}const PY=eo(Kk,!0);const kY=function cN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lN=new Hc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zf=new tE("@firebase/auth");function Wf(n,...e){zf.logLevel<=_e.ERROR&&zf.error(`Auth (${Hf}): ${n}`,...e)}function Rn(n,...e){throw mE(n,...e)}function Gr(n,...e){return mE(n,...e)}function mE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lN.create(n,...e)}function k(n,e,...t){if(!n)throw mE(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wf(e),new Error(e)}function to(n,e){n||zr(e)}function hN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function OY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _E(){return"http:"===hN()||"https:"===hN()}()||function qK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,to(t>e,"Short delay should be less than long delay!"),this.isMobile=function zK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}()||function KK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return OY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class fN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},LY=new Kc(3e4,6e4);function Ge(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ze(n,e,t,r){return vE.apply(this,arguments)}function vE(){return(vE=T(function*(n,e,t,r,i={}){return pN(n,i,T(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Uk(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),fN.fetch()(gN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function pN(n,e,t){return EE.apply(this,arguments)}function EE(){return(EE=T(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},VY),e);try{const i=new BY(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Qc(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Qc(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Qc(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw Qc(n,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function dN(n,e,t){const r=Object.assign(Object.assign({},kY()),{[e]:t});return new Hc("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);Rn(n,l)}}catch(i){if(i instanceof Ji)throw i;Rn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function gN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function yE(n,e){to(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class BY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),LY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Gr(n,e,r);return i.customData._tokenResponse=t,i}function TE(){return(TE=T(function*(n,e){return ze(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function DE(){return(DE=T(function*(n,e){return ze(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AE(){return(AE=T(function*(n,e=!1){const t=Hr(n),r=yield t.getIdToken(e),i=qf(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yc(SE(i.auth_time)),issuedAtTime:Yc(SE(i.iat)),expirationTime:Yc(SE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function SE(n){return 1e3*Number(n)}function qf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lf(t);return i?JSON.parse(i):(Wf("Failed to decode base64 JWT payload"),null)}catch(i){return Wf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ti(n,e){return RE.apply(this,arguments)}function RE(){return(RE=T(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ji&&function qY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class KY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(T(function*(){yield t.iteration()}),r)}iteration(){var e=this;return T(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class EN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xc(n){return xE.apply(this,arguments)}function xE(){return xE=T(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ti(n,function GY(n,e){return DE.apply(this,arguments)}(t,{idToken:r}));k(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function XY(n){return n.map(e=>{var{providerId:t}=e,r=Ug(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function YY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),l=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new EN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),xE.apply(this,arguments)}function ME(){return(ME=T(function*(n){const e=Hr(n);yield Xc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function PE(){return(PE=T(function*(n,e){const t=yield pN(n,{},T(function*(){const r=Uk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=gN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function kE(){return(kE=T(function*(n,e){return ze(n,"POST","/v2/accounts:revokeToken",Ge(n,e))})).apply(this,arguments)}class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function WY(n){const e=qf(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return T(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return T(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function JY(n,e){return PE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Jc;return r&&(k("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(k("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return zr("not implemented")}}function no(n,e){k("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Jo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new EN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return T(function*(){const r=yield Ti(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function zY(n){return AE.apply(this,arguments)}(this,e)}reload(){return function QY(n){return ME.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return T(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Xc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return T(function*(){const t=yield e.getIdToken();return yield Ti(e,function $Y(n,e){return TE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:M,isAnonymous:H,providerData:K,stsTokenManager:it}=t;k(v&&it,e,"internal-error");const Pn=Jc.fromJSON(this.name,it);k("string"==typeof v,e,"internal-error"),no(d,e.name),no(h,e.name),k("boolean"==typeof M,e,"internal-error"),k("boolean"==typeof H,e,"internal-error"),no(f,e.name),no(p,e.name),no(g,e.name),no(m,e.name),no(I,e.name),no(C,e.name);const ld=new Jo({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Pn,createdAt:I,lastLoginAt:C});return K&&Array.isArray(K)&&(ld.providerData=K.map(Mg=>Object.assign({},Mg))),m&&(ld._redirectEventId=m),ld}static _fromIdTokenResponse(e,t,r=!1){return T(function*(){const i=new Jc;i.updateFromServerResponse(t);const o=new Jo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xc(o),o})()}}const IN=new Map;function Ci(n){to(n instanceof Function,"Expected a class definition");let e=IN.get(n);return e?(to(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IN.set(n,e),e)}const bN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(function*(){return!0})()}_set(t,r){var i=this;return T(function*(){i.storage[t]=r})()}_get(t){var r=this;return T(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return T(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Kf(n,e,t){return`firebase:${n}:${e}:${t}`}class ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return T(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Jo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return T(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(function*(){if(!t.length)return new ka(Ci(bN),e,r);const i=(yield Promise.all(t.map(function(){var c=T(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Ci(bN);const s=Kf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(s);if(l){const d=Jo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=T(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ka(o,e,r)):new ka(o,e,r)})()}}function wN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function DN(n=zn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function TN(n=zn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function SN(n=zn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function RN(n=zn()){return/webos/i.test(n)}(e))return"Webos";if(function NE(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function CN(n=zn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function AN(n=zn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function xN(n,e=[]){let t;switch(n){case"Browser":t=wN(zn());break;case"Worker":t=`${wN(zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hf}/${r}`}class nX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return T(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function OE(){return(OE=T(function*(n,e={}){return ze(n,"GET","/v2/passwordPolicy",Ge(n,e))})).apply(this,arguments)}class oX{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class sX{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MN(this),this.idTokenSubscription=new MN(this),this.beforeStateQueue=new nX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(T(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ka.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return T(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return T(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return T(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return T(function*(){try{yield Xc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function FY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return T(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return T(function*(){const r=e?Hr(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return T(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(T(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return T(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(T(function*(){yield t.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return T(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return T(function*(){const t=yield function rX(n){return OE.apply(this,arguments)}(e),r=new oX(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return T(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ZY(n,e){return kE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return T(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return T(function*(){if(!t.redirectPersistenceManager){const r=e&&Ci(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield ka.create(t,[Ci(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return T(function*(){var r,i;return t._isInitialized&&(yield t.queue(T(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return T(function*(){if(e===t.currentUser)return t.queue(T(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return T(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return T(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return T(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function NY(n,...e){zf.logLevel<=_e.WARN&&zf.warn(`Auth (${Hf}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class MN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function eQ(n,e){const t=new tQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function PN(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Kc(3e4,6e4),new Kc(2e3,1e4),new Kc(3e4,6e4),new Kc(5e3,15e3),encodeURIComponent("fac");var cO="@firebase/auth";class uZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return T(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Uf(),function lZ(n){Ra(new qo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;k(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xN(n)},c=new sX(r,i,o,u);return function fX(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ci);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new qo("auth-internal",e=>{const t=function pt(n){return Hr(n)}(e.getProvider("auth").getImmediate());return new uZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(cO,"1.5.1",function cZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),sr(cO,"1.5.1","esm2017")}("Browser");class fO{constructor(){return pE("auth")}}var V,_Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},Ab=Ab||{},re=_Z||self;function ap(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function il(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sb="closure_uid_"+(1e9*Math.random()>>>0),vZ=0;function EZ(n,e,t){return n.call.apply(n.bind,arguments)}function IZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function an(n,e,t){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EZ:IZ).apply(null,arguments)}function up(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ro(){this.s=this.s,this.o=this.o}ro.prototype.s=!1,ro.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yZ(n){Object.prototype.hasOwnProperty.call(n,Sb)&&n[Sb]||(n[Sb]=++vZ)}(this)},ro.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Rb(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ap(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function un(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var wZ=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};re.addEventListener("test",t,e),re.removeEventListener("test",t,e)}catch{}return n}();function ol(n){return/^[\s\xa0]*$/.test(n)}function cp(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function Wr(n){return-1!=cp().indexOf(n)}function xb(n){return xb[" "](n),n}xb[" "]=function(){};var Pb,CZ=Wr("Opera"),Na=Wr("Trident")||Wr("MSIE"),mO=Wr("Edge"),Mb=mO||Na,_O=Wr("Gecko")&&!(-1!=cp().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),DZ=-1!=cp().toLowerCase().indexOf("webkit")&&!Wr("Edge");function yO(){var n=re.document;return n?n.documentMode:void 0}e:{var kb="",Nb=function(){var n=cp();return _O?/rv:([^\);]+)(\)|;)/.exec(n):mO?/Edge\/([\d\.]+)/.exec(n):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):DZ?/WebKit\/(\S+)/.exec(n):CZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Nb&&(kb=Nb?Nb[1]:""),Na){var Ob=yO();if(null!=Ob&&Ob>parseFloat(kb)){Pb=String(Ob);break e}}Pb=kb}var AZ=re.document&&Na&&(yO()||parseInt(Pb,10))||void 0;function sl(n,e){if(un.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_O){e:{try{xb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sl.$.h.call(this)}}Vt(sl,un);var SZ={2:"touch",3:"pen",4:"mouse"};sl.prototype.h=function(){sl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var al="closure_listenable_"+(1e6*Math.random()|0),RZ=0;function xZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++RZ,this.fa=this.ia=!1}function lp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Vb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function EO(n){const e={};for(const t in n)e[t]=n[t];return e}const IO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<IO.length;o++)t=IO[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function dp(n){this.src=n,this.g={},this.h=0}function Lb(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=pO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(lp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ub(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}dp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Ub(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new xZ(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Bb="closure_lm_"+(1e6*Math.random()|0),jb={};function wO(n,e,t,r,i){if(r&&r.once)return CO(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wO(n,e[o],t,r,i);return null}return t=zb(t),n&&n[al]?n.O(e,t,il(r)?!!r.capture:!!r,i):TO(n,e,t,!1,r,i)}function TO(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=il(i)?!!i.capture:!!i,a=Hb(n);if(a||(n[Bb]=a=new dp(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function PZ(){const e=kZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wZ||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(AO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CO(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)CO(n,e[o],t,r,i);return null}return t=zb(t),n&&n[al]?n.P(e,t,il(r)?!!r.capture:!!r,i):TO(n,e,t,!0,r,i)}function DO(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)DO(n,e[o],t,r,i);else r=il(r)?!!r.capture:!!r,t=zb(t),n&&n[al]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ub(o=n.g[e],t,r,i))&&(lp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Hb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ub(e,t,r,i)),(t=-1<n?e[n]:null)&&$b(t))}function $b(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[al])Lb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(AO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Hb(e))?(Lb(t,n),0==t.h&&(t.src=null,e[Bb]=null)):lp(n)}}}function AO(n){return n in jb?jb[n]:jb[n]="on"+n}function kZ(n,e){if(n.fa)n=!0;else{e=new sl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&$b(n),n=t.call(r,e)}return n}function Hb(n){return(n=n[Bb])instanceof dp?n:null}var Gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function zb(n){return"function"==typeof n?n:(n[Gb]||(n[Gb]=function(e){return n.handleEvent(e)}),n[Gb])}function Lt(){ro.call(this),this.i=new dp(this),this.S=this,this.J=null}function Kt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new un(e,n);else if(e instanceof un)e.target=e.target||n;else{var i=e;bO(e=new un(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=hp(s,r,!0,e)&&i}if(i=hp(s=e.g=n,r,!0,e)&&i,i=hp(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=hp(s=e.g=t[o],r,!1,e)&&i}function hp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,u=s.la||s.src;s.ia&&Lb(n.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Lt,ro),Lt.prototype[al]=!0,Lt.prototype.removeEventListener=function(n,e,t,r){DO(this,n,e,t,r)},Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lp(t[r]);delete n.g[e],n.h--}}this.J=null},Lt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Wb=re.JSON.stringify;function OZ(){var n=qb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SO=new class NZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new VZ,n=>n.reset());class VZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function LZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function UZ(n){re.setTimeout(()=>{throw n},0)}let ul,cl=!1,qb=new class FZ{constructor(){this.h=this.g=null}add(e,t){const r=SO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},RO=()=>{const n=re.Promise.resolve(void 0);ul=()=>{n.then(BZ)}};var BZ=()=>{for(var n;n=OZ();){try{n.h.call(n.g)}catch(t){UZ(t)}var e=SO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cl=!1};function fp(n,e){Lt.call(this),this.h=n||1,this.g=e||re,this.j=an(this.qb,this),this.l=Date.now()}function Kb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Qb(n,e,t){if("function"==typeof n)t&&(n=an(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=an(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function xO(n){n.g=Qb(()=>{n.g=null,n.i&&(n.i=!1,xO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vt(fp,Lt),(V=fp.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(Kb(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){fp.$.N.call(this),Kb(this),delete this.g};class jZ extends ro{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xO(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(n){ro.call(this),this.h=n,this.g={}}Vt(ll,ro);var MO=[];function PO(n,e,t,r){Array.isArray(t)||(t&&(MO[0]=t.toString()),t=MO);for(var i=0;i<t.length;i++){var o=wO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function kO(n){Vb(n.g,function(e,t){this.g.hasOwnProperty(t)&&$b(e)},n),n.g={}}function pp(){this.g=!0}function Oa(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Wb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ll.prototype.N=function(){ll.$.N.call(this),kO(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pp.prototype.Ea=function(){this.g=!1},pp.prototype.info=function(){};var ns={},NO=null;function gp(){return NO=NO||new Lt}function OO(n){un.call(this,ns.Ta,n)}function dl(n){const e=gp();Kt(e,new OO(e))}function FO(n,e){un.call(this,ns.STAT_EVENT,n),this.stat=e}function vn(n){const e=gp();Kt(e,new FO(e,n))}function VO(n,e){un.call(this,ns.Ua,n),this.size=e}function hl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}ns.Ta="serverreachability",Vt(OO,un),ns.STAT_EVENT="statevent",Vt(FO,un),ns.Ua="timingevent",Vt(VO,un);var mp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yb(){}function BO(){}Yb.prototype.h=null;var Zb,fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xb(){un.call(this,"d")}function Jb(){un.call(this,"c")}function _p(){}function pl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ll(this),this.P=WZ,this.V=new fp(n=Mb?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jO}function jO(){this.i=null,this.g="",this.h=!1}Vt(Xb,un),Vt(Jb,un),Vt(_p,Yb),_p.prototype.g=function(){return new XMLHttpRequest},_p.prototype.i=function(){return{}},Zb=new _p;var WZ=45e3,$O={},ew={};function tw(n,e,t){n.L=1,n.A=Ip(Ai(e)),n.u=t,n.S=!0,HO(n,null)}function HO(n,e){n.G=Date.now(),gl(n),n.B=Ai(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),ZO(t.i,"t",r),n.o=0,t=n.l.J,n.h=new jO,n.g=wF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new jZ(an(n.Pa,n,n.g),n.O)),PO(n.U,n.g,"readystatechange",n.nb),e=n.I?EO(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),dl(),function $Z(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function GO(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function zO(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=qZ(n,t),i==ew){4==e&&(n.s=4,vn(14),r=!1),Oa(n.j,n.m,null,"[Incomplete Response]");break}if(i==$O){n.s=4,vn(15),Oa(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Oa(n.j,n.m,i,null),nw(n,i)}GO(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,vn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),cw(e),e.M=!0,vn(11))):(Oa(n.j,n.m,t,"[Invalid Chunked Response]"),rs(n),ml(n))}function qZ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?ew:(t=Number(e.substring(t,r)),isNaN(t)?$O:(r+=1)+t>e.length?ew:(e=e.slice(r,r+t),n.o=r+t,e))}function gl(n){n.Y=Date.now()+n.P,WO(n,n.P)}function WO(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=hl(an(n.lb,n),e)}function yp(n){n.C&&(re.clearTimeout(n.C),n.C=null)}function ml(n){0==n.l.H||n.J||vF(n.l,n)}function rs(n){yp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Kb(n.V),kO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function nw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||rw(t.i,n)))if(!n.K&&rw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ap(t),Cp(t)}uw(t),vn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=hl(an(t.ib,t),6e3));if(1>=nF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else os(t,11)}else if((n.K||t.g==n)&&Ap(t),!ol(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(iw(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,We(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=bF(r,r.J?r.pa:null,r.Y),s.K){rF(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(yp(a),gl(a)),r.g=s}else _F(r);0<t.j.length&&Dp(t)}else"stop"!=c[0]&&"close"!=c[0]||os(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?os(t,7):aw(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}dl()}catch{}}function qO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ap(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function QZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ap(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function KZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ap(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(V=pl.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==qr(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const l=qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Mb||this.g&&(this.h.h||this.g.ja()||dF(this.g)))){this.J||4!=l||7==e||dl(),yp(this);var t=this.g.da();this.ca=t;t:if(GO(this)){var r=dF(this.g);n="";var i=r.length,o=4==qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),ml(this);var s="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function HZ(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ol(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,vn(12),rs(this),ml(this);break e}Oa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nw(this,t)}this.S?(zO(this,l,s),Mb&&this.i&&3==l&&(PO(this.U,this.V,"tick",this.mb),this.V.start())):(Oa(this.j,this.m,s,null),nw(this,s)),4==l&&rs(this),this.i&&!this.J&&(4==l?vF(this.l,this):(this.i=!1,gl(this)))}else(function fee(n){const e={};n=(n.g&&2<=qr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ol(n[r]))continue;var t=LZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function MZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),rs(this),ml(this)}}}catch{}},V.mb=function(){if(this.g){var n=qr(this.g),e=this.g.ja();this.o<e.length&&(yp(this),zO(this,n,e),this.i&&4!=n&&gl(this))}},V.cancel=function(){this.J=!0,rs(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function GZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(dl(),vn(17)),rs(this),this.s=2,ml(this)):WO(this,this.Y-n)};var KO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function is(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof is){this.h=n.h,vp(this,n.j),this.s=n.s,this.g=n.g,Ep(this,n.m),this.l=n.l;var e=n.i,t=new vl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),QO(this,t),this.o=n.o}else n&&(e=String(n).match(KO))?(this.h=!1,vp(this,e[1]||"",!0),this.s=_l(e[2]||""),this.g=_l(e[3]||"",!0),Ep(this,e[4]),this.l=_l(e[5]||"",!0),QO(this,e[6]||"",!0),this.o=_l(e[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}function Ai(n){return new is(n)}function vp(n,e,t){n.j=t?_l(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ep(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function QO(n,e,t){e instanceof vl?(n.i=e,function nee(n,e){e&&!n.j&&(io(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(XO(this,r),ZO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yl(e,eee)),n.i=new vl(e,n.h))}function We(n,e,t){n.i.set(e,t)}function Ip(n){return We(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _l(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,XZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}is.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yl(e,YO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yl(e,YO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yl(t,"/"==t.charAt(0)?ZZ:JZ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yl(t,tee)),n.join("")};var YO=/[#\/\?@]/g,JZ=/[#\?:]/g,ZZ=/[#\?]/g,eee=/[#\?@]/g,tee=/#/g;function vl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function io(n){n.g||(n.g=new Map,n.h=0,n.i&&function YZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XO(n,e){io(n),e=Fa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function JO(n,e){return io(n),e=Fa(n,e),n.g.has(e)}function ZO(n,e,t){XO(n,e),0<t.length&&(n.i=null,n.g.set(Fa(n,e),Rb(t)),n.h+=t.length)}function Fa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eF(n){this.l=n||iee,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=vl.prototype).add=function(n,e){io(this),this.i=null,n=Fa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){io(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){io(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},V.Z=function(n){io(this);let e=[];if("string"==typeof n)JO(this,n)&&(e=e.concat(this.g.get(Fa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return io(this),this.i=null,JO(this,n=Fa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var iee=10;function tF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nF(n){return n.h?1:n.g?n.g.size:0}function rw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iw(n,e){n.g?n.g.add(e):n.h=e}function rF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Rb(n.i)}eF.prototype.cancel=function(){if(this.i=iF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var oee=class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}};function see(){this.g=new oee}function aee(n,e,t){const r=t||"";try{qO(n,function(i,o){let s=i;il(i)&&(s=Wb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function El(n){this.l=n.ec||null,this.j=n.ob||!1}function wp(n,e){Lt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ow,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(El,Yb),El.prototype.g=function(){return new wp(this.l,this.j)},El.prototype.i=function(n){return function(){return n}}({}),Vt(wp,Lt);var ow=0;function oF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Il(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bl(n)}function bl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=wp.prototype).open=function(n,e){if(this.readyState!=ow)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bl(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Il(this)),this.readyState=ow},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Il(this):bl(this),3==this.readyState&&oF(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,Il(this))},V.Ya=function(n){this.g&&(this.response=n,Il(this))},V.ka=function(){this.g&&Il(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cee=re.JSON.parse;function ut(n){Lt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sF,this.L=this.M=!1}Vt(ut,Lt);var sF="",lee=/^https?$/i,dee=["POST","PUT"];function aF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uF(n),Tp(n)}function uF(n){n.F||(n.F=!0,Kt(n,"complete"),Kt(n,"error"))}function cF(n){if(n.h&&typeof Ab<"u"&&(!n.C[1]||4!=qr(n)||2!=n.da()))if(n.v&&4==qr(n))Qb(n.La,0,n);else if(Kt(n,"readystatechange"),4==qr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(KO)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!lee.test(i?i.toLowerCase():"")}t=r}if(t)Kt(n,"complete"),Kt(n,"success");else{n.m=6;try{var o=2<qr(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",uF(n)}}finally{Tp(n)}}}function Tp(n,e){if(n.g){lF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Kt(n,"ready");try{t.onreadystatechange=r}catch{}}}function lF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function qr(n){return n.g?n.g.readyState:0}function dF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hF(n){let e="";return Vb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function sw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):We(n,e,t))}function wl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fF(n){this.Ga=0,this.j=[],this.l=new pp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,n),this.hb=wl("retryDelaySeedMs",1e4,n),this.eb=wl("forwardChannelMaxRetries",2,n),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eF(n&&n.concurrentRequestLimit),this.Ja=new see,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function aw(n){if(pF(n),3==n.H){var e=n.W++,t=Ai(n.I);if(We(t,"SID",n.K),We(t,"RID",e),We(t,"TYPE","terminate"),Tl(n,t),(e=new pl(n,n.l,e)).L=2,e.A=Ip(Ai(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.A,t=!0),t||(e.g=wF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),gl(e)}IF(n)}function Cp(n){n.g&&(cw(n),n.g.cancel(),n.g=null)}function pF(n){Cp(n),n.u&&(re.clearTimeout(n.u),n.u=null),Ap(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function Dp(n){if(!tF(n.i)&&!n.m){n.m=!0;var e=n.Na;ul||RO(),cl||(ul(),cl=!0),qb.add(e,n),n.C=0}}function gF(n,e){var t;t=e?e.m:n.W++;const r=Ai(n.I);We(r,"SID",n.K),We(r,"RID",t),We(r,"AID",n.V),Tl(n,r),n.o&&n.s&&sw(r,n.o,n.s),t=new pl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=mF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),iw(n.i,t),tw(t,r,e)}function Tl(n,e){n.na&&Vb(n.na,function(t,r){We(e,r,t)}),n.h&&qO({},function(t,r){We(e,r,t)})}function mF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?an(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{aee(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function _F(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ul||RO(),cl||(ul(),cl=!0),qb.add(e,n),n.A=0}}function uw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hl(an(n.Ma,n),EF(n,n.A)),n.A++,0))}function cw(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function yF(n){n.g=new pl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ai(n.wa);We(e,"RID","rpc"),We(e,"SID",n.K),We(e,"AID",n.V),We(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&We(e,"TO",n.qa),We(e,"TYPE","xmlhttp"),Tl(n,e),n.o&&n.s&&sw(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Ip(Ai(e)),t.u=null,t.S=!0,HO(t,n)}function Ap(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function vF(n,e){var t=null;if(n.g==e){Ap(n),cw(n),n.g=null;var r=2}else{if(!rw(n.i,e))return;t=e.F,rF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Kt(r=gp(),new VO(r,t)),Dp(n)}else _F(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function pee(n,e){return!(nF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hl(an(n.Na,n,e),EF(n,n.C)),n.C++,0)))}(n,e)||2==r&&uw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:os(n,5);break;case 4:os(n,10);break;case 3:os(n,6);break;default:os(n,2)}}function EF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function os(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=an(n.pb,n);t||(t=new is("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||vp(t,"https"),Ip(t)),function uee(n,e){const t=new pp;if(re.Image){const r=new Image;r.onload=up(bp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=up(bp,t,r,"TestLoadImage: error",!1,e),r.onabort=up(bp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=up(bp,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vn(2);n.H=0,n.h&&n.h.za(e),IF(n),pF(n)}function IF(n){if(n.H=0,n.ma=[],n.h){const e=iF(n.i);(0!=e.length||0!=n.j.length)&&(gO(n.ma,e),gO(n.ma,n.j),n.i.i.length=0,Rb(n.j),n.j.length=0),n.h.ya()}}function bF(n,e,t){var r=t instanceof is?Ai(t):new is(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ep(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new is(null);r&&vp(o,r),e&&(o.g=e),i&&Ep(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&We(r,t,e),We(r,"VER",n.ra),Tl(n,r),r}function wF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ut(n.Ha&&!n.va?new El({ob:t}):n.va)).Oa(n.J),e}function TF(){}function Sp(){if(Na&&!(10<=Number(AZ)))throw Error("Environmental error: no available transport.")}function Wn(n,e){Lt.call(this),this.g=new fF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ol(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ol(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Va(this)}function CF(n){Xb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function DF(){Jb.call(this),this.status=1}function Va(n){this.g=n}function br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Me(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(V=ut.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zb.g(),this.C=function UO(n){return n.h||(n.h=n.i())}(this.u?this.u:Zb),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void aF(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=pO(dee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lF(this),0<this.B&&((this.L=function hee(n){return Na&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=Qb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){aF(this,o)}},V.ua=function(){typeof Ab<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kt(this,"complete"),Kt(this,"abort"),Tp(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),ut.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?cF(this):this.kb())},V.kb=function(){cF(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cee(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=fF.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new pl(this,this.l,n);let o=this.s;if(this.U&&(o?(o=EO(o),bO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mF(this,i,e),We(t=Ai(this.I),"RID",n),We(t,"CVER",22),this.F&&We(t,"X-HTTP-Session-Id",this.F),Tl(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(hF(o)))+"&"+e:this.o&&sw(t,this.o,o)),iw(this.i,i),this.bb&&We(t,"TYPE","init"),this.P?(We(t,"$req",e),We(t,"SID","null"),i.aa=!0,tw(i,t,null)):tw(i,t,e),this.H=2}}else 3==this.H&&(n?gF(this,n):0==this.j.length||tF(this.i)||gF(this))},V.Ma=function(){if(this.u=null,yF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hl(an(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),Cp(this),yF(this))},V.ib=function(){null!=this.v&&(this.v=null,Cp(this),uw(this),vn(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=TF.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Sp.prototype.g=function(n,e){return new Wn(n,e)},Vt(Wn,Lt),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=bF(n,null,n.Y),Dp(n)},Wn.prototype.close=function(){aw(this.g)},Wn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Dp(e)},Wn.prototype.N=function(){this.g.h=null,delete this.j,aw(this.g),delete this.g,Wn.$.N.call(this)},Vt(CF,Xb),Vt(DF,Jb),Vt(Va,TF),Va.prototype.Ba=function(){Kt(this.g,"a")},Va.prototype.Aa=function(n){Kt(this.g,new CF(n))},Va.prototype.za=function(n){Kt(this.g,new DF)},Va.prototype.ya=function(){Kt(this.g,"b")},Vt(br,function gee(){this.blockSize=-1}),br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},br.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)lw(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){lw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){lw(this,r),i=0;break}}this.h=i,this.i+=e},br.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var mee={};function dw(n){return-128<=n&&128>n?function TZ(n,e){var t=mee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|n],0>n?-1:0)}function Kr(n){if(isNaN(n)||!isFinite(n))return La;if(0>n)return Qt(Kr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=hw;return new Me(e,0)}var hw=4294967296,La=dw(0),fw=dw(1),SF=dw(16777216);function Si(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ur(n){return-1==n.h}function Qt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Me(t,~n.h).add(fw)}function Rp(n,e){return n.add(Qt(e))}function xp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Cl(n,e){this.g=n,this.h=e}function Mp(n,e){if(Si(e))throw Error("division by zero");if(Si(n))return new Cl(La,La);if(ur(n))return e=Mp(Qt(n),e),new Cl(Qt(e.g),Qt(e.h));if(ur(e))return e=Mp(n,Qt(e)),new Cl(Qt(e.g),e.h);if(30<n.g.length){if(ur(n)||ur(e))throw Error("slowDivide_ only works with positive integers.");for(var t=fw,r=e;0>=r.X(n);)t=RF(t),r=RF(r);var i=Ua(t,1),o=Ua(r,1);for(r=Ua(r,2),t=Ua(t,2);!Si(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Ua(r,1),t=Ua(t,1)}return e=Rp(n,i.R(e)),new Cl(i,e)}for(i=La;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Kr(t)).R(e);ur(s)||0<s.X(n);)s=(o=Kr(t-=r)).R(e);Si(o)&&(o=fw),i=i.add(o),n=Rp(n,s)}return new Cl(i,n)}function RF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Me(t,n.h)}function Ua(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Me(i,n.h)}(V=Me.prototype).ea=function(){if(ur(this))return-Qt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:hw+r)*e,e*=hw}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Si(this))return"0";if(ur(this))return"-"+Qt(this).toString(n);for(var e=Kr(Math.pow(n,6)),t=this,r="";;){var i=Mp(t,e).g,o=((0<(t=Rp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Si(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return ur(n=Rp(this,n))?-1:Si(n)?0:1},V.abs=function(){return ur(this)?Qt(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Me(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(Si(this)||Si(n))return La;if(ur(this))return ur(n)?Qt(this).R(Qt(n)):Qt(Qt(this).R(n));if(ur(n))return Qt(this.R(Qt(n)));if(0>this.X(SF)&&0>n.X(SF))return Kr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=s*u,xp(t,2*r+2*i),t[2*r+2*i+1]+=o*u,xp(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,xp(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,xp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Me(t,0)},V.gb=function(n){return Mp(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Me(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Me(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Me(t,this.h^n.h)},Sp.prototype.createWebChannel=Sp.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,mp.NO_ERROR=0,mp.TIMEOUT=8,mp.HTTP_ERROR=6,LO.COMPLETE="complete",BO.EventType=fl,fl.OPEN="a",fl.CLOSE="b",fl.ERROR="c",fl.MESSAGE="d",Lt.prototype.listen=Lt.prototype.O,ut.prototype.listenOnce=ut.prototype.P,ut.prototype.getLastError=ut.prototype.Sa,ut.prototype.getLastErrorCode=ut.prototype.Ia,ut.prototype.getStatus=ut.prototype.da,ut.prototype.getResponseJson=ut.prototype.Wa,ut.prototype.getResponseText=ut.prototype.ja,ut.prototype.send=ut.prototype.ha,ut.prototype.setWithCredentials=ut.prototype.Oa,br.prototype.digest=br.prototype.l,br.prototype.reset=br.prototype.reset,br.prototype.update=br.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=Kr,Me.fromString=function AF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Qt(AF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Kr(Math.pow(e,8)),r=La,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Kr(Math.pow(e,o)),r=r.R(o).add(Kr(s))):r=(r=r.R(t)).add(Kr(s))}return r};var _ee=Ir.createWebChannelTransport=function(){return new Sp},yee=Ir.getStatEventTarget=function(){return gp()},pw=Ir.ErrorCode=mp,vee=Ir.EventType=LO,Eee=Ir.Event=ns,xF=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pp=(Ir.FetchXmlHttpFactory=El,Ir.WebChannel=BO),Iee=Ir.XhrIo=ut,bee=Ir.Md5=br,Ba=Ir.Integer=Me;const MF="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let ja="10.7.0";const oo=new tE("@firebase/firestore");function $a(){return oo.logLevel}function R(n,...e){if(oo.logLevel<=_e.DEBUG){const t=e.map(gw);oo.debug(`Firestore (${ja}): ${n}`,...t)}}function gt(n,...e){if(oo.logLevel<=_e.ERROR){const t=e.map(gw);oo.error(`Firestore (${ja}): ${n}`,...t)}}function qn(n,...e){if(oo.logLevel<=_e.WARN){const t=e.map(gw);oo.warn(`Firestore (${ja}): ${n}`,...t)}}function gw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+n;throw gt(e),new Error(e)}function G(n,e){n||$()}function N(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class PF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class Tee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cee{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(T(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new PF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Ut(e)}}class Dee{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Aee{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Dee(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class See{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.R=t.token,new kF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ree(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class NF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ree(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function Ha(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new rt(0,0))}static max(){return new W(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dl{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class be extends Dl{construct(e,t,r){return new be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new be(t)}static emptyPath(){return new be([])}}const xee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Dl{construct(e,t,r){return new Xe(e,t,r)}static isValidIdentifier(e){return xee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new x(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new x(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(t)}static emptyPath(){return new Xe([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(be.fromString(e))}static fromName(e){return new O(be.fromString(e).popFirst(5))}static empty(){return new O(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new be(e.slice()))}}function VF(n){return new Kn(n.readTime,n.key,-1)}class Kn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Kn(W.min(),O.empty(),-1)}static max(){return new Kn(W.max(),O.empty(),-1)}}function _w(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=O.comparator(n.documentKey,e.documentKey),0!==t?t:te(n.largestBatchId,e.largestBatchId))}const LF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function so(n){return yw.apply(this,arguments)}function yw(){return yw=T(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==LF)throw n;R("LocalStore","Unexpectedly lost primary lease")}),yw.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,t){return new E((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function ao(n){return"IndexedDbTransactionError"===n.name}let Qn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Sl(n){return null==n}function Rl(n){return 0===n&&1/n==-1/0}function qF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Be{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new Be(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}}class Op{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Yt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QF(this.data.getIterator())}getIteratorFrom(e){return new QF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ne(this.comparator);return t.data=e,t}}class QF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Ne(Xe.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YF("Invalid base64 string: "+o):o}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const nte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(n){if(G(!!n),"string"==typeof n){let e=0;const t=nte.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ri(n){return"string"==typeof n?Nt.fromBase64String(n):Nt.fromUint8Array(n)}function Fp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vp(n){const e=n.mapValue.fields.__previous_value__;return Fp(e)?Vp(e):e}function xl(n){const e=co(n.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}class rte{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class cs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cs&&e.projectId===this.projectId&&e.database===this.database}}const lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fp(n)?4:eV(n)?9007199254740991:10:$()}function Yr(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xl(n).isEqual(xl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=co(i.timestampValue),a=co(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ri(n.bytesValue).isEqual(Ri(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?Rl(s)===Rl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ha(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qF(s)!==qF(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Yr(s[u],a[u])))return!1;return!0}(n,e);default:return $()}var o}function Ml(n,e){return void 0!==(n.values||[]).find(t=>Yr(t,e))}function fo(n,e){if(n===e)return 0;const t=ho(n),r=ho(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ct(o.integerValue||o.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return XF(n.timestampValue,e.timestampValue);case 4:return XF(xl(n),xl(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Ri(o),u=Ri(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=te(a[c],u[c]);if(0!==l)return l}return te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=te(ct(o.latitude),ct(s.latitude));return 0!==a?a:te(ct(o.longitude),ct(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=fo(a[c],u[c]);if(l)return l}return te(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===lo.mapValue&&s===lo.mapValue)return 0;if(o===lo.mapValue)return 1;if(s===lo.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=te(u[d],l[d]);if(0!==h)return h;const f=fo(a[u[d]],c[l[d]]);if(0!==f)return f}return te(u.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function XF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return te(n,e);const t=co(n),r=co(e),i=te(t.seconds,r.seconds);return 0!==i?i:te(t.nanos,r.nanos)}function qa(n){return Iw(n)}function Iw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=co(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ri(n.bytesValue).toBase64():"referenceValue"in n?O.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Iw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Iw(t.fields[s])}`;return i+"}"}(n.mapValue):$()}function ls(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bw(n){return!!n&&"integerValue"in n}function Pl(n){return!!n&&"arrayValue"in n}function JF(n){return!!n&&"nullValue"in n}function ZF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bp(n){return!!n&&"mapValue"in n}function kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(t)}setAll(e){let t=Xe.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=kl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Bp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){uo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xt(kl(this.value))}}function rV(n){const e=[];return uo(n.fields,(t,r)=>{const i=new Xe([t]);if(Bp(r)){const o=rV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new xn(e)}class qe{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,W.min(),W.min(),W.min(),Xt.empty(),0)}static newFoundDocument(e,t,r,i){return new qe(e,1,t,W.min(),r,i,0)}static newNoDocument(e,t){return new qe(e,2,t,W.min(),W.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new qe(e,3,t,W.min(),W.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class po{constructor(e,t){this.position=e,this.inclusive=t}}function iV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?O.comparator(O.fromName(s.referenceValue),t.key):fo(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function oV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}class Nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ste(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class sV{}class ye extends sV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ate(e,t,r):"array-contains"===t?new lte(e,r):"in"===t?new hV(e,r):"not-in"===t?new dte(e,r):"array-contains-any"===t?new hte(e,r):new ye(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ute(e,r):new cte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fo(t,this.value)):null!==t&&ho(this.value)===ho(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pe extends sV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Pe(e,t)}matches(e){return Ka(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ka(n){return"and"===n.op}function Tw(n){return function aV(n){for(const e of n.filters)if(e instanceof Pe)return!1;return!0}(n)&&Ka(n)}function Cw(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+qa(n.value);if(Tw(n))return n.filters.map(e=>Cw(e)).join(",");{const e=n.filters.map(t=>Cw(t)).join(",");return`${n.op}(${e})`}}function uV(n,e){return n instanceof ye?(r=n,(i=e)instanceof ye&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)):n instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&uV(s,i.filters[a]),!0)}(n,e):void $();var r,i}function lV(n){return n instanceof ye?`${(t=n).field.canonicalString()} ${t.op} ${qa(t.value)}`:n instanceof Pe?function(t){return t.op.toString()+" {"+t.getFilters().map(lV).join(" ,")+"}"}(n):"Filter";var t}class ate extends ye{constructor(e,t,r){super(e,t,r),this.key=O.fromName(r.referenceValue)}matches(e){const t=O.comparator(e.key,this.key);return this.matchesComparison(t)}}class ute extends ye{constructor(e,t){super(e,"in",t),this.keys=dV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cte extends ye{constructor(e,t){super(e,"not-in",t),this.keys=dV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>O.fromName(r.referenceValue))}class lte extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pl(t)&&Ml(t.arrayValue,this.value)}}class hV extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ml(this.value.arrayValue,t)}}class dte extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ml(this.value.arrayValue,t)}}class hte extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}class fte{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Dw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new fte(n,e,t,r,i,o,s)}function ds(n){const e=N(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qa(r)).join(",")),e.ce=t}return e.ce}function Ol(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ste(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oV(n.startAt,e.startAt)&&oV(n.endAt,e.endAt)}function jp(n){return O.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class xi{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Qa(n){return new xi(n)}function mV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Aw(n){return null!==n.collectionGroup}function Ya(n){const e=N(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ne(Xe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Nl(o,r))}),t.has(Xe.keyField().canonicalString())||e.le.push(new Nl(Xe.keyField(),r))}return e.le}function En(n){const e=N(n);return e.he||(e.he=function _V(n,e){if("F"===n.limitType)return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Nl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new po(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new po(n.startAt.position,n.startAt.inclusive):null;return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Ya(n))),e.he}function Sw(n,e){const t=n.filters.concat([e]);return new xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hp(n,e,t){return new xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fl(n,e){return Ol(En(n),En(e))&&n.limitType===e.limitType}function yV(n){return`${ds(En(n))}|lt:${n.limitType}`}function Xa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lV(i)).join(", ")}]`),Sl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qa(i)).join(",")),`Target(${r})`}(En(n))}; limitType=${n.limitType})`}function Vl(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):O.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ya(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=iV(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Ya(r),i)||r.endAt&&!function(s,a,u){const c=iV(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Ya(r),i)));var r,i}function EV(n){return(e,t)=>{let r=!1;for(const i of Ya(n)){const o=pte(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function pte(n,e,t){const r=n.field.isKeyField()?O.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?fo(u,c):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KF(this.inner)}size(){return this.innerSize}}const gte=new Be(O.comparator);function Mn(){return gte}const IV=new Be(O.comparator);function Ll(...n){let e=IV;for(const t of n)e=e.insert(t.key,t);return e}function bV(n){let e=IV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xr(){return Ul()}function wV(){return Ul()}function Ul(){return new Mi(n=>n.toString(),(n,e)=>n.isEqual(e))}const mte=new Be(O.comparator),_te=new Ne(O.comparator);function le(...n){let e=_te;for(const t of n)e=e.add(t);return e}const yte=new Ne(te);function TV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function CV(n){return{integerValue:""+n}}function DV(n,e){return function BF(n){return"number"==typeof n&&Number.isInteger(n)&&!Rl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?CV(e):TV(n,e)}class Gp{constructor(){this._=void 0}}function vte(n,e,t){return n instanceof Ja?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fp(o)&&(o=Vp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof hs?SV(n,e):n instanceof fs?RV(n,e):function(i,o){const s=AV(i,o),a=xV(s)+xV(i.Ie);return bw(s)&&bw(i.Ie)?CV(a):TV(i.serializer,a)}(n,e)}function Ete(n,e,t){return n instanceof hs?SV(n,e):n instanceof fs?RV(n,e):t}function AV(n,e){return n instanceof Za?bw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Ja extends Gp{}class hs extends Gp{constructor(e){super(),this.elements=e}}function SV(n,e){const t=MV(e);for(const r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}class fs extends Gp{constructor(e){super(),this.elements=e}}function RV(n,e){let t=MV(e);for(const r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}class Za extends Gp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xV(n){return ct(n.integerValue||n.doubleValue)}function MV(n){return Pl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bte{constructor(e,t){this.version=e,this.transformResults=t}}class Je{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wp{}function PV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new tu(n.key,Je.none()):new eu(n.key,n.data,Je.none());{const t=n.data,r=Xt.empty();let i=new Ne(Xe.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Pi(n.key,r,new xn(i.toArray()),Je.none())}}function wte(n,e,t){n instanceof eu?function(i,o,s){const a=i.value.clone(),u=OV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Pi?function(i,o,s){if(!zp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=OV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jl(n,e,t,r){return n instanceof eu?function(o,s,a,u){if(!zp(o.precondition,s))return a;const c=o.value.clone(),l=FV(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pi?function(o,s,a,u){if(!zp(o.precondition,s))return a;const c=FV(o.fieldTransforms,u,s),l=s.data;return l.setAll(NV(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,zp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Tte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=AV(r.transform,i||null);null!=o&&(null===t&&(t=Xt.empty()),t.set(r.field,o))}return t||null}function kV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ha(r,i,(o,s)=>function Ite(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof hs&&i instanceof hs||r instanceof fs&&i instanceof fs?Ha(r.elements,i.elements,Yr):r instanceof Za&&i instanceof Za?Yr(r.Ie,i.Ie):r instanceof Ja&&i instanceof Ja);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class eu extends Wp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends Wp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OV(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ete(s,a,t[i]))}return r}function FV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,vte(o,s,e))}return r}class tu extends Wp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xw extends Wp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wte(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=PV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(t,r)=>kV(t,r))&&Ha(this.baseMutations,e.baseMutations,(t,r)=>kV(t,r))}}class Pw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=mte;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Pw(e,t,r,i)}}class kw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dte{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ct,we;function LV(n){if(void 0===n)return gt("GRPC error has no .code"),w.UNKNOWN;switch(n){case Ct.OK:return w.OK;case Ct.CANCELLED:return w.CANCELLED;case Ct.UNKNOWN:return w.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return w.INTERNAL;case Ct.UNAVAILABLE:return w.UNAVAILABLE;case Ct.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ct.NOT_FOUND:return w.NOT_FOUND;case Ct.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ct.ABORTED:return w.ABORTED;case Ct.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ct.DATA_LOSS:return w.DATA_LOSS;default:return $()}}(we=Ct||(Ct={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";const Ate=new Ba([4294967295,4294967295],0);function BV(n){const e=function UV(){return new TextEncoder}().encode(n),t=new bee;return t.update(e),new Uint8Array(t.digest())}function jV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ba([t,r],0),new Ba([i,o],0)]}class Nw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $l(`Invalid padding: ${t}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new $l(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new $l(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ba.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ba.fromNumber(r)));return 1===i.compare(Ate)&&(i=new Ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=BV(e),[r,i]=jV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Nw(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=BV(e),[r,i]=jV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hl{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hl(W.min(),i,new Be(te),Mn(),le())}}class Gl{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gl(r,t,le(),le(),le())}}class Kp{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class $V{constructor(e,t){this.targetId=e,this.fe=t}}class HV{constructor(e,t,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class GV{constructor(){this.ge=0,this.pe=WV(),this.ye=Nt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),t=le(),r=le();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Gl(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=WV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,G(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ste{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mn(),this.Qe=zV(),this.Ke=new Be(te)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const o=i.target;if(jp(o))if(0===r){const s=new O(o.path);this.We(t,s,qe.newNoDocument(s,W.min()))}else G(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Ri(r).toUint8Array()}catch(u){if(u instanceof YF)return qn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Nw(s,i,o)}catch(u){return qn(u instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&jp(a.target)){const u=new O(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,qe.newNoDocument(u,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let r=le();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Hl(e,t,this.Ke,this.qe,r);return this.qe=Mn(),this.Qe=zV(),this.Ke=new Be(te),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new GV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ne(te),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new GV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zV(){return new Be(O.comparator)}function WV(){return new Be(O.comparator)}const Rte={asc:"ASCENDING",desc:"DESCENDING"},xte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mte={and:"AND",or:"OR"};class Pte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ow(n,e){return n.useProto3Json||Sl(e)?e:{value:e}}function nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kte(n,e){return nu(n,e.toTimestamp())}function mt(n){return G(!!n),W.fromTimestamp(function(t){const r=co(t);return new rt(r.seconds,r.nanos)}(n))}function Fw(n,e){return(r=n,new be(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function KV(n){const e=be.fromString(n);return G(rL(e)),e}function zl(n,e){return Fw(n.databaseId,e.path)}function Jr(n,e){const t=KV(e);if(t.get(1)!==n.databaseId.projectId)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new O(YV(t))}function Vw(n,e){return Fw(n.databaseId,e)}function Wl(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YV(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XV(n,e,t){return{name:zl(n,e),fields:t.value.mapValue.fields}}function ZV(n,e){return{documents:[Vw(n,e.path)]}}function Uw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return nL(Pe.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:go((d=c).field),direction:Lte(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=Ow(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function eL(n){let e=function QV(n){const e=KV(n);return 4===e.length?be.emptyPath():YV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];t.where&&(o=function(d){const h=tL(d);return h instanceof Pe&&Tw(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new Nl(ru((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Sl(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new po((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new po(d.values||[],!d.before)}(t.endAt)),function gV(n,e,t,r,i,o,s,a){return new xi(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function tL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ru(t.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ru(t.unaryFilter.field);return ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ru(t.unaryFilter.field);return ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ru(t.unaryFilter.field);return ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?ye.create(ru((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Pe.create(t.compositeFilter.filters.map(r=>tL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function Lte(n){return Rte[n]}function Ute(n){return xte[n]}function Bte(n){return Mte[n]}function go(n){return{fieldPath:n.canonicalString()}}function ru(n){return Xe.fromServerFormat(n.fieldPath)}function nL(n){return n instanceof ye?function(t){if("=="===t.op){if(ZF(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(JF(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ZF(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(JF(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:Ute(t.op),value:t.value}}}(n):n instanceof Pe?function(t){const r=t.getFilters().map(i=>nL(i));return 1===r.length?r[0]:{compositeFilter:{op:Bte(t.op),filters:r}}}(n):$()}function jte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ki{constructor(e,t,r,i,o=W.min(),s=W.min(),a=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iL{constructor(e){this.ut=e}}function Bw(n){const e=eL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hp(e,e.limit,"L"):e}class _s{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Rl(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ri(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?eV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):$()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),O.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}_s.St=new _s;class Qte{constructor(){this.on=new Ww}addToCollectionParentIndex(e,t){return this.on.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve(Kn.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class Ww{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ne(be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(be.comparator)).toArray()}}new Uint8Array(0);class ln{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class vs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new vs(0)}static Nn(){return new vs(-1)}}class tne{constructor(){this.changes=new Mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ine{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ML{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jl(r.mutation,i,xn.empty(),rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=Xr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ll();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Xr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mn();const s=Ul(),a=Ul();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Pi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),jl(l.mutation,c,l.mutation.getFieldMask(),rt.now())):s.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new ine(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ul();let i=new Be((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||xn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=wV();l.forEach(h=>{if(!o.has(h)){const f=PV(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return O.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Aw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):E.resolve(Xr());let a=-1,u=o;return s.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,le())).next(l=>({batchId:a,changes:bV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new O(t)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Ll();return this.indexManager.getCollectionParents(e,o).next(a=>E.forEach(a,u=>{const c=(d=t,h=u.child(o),new xi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,qe.newInvalidDocument(l)))});let a=Ll();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&jl(l.mutation,c,xn.empty(),rt.now()),Vl(t,c)&&(a=a.insert(u,c))}),a})}}class one{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return E.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:mt(i.createTime)}),E.resolve();var i}getNamedQuery(e,t){return E.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Bw(i.bundledQuery),readTime:mt(i.readTime)}),E.resolve();var i}}class sne{constructor(){this.overlays=new Be(O.comparator),this.lr=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xr();return E.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.lt(e,t,o)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=Xr(),o=t.length+1,s=new O(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Xr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kw(t,r));let o=this.lr.get(t);void 0===o&&(o=le(),this.lr.set(t,o)),this.lr.set(t,o.add(r.key))}}class qw{constructor(){this.hr=new Ne(jt.Pr),this.Ir=new Ne(jt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new jt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new O(new be([])),r=new jt(t,e),i=new jt(t,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new O(new be([])),r=new jt(t,e),i=new jt(t,e+1);let o=le();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new jt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return O.comparator(e.key,t.key)||te(e.gr,t.gr)}static Tr(e,t){return te(e.gr,t.gr)||O.comparator(e.key,t.key)}}class ane{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ne(jt.Pr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.pr;this.pr++;const s=new Mw(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(s)}lookupMutationBatch(e,t){return E.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),o=i<0?0:i;return E.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),E.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ne(te);return t.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),E.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;O.isDocumentKey(o)||(o=o.child(""));const s=new jt(new O(o),0);let a=new Ne(te);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),E.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return E.forEach(t.mutations,i=>{const o=new jt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new jt(t,0),i=this.yr.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class une{constructor(e){this.Cr=e,this.docs=new Be(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(t))}getEntries(e,t){let r=Mn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qe.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mn();const s=t.path,a=new O(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||_w(VF(l),r)<=0||(i.has(l.key)||Vl(t,l))&&(o=o.insert(l.key,l.mutableCopy()))}return E.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$()}vr(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cne(this)}getSize(e){return E.resolve(this.size)}}class cne extends tne{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class lne{constructor(e){this.persistence=e,this.Fr=new Mi(t=>ds(t),Ol),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Mr=0,this.Or=new qw,this.targetCount=0,this.Nr=vs.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),E.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new vs(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.kn(t),E.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(o).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),E.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.Or.containsKey(t))}}class Kw{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Qn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lne(this),this.indexManager=new Qte,this.remoteDocumentCache=new une(r=>this.referenceDelegate.Qr(r)),this.serializer=new iL(t),this.Kr=new one(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new ane(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new dne(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,t){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class dne extends kee{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Gr=new qw,this.zr=null}static jr(e){return new ng(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),E.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Hr,r=>{const i=O.fromPath(r);return this.Jr(e,i).next(o=>{o||t.removeEntry(i,W.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return E.or([()=>E.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Jw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=le(),i=le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jw(e,t.fromCache,r,i)}}class fne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new fne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?($a()<=_e.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",Xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),E.resolve()):($a()<=_e.DEBUG&&R("QueryEngine","Query:",Xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?($a()<=_e.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",Xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(t))):E.resolve())}zi(e,t){if(mV(t))return E.resolve(null);let r=En(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Hp(t,null,"F"),r=En(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=le(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,s,u.readTime)?this.zi(e,Hp(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return mV(t)||i.isEqual(W.min())?E.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,r,i)?E.resolve(null):($a()<=_e.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(t)),this.Xi(e,s,t,function FF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new rt(t+1,0):new rt(t,r));return new Kn(i,O.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Ne(EV(e));return t.forEach((i,o)=>{Vl(e,o)&&(r=r.add(o))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,t,r){return $a()<=_e.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Xa(t)),this.Gi.getDocumentsMatchingQuery(e,t,Kn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class pne{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new Be(te),this.ns=new Mi(o=>ds(o),Ol),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function OL(n,e){return Zw.apply(this,arguments)}function Zw(){return Zw=T(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=le();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),Zw.apply(this,arguments)}function FL(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function _ne(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cu(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=T(function*(n,e,t){const r=N(n),i=r.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ao(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),eT.apply(this,arguments)}function og(n,e,t){const r=N(n);let i=W.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=N(u),h=d.ns.get(l);return void 0!==h?E.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,En(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?i:W.min(),t?o:le())).next(a=>(function BL(n,e,t){let r=n.rs.get(e)||W.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.rs.set(e,r)}(r,function vV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class oT{constructor(){this.activeTargetIds=function Rw(){return yte}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HL{constructor(){this.eo=new oT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new oT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ene{ro(e){}shutdown(){}}class GL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ug=null;function aT(){return null===ug?ug=268435456+Math.round(2147483648*Math.random()):ug++,"0x"+ug.toString(16)}const Ine={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bne{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const dn="WebChannelConnection";class wne extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(t,r,i,o,s){const a=aT(),u=this.So(t,r);R("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,u,c,i).then(l=>(R("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw qn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(t,r,i,o,s,a){return this.wo(t,r,i,o,s)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ja,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}So(t,r){return`${this.mo}/v1/${r}:${Ine[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const o=aT();return new Promise((s,a)=>{const u=new Iee;u.setWithCredentials(!0),u.listenOnce(vee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pw.NO_ERROR:const l=u.getResponseJson();R(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case pw.TIMEOUT:R(dn,`RPC '${e}' ${o} timed out`),a(new x(w.DEADLINE_EXCEEDED,"Request time out"));break;case pw.HTTP_ERROR:const d=u.getStatus();if(R(dn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const I=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(I)>=0?I:w.UNKNOWN}(f.status);a(new x(p,f.message))}else a(new x(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(w.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{R(dn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);R(dn,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=aT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_ee(),a=yee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=o.join("");R(dn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new bne({co:m=>{f?R(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(R(dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(dn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,I,C)=>{m.listen(I,v=>{try{C(v)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,Pp.EventType.OPEN,()=>{f||R(dn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Pp.EventType.CLOSE,()=>{f||(f=!0,R(dn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Pp.EventType.ERROR,m=>{f||(f=!0,qn(dn,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new x(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,Pp.EventType.MESSAGE,m=>{var I;if(!f){const C=m.data[0];G(!!C);const M=C.error||(null===(I=C[0])||void 0===I?void 0:I.error);if(M){R(dn,`RPC '${e}' stream ${i} received error:`,M);const H=M.status;let K=function(ld){const Mg=Ct[ld];if(void 0!==Mg)return LV(Mg)}(H),it=M.message;void 0===K&&(K=w.INTERNAL,it="Unknown error status: "+H+" with message "+M.message),f=!0,p.Ro(new x(K,it)),d.close()}else R(dn,`RPC '${e}' stream ${i} received:`,C),p.Vo(C)}}),g(a,Eee.STAT_EVENT,m=>{m.stat===xF.PROXY?R(dn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===xF.NOPROXY&&R(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function cg(){return typeof document<"u"?document:null}function td(n){return new Pte(n,!0)}class uT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class WL{constructor(e,t,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new uT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return T(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return T(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return T(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(gt(t.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new x(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(T(function*(){e.state=0,e.start()}))}o_(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tne extends WL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Ote(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Nt.fromBase64String(l||"")):(G(void 0===l||l instanceof Uint8Array),Nt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?w.UNKNOWN:LV(c.code);return new x(l,c.message||"")}(s);t=new HV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Jr(n,r.document.name),o=mt(r.document.updateTime),s=r.document.createTime?mt(r.document.createTime):W.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=qe.newFoundDocument(i,o,s,a);t=new Kp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Jr(n,r.document),o=r.readTime?mt(r.readTime):W.min(),s=qe.newNoDocument(i,o);t=new Kp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Jr(n,r.document);t=new Kp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Dte(i,o);t=new $V(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return W.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?mt(s.readTime):W.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Wl(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=jp(u)?{documents:ZV(o,u)}:{query:Uw(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qV(o,s.resumeToken);const c=Ow(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(W.min())>0){a.readTime=nu(o,s.snapshotVersion.toTimestamp());const c=Ow(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Vte(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Wl(this.serializer),t.removeTarget=e,this.e_(t)}}class Cne extends WL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Fte(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(i,o){let s=mt(i.updateTime?i.updateTime:o);return s.isEqual(W.min())&&(s=mt(o)),new bte(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.I_(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Wl(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function ql(n,e){let t;if(e instanceof eu)t={update:XV(n,e.key,e.value)};else if(e instanceof tu)t={delete:zl(n,e.key)};else if(e instanceof Pi)t={update:XV(n,e.key,e.data),updateMask:jte(e.fieldMask)};else{if(!(e instanceof xw))return $();t={verify:zl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Za)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:kte(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$()),t;var o}(this.serializer,r))};this.e_(t)}}class Dne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(w.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(w.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Sne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gt(t),this.f_=!1):R("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Rne{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(T(function*(){var u;vo(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(u=T(function*(l){const d=N(l);d.C_.add(4),yield lu(d),d.M_.set("Unknown"),d.C_.delete(4),yield nd(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new Sne(r,i)}}function nd(n){return lT.apply(this,arguments)}function lT(){return lT=T(function*(n){if(vo(n))for(const e of n.v_)yield e(!0)}),lT.apply(this,arguments)}function lu(n){return dT.apply(this,arguments)}function dT(){return dT=T(function*(n){for(const e of n.v_)yield e(!1)}),dT.apply(this,arguments)}function lg(n,e){const t=N(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),pT(t)?fT(t):hu(t).Ho()&&hT(t,e))}function rd(n,e){const t=N(n),r=hu(t);t.D_.delete(e),r.Ho()&&qL(t,e),0===t.D_.size&&(r.Ho()?r.Zo():vo(t)&&t.M_.set("Unknown"))}function hT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hu(n).u_(e)}function qL(n,e){n.x_.Oe(e),hu(n).c_(e)}function fT(n){n.x_=new Ste({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),hu(n).start(),n.M_.g_()}function pT(n){return vo(n)&&!hu(n).jo()&&n.D_.size>0}function vo(n){return 0===N(n).C_.size}function KL(n){n.x_=void 0}function xne(n){return gT.apply(this,arguments)}function gT(){return gT=T(function*(n){n.D_.forEach((e,t)=>{hT(n,e)})}),gT.apply(this,arguments)}function Mne(n,e){return mT.apply(this,arguments)}function mT(){return mT=T(function*(n,e){KL(n),pT(n)?(n.M_.w_(e),fT(n)):n.M_.set("Unknown")}),mT.apply(this,arguments)}function Pne(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=T(function*(n,e,t){if(n.M_.set("Online"),e instanceof HV&&2===e.state&&e.cause)try{yield(r=T(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dg(n,r)}else if(e instanceof Kp?n.x_.$e(e):e instanceof $V?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(W.min()))try{const r=yield FL(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(Nt.EMPTY_BYTE_STRING,l.snapshotVersion)),qL(o,u);const d=new ki(l.target,u,c,l.sequenceNumber);hT(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield dg(n,r)}var r}),_T.apply(this,arguments)}function dg(n,e,t){return yT.apply(this,arguments)}function yT(){return yT=T(function*(n,e,t){if(!ao(e))throw e;n.C_.add(1),yield lu(n),n.M_.set("Offline"),t||(t=()=>FL(n.localStore)),n.asyncQueue.enqueueRetryable(T(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield nd(n)}))}),yT.apply(this,arguments)}function QL(n,e){return e().catch(t=>dg(n,t,e))}function du(n){return vT.apply(this,arguments)}function vT(){return vT=T(function*(n){const e=N(n),t=Eo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;kne(e);)try{const i=yield _ne(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Nne(e,i)}catch(i){yield dg(e,i)}YL(e)&&XL(e)}),vT.apply(this,arguments)}function kne(n){return vo(n)&&n.b_.length<10}function Nne(n,e){n.b_.push(e);const t=Eo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function YL(n){return vo(n)&&!Eo(n).jo()&&n.b_.length>0}function XL(n){Eo(n).start()}function One(n){return ET.apply(this,arguments)}function ET(){return ET=T(function*(n){Eo(n).E_()}),ET.apply(this,arguments)}function Fne(n){return IT.apply(this,arguments)}function IT(){return IT=T(function*(n){const e=Eo(n);for(const t of n.b_)e.P_(t.mutations)}),IT.apply(this,arguments)}function Vne(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=T(function*(n,e,t){const r=n.b_.shift(),i=Pw.from(r,e,t);yield QL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield du(n)}),bT.apply(this,arguments)}function Lne(n,e){return wT.apply(this,arguments)}function wT(){return wT=T(function*(n,e){var t;e&&Eo(n).h_&&(yield(t=T(function*(i,o){if(function VV(n){switch(n){default:return $();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(a=o.code)&&a!==w.ABORTED){const s=i.b_.shift();Eo(i).Yo(),yield QL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield du(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),YL(n)&&XL(n)}),wT.apply(this,arguments)}function JL(n,e){return TT.apply(this,arguments)}function TT(){return TT=T(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=vo(t);t.C_.add(3),yield lu(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield nd(t)}),TT.apply(this,arguments)}function DT(){return DT=T(function*(n,e){const t=N(n);e?(t.C_.delete(2),yield nd(t)):e||(t.C_.add(2),yield lu(t),t.M_.set("Unknown"))}),DT.apply(this,arguments)}function hu(n){return n.O_||(n.O_=function(t,r,i){const o=N(t);return o.A_(),new Tne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:xne.bind(null,n),Io:Mne.bind(null,n),a_:Pne.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.O_.Yo(),pT(n)?fT(n):n.M_.set("Unknown")):(yield n.O_.stop(),KL(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Eo(n){return n.N_||(n.N_=function(t,r,i){const o=N(t);return o.A_(),new Cne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:One.bind(null,n),Io:Lne.bind(null,n),T_:Fne.bind(null,n),I_:Vne.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.N_.Yo(),yield du(n)):(yield n.N_.stop(),n.b_.length>0&&(R("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class AT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new AT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(n,e){if(gt("AsyncQueue",`${e}: ${n}`),ao(n))return new x(w.UNAVAILABLE,`${e}: ${n}`);throw n}class pu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||O.comparator(t.key,r.key):(t,r)=>O.comparator(t.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ZL{constructor(){this.B_=new Be(O.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):$():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class gu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new gu(e,t,pu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Une{constructor(){this.k_=void 0,this.listeners=[]}}class Bne{constructor(){this.queries=new Mi(e=>yV(e),Fl),this.onlineState="Unknown",this.q_=new Set}}function ST(n,e){return RT.apply(this,arguments)}function RT(){return RT=T(function*(n,e){const t=N(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Une),i)try{o.k_=yield t.onListen(r)}catch(s){const a=fu(s,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&PT(t)}),RT.apply(this,arguments)}function xT(n,e){return MT.apply(this,arguments)}function MT(){return MT=T(function*(n,e){const t=N(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),MT.apply(this,arguments)}function jne(n,e){const t=N(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&PT(t)}function $ne(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function PT(n){n.q_.forEach(e=>{e.next()})}class kT{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class n2{constructor(e){this.key=e}}class r2{constructor(e){this.key=e}}class o2{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=le(),this.mutatedKeys=le(),this._a=EV(e),this.aa=new pu(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new ZL,i=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Vl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==s.length||c?{snapshot:new gu(this.query,e.aa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new ZL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=le(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new r2(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new n2(r))}),t}da(e){this.ia=e.ls,this.oa=le();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return gu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class zne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wne{constructor(e){this.key=e,this.Ra=!1}}class qne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Mi(a=>yV(a),Fl),this.fa=new Map,this.ga=new Set,this.pa=new Be(O.comparator),this.ya=new Map,this.wa=new qw,this.Sa={},this.ba=new Map,this.Da=vs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Kne(n,e){return NT.apply(this,arguments)}function NT(){return NT=T(function*(n,e){const t=function r0(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xne.bind(null,e),e.Va.a_=jne.bind(null,e.eventManager),e.Va.Fa=$ne.bind(null,e.eventManager),e}(n);let r,i;const o=t.ma.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function uu(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(o=>o?(i=o,E.resolve(i)):t.qr.allocateTargetId(r).next(s=>(i=new ki(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,En(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function OT(n,e,t,r,i){return FT.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&lg(t.remoteStore,s)}return i}),NT.apply(this,arguments)}function FT(){return FT=T(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=T(function*(m,I,C,v){let M=I.view.ca(C);M.Zi&&(M=yield og(m.localStore,I.query,!1).then(({documents:Pn})=>I.view.ca(Pn,M)));const H=v&&v.targetChanges.get(I.targetId),K=v&&null!=v.targetMismatches.get(I.targetId),it=I.view.applyChanges(M,m.isPrimaryClient,H,K);return WT(m,I.targetId,it.Ta),it.snapshot}),function g(m,I,C,v){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield og(n.localStore,e,!0),s=new o2(e,o.ls),a=s.ca(o.documents),u=Gl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);WT(n,t,c.Ta);const l=new zne(e,t,s);return n.ma.set(e,l),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),FT.apply(this,arguments)}function Qne(n,e){return VT.apply(this,arguments)}function VT(){return VT=T(function*(n,e){const t=N(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(o=>!Fl(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rd(t.remoteStore,r.targetId),mu(t,r.targetId)}).catch(so))):(mu(t,r.targetId),yield cu(t.localStore,r.targetId,!0))}),VT.apply(this,arguments)}function LT(){return LT=T(function*(n,e,t){const r=function o0(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zne.bind(null,e),e}(n);try{const i=yield function(s,a){const u=N(s),c=rt.now(),l=a.reduce((f,p)=>f.add(p.key),le());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Mn(),g=le();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((I,C)=>{C.isValidDocument()||(g=g.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const I=[];for(const C of a){const v=Tte(C,d.get(C.key).overlayedDocument);null!=v&&I.push(new Pi(C.key,v,rV(v.value.mapValue),Je.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,I,a)}).next(m=>{h=m;const I=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,I)})}).then(()=>({batchId:h.batchId,changes:bV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new Be(te)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Ni(r,i.changes),yield du(r.remoteStore)}catch(i){const o=fu(i,"Failed to persist write");t.reject(o)}}),LT.apply(this,arguments)}function s2(n,e){return UT.apply(this,arguments)}function UT(){return UT=T(function*(n,e){const t=N(n);try{const r=yield function mne(n,e){const t=N(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Nt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,I=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,f))});let u=Mn(),c=le();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function VL(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mn();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(W.min())){const l=t.qr.getLastRemoteSnapshotVersion(o).next(d=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ts=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.ya.get(o);s&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?G(s.Ra):i.removedDocuments.size>0&&(G(s.Ra),s.Ra=!1))}),yield Ni(t,r,e)}catch(r){yield so(r)}}),UT.apply(this,arguments)}function a2(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=N(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&PT(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xne(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=T(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Be(O.comparator);s=s.insert(o,qe.newNoDocument(o,W.min()));const a=le().add(o),u=new Hl(W.min(),new Map,new Be(te),s,a);yield s2(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),qT(r)}else yield cu(r.localStore,e,!1).then(()=>mu(r,e,t)).catch(so)}),BT.apply(this,arguments)}function Jne(n,e){return jT.apply(this,arguments)}function jT(){return jT=T(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield function gne(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);G(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);zT(t,r,null),GT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ni(t,i)}catch(i){yield so(i)}}),jT.apply(this,arguments)}function Zne(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=T(function*(n,e,t){const r=N(n);try{const i=yield function(s,a){const u=N(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(G(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);zT(r,e,t),GT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ni(r,i)}catch(i){yield so(i)}}),$T.apply(this,arguments)}function GT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function zT(n,e,t){const r=N(n);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function mu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||u2(n,r)})}function u2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(rd(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),qT(n))}function WT(n,e,t){for(const r of t)r instanceof n2?(n.wa.addReference(r.key,e),tre(n,r)):r instanceof r2?(R("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||u2(n,r.key)):$()}function tre(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(R("SyncEngine","New document in limbo: "+t),n.ga.add(r),qT(n))}function qT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new O(be.fromString(e)),r=n.Da.next();n.ya.set(r,new Wne(t)),n.pa=n.pa.insert(t,r),lg(n.remoteStore,new ki(En(Qa(t.path)),r,"TargetPurposeLimboResolution",Qn._e))}}function Ni(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=T(function*(n,e,t){const r=N(n),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Jw.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=T(function*(c,l){const d=N(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ao(h))throw h;R("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),KT.apply(this,arguments)}function nre(n,e){return QT.apply(this,arguments)}function QT(){return QT=T(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield OL(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new x(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ni(t,r._s)}var o}),QT.apply(this,arguments)}function rre(n,e){const t=N(n),r=t.ya.get(e);if(r&&r.Ra)return le().add(r.key);{let i=le();const o=t.fa.get(e);if(!o)return i;for(const s of o){const a=t.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class hg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return T(function*(){t.serializer=td(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function NL(n,e,t,r){return new pne(n,e,t,r)}(this.persistence,new kL,e.initialUser,this.serializer)}createPersistence(e){return new Kw(ng.jr,this.serializer)}createSharedClientState(e){return new HL}terminate(){var e=this;return T(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _u{initialize(e,t){var r=this;return T(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>a2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nre.bind(null,r.syncEngine),yield function CT(n,e){return DT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bne}createDatastore(e){const t=td(e.databaseInfo.databaseId),r=new wne(e.databaseInfo);return new Dne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>a2(this.syncEngine,t,0),a=GL.D()?new GL:new Ene,new Rne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,l){const d=new qne(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=T(function*(r){const i=N(r);R("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield lu(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mre{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=NF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=T(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return T(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(T(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pg(n,e){return s0.apply(this,arguments)}function s0(){return s0=T(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=T(function*(o){r.isEqual(o)||(yield OL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),s0.apply(this,arguments)}function a0(n,e){return u0.apply(this,arguments)}function u0(){return u0=T(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function c0(n){return l0.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>JL(e.remoteStore,o)),n._onlineComponents=e}),u0.apply(this,arguments)}function l0(){return l0=T(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function p2(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;qn("Error using user provided cache. Falling back to memory cache: "+t),yield pg(n,new hg)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield pg(n,new hg);return n._offlineComponents}),l0.apply(this,arguments)}function gg(n){return d0.apply(this,arguments)}function d0(){return d0=T(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield a0(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield a0(n,new _u))),n._onlineComponents}),d0.apply(this,arguments)}function vu(n){return f0.apply(this,arguments)}function f0(){return f0=T(function*(n){const e=yield gg(n),t=e.eventManager;return t.onListen=Kne.bind(null,e.syncEngine),t.onUnlisten=Qne.bind(null,e.syncEngine),t}),f0.apply(this,arguments)}function E2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const I2=new Map;function p0(n,e,t){if(!t)throw new x(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function b2(n){if(!O.isDocumentKey(n))throw new x(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w2(n){if(O.isDocumentKey(n))throw new x(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mg(n);throw new x(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class C2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new x(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Are(n,e,t,r){if(!0===e&&!0===r)throw new x(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=E2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new wee;switch(r.type){case"firstParty":return new Aee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=I2.get(t);r&&(R("ComponentProvider","Removing Datastore"),I2.delete(t),r.terminate())}(this),Promise.resolve()}}class Jt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class _t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class Zr extends Jt{constructor(e,t,r){super(e,t,Qa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new O(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Rre(n,e,...t){if(n=Hr(n),p0("collection","path",e),n instanceof id){const r=be.fromString(e,...t);return w2(r),new Zr(n,null,r)}{if(!(n instanceof _t||n instanceof Zr))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return w2(r),new Zr(n.firestore,null,r)}}function D2(n,e,...t){if(n=Hr(n),1===arguments.length&&(e=NF.newId()),p0("doc","path",e),n instanceof id){const r=be.fromString(e,...t);return b2(r),new _t(n,null,new O(r))}{if(!(n instanceof _t||n instanceof Zr))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return b2(r),new _t(n.firestore,n instanceof Zr?n.converter:null,new O(r))}}class xre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new uT(this,"async_queue_retry"),this.iu=()=>{const t=cg();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=cg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new kt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return T(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!ao(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=AT.createAndSchedule(this,e,t,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&$()}verifyOperationInProgress(){}uu(){var e=this;return T(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class je extends id{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||S2(this),this._firestoreClient.terminate()}}function Pre(n,e){const r="string"==typeof n?n:e||"(default)",i=function qk(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:Qk(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$K("firestore");o&&function Sre(n,e,t,r={}){var i;const o=(n=ve(n,id))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ut.MOCK_USER;else{a=function GK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vf(JSON.stringify({alg:"none",type:"JWT"})),Vf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new x(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ut(c)}n._authCredentials=new Tee(new PF(a,u))}}(i,...o)}return i}function yt(n){return n._firestoreClient||S2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function S2(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rte(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,E2(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new mre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(Nt.fromBase64String(e))}catch(t){throw new x(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Is(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Eu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class M2{constructor(e){this._methodName=e}}class m0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Nre=/^__.*__$/;class Ore{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}function k2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class _g{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new _g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return vg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(k2(this.Iu)&&Nre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Fre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||td(e)}pu(e,t,r,i=!1){return new _g({Iu:e,methodName:t,gu:r,path:Xe.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(n){const e=n._freezeSettings(),t=td(n._databaseId);return new Fre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _0(n,e,t,r,i,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,i);v0("Data must be an object, but it was:",s,r);const a=L2(r,s);let u,c;if(o.merge)u=new xn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=ad(e,d,t);if(!s.contains(h))throw new x(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B2(l,h)||l.push(h)}u=new xn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Ore(new Xt(a),u,c)}function bs(n,e){if(U2(n=Hr(n)))return v0("Unsupported field value:",e,n),L2(n,e);if(n instanceof M2)return function(r,i){if(!k2(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=bs(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Hr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return DV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:nu(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nu(i.serializer,o)}}if(r instanceof m0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Is)return{bytesValue:qV(i.serializer,r._byteString)};if(r instanceof _t){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${mg(r)}`)}(n,e)}function L2(n,e){const t={};return KF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(n,(r,i)=>{const o=bs(i,e.Eu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function U2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof m0||n instanceof Is||n instanceof _t||n instanceof M2)}function v0(n,e,t){if(!U2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=mg(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function ad(n,e,t){if((e=Hr(e))instanceof Eu)return e._internalPath;if("string"==typeof e)return yg(n,e);throw vg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bre=new RegExp("[~\\*/\\[\\]]");function yg(n,e,t){if(e.search(Bre)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eu(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new x(w.INVALID_ARGUMENT,a+n+u)}function B2(n,e){return n.some(t=>t.isEqual(e))}class E0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jre extends E0{data(){return super.data()}}function Eg(n,e){return"string"==typeof e?yg(n,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}class I0{}class $re extends I0{}function Hre(n,e,...t){let r=[];e instanceof I0&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof bu).length,a=o.filter(u=>u instanceof ud).length;if(s>1||s>0&&a>0)throw new x(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ud extends $re{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ud(e,t,r)}_apply(e){const t=this._parse(e);return z2(e._query,t),new Jt(e.firestore,e.converter,Sw(e._query,t))}_parse(e){const t=Iu(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new x(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){G2(d,l);const f=[];for(const p of d)f.push(H2(u,o,p));h={arrayValue:{values:f}}}else h=H2(u,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||G2(d,l),h=function V2(n,e,t,r=!1){return bs(t,n.pu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return ye.create(c,l,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class bu extends I0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Pe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)z2(s,u),s=Sw(s,u)}(e._query,t),new Jt(e.firestore,e.converter,Sw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function H2(n,e,t){if("string"==typeof(t=Hr(t))){if(""===t)throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&-1!==t.indexOf("/"))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(be.fromString(t));if(!O.isDocumentKey(r))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ls(n,new O(r))}if(t instanceof _t)return ls(n,t._key);throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(t)}.`)}function G2(n,e){if(!Array.isArray(n)||0===n.length)throw new x(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z2(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new x(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Gre{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return uo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new m0(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const t=co(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=be.fromString(e);G(rL(r));const i=new cs(r.get(1),r.get(3)),o=new O(r.popFirst(5));return i.isEqual(t)||gt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class ws{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wu extends E0{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Tg extends wu{data(e={}){return super.data(e)}}class Tu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tg(this._firestore,this._userDataWriter,r.key,r,new ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Wre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function qre(n){n=ve(n,_t);const e=ve(n.firestore,je);return function y2(n,e,t={}){const r=new kt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new fg({next:h=>{s.enqueueAndForget(()=>xT(o,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new x(w.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new x(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new kT(Qa(a.path),l,{includeMetadataChanges:!0,J_:!0});return ST(o,d)}(yield vu(n),n.asyncQueue,e,t,r)})),r.promise}(yt(e),n._key).then(t=>function T0(n,e,t){const r=t.docs.get(e._key),i=new Io(n);return new wu(n,i,e._key,r,new ws(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Io extends Gre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function Kre(n){n=ve(n,Jt);const e=ve(n.firestore,je),t=yt(e),r=new Io(e);return function j2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new x(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function v2(n,e,t={}){const r=new kt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new fg({next:h=>{s.enqueueAndForget(()=>xT(o,d)),h.fromCache&&"server"===u.source?c.reject(new x(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new kT(a,l,{includeMetadataChanges:!0,J_:!0});return ST(o,d)}(yield vu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Tu(e,r,n,i))}function Qre(n,e,t){n=ve(n,_t);const r=ve(n.firestore,je),i=function w0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return function cd(n,e){return function(r,i){const o=new kt;return r.asyncQueue.enqueueAndForget(T(function*(){return function Yne(n,e,t){return LT.apply(this,arguments)}(yield function h0(n){return gg(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(yt(n),e)}(r,[_0(Iu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Je.none())])}!function(e,t=!0){ja=Hf,Ra(new qo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new je(new Cee(r.getProvider("auth-internal")),new See(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new x(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),sr(MF,"4.4.0",e),sr(MF,"4.4.0","esm2017")}();class Ag{constructor(e){return e}}const Y2="firestore",D0=new F("angularfire2.firestore-instances");function lie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ag(r)}}const die={provide:class uie{constructor(){return pE(Y2)}},deps:[[new nn,D0]]},hie={provide:Ag,useFactory:function cie(n,e){const t=function oN(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Y2,n,e);return t&&new Ag(t)},deps:[[new nn,D0],Wc]};let fie=(()=>{class n{constructor(){sr("angularfire",fE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ft({type:n});static \u0275inj=At({providers:[hie,die]})}return n})();function pie(n,...e){return{ngModule:fie,providers:[{provide:D0,useFactory:lie(n),multi:!0,deps:[Ye,$n,aN,uN,[new nn,fO],[new nn,vY],...e]}]}}const X2=eo(Rre,!0),bo=eo(D2,!0),Sg=eo(qre,!0),J2=eo(Kre,!0),gie=eo(Pre,!0),mie=eo(Hre,!0),Rg=eo(Qre,!0);let xg=(()=>{class n{constructor(t){this.firestore=t}createClient(t,r,i){var o=this;return T(function*(){return t.dateCreation=new Date,o.getCaisseData().then(s=>(Rg(bo(o.firestore,"client",(s.lastFactureId+1).toString()),t),Rg(bo(o.firestore,"facture",(s.lastFactureId+1).toString()),r),Rg(bo(o.firestore,"entete","1"),i),Rg(bo(o.firestore,"general","1"),{caisse:s.caisse,lastFactureId:s.lastFactureId+1}),!0)).catch(s=>!1),!0})()}readClients(){var t=this;return T(function*(){let r=[];return(yield J2(mie(X2(t.firestore,"client")))).docs.map(i=>{r.push(i.data())}),r})()}readClient(t){var r=this;return T(function*(){console.log(t);var i=bo(r.firestore,"client",t),o=yield Sg(i),s=bo(r.firestore,"facture",t),a=yield Sg(s),u=bo(r.firestore,"entete","1"),c=yield Sg(u);return{client:o.data(),facture:a.data(),entete:c.data()}})()}getCollectionData(){var t=this;return T(function*(){(yield J2(X2(t.firestore,"client"))).forEach(i=>{console.log(i.id," => ",i.data())})})()}getCaisseData(){var t=this;return T(function*(){const r=bo(t.firestore,"general","1");return(yield Sg(r)).data()})()}static#e=this.\u0275fac=function(r){return new(r||n)(L(Ag))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _ie(n,e){if(1&n&&(_(0,"div")(1,"div"),b(2),y()()),2&n){const t=e.$implicit;U(2),x_("",t.name," ",t.prenom," ",t.age,"")}}let yie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(S(qt),S(xg))};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"div")(1,"h1",0),b(2,"Factures"),y(),_(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),Ee("click",function(){return i.goToFacture()}),_(7,"h2",4),b(8,"Facture 1"),y(),_(9,"h3",5),b(10,"Client 1"),y()()()(),_(11,"div")(12,"div",2)(13,"div",3),Ee("click",function(){return i.goToFacture()}),_(14,"h2",4),b(15,"Facture 2"),y(),_(16,"h3",5),b(17,"Client 2"),y()()()(),_(18,"div")(19,"div",2)(20,"div",3),Ee("click",function(){return i.goToFacture()}),_(21,"h2",4),b(22,"Facture 3"),y(),_(23,"h3",5),b(24,"Client 3"),y()()()()()(),Ke(25,_ie,3,3,"div",6)),2&r&&(U(25),ge("ngForOf",i.clients))},dependencies:[gc]})}return n})();function vie(n,e){if(1&n&&(_(0,"p",34),b(1),_(2,"span",8),b(3),y()()),2&n){const t=ce().$implicit,r=ce();U(1),ke("",t," : "),U(2),ke(" ",r.champsClientValue[t],"")}}function Eie(n,e){if(1&n&&(Dn(0),Ke(1,vie,4,2,"p",33),An()),2&n){const t=e.$implicit;U(1),ge("ngIf","dateCreation"!=t&&"Nombre_Colis"!=t)}}function Iie(n,e){if(1&n&&(_(0,"td",41),b(1),y()),2&n){const t=ce(2).$implicit,r=ce();U(1),ke("",r.champsClientValueFacture[t]," DA")}}function bie(n,e){1&n&&(_(0,"td",41),b(1,"--"),y())}function wie(n,e){if(1&n&&(_(0,"tr",36)(1,"td",37)(2,"div",38),b(3),y()(),_(4,"td",39),b(5,"--"),y(),_(6,"td",39),b(7,"--"),y(),Ke(8,Iie,2,1,"td",40),Ke(9,bie,2,0,"td",40),y()),2&n){const t=ce().$implicit,r=ce();U(3),hi(t),U(5),ge("ngIf",""!=r.champsClientValueFacture[t]),U(1),ge("ngIf",""==r.champsClientValueFacture[t])}}function Tie(n,e){if(1&n&&(Dn(0),Ke(1,wie,10,3,"tr",35),An()),2&n){const t=e.$implicit;U(1),ge("ngIf","dateCreation"!=t)}}let Cie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.champsTitleValue={},this.champsClientValue={},this.champsClientValueFacture={},this.champsClient=[],this.champsFacture=[]}ngOnInit(){this.client.readClient(this.route.snapshot.params.data).then(r=>{this.extraireClesEtValeurs(r.client,"client"),this.extraireClesEtValeurs(r.facture,"facture"),this.extraireClesEtValeurs(r.entete,"entete")})}imprimer(){window.print()}listeTriees(t){return t.slice().sort((r,i)=>r.localeCompare(i))}extraireClesEtValeurs(t,r){if("client"==r)for(const[i,o]of Object.entries(t))this.champsClient.push(i),this.champsClientValue[i]=o;if("facture"==r)for(const[i,o]of Object.entries(t))this.champsFacture.push(i),this.champsClientValueFacture[i]=o;else for(const[i,o]of Object.entries(t))this.champsTitleValue[i]=o}static#e=this.\u0275fac=function(r){return new(r||n)(S(Wo),S(xg))};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-facture-view"]],decls:92,vars:10,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[4,"ngFor","ngForOf"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-6","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-6","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-6","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-4","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],["class","border-b border-gray-200",4,"ngIf"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"button",1),Ee("click",function(){return i.imprimer()}),b(2,"Print"),y()(),_(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),b(7),y(),_(8,"p",6),b(9),y(),_(10,"p",7),b(11),y(),_(12,"p",7)(13,"span",8),b(14,"RCN :"),y(),b(15),_(16,"span",8),b(17," / NIF :"),y(),b(18),y()(),_(19,"div",9)(20,"p",10),b(21),y(),_(22,"p",6)(23,"span",8),b(24,"Declaration:"),y(),b(25),y(),_(26,"p",6)(27,"span",8),b(28,"Nombre de Colis:"),y(),b(29),y()(),_(30,"div",11),xe(31,"img",12),y()(),_(32,"div",13)(33,"div"),Ke(34,Eie,2,1,"ng-container",14),y()(),_(35,"div",15)(36,"table",16)(37,"colgroup"),xe(38,"col",17)(39,"col",18)(40,"col",18)(41,"col",18),y(),_(42,"thead",19)(43,"tr")(44,"th",20),b(45,"Items"),y(),_(46,"th",21),b(47,"Quantity"),y(),_(48,"th",21),b(49,"Price"),y(),_(50,"th",22),b(51,"Amount"),y()()(),_(52,"tbody"),Ke(53,Tie,2,1,"ng-container",14),y(),_(54,"tfoot")(55,"tr")(56,"th",23),b(57,"Total Debours"),y(),_(58,"th",24),b(59,"Total Debours"),y(),_(60,"td",25),b(61,"10,500.00 DA"),y()(),_(62,"tr")(63,"th",23),b(64,"Honoraires"),y(),_(65,"th",24),b(66,"Honoraires"),y(),_(67,"td",25),b(68,"1,795.00 DA"),y()(),_(69,"tr")(70,"th",26),b(71,"TVA 9%"),y(),_(72,"th",27),b(73,"TVA 9%"),y(),_(74,"td",28),b(75,"--"),y()(),_(76,"tr")(77,"th",26),b(78,"Timbre"),y(),_(79,"th",27),b(80,"Timbre"),y(),_(81,"td",28),b(82,"--"),y()(),_(83,"tr")(84,"th",29),b(85,"NET A PAYER"),y(),_(86,"th",30),b(87,"NET A PAYER"),y(),_(88,"td",31),b(89,"11,550.00 DA"),y()()()()(),_(90,"div",32),b(91," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),y()()),2&r&&(U(7),ke(" ",i.champsTitleValue.Name," "),U(2),ke(" ",i.champsTitleValue.Adresse," "),U(2),ke(" ",i.champsTitleValue["Tel/Fax"]," "),U(4),ke("",i.champsTitleValue.RCN," "),U(3),ke(" ",i.champsTitleValue.NIF," "),U(3),ke(" ",i.champsTitleValue.Date," "),U(4),ke(" ",i.champsTitleValue.Declaration," "),U(4),ke(" ",i.champsClientValue.Nombre_Colis," "),U(5),ge("ngForOf",i.listeTriees(i.champsClient)),U(19),ge("ngForOf",i.listeTriees(i.champsFacture)))},dependencies:[gc,Cy],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function Die(n,e){if(1&n){const t=Or();Dn(0),_(1,"tr")(2,"td",23)(3,"div",24),gn(),_(4,"svg",25),xe(5,"path",26),y()()(),Ln(),_(6,"td",27),b(7),y(),_(8,"td",28)(9,"div",29)(10,"div")(11,"h2",30),b(12),y()()()(),_(13,"td",31),b(14),function kR(n,e){const t=Ie();let r;const i=n+He;t.firstCreatePass?(r=function q5(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ao(r.type)),s=Xn(S);try{const a=Ld(!1),u=o();return Ld(a),function N3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{Xn(s)}}(15,"date"),y(),_(16,"td",32)(17,"button",33),Ee("click",function(){const o=St(t).$implicit;return Rt(ce().goToFacture(o.FactureNumber))}),gn(),_(18,"svg",34),xe(19,"path",35),y()(),Ln(),_(20,"button",36),gn(),_(21,"svg",25),xe(22,"path",37),y()()()(),An()}if(2&n){const t=e.$implicit;U(7),ke(" ",t.FactureNumber," "),U(5),hi(t.Name),U(2),hi(NR(15,3,t.dateCreation,"medium"))}}let Aie=(()=>{class n{constructor(t,r){this.route=t,this.clientService=r,this.clients=[]}ngOnInit(){this.getClients()}getClients(){this.clientService.readClients().then(t=>{this.clients=t,console.log(this.clients),this.clients.forEach(r=>{r.dateCreation=new Date(1e3*r.dateCreation.seconds),console.log(1e3*r.dateCreation.seconds)})})}goToFacture(t){this.route.navigate(["/facture-view",{data:t}])}static#e=this.\u0275fac=function(r){return new(r||n)(S(qt),S(xg))};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-factures-close"]],decls:49,vars:1,consts:[[1,"container","px-4","mx-auto"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mt-6"],["href","#",1,"flex","items-center","px-5","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","rtl:-scale-x-100"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"],[1,"items-center","hidden","md:flex","gap-x-3"],["href","#",1,"px-2","py-1","text-sm","text-blue-500","rounded-md","dark:bg-gray-800","bg-blue-100/60"],["href","#",1,"px-2","py-1","text-sm","text-gray-500","rounded-md","dark:hover:bg-gray-800","dark:text-gray-300","hover:bg-gray-100"],["stroke-linecap","round","stroke-linejoin","round","d","M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"],[1,"flex","items-center","justify-center","text-center","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(_(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),b(9," Type "),y(),_(10,"th",7),b(11," Facture N\xb0 "),y(),_(12,"th",8)(13,"div",9)(14,"span"),b(15,"Nom ou Raison sociale"),y()()(),_(16,"th",10),b(17," Date "),y(),_(18,"th",11)(19,"span",12),b(20,"Edit"),y()()()(),_(21,"tbody",13),Ke(22,Die,23,6,"ng-container",14),y()()()()()(),_(23,"div",15)(24,"a",16),gn(),_(25,"svg",17),xe(26,"path",18),y(),Ln(),_(27,"span"),b(28," previous "),y()(),_(29,"div",19)(30,"a",20),b(31,"1"),y(),_(32,"a",21),b(33,"2"),y(),_(34,"a",21),b(35,"3"),y(),_(36,"a",21),b(37,"..."),y(),_(38,"a",21),b(39,"12"),y(),_(40,"a",21),b(41,"13"),y(),_(42,"a",21),b(43,"14"),y()(),_(44,"a",16)(45,"span"),b(46," Next "),y(),gn(),_(47,"svg",17),xe(48,"path",22),y()()()()),2&r&&(U(22),ge("ngForOf",i.clients))},dependencies:[gc,oM]})}return n})();function Sie(n,e){if(1&n){const t=Or();Dn(0),_(1,"div")(2,"label",17),b(3),y(),_(4,"input",18),Ee("ngModelChange",function(i){const s=St(t).$implicit;return Rt(ce(2).champsTitleValue[s]=i)}),y()(),An()}if(2&n){const t=e.$implicit,r=ce(2);U(3),hi(t),U(1),ge("ngModel",r.champsTitleValue[t])}}function Rie(n,e){if(1&n){const t=Or();Dn(0),_(1,"h2",9),b(2,"Create L'entete de facture"),y(),_(3,"div",10),Ke(4,Sie,5,2,"ng-container",11),y(),_(5,"div",12)(6,"div",13)(7,"input",14),Ee("ngModelChange",function(i){return St(t),Rt(ce().newChamp=i)}),y(),_(8,"button",15),Ee("click",function(){return St(t),Rt(ce().addChamp())}),b(9,"Ajouter un champ"),y()(),_(10,"button",16),Ee("click",function(){return St(t),Rt(ce().nextStep())}),b(11,"Save"),y()(),An()}if(2&n){const t=ce();U(4),ge("ngForOf",t.champsTitle),U(3),ge("ngModel",t.newChamp),U(1),ge("disabled",""==t.newChamp)}}function xie(n,e){if(1&n){const t=Or();_(0,"input",23),Ee("ngModelChange",function(i){St(t);const o=ce().$implicit;return Rt(ce(2).champsClientValue[o]=i)}),y()}if(2&n){const t=ce().$implicit;ge("ngModel",ce(2).champsClientValue[t])}}function Mie(n,e){if(1&n){const t=Or();_(0,"input",24),Ee("ngModelChange",function(i){return St(t),Rt(ce(3).factureNumber=i)}),y()}2&n&&ge("ngModel",ce(3).factureNumber)}function Pie(n,e){if(1&n&&(Dn(0),_(1,"div")(2,"label",20),b(3),y(),Ke(4,xie,1,1,"input",21),Ke(5,Mie,1,1,"input",22),y(),An()),2&n){const t=e.$implicit;U(3),hi(t),U(1),ge("ngIf","FactureNumber"!=t),U(1),ge("ngIf","FactureNumber"==t)}}function kie(n,e){if(1&n){const t=Or();Dn(0),_(1,"h2",9),b(2,"Create L'entete de facture"),y(),_(3,"div",10),Ke(4,Pie,6,3,"ng-container",11),y(),_(5,"div",12)(6,"div",13)(7,"input",14),Ee("ngModelChange",function(i){return St(t),Rt(ce().newChamp=i)}),y(),_(8,"button",15),Ee("click",function(){return St(t),Rt(ce().addChamp())}),b(9,"Ajouter un champ"),y()(),_(10,"button",19),Ee("click",function(){return St(t),Rt(ce().previousStep())}),b(11,"pr\xe9c\xe9dent"),y(),_(12,"button",16),Ee("click",function(){return St(t),Rt(ce().nextStep())}),b(13,"Save"),y()(),An()}if(2&n){const t=ce();U(4),ge("ngForOf",t.champsClient),U(3),ge("ngModel",t.newChamp),U(1),ge("disabled",""==t.newChamp)}}function Nie(n,e){if(1&n){const t=Or();_(0,"div")(1,"label",26),b(2),y(),_(3,"input",27),Ee("ngModelChange",function(i){const s=St(t).$implicit;return Rt(ce(2).champsClientValueFacture[s]=i)}),y()()}if(2&n){const t=e.$implicit,r=ce(2);U(2),hi(t),U(1),ge("ngModel",r.champsClientValueFacture[t])}}function Oie(n,e){if(1&n){const t=Or();Dn(0),_(1,"h2",9),b(2,"Create facture"),y(),_(3,"div",10),Ke(4,Nie,4,2,"div",11),y(),_(5,"div",12)(6,"div",13)(7,"input",25),Ee("ngModelChange",function(i){return St(t),Rt(ce().newChamp=i)}),y(),_(8,"button",15),Ee("click",function(){return St(t),Rt(ce().addChampFacture())}),b(9,"Ajouter un champ"),y()(),_(10,"button",19),Ee("click",function(){return St(t),Rt(ce().previousStep())}),b(11,"pr\xe9c\xe9dent"),y(),_(12,"button",16),Ee("click",function(){return St(t),Rt(ce().nextStep())}),b(13,"Save"),y()(),An()}if(2&n){const t=ce();U(4),ge("ngForOf",t.champsFacture),U(3),ge("ngModel",t.newChamp),U(1),ge("disabled",""==t.newChamp)}}function Fie(n,e){if(1&n&&(_(0,"p",61),b(1),_(2,"span",36),b(3),y()()),2&n){const t=ce().$implicit,r=ce(2);U(1),ke("",t," : "),U(2),ke(" ",r.champsClientValue[t],"")}}function Vie(n,e){if(1&n&&(_(0,"p",61),b(1),_(2,"span",36),b(3),y()()),2&n){const t=ce().$implicit,r=ce(2);U(1),ke("",t," : "),U(2),ke("REV N\xb0 ",r.champsClientValue[t]," ")}}function Lie(n,e){if(1&n&&(Dn(0),Ke(1,Fie,4,2,"p",60),Ke(2,Vie,4,2,"p",60),An()),2&n){const t=e.$implicit;U(1),ge("ngIf","FactureNumber"!=t&&"Nombre_Colis"!=t),U(1),ge("ngIf","FactureNumber"==t)}}function Uie(n,e){if(1&n&&(_(0,"td",67),b(1),y()),2&n){const t=ce().$implicit,r=ce(2);U(1),ke("",r.champsClientValueFacture[t]," DA")}}function Bie(n,e){1&n&&(_(0,"td",67),b(1,"--"),y())}function jie(n,e){if(1&n&&(Dn(0),_(1,"tr",62)(2,"td",63)(3,"div",64),b(4),y()(),_(5,"td",65),b(6,"--"),y(),_(7,"td",65),b(8,"--"),y(),Ke(9,Uie,2,1,"td",66),Ke(10,Bie,2,0,"td",66),y(),An()),2&n){const t=e.$implicit,r=ce(2);U(4),hi(t),U(5),ge("ngIf",""!=r.champsClientValueFacture[t]),U(1),ge("ngIf",""==r.champsClientValueFacture[t])}}function $ie(n,e){if(1&n){const t=Or();Dn(0),_(1,"div",28)(2,"button",29),Ee("click",function(){return St(t),Rt(ce().previousStep())}),b(3,"pr\xe9c\xe9dent"),y(),_(4,"button",16),Ee("click",function(){return St(t),Rt(ce().stock())}),b(5,"Stocker"),y()(),_(6,"div",30)(7,"div",31)(8,"div",32)(9,"p",33),b(10),y(),_(11,"p",34),b(12),y(),_(13,"p",35),b(14),y(),_(15,"p",35)(16,"span",36),b(17,"RCN :"),y(),b(18),_(19,"span",36),b(20," / NIF :"),y(),b(21),y()(),_(22,"div",37)(23,"p",38),b(24),y(),_(25,"p",34)(26,"span",36),b(27,"Declaration:"),y(),b(28),y(),_(29,"p",34)(30,"span",36),b(31,"Nombre de Colis:"),y(),b(32),y()(),_(33,"div",39),xe(34,"img",40),y()(),_(35,"div",41)(36,"div"),Ke(37,Lie,3,2,"ng-container",11),y()(),_(38,"div",42)(39,"table",43)(40,"colgroup"),xe(41,"col",44)(42,"col",45)(43,"col",45)(44,"col",45),y(),_(45,"thead",46)(46,"tr")(47,"th",47),b(48,"Items"),y(),_(49,"th",48),b(50,"Quantity"),y(),_(51,"th",48),b(52,"Price"),y(),_(53,"th",49),b(54,"Amount"),y()()(),_(55,"tbody"),Ke(56,jie,11,3,"ng-container",11),y(),_(57,"tfoot")(58,"tr")(59,"th",50),b(60,"Total Debours"),y(),_(61,"th",51),b(62,"Total Debours"),y(),_(63,"td",52),b(64,"10,500.00 DA"),y()(),_(65,"tr")(66,"th",50),b(67,"Honoraires"),y(),_(68,"th",51),b(69,"Honoraires"),y(),_(70,"td",52),b(71,"1,795.00 DA"),y()(),_(72,"tr")(73,"th",53),b(74,"TVA 9%"),y(),_(75,"th",54),b(76,"TVA 9%"),y(),_(77,"td",55),b(78,"--"),y()(),_(79,"tr")(80,"th",53),b(81,"Timbre"),y(),_(82,"th",54),b(83,"Timbre"),y(),_(84,"td",55),b(85,"--"),y()(),_(86,"tr")(87,"th",56),b(88,"NET A PAYER"),y(),_(89,"th",57),b(90,"NET A PAYER"),y(),_(91,"td",58),b(92,"11,550.00 DA"),y()()()()(),_(93,"div",59),b(94," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),y()(),An()}if(2&n){const t=ce();U(10),ke(" ",t.champsTitleValue.Name," "),U(2),ke(" ",t.champsTitleValue.Adresse," "),U(2),ke(" ",t.champsTitleValue["Tel/Fax"]," "),U(4),ke("",t.champsTitleValue.RCN," "),U(3),ke(" ",t.champsTitleValue.NIF," "),U(3),ke(" ",t.champsTitleValue.Date," "),U(4),ke(" ",t.champsTitleValue.Declaration," "),U(4),ke(" ",t.champsClientValue.Nombre_Colis," "),U(5),ge("ngForOf",t.champsClient),U(19),ge("ngForOf",t.champsFacture)}}const Hie=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:xK},{path:"factures",component:yie},{path:"facture-view",component:Cie},{path:"facture-close",component:Aie},{path:"facture-create",component:(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitle=["Name","Date","Adresse","Tel/Fax","Declaration","RCN","NIF"],this.champsTitleValue={},this.champsClient=["Name","Adresse","FactureNumber","Origine","Nature de Marchandise","Nombre_Colis"],this.champsClientValue={},this.newChamp="",this.factureNumber=0,this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes"],this.champsClientValueFacture={},this.newChampFacture="",this.width="w-2",this.color=["text-blue-600","","",""],this.step=0}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]=""})}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]="",this.newChamp=""}nextStep(){switch(this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.checkFactureNumber()&&(this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""]);break;case 3:this.champsClientValue.FactureNumber=this.factureNumber+"",this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.service.getCaisseData().then(t=>{this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.factureNumber=t.lastFactureId+1})}stock(){this.champsClientValue.FactureNumber=this.factureNumber+"",this.service.createClient(this.champsClientValue,this.champsClientValueFacture,this.champsTitleValue).then(t=>{console.log(t),1==t?1==confirm("la facture a ete cree avec succes")&&this.route.navigate(["/facture-view",{data:this.champsClientValue.FactureNumber}]):confirm("la facture na pas ete cree il peut quelle existe deja")})}checkFactureNumber(){return"number"==typeof this.factureNumber||(alert("le nombre de facture il faut quil etre un nombre"),this.step--,!1)}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)(S(qt),S(xg))};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["for","",1,"text-black","dark:text-gray-200"],["required","","id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],["for","",1,"text-gray-700","dark:text-gray-200"],["id","","type","text","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","number","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["id","","type","number",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-6","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-6","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-6","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-4","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(_(0,"div")(1,"div",0)(2,"div",1),xe(3,"div"),y(),_(4,"ol",2)(5,"li")(6,"span",3),b(7,"Entete"),y(),gn(),_(8,"svg",4),xe(9,"path",5),y()(),Ln(),_(10,"li")(11,"span",3),b(12,"Client"),y(),gn(),_(13,"svg",4),xe(14,"path",5),y()(),Ln(),_(15,"li")(16,"span",3),b(17,"Commandes"),y(),gn(),_(18,"svg",4),xe(19,"path",5),y()(),Ln(),_(20,"li")(21,"span",3),b(22,"Facture final"),y(),gn(),_(23,"svg",4),xe(24,"path",6),y()()()()(),Ln(),_(25,"section",7),Ke(26,Rie,12,3,"ng-container",8),Ke(27,kie,14,3,"ng-container",8),Ke(28,Oie,14,3,"ng-container",8),Ke(29,$ie,95,10,"ng-container",8),y()),2&r&&(U(3),sa("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),U(2),sa("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),U(5),sa("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),U(5),sa("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),U(5),sa("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),U(6),ge("ngIf",0==i.step),U(1),ge("ngIf",1==i.step),U(1),ge("ngIf",2==i.step),U(1),ge("ngIf",3==i.step))},dependencies:[gc,Cy,ef,pv,B1,ff,fv]})}return n})()},{path:"caisse",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-caisse"]],decls:18,vars:0,consts:[[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-2xl","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6","sm:justify-between"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600","sm:order-last"]],template:function(r,i){1&r&&(_(0,"article",0)(1,"span",1),gn(),_(2,"svg",2),xe(3,"path",3),y()(),Ln(),_(4,"div")(5,"p",4),b(6,"$240.94"),y(),_(7,"p",5),b(8,"Total Sales"),y()()(),_(9,"article",6)(10,"span",7),gn(),_(11,"svg",2),xe(12,"path",3),y()(),Ln(),_(13,"div")(14,"p",4),b(15,"$240.94"),y(),_(16,"p",5),b(17,"Total Sales"),y()()())}})}return n})()}];let Gie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ft({type:n});static#n=this.\u0275inj=At({imports:[Sk.forRoot(Hie),Sk]})}return n})(),zie=(()=>{class n{constructor(t){this.route=t}ngOnInit(){}goToFactures(){this.route.navigate(["/facture-close"])}static#e=this.\u0275fac=function(r){return new(r||n)(S(qt))};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-navbar"]],decls:23,vars:0,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],["onclick","desktopMenuOpen = ! desktopMenuOpen",1,"ml-5","flex","h-full","w-40","cursor-pointer","items-center","justify-center","bg-amber-400"],["href","#",1,"flex","justify-around"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-1","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","about-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"ml-auto","flex","gap-4","px-5"],["href","login.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"],[1,"text-white"],["href","sign-up.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"]],template:function(r,i){1&r&&(_(0,"nav",0)(1,"div",1)(2,"button",2)(3,"div",3),gn(),_(4,"svg",4),xe(5,"path",5),y(),b(6," All categories "),y()(),Ln(),_(7,"div",6)(8,"a",7),b(9,"Home"),y(),_(10,"a",8),Ee("click",function(){return i.goToFactures()}),b(11,"Factures"),y(),_(12,"a",9),b(13,"Clients"),y(),_(14,"a",10),b(15,"Contact Us"),y()(),_(16,"div",11)(17,"a",12),b(18,"Login"),y(),_(19,"span",13),b(20,"|"),y(),_(21,"a",14),b(22,"Sign Up"),y()()()())},styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}@media (max-width: 300px){button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}}"]})}return n})(),Wie=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),b(1,"footer works!"),y())}})}return n})(),qie=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-header-search"]],decls:13,vars:0,consts:[[1,"mx-auto","flex","h-16","max-w-[1200px]","items-center","justify-between","px-5"],["href","index.html"],["src","assets/elite-logo.png","alt","company logo",1,"cursor-pointer","h-16","w-20"],[1,"md:hidden"],["onclick","mobileMenuOpen = ! mobileMenuOpen"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"hidden","h-9","w-2/5","items-center","border","md:flex","rounded","overflow-hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-3","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","search","placeholder","Search",1,"hidden","w-11/12","outline-none","md:block"],[1,"ml-auto","h-full","bg-amber-400","px-4","hover:bg-yellow-300"]],template:function(r,i){1&r&&(_(0,"header",0)(1,"a",1),xe(2,"img",2),y(),_(3,"div",3)(4,"button",4),gn(),_(5,"svg",5),xe(6,"path",6),y()()(),Ln(),_(7,"div",7),gn(),_(8,"svg",8),xe(9,"path",9),y(),Ln(),xe(10,"input",10),_(11,"button",11),b(12," Search "),y()()())},styles:["button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})(),Kie=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Jn({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"print"]],template:function(r,i){1&r&&xe(0,"app-header-search",0)(1,"app-navbar",0)(2,"router-outlet")(3,"app-footer",0)},dependencies:[Vv,zie,Wie,qie],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const Yie={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};let Xie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Ft({type:n,bootstrap:[Kie]});static#n=this.\u0275inj=At({imports:[O9,Gie,JW,WW,ZW,tq,MY(()=>PY(Yie)),pie(()=>gie())]})}return n})();N9().bootstrapModule(Xie).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=597)}]);