"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{92:()=>{function Ne(n){return"function"==typeof n}function bc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const _h=bc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ma(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class yn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof _h?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{KD(s)}catch(o){e=e??[],o instanceof _h?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _h(e)}}add(e){var t;if(e&&e!==this)if(this.closed)KD(e);else{if(e instanceof yn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ma(t,e)}remove(e){const{_finalizers:t}=this;t&&ma(t,e),e instanceof yn&&e._removeParent(this)}}yn.EMPTY=(()=>{const n=new yn;return n.closed=!0,n})();const WD=yn.EMPTY;function qD(n){return n instanceof yn||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function KD(n){Ne(n)?n():n.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yh={setTimeout(n,e,...t){const{delegate:r}=yh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=yh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function QD(n){yh.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw n;e(n)})}function n_(){}const R3=r_("C",void 0,void 0);function r_(n,e,t){return{kind:n,value:e,error:t}}let lo=null;function vh(n){if(ao.useDeprecatedSynchronousErrorHandling){const e=!lo;if(e&&(lo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=lo;if(lo=null,t)throw r}}else n()}class i_ extends yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qD(e)&&e.add(this)):this.destination=V3}static create(e,t,r){return new Ec(e,t,r)}next(e){this.isStopped?o_(function P3(n){return r_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?o_(function M3(n){return r_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?o_(R3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O3=Function.prototype.bind;function s_(n,e){return O3.call(n,e)}class N3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bh(r)}else bh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bh(t)}}}class Ec extends i_{constructor(e,t,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&s_(e.next,s),error:e.error&&s_(e.error,s),complete:e.complete&&s_(e.complete,s)}):i=e}this.destination=new N3(i)}}function bh(n){ao.useDeprecatedSynchronousErrorHandling?function k3(n){ao.useDeprecatedSynchronousErrorHandling&&lo&&(lo.errorThrown=!0,lo.error=n)}(n):QD(n)}function o_(n,e){const{onStoppedNotification:t}=ao;t&&yh.setTimeout(()=>t(n,e))}const V3={closed:!0,next:n_,error:function F3(n){throw n},complete:n_},a_="function"==typeof Symbol&&Symbol.observable||"@@observable";function gs(n){return n}function YD(n){return 0===n.length?gs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function U3(n){return n&&n instanceof i_||function B3(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&qD(n)}(t)?t:new Ec(t,r,i);return vh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=XD(r))((i,s)=>{const o=new Ec({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[a_](){return this}pipe(...t){return YD(t)(this)}toPromise(t){return new(t=XD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function XD(n){var e;return null!==(e=n??ao.Promise)&&void 0!==e?e:Promise}const j3=bc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ut=(()=>{class n extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ZD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new j3}next(t){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?WD:(this.currentObservers=null,s.push(t),new yn(()=>{this.currentObservers=null,ma(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return n.create=(e,t)=>new ZD(e,t),n})();class ZD extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:WD}}function JD(n){return Ne(n?.lift)}function Tt(n){return e=>{if(JD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,e,t,r,i){return new $3(n,e,t,r,i)}class $3 extends i_{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return Tt((t,r)=>{let i=0;t.subscribe(mt(r,s=>{r.next(n.call(e,s,i++))}))})}function u_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ms(n){return this instanceof ms?(this.v=n,this):new ms(n)}function rA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function h_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const f_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function iA(n){return Ne(n?.then)}function sA(n){return Ne(n[a_])}function oA(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function aA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lA=function cj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cA(n){return Ne(n?.[lA])}function uA(n){return function nA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ms?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ms(t.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{t.releaseLock()}})}function dA(n){return Ne(n?.getReader)}function Hn(n){if(n instanceof qe)return n;if(null!=n){if(sA(n))return function uj(n){return new qe(e=>{const t=n[a_]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(f_(n))return function dj(n){return new qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(iA(n))return function hj(n){return new qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,QD)})}(n);if(oA(n))return hA(n);if(cA(n))return function fj(n){return new qe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(dA(n))return function pj(n){return hA(uA(n))}(n)}throw aA(n)}function hA(n){return new qe(e=>{(function gj(n,e){var t,r,i,s;return function eA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=rA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Xt(n,e,t=1/0){return Ne(e)?Xt((r,i)=>he((s,o)=>e(r,s,i,o))(Hn(n(r,i))),t):("number"==typeof e&&(t=e),Tt((r,i)=>function mj(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<r?p(_):l.push(_),p=_=>{s&&e.next(_),c++;let y=!1;Hn(t(_,u++)).subscribe(mt(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){const b=l.shift();o?Pi(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function _a(n=1/0){return Xt(gs,n)}const ei=new qe(n=>n.complete());function fA(n){return n&&Ne(n.schedule)}function p_(n){return n[n.length-1]}function pA(n){return Ne(p_(n))?n.pop():void 0}function wc(n){return fA(p_(n))?n.pop():void 0}function Eh(n,e=0){return Tt((t,r)=>{t.subscribe(mt(r,i=>Pi(r,n,()=>r.next(i),e),()=>Pi(r,n,()=>r.complete(),e),i=>Pi(r,n,()=>r.error(i),e)))})}function wh(n,e=0){return Tt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function gA(n,e){if(!n)throw new Error("Iterable cannot be null");return new qe(t=>{Pi(t,e,()=>{const r=n[Symbol.asyncIterator]();Pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ft(n,e){return e?function Cj(n,e){if(null!=n){if(sA(n))return function vj(n,e){return Hn(n).pipe(wh(e),Eh(e))}(n,e);if(f_(n))return function Ej(n,e){return new qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(iA(n))return function bj(n,e){return Hn(n).pipe(wh(e),Eh(e))}(n,e);if(oA(n))return gA(n,e);if(cA(n))return function wj(n,e){return new qe(t=>{let r;return Pi(t,e,()=>{r=n[lA](),Pi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(n,e);if(dA(n))return function Ij(n,e){return gA(uA(n),e)}(n,e)}throw aA(n)}(n,e):Hn(n)}function mA(...n){const e=wc(n),t=function yj(n,e){return"number"==typeof p_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Hn(r[0]):_a(t)(Ft(r,e)):ei}function g_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ec({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function m_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function __(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Tj=We({__forward_ref__:We});function Qe(n){return n.__forward_ref__=Qe,n.toString=function(){return Ke(this())},n}function oe(n){return y_(n)?n():n}function y_(n){return"function"==typeof n&&n.hasOwnProperty(Tj)&&n.__forward_ref__===Qe}function v_(n){return n&&!!n.\u0275providers}const Ih="https://g.co/ng/security#xss";class R extends Error{constructor(e,t){super(Ch(e,t)),this.code=e}}function Ch(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Th(n,e){throw new R(-201,!1)}function vr(n,e){null==n&&function je(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function et(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dh(n){return yA(n,Ah)||yA(n,bA)}function yA(n,e){return n.hasOwnProperty(e)?n[e]:null}function vA(n){return n&&(n.hasOwnProperty(b_)||n.hasOwnProperty(kj))?n[b_]:null}const Ah=We({\u0275prov:We}),b_=We({\u0275inj:We}),bA=We({ngInjectableDef:We}),kj=We({ngInjectorDef:We});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let E_;function br(n){const e=E_;return E_=n,e}function EA(n,e,t){const r=Dh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ie.Optional?null:void 0!==e?e:void Th(Ke(n))}const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ic={},w_="__NG_DI_FLAG__",Sh="ngTempTokenPath",Nj="ngTokenPath",Fj=/\n/gm,Vj="\u0275",wA="__source";let Cc;function ya(n){const e=Cc;return Cc=n,e}function Lj(n,e=ie.Default){if(void 0===Cc)throw new R(-203,!1);return null===Cc?EA(n,void 0,e):Cc.get(n,e&ie.Optional?null:void 0,e)}function S(n,e=ie.Default){return(function Oj(){return E_}()||Lj)(oe(n),e)}function _e(n,e=ie.Default){return S(n,xh(e))}function xh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function I_(n){const e=[];for(let t=0;t<n.length;t++){const r=oe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Bj(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Tc(n,e){return n[w_]=e,n.prototype[w_]=e,n}function Bj(n){return n[w_]}function ki(n){return{toString:n}.toString()}var ti=(()=>((ti=ti||{})[ti.OnPush=0]="OnPush",ti[ti.Default=1]="Default",ti))(),Lr=(()=>{return(n=Lr||(Lr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Lr;var n})();const Oi={},Le=[],Rh=We({\u0275cmp:We}),C_=We({\u0275dir:We}),T_=We({\u0275pipe:We}),CA=We({\u0275mod:We}),Ni=We({\u0275fac:We}),Dc=We({__NG_ELEMENT_ID__:We});let $j=0;function Zt(n){return ki(()=>{const e=DA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ti.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Lr.Emulated,id:"c"+$j++,styles:n.styles||Le,_:null,schemas:n.schemas||null,tView:null};AA(t);const r=n.dependencies;return t.directiveDefs=Mh(r,!1),t.pipeDefs=Mh(r,!0),t})}function zj(n){return $e(n)||vn(n)}function Gj(n){return null!==n}function dt(n){return ki(()=>({type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function TA(n,e){if(null==n)return Oi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ae(n){return ki(()=>{const e=DA(n);return AA(e),e})}function zn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $e(n){return n[Rh]||null}function vn(n){return n[C_]||null}function Gn(n){return n[T_]||null}function ir(n,e){const t=n[CA]||null;if(!t&&!0===e)throw new Error(`Type ${Ke(n)} does not have '\u0275mod' property.`);return t}function DA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TA(n.inputs,e),outputs:TA(n.outputs)}}function AA(n){n.features?.forEach(e=>e(n))}function Mh(n,e){if(!n)return null;const t=e?Gn:zj;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Gj)}const Fi=0,W=1,be=2,Et=3,Br=4,co=5,bn=6,ba=7,Dt=8,Ph=9,kh=10,we=11,D_=12,Ac=13,SA=14,Ea=15,En=16,Sc=17,wa=18,ni=19,xc=20,xA=21,nt=22,A_=1,RA=2,Oh=7,Nh=8,Ia=9,Pn=10;function sr(n){return Array.isArray(n)&&"object"==typeof n[A_]}function Ur(n){return Array.isArray(n)&&!0===n[A_]}function S_(n){return 0!=(4&n.flags)}function Rc(n){return n.componentOffset>-1}function Fh(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function qj(n){return 0!=(256&n[be])}function uo(n,e){return n.hasOwnProperty(Ni)?n[Ni]:null}class Yj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Er(){return kA}function kA(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zj),Xj}function Xj(){const n=NA(this),e=n?.current;if(e){const t=n.previous;if(t===Oi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Zj(n,e,t,r){const i=this.declaredInputs[t],s=NA(n)||function Jj(n,e){return n[OA]=e}(n,{previous:Oi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Yj(l&&l.currentValue,e,a===Oi),n[r]=e}Er.ngInherit=!0;const OA="__ngSimpleChanges__";function NA(n){return n[OA]||null}const wr=function(n,e,t){},FA="svg";function cn(n){for(;Array.isArray(n);)n=n[Fi];return n}function Vh(n,e){return cn(e[n])}function or(n,e){return cn(e[n.index])}function LA(n,e){return n.data[e]}function Wn(n,e){const t=e[n];return sr(t)?t:t[Fi]}function Lh(n){return 64==(64&n[be])}function ys(n,e){return null==e?null:n[e]}function BA(n){n[wa]=0}function R_(n,e){n[co]+=e;let t=n,r=n[Et];for(;null!==r&&(1===e&&1===t[co]||-1===e&&0===t[co]);)r[co]+=e,t=r,r=r[Et]}const ge={lFrame:QA(null),bindingsEnabled:!0};function jA(){return ge.bindingsEnabled}function P(){return ge.lFrame.lView}function Pe(){return ge.lFrame.tView}function X(n){return ge.lFrame.contextLView=n,n[Dt]}function J(n){return ge.lFrame.contextLView=null,n}function un(){let n=$A();for(;null!==n&&64===n.type;)n=n.parent;return n}function $A(){return ge.lFrame.currentTNode}function ri(n,e){const t=ge.lFrame;t.currentTNode=n,t.isParent=e}function M_(){return ge.lFrame.isParent}function P_(){ge.lFrame.isParent=!1}function kn(){const n=ge.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ta(){return ge.lFrame.bindingIndex++}function Li(n){const e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function h$(n,e){const t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,k_(e)}function k_(n){ge.lFrame.currentDirectiveIndex=n}function O_(n){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function WA(){return ge.lFrame.currentQueryIndex}function N_(n){ge.lFrame.currentQueryIndex=n}function p$(n){const e=n[W];return 2===e.type?e.declTNode:1===e.type?n[bn]:null}function qA(n,e,t){if(t&ie.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ie.Host||(i=p$(s),null===i||(s=s[Ea],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ge.lFrame=KA();return r.currentTNode=e,r.lView=n,!0}function F_(n){const e=KA(),t=n[W];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KA(){const n=ge.lFrame,e=null===n?null:n.child;return null===e?QA(n):e}function QA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YA(){const n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const XA=YA;function V_(){const n=YA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function On(){return ge.lFrame.selectedIndex}function ho(n){ge.lFrame.selectedIndex=n}function _t(){const n=ge.lFrame;return LA(n.tView,n.selectedIndex)}function Jt(){ge.lFrame.currentNamespace=FA}function Nn(){!function y$(){ge.lFrame.currentNamespace=null}()}function Bh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function Uh(n,e,t){ZA(n,e,3,t)}function jh(n,e,t,r){(3&n[be])===t&&ZA(n,e,t,r)}function L_(n,e){let t=n[be];(3&t)===e&&(t&=2047,t+=1,n[be]=t)}function ZA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[wa]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[wa]+=65536),(a<s||-1==s)&&(E$(n,t,e,l),n[wa]=(4294901760&n[wa])+l+2),l++}function E$(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[be]>>11<n[wa]>>16&&(3&n[be])===e){n[be]+=2048,wr(4,a,s);try{s.call(a)}finally{wr(5,a,s)}}}else{wr(4,a,s);try{s.call(a)}finally{wr(5,a,s)}}}const Da=-1;class Pc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function U_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];eS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function JA(n){return 3===n||4===n||6===n}function eS(n){return 64===n.charCodeAt(0)}function kc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tS(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function nS(n){return n!==Da}function $h(n){return 32767&n}function Hh(n,e){let t=function T$(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ea],t--;return r}let j_=!0;function zh(n){const e=j_;return j_=n,e}const rS=255,iS=5;let D$=0;const ii={};function Gh(n,e){const t=sS(n,e);if(-1!==t)return t;const r=e[W];r.firstCreatePass&&(n.injectorIndex=e.length,$_(r.data,n),$_(e,null),$_(r.blueprint,null));const i=H_(n,e),s=n.injectorIndex;if(nS(i)){const o=$h(i),a=Hh(i,e),l=a[W].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function $_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sS(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function H_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=hS(i),null===r)return Da;if(t++,i=i[Ea],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Da}function z_(n,e,t){!function A$(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Dc)&&(r=t[Dc]),null==r&&(r=t[Dc]=D$++);const i=r&rS;e.data[n+(i>>iS)]|=1<<i}(n,e,t)}function oS(n,e,t){if(t&ie.Optional||void 0!==n)return n;Th()}function aS(n,e,t,r){if(t&ie.Optional&&void 0===r&&(r=null),!(t&(ie.Self|ie.Host))){const i=n[Ph],s=br(void 0);try{return i?i.get(e,r,t&ie.Optional):EA(e,r,t&ie.Optional)}finally{br(s)}}return oS(r,0,t)}function lS(n,e,t,r=ie.Default,i){if(null!==n){if(1024&e[be]){const o=function P$(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[be]&&!(256&o[be]);){const a=cS(s,o,t,r|ie.Self,ii);if(a!==ii)return a;let l=s.parent;if(!l){const c=o[xA];if(c){const u=c.get(t,ii,r);if(u!==ii)return u}l=hS(o),o=o[Ea]}s=l}return i}(n,e,t,r,ii);if(o!==ii)return o}const s=cS(n,e,t,r,ii);if(s!==ii)return s}return aS(e,t,r,i)}function cS(n,e,t,r,i){const s=function R$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Dc)?n[Dc]:void 0;return"number"==typeof e?e>=0?e&rS:M$:e}(t);if("function"==typeof s){if(!qA(e,n,r))return r&ie.Host?oS(i,0,r):aS(e,t,r,i);try{const o=s(r);if(null!=o||r&ie.Optional)return o;Th()}finally{XA()}}else if("number"==typeof s){let o=null,a=sS(n,e),l=Da,c=r&ie.Host?e[En][bn]:null;for((-1===a||r&ie.SkipSelf)&&(l=-1===a?H_(n,e):e[a+8],l!==Da&&dS(r,!1)?(o=e[W],a=$h(l),e=Hh(l,e)):a=-1);-1!==a;){const u=e[W];if(uS(s,a,u.data)){const d=x$(a,e,t,o,r,c);if(d!==ii)return d}l=e[a+8],l!==Da&&dS(r,e[W].data[a+8]===c)&&uS(s,a,e)?(o=u,a=$h(l),e=Hh(l,e)):a=-1}}return i}function x$(n,e,t,r,i,s){const o=e[W],a=o.data[n+8],u=Wh(a,o,t,null==r?Rc(a)&&j_:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==u?fo(e,o,u,a):ii}function Wh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&jr(f)&&f.type===t)return l}return null}function fo(n,e,t,r){let i=n[t];const s=e.data;if(function w$(n){return n instanceof Pc}(i)){const o=i;o.resolving&&function Dj(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ue(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[t]));const a=zh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?br(o.injectImpl):null;qA(n,r,ie.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function b$(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=kA(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&br(l),zh(a),o.resolving=!1,XA()}}return i}function uS(n,e,t){return!!(t[e+(n>>iS)]&1<<n)}function dS(n,e){return!(n&ie.Self||n&ie.Host&&e)}class Aa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lS(this._tNode,this._lView,e,xh(r),t)}}function M$(){return new Aa(un(),P())}function en(n){return ki(()=>{const e=n.prototype.constructor,t=e[Ni]||G_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ni]||G_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function G_(n){return y_(n)?()=>{const e=G_(oe(n));return e&&e()}:uo(n)}function hS(n){const e=n[W],t=e.type;return 2===t?e.declTNode:1===t?n[bn]:null}const xa="__parameters__";function Ma(n,e,t){return ki(()=>{const r=function W_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(xa)?l[xa]:Object.defineProperty(l,xa,{value:[]})[xa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class V{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(n,e){n.forEach(t=>Array.isArray(t)?po(t,e):e(t))}function pS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Kh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ar(n,e,t){let r=Pa(n,e);return r>=0?n[1|r]=t:(r=~r,function F$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function K_(n,e){const t=Pa(n,e);if(t>=0)return n[1|t]}function Pa(n,e){return function gS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const wn=Tc(Ma("Optional"),8),ka=Tc(Ma("SkipSelf"),4);var qn=(()=>((qn=qn||{})[qn.Important=1]="Important",qn[qn.DashCase=2]="DashCase",qn))();const ey=new Map;let s5=0;const ny="__ngContext__";function In(n,e){sr(e)?(n[ny]=e[xc],function a5(n){ey.set(n[xc],n)}(e)):n[ny]=e}let ry;function iy(n,e){return ry(n,e)}function Uc(n){const e=n[Et];return Ur(e)?e[Et]:e}function sy(n){return NS(n[Ac])}function oy(n){return NS(n[Br])}function NS(n){for(;null!==n&&!Ur(n);)n=n[Br];return n}function Na(n,e,t,r,i){if(null!=r){let s,o=!1;Ur(r)?s=r:sr(r)&&(o=!0,r=r[Fi]);const a=cn(r);0===n&&null!==t?null==i?jS(e,t,a):go(e,t,a,i||null,!0):1===n&&null!==t?go(e,t,a,i||null,!0):2===n?function fy(n,e,t){const r=Zh(n,e);r&&function A5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function R5(n,e,t,r,i){const s=t[Oh];s!==cn(t)&&Na(e,n,r,s,i);for(let a=Pn;a<t.length;a++){const l=t[a];jc(l[W],l,n,e,r,s)}}(e,n,s,t,i)}}function ly(n,e,t){return n.createElement(e,t)}function VS(n,e){const t=n[Ia],r=t.indexOf(e),i=e[Et];512&e[be]&&(e[be]&=-513,R_(i,-1)),t.splice(r,1)}function cy(n,e){if(n.length<=Pn)return;const t=Pn+e,r=n[t];if(r){const i=r[Sc];null!==i&&i!==n&&VS(i,r),e>0&&(n[t-1][Br]=r[Br]);const s=Kh(n,Pn+e);!function v5(n,e){jc(n,e,e[we],2,null,null),e[Fi]=null,e[bn]=null}(r[W],r);const o=s[ni];null!==o&&o.detachView(s[W]),r[Et]=null,r[Br]=null,r[be]&=-65}return r}function LS(n,e){if(!(128&e[be])){const t=e[we];t.destroyNode&&jc(n,e,t,3,null,null),function w5(n){let e=n[Ac];if(!e)return uy(n[W],n);for(;e;){let t=null;if(sr(e))t=e[Ac];else{const r=e[Pn];r&&(t=r)}if(!t){for(;e&&!e[Br]&&e!==n;)sr(e)&&uy(e[W],e),e=e[Et];null===e&&(e=n),sr(e)&&uy(e[W],e),t=e&&e[Br]}e=t}}(e)}}function uy(n,e){if(!(128&e[be])){e[be]&=-65,e[be]|=128,function D5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Pc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];wr(4,a,l);try{l.call(a)}finally{wr(5,a,l)}}else{wr(4,i,s);try{s.call(i)}finally{wr(5,i,s)}}}}}(n,e),function T5(n,e){const t=n.cleanup,r=e[ba];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[ba]=null}}(n,e),1===e[W].type&&e[we].destroy();const t=e[Sc];if(null!==t&&Ur(e[Et])){t!==e[Et]&&VS(t,e);const r=e[ni];null!==r&&r.detachView(n)}!function l5(n){ey.delete(n[xc])}(e)}}function BS(n,e,t){return function US(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Fi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Lr.None||s===Lr.Emulated)return null}return or(r,t)}}(n,e.parent,t)}function go(n,e,t,r,i){n.insertBefore(e,t,r,i)}function jS(n,e,t){n.appendChild(e,t)}function $S(n,e,t,r,i){null!==r?go(n,e,t,r,i):jS(n,e,t)}function Zh(n,e){return n.parentNode(e)}let dy,my,nf,GS=function zS(n,e,t){return 40&n.type?or(n,t):null};function Jh(n,e,t,r){const i=BS(n,r,e),s=e[we],a=function HS(n,e,t){return GS(n,e,t)}(r.parent||e[bn],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)$S(s,i,t[l],a,!1);else $S(s,i,t,a,!1);void 0!==dy&&dy(s,r,e,t,i)}function ef(n,e){if(null!==e){const t=e.type;if(3&t)return or(e,n);if(4&t)return hy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ef(n,r);{const i=n[e.index];return Ur(i)?hy(-1,i):cn(i)}}if(32&t)return iy(e,n)()||cn(n[e.index]);{const r=qS(n,e);return null!==r?Array.isArray(r)?r[0]:ef(Uc(n[En]),r):ef(n,e.next)}}return null}function qS(n,e){return null!==e?n[En][bn].projection[e.projection]:null}function hy(n,e){const t=Pn+n+1;if(t<e.length){const r=e[t],i=r[W].firstChild;if(null!==i)return ef(r,i)}return e[Oh]}function py(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&In(cn(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)py(n,e,t.child,r,i,s,!1),Na(e,n,i,a,s);else if(32&l){const c=iy(t,r);let u;for(;u=c();)Na(e,n,i,u,s);Na(e,n,i,a,s)}else 16&l?KS(n,e,r,t,i,s):Na(e,n,i,a,s);t=o?t.projectionNext:t.next}}function jc(n,e,t,r,i,s){py(t,r,n.firstChild,e,i,s,!1)}function KS(n,e,t,r,i,s){const o=t[En],l=o[bn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Na(e,n,i,l[c],s);else py(n,e,l,o[Et],i,s,!0)}function QS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function YS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&U_(n,e,r),null!==i&&QS(n,e,i),null!==s&&function P5(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ex(n){return function _y(){if(void 0===nf&&(nf=null,tt.trustedTypes))try{nf=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nf}()?.createScriptURL(n)||n}class mo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ih})`}}function lr(n){return n instanceof mo?n.changingThisBreaksApplicationSecurity:n}function si(n,e){const t=function $5(n){return n instanceof mo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ih})`)}return t===e}const X5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Be=(()=>((Be=Be||{})[Be.NONE=0]="NONE",Be[Be.HTML=1]="HTML",Be[Be.STYLE=2]="STYLE",Be[Be.SCRIPT=3]="SCRIPT",Be[Be.URL=4]="URL",Be[Be.RESOURCE_URL=5]="RESOURCE_URL",Be))();function lx(n){const e=Hc();return e?e.sanitize(Be.URL,n)||"":si(n,"URL")?lr(n):function rf(n){return(n=String(n)).match(X5)?n:"unsafe:"+n}(pe(n))}function cx(n){const e=Hc();if(e)return ex(e.sanitize(Be.RESOURCE_URL,n)||"");if(si(n,"ResourceURL"))return ex(lr(n));throw new R(904,!1)}function Hc(){const n=P();return n&&n[D_]}const af=new V("ENVIRONMENT_INITIALIZER"),dx=new V("INJECTOR",-1),hx=new V("INJECTOR_DEF_TYPES");class fx{get(e,t=Ic){if(t===Ic){const r=new Error(`NullInjectorError: No provider for ${Ke(e)}!`);throw r.name="NullInjectorError",r}return t}}function uH(...n){return{\u0275providers:px(0,n),\u0275fromNgModule:!0}}function px(n,...e){const t=[],r=new Set;let i;return po(e,s=>{const o=s;Ey(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&gx(i,t),t}function gx(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];wy(i,s=>{e.push(s)})}}function Ey(n,e,t,r){if(!(n=oe(n)))return!1;let i=null,s=vA(n);const o=!s&&$e(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=vA(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Ey(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{po(s.imports,u=>{Ey(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&gx(c,e)}if(!a){const c=uo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Le},{provide:hx,useValue:i,multi:!0},{provide:af,useValue:()=>S(i),multi:!0})}const l=s.providers;null==l||a||wy(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function wy(n,e){for(let t of n)v_(t)&&(t=t.\u0275providers),Array.isArray(t)?wy(t,e):e(t)}const dH=We({provide:String,useValue:We});function Iy(n){return null!==n&&"object"==typeof n&&dH in n}function _o(n){return"function"==typeof n}const Cy=new V("Set Injector scope."),lf={},fH={};let Ty;function cf(){return void 0===Ty&&(Ty=new fx),Ty}class oi{}class yx extends oi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(e,o=>this.processProvider(o)),this.records.set(dx,Va(void 0,this)),i.has("environment")&&this.records.set(oi,Va(void 0,this));const s=this.records.get(Cy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hx.multi,Le,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ya(this),r=br(void 0);try{return e()}finally{ya(t),br(r)}}get(e,t=Ic,r=ie.Default){this.assertNotDestroyed(),r=xh(r);const i=ya(this),s=br(void 0);try{if(!(r&ie.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function yH(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(e)&&Dh(e);a=l&&this.injectableDefInScope(l)?Va(Dy(e),lf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ie.Self?cf():this.parent).get(e,t=r&ie.Optional&&t===Ic?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Sh]=o[Sh]||[]).unshift(Ke(e)),i)throw o;return function Uj(n,e,t,r){const i=n[Sh];throw e[wA]&&i.unshift(e[wA]),n.message=function jj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Vj?n.slice(2):n;let i=Ke(e);if(Array.isArray(e))i=e.map(Ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Fj,"\n  ")}`}("\n"+n.message,i,t,r),n[Nj]=i,n[Sh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{br(s),ya(i)}}resolveInjectorInitializers(){const e=ya(this),t=br(void 0);try{const r=this.get(af.multi,Le,ie.Self);for(const i of r)i()}finally{ya(e),br(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let t=_o(e=oe(e))?e:oe(e&&e.provide);const r=function gH(n){return Iy(n)?Va(void 0,n.useValue):Va(vx(n),lf)}(e);if(_o(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Va(void 0,lf,!0),i.factory=()=>I_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===lf&&(t.value=fH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function _H(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=oe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Dy(n){const e=Dh(n),t=null!==e?e.factory:uo(n);if(null!==t)return t;if(n instanceof V)throw new R(204,!1);if(n instanceof Function)return function pH(n){const e=n.length;if(e>0)throw function Fc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new R(204,!1);const t=function Pj(n){return n&&(n[Ah]||n[bA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new R(204,!1)}function vx(n,e,t){let r;if(_o(n)){const i=oe(n);return uo(i)||Dy(i)}if(Iy(n))r=()=>oe(n.useValue);else if(function _x(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...I_(n.deps||[]));else if(function mx(n){return!(!n||!n.useExisting)}(n))r=()=>S(oe(n.useExisting));else{const i=oe(n&&(n.useClass||n.provide));if(!function mH(n){return!!n.deps}(n))return uo(i)||Dy(i);r=()=>new i(...I_(n.deps))}return r}function Va(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ay(n,e){for(const t of n)Array.isArray(t)?Ay(t,e):t&&v_(t)?Ay(t.\u0275providers,e):e(t)}class vH{}class bx{}class EH{resolveComponentFactory(e){throw function bH(n){const e=Error(`No component factory found for ${Ke(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let yo=(()=>{class n{}return n.NULL=new EH,n})();function wH(){return La(un(),P())}function La(n,e){return new dn(or(n,e))}let dn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=wH,n})();function IH(n){return n instanceof dn?n.nativeElement:n}class zc{}let Ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function CH(){const n=P(),t=Wn(un().index,n);return(sr(t)?t:n)[we]}(),n})(),TH=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>null}),n})();class vs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wx=new vs("15.2.10"),Sy={},xy="ngOriginalError";function Ry(n){return n[xy]}class bs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ry(e);for(;t&&Ry(t);)t=Ry(t);return t||null}}function ji(n){return n instanceof Function?n():n}function Cx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Tx="ng-template";function FH(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Cx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Dx(n){return 4===n.type&&n.value!==Tx}function VH(n,e,t){return e===(4!==n.type||t?n.value:Tx)}function LH(n,e,t){let r=4;const i=n.attrs||[],s=function jH(n){for(let e=0;e<n.length;e++)if(JA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!VH(n,l,t)||""===l&&1===e.length){if($r(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!FH(n.attrs,c,t)){if($r(r))return!1;o=!0}continue}const d=BH(8&r?"class":l,i,Dx(n),t);if(-1===d){if($r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Cx(f,c,0)||2&r&&c!==h){if($r(r))return!1;o=!0}}}}else{if(!o&&!$r(r)&&!$r(l))return!1;if(o&&$r(l))continue;o=!1,r=l|1&r}}return $r(r)||o}function $r(n){return 0==(1&n)}function BH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function $H(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ax(n,e,t=!1){for(let r=0;r<e.length;r++)if(LH(n,e[r],t))return!0;return!1}function Sx(n,e){return n?":not("+e.trim()+")":e}function zH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!$r(o)&&(e+=Sx(s,i),i=""),r=o,s=s||!$r(r);t++}return""!==i&&(e+=Sx(s,i)),e}const me={};function I(n){xx(Pe(),P(),On()+n,!1)}function xx(n,e,t,r){if(!r)if(3==(3&e[be])){const s=n.preOrderCheckHooks;null!==s&&Uh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&jh(e,s,0,t)}ho(t)}function kx(n,e=null,t=null,r){const i=Ox(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ox(n,e=null,t=null,r,i=new Set){const s=[t||Le,uH(n)];return r=r||("object"==typeof n?void 0:Ke(n)),new yx(s,e||cf(),r||null,i)}let tn=(()=>{class n{static create(t,r){if(Array.isArray(t))return kx({name:""},r,t,"");{const i=t.name??"";return kx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ic,n.NULL=new fx,n.\u0275prov=U({token:n,providedIn:"any",factory:()=>S(dx)}),n.__NG_ELEMENT_ID__=-1,n})();function x(n,e=ie.Default){const t=P();return null===t?S(n,e):lS(un(),t,oe(n),e)}function Ny(){throw new Error("invalid")}function jx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];N_(t[r]),o.contentQueries(2,e[s],s)}}}function df(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Fi]=i,d[be]=76|r,(null!==u||n&&1024&n[be])&&(d[be]|=1024),BA(d),d[Et]=d[Ea]=n,d[Dt]=t,d[kh]=o||n&&n[kh],d[we]=a||n&&n[we],d[D_]=l||n&&n[D_]||null,d[Ph]=c||n&&n[Ph]||null,d[bn]=s,d[xc]=function o5(){return s5++}(),d[xA]=u,d[En]=2==e.type?n[En]:d,d}function ja(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Fy(n,e,t,r,i){const s=$A(),o=M_(),l=n.data[e]=function mz(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function d$(){return ge.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Mc(){const n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ri(s,!0),s}function Gc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vy(n,e,t){F_(e);try{const r=n.viewQuery;null!==r&&Wy(1,r,t);const i=n.template;null!==i&&$x(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&jx(n,e),n.staticViewQueries&&Wy(2,n.viewQuery,t);const s=n.components;null!==s&&function fz(n,e){for(let t=0;t<e.length;t++)Fz(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[be]&=-5,V_()}}function hf(n,e,t,r){const i=e[be];if(128!=(128&i)){F_(e);try{BA(e),function zA(n){return ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$x(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Uh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&jh(e,c,0,null),L_(e,0)}if(function Oz(n){for(let e=sy(n);null!==e;e=oy(e)){if(!e[RA])continue;const t=e[Ia];for(let r=0;r<t.length;r++){const i=t[r];512&i[be]||R_(i[Et],1),i[be]|=512}}}(e),function kz(n){for(let e=sy(n);null!==e;e=oy(e))for(let t=Pn;t<e.length;t++){const r=e[t],i=r[W];Lh(r)&&hf(i,r,i.template,r[Dt])}}(e),null!==n.contentQueries&&jx(n,e),o){const c=n.contentCheckHooks;null!==c&&Uh(e,c)}else{const c=n.contentHooks;null!==c&&jh(e,c,1),L_(e,1)}!function dz(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ho(~i);else{const s=i,o=t[++r],a=t[++r];h$(o,s),a(2,e[s])}}}finally{ho(-1)}}(n,e);const a=n.components;null!==a&&function hz(n,e){for(let t=0;t<e.length;t++)Nz(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Wy(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Uh(e,c)}else{const c=n.viewHooks;null!==c&&jh(e,c,2),L_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[be]&=-41,512&e[be]&&(e[be]&=-513,R_(e[Et],-1))}finally{V_()}}}function $x(n,e,t,r,i){const s=On(),o=2&r;try{ho(-1),o&&e.length>nt&&xx(n,e,nt,!1),wr(o?2:0,i),t(r,i)}finally{ho(s),wr(o?3:1,i)}}function Ly(n,e,t){if(S_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function By(n,e,t){jA()&&(function Iz(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Rc(t)&&function Rz(n,e,t){const r=or(e,n),i=Hx(t),s=n[kh],o=ff(n,df(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Gh(t,e),In(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=fo(e,n,a,t);In(c,e),null!==o&&Mz(0,a-i,c,l,0,o),jr(l)&&(Wn(t.index,e)[Dt]=fo(e,n,a,t))}}(n,e,t,or(t,e)),64==(64&t.flags)&&Kx(n,e,t))}function Uy(n,e,t=or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Hx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=jy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function jy(n,e,t,r,i,s,o,a,l,c){const u=nt+r,d=u+i,h=function pz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:me);return t}(u,d),f="function"==typeof c?c():c;return h[W]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function zx(n,e,t,r){const i=Yx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Xx(n).push(r,i.length-1))}function Gx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?Wx(t,e,i,s):r.hasOwnProperty(i)&&Wx(t,e,r[i],s)}return t}function Wx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function cr(n,e,t,r,i,s,o,a){const l=or(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(qy(n,t,u,r,i),Rc(e)&&function vz(n,e){const t=Wn(e,n);16&t[be]||(t[be]|=32)}(t,e.index)):3&e.type&&(r=function yz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function $y(n,e,t,r){if(jA()){const i=null===r?null:{"":-1},s=function Tz(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ax(e,o.selectors,!1))if(r||(r=[]),jr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Hy(n,e,a.length)}else r.unshift(o),Hy(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qx(n,e,t,o,i,a),i&&function Dz(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new R(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=kc(t.mergedAttrs,t.attrs)}function qx(n,e,t,r,i,s){for(let c=0;c<r.length;c++)z_(Gh(t,e),n,r[c].type);!function Sz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Gc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=kc(t.mergedAttrs,u.hostAttrs),xz(n,t,e,l,u),Az(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function _z(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=Gx(d.inputs,u,l,h?h.inputs:null),c=Gx(d.outputs,u,c,p);const _=null===l||null===o||Dx(e)?null:Pz(l,u,o);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function Kx(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function f$(){return ge.lFrame.currentDirectiveIndex}();try{ho(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];k_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Cz(l,c)}}finally{ho(-1),k_(o)}}function Cz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Hy(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function Az(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jr(e)&&(t[""]=n)}}function xz(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=uo(i.type)),o=new Pc(s,jr(i),x);n.blueprint[r]=o,t[r]=o,function Ez(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function wz(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Gc(n,t,i.hostVars,me),i)}function ai(n,e,t,r,i,s){const o=or(n,e);!function zy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?pe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[we],o,s,n.value,t,r,i)}function Mz(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function Pz(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Qx(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Nz(n,e){const t=Wn(e,n);if(Lh(t)){const r=t[W];48&t[be]?hf(r,t,r.template,t[Dt]):t[co]>0&&Gy(t)}}function Gy(n){for(let r=sy(n);null!==r;r=oy(r))for(let i=Pn;i<r.length;i++){const s=r[i];if(Lh(s))if(512&s[be]){const o=s[W];hf(o,s,o.template,s[Dt])}else s[co]>0&&Gy(s)}const t=n[W].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Wn(t[r],n);Lh(i)&&i[co]>0&&Gy(i)}}function Fz(n,e){const t=Wn(e,n),r=t[W];(function Vz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Vy(r,t,t[Dt])}function ff(n,e){return n[Ac]?n[SA][Br]=e:n[Ac]=e,n[SA]=e,e}function pf(n){for(;n;){n[be]|=32;const e=Uc(n);if(qj(n)&&!e)return n;n=e}return null}function gf(n,e,t,r=!0){const i=e[kh];i.begin&&i.begin();try{hf(n,e,n.template,t)}catch(o){throw r&&Jx(e,o),o}finally{i.end&&i.end()}}function Wy(n,e,t){N_(0),e(n,t)}function Yx(n){return n[ba]||(n[ba]=[])}function Xx(n){return n.cleanup||(n.cleanup=[])}function Zx(n,e,t){return(null===n||jr(n))&&(t=function t$(n){for(;Array.isArray(n);){if("object"==typeof n[A_])return n;n=n[Fi]}return null}(t[e.index])),t[we]}function Jx(n,e){const t=n[Ph],r=t?t.get(bs,null):null;r&&r.handleError(e)}function qy(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function $i(n,e,t){const r=Vh(e,n);!function FS(n,e,t){n.setValue(e,t)}(n[we],r,t)}function mf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=__(i,a):2==s&&(r=__(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function _f(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(cn(s)),Ur(s))for(let a=Pn;a<s.length;a++){const l=s[a],c=l[W].firstChild;null!==c&&_f(l[W],l,c,r)}const o=t.type;if(8&o)_f(n,e,t.child,r);else if(32&o){const a=iy(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=qS(e,t);if(Array.isArray(a))r.push(...a);else{const l=Uc(e[En]);_f(l[W],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Wc{get rootNodes(){const e=this._lView,t=e[W];return _f(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dt]}set context(e){this._lView[Dt]=e}get destroyed(){return 128==(128&this._lView[be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Et];if(Ur(e)){const t=e[Nh],r=t?t.indexOf(this):-1;r>-1&&(cy(e,r),Kh(t,r))}this._attachedToViewContainer=!1}LS(this._lView[W],this._lView)}onDestroy(e){zx(this._lView[W],this._lView,null,e)}markForCheck(){pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-65}reattach(){this._lView[be]|=64}detectChanges(){gf(this._lView[W],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function E5(n,e){jc(n,e,e[we],2,null,null)}(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class Lz extends Wc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;gf(e[W],e,e[Dt],!1)}checkNoChanges(){}get context(){return null}}class eR extends yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$e(e);return new qc(t,this.ngModule)}}function tR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Uz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xh(r);const i=this.injector.get(e,Sy,r);return i!==Sy||t===Sy?i:this.parentInjector.get(e,t,r)}}class qc extends bx{get inputs(){return tR(this.componentDef.inputs)}get outputs(){return tR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function GH(n){return n.map(zH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof oi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Uz(e,s):e,a=o.get(zc,null);if(null===a)throw new R(407,!1);const l=o.get(TH,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function gz(n,e,t){return n.selectRootElement(e,t===Lr.ShadowDom)}(c,r,this.componentDef.encapsulation):ly(c,u,function Bz(n){const e=n.toLowerCase();return"svg"===e?FA:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=jy(0,null,null,1,0,null,null,null,null,null),p=df(null,f,null,h,null,null,a,c,l,o,null);let _,y;F_(p);try{const b=this.componentDef;let C,E=null;b.findHostDirectiveDefs?(C=[],E=new Map,b.findHostDirectiveDefs(b,C,E),C.push(b)):C=[b];const M=function $z(n,e){const t=n[W],r=nt;return n[r]=e,ja(t,r,2,"#host",null)}(p,d),G=function Hz(n,e,t,r,i,s,o,a){const l=i[W];!function zz(n,e,t,r){for(const i of n)e.mergedAttrs=kc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(mf(e,e.mergedAttrs,!0),null!==t&&YS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=df(i,Hx(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&Hy(l,n,r.length-1),ff(i,u),i[n.index]=u}(M,d,b,C,p,a,c);y=LA(f,nt),d&&function Wz(n,e,t,r){if(r)U_(n,t,["ng-version",wx.full]);else{const{attrs:i,classes:s}=function WH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!$r(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&U_(n,t,i),s&&s.length>0&&QS(n,t,s.join(" "))}}(c,b,d,r),void 0!==t&&function qz(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),_=function Gz(n,e,t,r,i,s){const o=un(),a=i[W],l=or(o,i);qx(a,i,o,t,null,r);for(let u=0;u<t.length;u++)In(fo(i,a,o.directiveStart+u,o),i);Kx(a,i,o),l&&In(l,i);const c=fo(i,a,o.directiveStart+o.componentOffset,o);if(n[Dt]=i[Dt]=c,null!==s)for(const u of s)u(c,e);return Ly(a,o,n),c}(G,b,C,E,p,[Kz]),Vy(f,p,null)}finally{V_()}return new jz(this.componentType,_,La(y,p),p,y)}}class jz extends vH{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Lz(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;qy(s[W],s,i,e,t),pf(Wn(this._tNode.index,s))}}get injector(){return new Aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Kz(){const n=un();Bh(P()[W],n)}function Ve(n){let e=function nR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(jr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Ky(n.inputs),o.declaredInputs=Ky(n.declaredInputs),o.outputs=Ky(n.outputs);const a=i.hostBindings;a&&Zz(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Yz(n,l),c&&Xz(n,c),m_(n.inputs,i.inputs),m_(n.declaredInputs,i.declaredInputs),m_(n.outputs,i.outputs),jr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Qz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kc(i.hostAttrs,t=kc(t,i.hostAttrs))}}(r)}function Ky(n){return n===Oi?{}:n===Le?[]:n}function Yz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Xz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Zz(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function yf(n){return!!function Qy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function li(n,e,t){return n[e]=t}function Cn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vo(n,e,t,r){const i=Cn(n,e,t);return Cn(n,e+1,r)||i}function Hr(n,e,t,r){const i=P();return Cn(i,Ta(),e)&&(Pe(),ai(_t(),i,n,e,t,r)),Hr}function Ha(n,e,t,r){return Cn(n,Ta(),t)?e+pe(t)+r:me}function Ga(n,e,t,r,i,s,o,a){const c=function vf(n,e,t,r,i){const s=vo(n,e,t,r);return Cn(n,e+2,i)||s}(n,function Vi(){return ge.lFrame.bindingIndex}(),t,i,o);return Li(3),c?e+pe(t)+r+pe(i)+s+pe(o)+a:me}function ue(n,e,t,r,i,s,o,a){const l=P(),c=Pe(),u=n+nt,d=c.firstCreatePass?function l6(n,e,t,r,i,s,o,a,l){const c=e.consts,u=ja(e,n,4,o||null,ys(c,a));$y(e,t,u,ys(c,l)),Bh(e,u);const d=u.tView=jy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ri(d,!1);const h=l[we].createComment("");Jh(c,l,h,d),In(h,l),ff(l,l[u]=Qx(h,l,h,d)),Fh(d)&&By(c,l,d),null!=o&&Uy(l,d,a)}function H(n,e,t){const r=P();return Cn(r,Ta(),e)&&cr(Pe(),_t(),r,n,e,r[we],t,!1),H}function Yy(n,e,t,r,i){const o=i?"class":"style";qy(n,t,e.inputs[o],o,r)}function g(n,e,t,r){const i=P(),s=Pe(),o=nt+n,a=i[we],l=s.firstCreatePass?function d6(n,e,t,r,i,s){const o=e.consts,l=ja(e,n,2,r,ys(o,i));return $y(e,t,l,ys(o,s)),null!==l.attrs&&mf(l,l.attrs,!1),null!==l.mergedAttrs&&mf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=ly(a,e,function v$(){return ge.lFrame.currentNamespace}()),u=Fh(l);return ri(l,!0),YS(a,c,l),32!=(32&l.flags)&&Jh(s,i,c,l),0===function s$(){return ge.lFrame.elementDepthCount}()&&In(c,i),function o$(){ge.lFrame.elementDepthCount++}(),u&&(By(s,i,l),Ly(s,l,i)),null!==r&&Uy(i,l),g}function m(){let n=un();M_()?P_():(n=n.parent,ri(n,!1));const e=n;!function a$(){ge.lFrame.elementDepthCount--}();const t=Pe();return t.firstCreatePass&&(Bh(t,n),S_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function I$(n){return 0!=(8&n.flags)}(e)&&Yy(t,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C$(n){return 0!=(16&n.flags)}(e)&&Yy(t,e,P(),e.stylesWithoutHost,!1),m}function De(n,e,t,r){return g(n,e,t,r),m(),De}function rt(n,e,t){const r=P(),i=Pe(),s=n+nt,o=i.firstCreatePass?function h6(n,e,t,r,i){const s=e.consts,o=ys(s,r),a=ja(e,n,8,"ng-container",o);return null!==o&&mf(a,o,!0),$y(e,t,a,ys(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ri(o,!0);const a=r[s]=r[we].createComment("");return Jh(i,r,a,o),In(a,r),Fh(o)&&(By(i,r,o),Ly(i,o,r)),null!=t&&Uy(r,o),rt}function it(){let n=un();const e=Pe();return M_()?P_():(n=n.parent,ri(n,!1)),e.firstCreatePass&&(Bh(e,n),S_(n)&&e.queries.elementEnd(n)),it}function Ye(){return P()}function Qc(n){return!!n&&"function"==typeof n.then}const Xy=function mR(n){return!!n&&"function"==typeof n.subscribe};function F(n,e,t,r){const i=P(),s=Pe(),o=un();return _R(s,i,i[we],o,n,e,r),F}function Zy(n,e){const t=un(),r=P(),i=Pe();return _R(i,r,Zx(O_(i.data),t,r),t,n,e),Zy}function _R(n,e,t,r,i,s,o){const a=Fh(r),c=n.firstCreatePass&&Xx(n),u=e[Dt],d=Yx(e);let h=!0;if(3&r.type||o){const _=or(r,e),y=o?o(_):_,b=d.length,C=o?M=>o(cn(M[r.index])):r.index;let E=null;if(!o&&a&&(E=function f6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[ba],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=vR(r,e,u,s,!1);const M=t.listen(y,i,s);d.push(s,M),c&&c.push(i,C,b,b+1)}}else s=vR(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const _=p.length;if(_)for(let y=0;y<_;y+=2){const G=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,G),c&&c.push(i,r.index,K,-(K+1))}}}function yR(n,e,t,r){try{return wr(6,e,t),!1!==t(r)}catch(i){return Jx(n,i),!1}finally{wr(7,e,t)}}function vR(n,e,t,r,i){return function s(o){if(o===Function)return r;pf(n.componentOffset>-1?Wn(n.index,e):e);let l=yR(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=yR(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function N(n=1){return function g$(n){return(ge.lFrame.contextLView=function m$(n,e){for(;n>0;)e=e[Ea],n--;return e}(n,ge.lFrame.contextLView))[Dt]}(n)}function bf(n,e){return n<<17|e<<2}function Es(n){return n>>17&32767}function ev(n){return 2|n}function bo(n){return(131068&n)>>2}function tv(n,e){return-131069&n|e<<2}function nv(n){return 1|n}function xR(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Es(s):bo(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];w6(n[a],e)&&(l=!0,n[a+1]=r?nv(u):ev(u)),a=r?Es(u):bo(u)}l&&(n[t+1]=r?ev(s):nv(s))}function w6(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pa(n,e)>=0}const Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RR(n){return n.substring(Wt.key,Wt.keyEnd)}function MR(n,e){const t=Wt.textEnd;return t===e?-1:(e=Wt.keyEnd=function D6(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Wt.key=e,t),Xa(n,e,t))}function Xa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ef(n,e){return function zr(n,e,t,r){const i=P(),s=Pe(),o=Li(2);s.firstUpdatePass&&LR(s,n,o,r),e!==me&&Cn(i,o,e)&&UR(s,s.data[On()],i,i[we],n,i[o+1]=function L6(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ke(lr(n)))),n}(e,t),r,o)}(n,e,null,!0),Ef}function ui(n,e){for(let t=function C6(n){return function kR(n){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=n.length}(n),MR(n,Xa(n,0,Wt.textEnd))}(e);t>=0;t=MR(e,t))ar(n,RR(e),!0)}function VR(n,e){return e>=n.expandoStartIndex}function LR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[On()],o=VR(n,t);$R(s,r)&&null===e&&!o&&(e=!1),e=function M6(n,e,t,r){const i=O_(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Yc(t=rv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=rv(i,n,e,t,r),null===s){let l=function P6(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==bo(r))return n[Es(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=rv(null,n,e,l[1],r),l=Yc(l,e.attrs,r),function k6(n,e,t,r){n[Es(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function O6(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yc(r,n[s].hostAttrs,t);return Yc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function b6(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),l=bo(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Pa(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=Es(n[a+1]);n[r+1]=bf(h,a),0!==h&&(n[h+1]=tv(n[h+1],r)),n[a+1]=function y6(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=bf(a,0),0!==a&&(n[a+1]=tv(n[a+1],r)),a=r;else n[r+1]=bf(l,0),0===a?a=r:n[l+1]=tv(n[l+1],r),l=r;c&&(n[r+1]=ev(n[r+1])),xR(n,u,r,!0),xR(n,u,r,!1),function E6(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Pa(s,e)>=0&&(t[r+1]=nv(t[r+1]))}(e,u,n,r,s),o=bf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function rv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Yc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ar(n,o,!!t||e[++s]))}return void 0===n?null:n}function UR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function v6(n){return 1==(1&n)}(c)?jR(l,e,t,i,bo(c),o):void 0;wf(u)||(wf(s)||function _6(n){return 2==(2&n)}(c)&&(s=jR(l,null,t,i,a,o)),function M5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:qn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qn.Important),n.setStyle(t,r,i,s))}}(r,o,Vh(On(),t),i,s))}function jR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===me&&(h=d?Le:void 0);let f=d?K_(h,r):u===r?h:void 0;if(c&&!wf(f)&&(f=K_(l,r)),wf(f)&&(a=f,o))return a;const p=n[i+1];i=o?Es(p):bo(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=K_(l,r))}return a}function wf(n){return void 0!==n}function $R(n,e){return 0!=(n.flags&(e?8:16))}function v(n,e=""){const t=P(),r=Pe(),i=n+nt,s=r.firstCreatePass?ja(r,i,1,e,null):r.data[i],o=t[i]=function ay(n,e){return n.createText(e)}(t[we],e);Jh(r,t,o,s),ri(s,!1)}function Vt(n){return ee("",n,""),Vt}function ee(n,e,t){const r=P(),i=Ha(r,n,e,t);return i!==me&&$i(r,On(),i),ee}function iv(n,e,t,r,i,s,o){const a=P(),l=Ga(a,n,e,t,r,i,s,o);return l!==me&&$i(a,On(),l),iv}function Za(n,e,t){!function Gr(n,e,t,r){const i=Pe(),s=Li(2);i.firstUpdatePass&&LR(i,null,s,r);const o=P();if(t!==me&&Cn(o,s,t)){const a=i.data[On()];if($R(a,r)&&!VR(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=__(l,t||"")),Yy(i,a,o,t,r)}else!function V6(n,e,t,r,i,s,o,a){i===me&&(i=Le);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let _,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,_=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,_=f),null!==p&&UR(n,e,t,r,p,_,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[we],o[s+1],o[s+1]=function N6(n,e,t){if(null==t||""===t)return Le;const r=[],i=lr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(ar,ui,Ha(P(),n,e,t),!0)}function sv(n,e,t){const r=P();return Cn(r,Ta(),e)&&cr(Pe(),_t(),r,n,e,r[we],t,!0),sv}function ov(n,e,t){const r=P();if(Cn(r,Ta(),e)){const s=Pe(),o=_t();cr(s,o,r,n,e,Zx(O_(s.data),o,r),t,!0)}return ov}const Eo=void 0;var rG=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nG(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ja={};function Fn(n){const e=function iG(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=a1(e);if(t)return t;const r=e.split("-")[0];if(t=a1(r),t)return t;if("en"===r)return rG;throw new R(701,!1)}function a1(n){return n in Ja||(Ja[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),Ja[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const el="en-US";let l1=el;function cv(n,e,t,r,i){if(n=oe(n),Array.isArray(n))for(let s=0;s<n.length;s++)cv(n[s],e,t,r,i);else{const s=Pe(),o=P();let a=_o(n)?n:oe(n.provide),l=vx(n);const c=un(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(_o(n)||!n.multi){const f=new Pc(l,i,x),p=dv(a,e,i?u:u+h,d);-1===p?(z_(Gh(c,o),s,a),uv(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=dv(a,e,u+h,d),p=dv(a,e,u,u+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){z_(Gh(c,o),s,a);const b=function t9(n,e,t,r,i){const s=new Pc(n,t,x);return s.multi=[],s.index=e,s.componentProviders=0,k1(s,i,r&&!t),s}(i?e9:JG,t.length,i,r,l);!i&&y&&(t[p].providerFactory=b),uv(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else uv(s,n,f>-1?f:p,k1(t[i?p:f],l,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function uv(n,e,t,r){const i=_o(e),s=function hH(n){return!!n.useClass}(e);if(i||s){const l=(s?oe(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function k1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function JG(n,e,t,r){return hv(this.multi,[])}function e9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fo(t,t[W],this.providerFactory.index,r);s=a.slice(0,o),hv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],hv(i,s);return s}function hv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ht(n,e=[]){return t=>{t.providersResolver=(r,i)=>function ZG(n,e,t){const r=Pe();if(r.firstCreatePass){const i=jr(n);cv(t,r.data,r.blueprint,i,!0),cv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class tl{}class O1{}class N1 extends tl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eR(this);const r=ir(e);this._bootstrapComponents=ji(r.bootstrap),this._r3Injector=Ox(e,t,[{provide:tl,useValue:this},{provide:yo,useValue:this.componentFactoryResolver}],Ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fv extends O1{constructor(e){super(),this.moduleType=e}create(e){return new N1(this.moduleType,e)}}class r9 extends tl{constructor(e,t,r){super(),this.componentFactoryResolver=new eR(this),this.instance=null;const i=new yx([...e,{provide:tl,useValue:this},{provide:yo,useValue:this.componentFactoryResolver}],t||cf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Af(n,e,t=null){return new r9(n,e,t).injector}let i9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=px(0,t.type),i=r.length>0?Af([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(S(oi))}),n})();function F1(n){n.getStandaloneInjector=e=>e.get(i9).getOrCreateStandaloneInjector(n)}function nu(n,e,t){const r=kn()+n,i=P();return i[r]===me?li(i,r,t?e.call(t):e()):function Kc(n,e){return n[e]}(i,r)}function z1(n,e,t,r,i,s,o){const a=e+t;return vo(n,a,i,s)?li(n,a+2,o?r.call(o,i,s):r(i,s)):function ru(n,e){const t=n[e];return t===me?void 0:t}(n,a+2)}function Q1(n,e,t,r){const i=n+nt,s=P(),o=function Ca(n,e){return n[e]}(s,i);return function iu(n,e){return n[W].data[e].pure}(s,i)?z1(s,kn(),e,o.transform,t,r,o):o.transform(t,r)}function gv(n){return e=>{setTimeout(n,void 0,e)}}const st=class A9 extends ut{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=gv(s),i&&(i=gv(i)),o&&(o=gv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof yn&&e.add(a),a}};function S9(){return this._results[Symbol.iterator]()}class mv{get changes(){return this._changes||(this._changes=new st)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=mv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=S9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ir(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function O$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=M9,n})();const x9=di,R9=class extends x9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=df(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Sc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ni];return null!==o&&(i[ni]=o.createEmbeddedView(r)),Vy(r,i,e),new Wc(i)}};function M9(){return Sf(un(),P())}function Sf(n,e){return 4&n.type?new R9(e,n,La(n,e)):null}let Tr=(()=>{class n{}return n.__NG_ELEMENT_ID__=P9,n})();function P9(){return Z1(un(),P())}const k9=Tr,Y1=class extends k9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Aa(this._hostTNode,this._hostLView)}get parentInjector(){const e=H_(this._hostTNode,this._hostLView);if(nS(e)){const t=Hh(e,this._hostLView),r=$h(e);return new Aa(t[W].data[r+8],t)}return new Aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=X1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Nc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new qc($e(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(oi,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[W];if(function i$(n){return Ur(n[Et])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[Et],h=new Y1(d,d[bn],d[Et]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function I5(n,e,t,r){const i=Pn+r,s=t.length;r>0&&(t[i-1][Br]=e),r<s-Pn?(e[Br]=t[i],pS(t,Pn+r,e)):(t.push(e),e[Br]=null),e[Et]=t;const o=e[Sc];null!==o&&t!==o&&function C5(n,e){const t=n[Ia];e[En]!==e[Et][Et][En]&&(n[RA]=!0),null===t?n[Ia]=[e]:t.push(e)}(o,e);const a=e[ni];null!==a&&a.insertView(n),e[be]|=64}(i,r,o,s);const a=hy(s,o),l=r[we],c=Zh(l,o[Oh]);return null!==c&&function b5(n,e,t,r,i,s){r[Fi]=i,r[bn]=e,jc(n,r,t,1,i,s)}(i,o[bn],l,r,c,a),e.attachToViewContainerRef(),pS(_v(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=X1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=cy(this._lContainer,t);r&&(Kh(_v(this._lContainer),t),LS(r[W],r))}detach(e){const t=this._adjustIndex(e,-1),r=cy(this._lContainer,t);return r&&null!=Kh(_v(this._lContainer),t)?new Wc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function X1(n){return n[Nh]}function _v(n){return n[Nh]||(n[Nh]=[])}function Z1(n,e){let t;const r=e[n.index];if(Ur(r))t=r;else{let i;if(8&n.type)i=cn(r);else{const s=e[we];i=s.createComment("");const o=or(n,e);go(s,Zh(s,o),i,function S5(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=Qx(r,e,i,n),ff(e,t)}return new Y1(t,n,e)}class yv{constructor(e){this.queryList=e,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new vv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sM(e,t).matches&&this.queries[t].setDirty()}}class J1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class bv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new bv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ev{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ev(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,O9(t,s)),this.matchTNodeWithReadOption(e,t,Wh(t,e,s,!1,!1))}else r===di?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dn||i===Tr||i===di&&4&t.type)this.addMatch(t.index,-2);else{const s=Wh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function O9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function F9(n,e,t,r){return-1===t?function N9(n,e){return 11&n.type?La(n,e):4&n.type?Sf(n,e):null}(e,n):-2===t?function V9(n,e,t){return t===dn?La(e,n):t===di?Sf(e,n):t===Tr?Z1(e,n):void 0}(n,e,r):fo(n,n[W],t,e)}function eM(n,e,t,r){const i=e[ni].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:F9(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function wv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=eM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Pn;d<u.length;d++){const h=u[d];h[Sc]===h[Et]&&wv(h[W],h,c,r)}if(null!==u[Ia]){const d=u[Ia];for(let h=0;h<d.length;h++){const f=d[h];wv(f[W],f,c,r)}}}}}return r}function Iv(n){const e=P(),t=Pe(),r=WA();N_(r+1);const i=sM(t,r);if(n.dirty&&function r$(n){return 4==(4&n[be])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?wv(t,e,r,[]):eM(t,e,i,r);n.reset(s,IH),n.notifyOnChanges()}return!0}return!1}function tM(n,e,t){const r=Pe();r.firstCreatePass&&(function iM(n,e,t){null===n.queries&&(n.queries=new bv),n.queries.track(new Ev(e,t))}(r,new J1(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function rM(n,e,t){const r=new mv(4==(4&t));zx(n,e,r,r.destroy),null===e[ni]&&(e[ni]=new vv),e[ni].queries.push(new yv(r))}(r,P(),e)}function sM(n,e){return n.queries.getByIndex(e)}function Rf(...n){}const Mf=new V("Application Initializer");let Pf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Rf,this.reject=Rf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Qc(s))t.push(s);else if(Xy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(S(Mf,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ou=new V("AppId",{providedIn:"root",factory:function IM(){return`${Rv()}${Rv()}${Rv()}`}});function Rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CM=new V("Platform Initializer"),au=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mv=new V("AnimationModuleType");let o8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hi=new V("LocaleId",{providedIn:"root",factory:()=>_e(hi,ie.Optional|ie.SkipSelf)||function a8(){return typeof $localize<"u"&&$localize.locale||el}()});class c8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TM=(()=>{class n{compileModuleSync(t){return new fv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ji(ir(t).declarations).reduce((o,a)=>{const l=$e(a);return l&&o.push(new qc(l)),o},[]);return new c8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h8=(()=>Promise.resolve(0))();function Pv(n){typeof Zone>"u"?h8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function f8(){let n=tt.requestAnimationFrame,e=tt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function m8(n){const e=()=>{!function g8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ov(n),n.isCheckStableRunning=!0,kv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return SM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),xM(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return SM(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),xM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Ov(n),kv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new R(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,p8,Rf,Rf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const p8={};function kv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xM(n){n._nesting--,kv(n)}class _8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const RM=new V(""),kf=new V("");let Vv,Nv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function y8(n){Vv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),Pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(S(xe),S(Fv),S(kf))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),Fv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Vv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hi=!1;let ws=null;const MM=new V("AllowMultipleToken"),Lv=new V("PlatformDestroyListeners"),PM=new V("appBootstrapListener");class kM{constructor(e,t){this.name=e,this.token=t}}function NM(n,e,t=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Bv();if(!o||o.injector.get(MM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function E8(n){if(ws&&!ws.get(MM,!1))throw new R(400,!1);ws=n;const e=n.get(VM);(function OM(n){const e=n.get(CM,null);e&&e.forEach(t=>t())})(n)}(function FM(n=[],e){return tn.create({name:e,providers:[{provide:Cy,useValue:"platform"},{provide:Lv,useValue:new Set([()=>ws=null])},...n]})}(a,r))}return function I8(n){const e=Bv();if(!e)throw new R(401,!1);return e}()}}function Bv(){return ws?.get(VM)??null}let VM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function BM(n,e){let t;return t="noop"===n?new _8:("zone.js"===n?void 0:n)||new xe(e),t}(r?.ngZone,function LM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:xe,useValue:i}];return i.run(()=>{const o=tn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(bs,null);if(!l)throw new R(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Of(this._modules,a),c.unsubscribe()})}),function UM(n,e,t){try{const r=t();return Qc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Pf);return c.runInitializers(),c.donePromise.then(()=>(function c1(n){vr(n,"Expected localeId to be defined"),"string"==typeof n&&(l1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(hi,el)||el),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=jM({},r);return function v8(n,e,t){const r=new fv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(il);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new R(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Lv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(S(tn))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function jM(n,e){return Array.isArray(e)?e.reduce(jM,n):{...n,...e}}let il=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new qe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),Pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=mA(s,o.pipe(function _A(n={}){const{connector:e=(()=>new ut),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const _=o;f(),_?.unsubscribe()};return Tt((_,y)=>{c++,!d&&!u&&h();const b=l=l??e();y.add(()=>{c--,0===c&&!d&&!u&&(a=g_(p,i))}),b.subscribe(y),!o&&c>0&&(o=new Ec({next:C=>b.next(C),error:C=>{d=!0,h(),a=g_(f,t,C),b.error(C)},complete:()=>{u=!0,h(),a=g_(f,r),b.complete()}}),Hn(_).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof bx;if(!this._injector.get(Pf).done){!i&&function va(n){const e=$e(n)||vn(n)||Gn(n);return null!==e&&e.standalone}(t);throw new R(405,Hi)}let o;o=i?t:this._injector.get(yo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function b8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(tl),c=o.create(tn.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(RM,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Of(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Of(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(PM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Of(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(S(xe),S(oi),S(bs))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Of(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lu=(()=>{class n{}return n.__NG_ELEMENT_ID__=T8,n})();function T8(n){return function D8(n,e,t){if(Rc(n)&&!t){const r=Wn(n.index,e);return new Wc(r,r)}return 47&n.type?new Wc(e[En],e):null}(un(),P(),16==(16&n))}class WM{constructor(){}supports(e){return yf(e)}create(e){return new P8(e)}}const M8=(n,e)=>e;class P8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||M8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<KM(r,i,s)?t:r,a=KM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!yf(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function s6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new k8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new qM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class k8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class O8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class qM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new O8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function YM(){return new Vf([new WM])}let Vf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||YM()),deps:[[n,new ka,new wn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new R(901,!1)}}return n.\u0275prov=U({token:n,providedIn:"root",factory:YM}),n})();const B8=NM(null,"core",[]);let U8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(S(il))},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})();function sl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let zv=null;function zi(){return zv}class H8{}const Ie=new V("DocumentToken");let Gv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return function z8(){return S(ZM)}()},providedIn:"platform"}),n})();const G8=new V("Location Initialized");let ZM=(()=>{class n extends Gv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){JM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){JM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:function(){return function W8(){return new ZM(S(Ie))}()},providedIn:"platform"}),n})();function JM(){return!!window.history.pushState}function Wv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function eP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Gi(n){return n&&"?"!==n[0]?"?"+n:n}let Io=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return _e(nP)},providedIn:"root"}),n})();const tP=new V("appBaseHref");let nP=(()=>{class n extends Io{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_e(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Gi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Gi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Gv),S(tP,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q8=(()=>{class n extends Io{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Wv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Gv),S(tP,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),uu=(()=>{class n{constructor(t){this._subject=new st,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Y8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(eP(rP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gi(r))}normalize(t){return n.stripTrailingSlash(function Q8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,rP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Gi,n.joinWithSlash=Wv,n.stripTrailingSlash=eP,n.\u0275fac=function(t){return new(t||n)(S(Io))},n.\u0275prov=U({token:n,factory:function(){return function K8(){return new uu(S(Io))}()},providedIn:"root"}),n})();function rP(n){return n.replace(/\/index.html$/,"")}var At=(()=>((At=At||{})[At.Format=0]="Format",At[At.Standalone=1]="Standalone",At))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.Medium=1]="Medium",yt[yt.Long=2]="Long",yt[yt.Full=3]="Full",yt))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function Lf(n,e){return Ar(Fn(n)[z.DateFormat],e)}function Bf(n,e){return Ar(Fn(n)[z.TimeFormat],e)}function Uf(n,e){return Ar(Fn(n)[z.DateTimeFormat],e)}function Dr(n,e){const t=Fn(n),r=t[z.NumberSymbols][e];if(typeof r>"u"){if(e===se.CurrencyDecimal)return t[z.NumberSymbols][se.Decimal];if(e===se.CurrencyGroup)return t[z.NumberSymbols][se.Group]}return r}function sP(n){if(!n[z.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ar(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Kv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const cW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,du={},uW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),le=(()=>((le=le||{})[le.FullYear=0]="FullYear",le[le.Month=1]="Month",le[le.Date=2]="Date",le[le.Hours=3]="Hours",le[le.Minutes=4]="Minutes",le[le.Seconds=5]="Seconds",le[le.FractionalSeconds=6]="FractionalSeconds",le[le.Day=7]="Day",le))(),Ee=(()=>((Ee=Ee||{})[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee))();function dW(n,e,t,r){let i=function bW(n){if(lP(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return jf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(cW))return function EW(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!lP(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Wi(t,e)||e;let a,o=[];for(;e;){if(a=uW.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=aP(r,l),i=function vW(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function yW(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(aP(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const d=function _W(n){if(Yv[n])return Yv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Xe(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=Xe(Ee.Eras,Ae.Wide);break;case"GGGGG":e=Xe(Ee.Eras,Ae.Narrow);break;case"y":e=Bt(le.FullYear,1,0,!1,!0);break;case"yy":e=Bt(le.FullYear,2,0,!0,!0);break;case"yyy":e=Bt(le.FullYear,3,0,!1,!0);break;case"yyyy":e=Bt(le.FullYear,4,0,!1,!0);break;case"Y":e=Gf(1);break;case"YY":e=Gf(2,!0);break;case"YYY":e=Gf(3);break;case"YYYY":e=Gf(4);break;case"M":case"L":e=Bt(le.Month,1,1);break;case"MM":case"LL":e=Bt(le.Month,2,1);break;case"MMM":e=Xe(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=Xe(Ee.Months,Ae.Wide);break;case"MMMMM":e=Xe(Ee.Months,Ae.Narrow);break;case"LLL":e=Xe(Ee.Months,Ae.Abbreviated,At.Standalone);break;case"LLLL":e=Xe(Ee.Months,Ae.Wide,At.Standalone);break;case"LLLLL":e=Xe(Ee.Months,Ae.Narrow,At.Standalone);break;case"w":e=Qv(1);break;case"ww":e=Qv(2);break;case"W":e=Qv(1,!0);break;case"d":e=Bt(le.Date,1);break;case"dd":e=Bt(le.Date,2);break;case"c":case"cc":e=Bt(le.Day,1);break;case"ccc":e=Xe(Ee.Days,Ae.Abbreviated,At.Standalone);break;case"cccc":e=Xe(Ee.Days,Ae.Wide,At.Standalone);break;case"ccccc":e=Xe(Ee.Days,Ae.Narrow,At.Standalone);break;case"cccccc":e=Xe(Ee.Days,Ae.Short,At.Standalone);break;case"E":case"EE":case"EEE":e=Xe(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=Xe(Ee.Days,Ae.Wide);break;case"EEEEE":e=Xe(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=Xe(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Xe(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Xe(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=Xe(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Xe(Ee.DayPeriods,Ae.Abbreviated,At.Standalone,!0);break;case"bbbb":e=Xe(Ee.DayPeriods,Ae.Wide,At.Standalone,!0);break;case"bbbbb":e=Xe(Ee.DayPeriods,Ae.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xe(Ee.DayPeriods,Ae.Abbreviated,At.Format,!0);break;case"BBBB":e=Xe(Ee.DayPeriods,Ae.Wide,At.Format,!0);break;case"BBBBB":e=Xe(Ee.DayPeriods,Ae.Narrow,At.Format,!0);break;case"h":e=Bt(le.Hours,1,-12);break;case"hh":e=Bt(le.Hours,2,-12);break;case"H":e=Bt(le.Hours,1);break;case"HH":e=Bt(le.Hours,2);break;case"m":e=Bt(le.Minutes,1);break;case"mm":e=Bt(le.Minutes,2);break;case"s":e=Bt(le.Seconds,1);break;case"ss":e=Bt(le.Seconds,2);break;case"S":e=Bt(le.FractionalSeconds,1);break;case"SS":e=Bt(le.FractionalSeconds,2);break;case"SSS":e=Bt(le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hf(qt.Short);break;case"ZZZZZ":e=Hf(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hf(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hf(qt.Long);break;default:return null}return Yv[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function jf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wi(n,e){const t=function X8(n){return Fn(n)[z.LocaleId]}(n);if(du[t]=du[t]||{},du[t][e])return du[t][e];let r="";switch(e){case"shortDate":r=Lf(n,yt.Short);break;case"mediumDate":r=Lf(n,yt.Medium);break;case"longDate":r=Lf(n,yt.Long);break;case"fullDate":r=Lf(n,yt.Full);break;case"shortTime":r=Bf(n,yt.Short);break;case"mediumTime":r=Bf(n,yt.Medium);break;case"longTime":r=Bf(n,yt.Long);break;case"fullTime":r=Bf(n,yt.Full);break;case"short":const i=Wi(n,"shortTime"),s=Wi(n,"shortDate");r=$f(Uf(n,yt.Short),[i,s]);break;case"medium":const o=Wi(n,"mediumTime"),a=Wi(n,"mediumDate");r=$f(Uf(n,yt.Medium),[o,a]);break;case"long":const l=Wi(n,"longTime"),c=Wi(n,"longDate");r=$f(Uf(n,yt.Long),[l,c]);break;case"full":const u=Wi(n,"fullTime"),d=Wi(n,"fullDate");r=$f(Uf(n,yt.Full),[u,d])}return r&&(du[t][e]=r),r}function $f(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function qr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Bt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function fW(n,e){switch(n){case le.FullYear:return e.getFullYear();case le.Month:return e.getMonth();case le.Date:return e.getDate();case le.Hours:return e.getHours();case le.Minutes:return e.getMinutes();case le.Seconds:return e.getSeconds();case le.FractionalSeconds:return e.getMilliseconds();case le.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===le.Hours)0===a&&-12===t&&(a=12);else if(n===le.FractionalSeconds)return function hW(n,e){return qr(n,3).substring(0,e)}(a,e);const l=Dr(o,se.MinusSign);return qr(a,e,l,r,i)}}function Xe(n,e,t=At.Format,r=!1){return function(i,s){return function pW(n,e,t,r,i,s){switch(t){case Ee.Months:return function eW(n,e,t){const r=Fn(n),s=Ar([r[z.MonthsFormat],r[z.MonthsStandalone]],e);return Ar(s,t)}(e,i,r)[n.getMonth()];case Ee.Days:return function J8(n,e,t){const r=Fn(n),s=Ar([r[z.DaysFormat],r[z.DaysStandalone]],e);return Ar(s,t)}(e,i,r)[n.getDay()];case Ee.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function iW(n){const e=Fn(n);return sP(e),(e[z.ExtraData][2]||[]).map(r=>"string"==typeof r?Kv(r):[Kv(r[0]),Kv(r[1])])}(e),u=function sW(n,e,t){const r=Fn(n);sP(r);const s=Ar([r[z.ExtraData][0],r[z.ExtraData][1]],e)||[];return Ar(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=o>=f.hours&&a>=f.minutes,y=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&y)return!0}else if(_||y)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function Z8(n,e,t){const r=Fn(n),s=Ar([r[z.DayPeriodsFormat],r[z.DayPeriodsStandalone]],e);return Ar(s,t)}(e,i,r)[o<12?0:1];case Ee.Eras:return function tW(n,e){return Ar(Fn(n)[z.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Hf(n){return function(e,t,r){const i=-1*r,s=Dr(t,se.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+qr(o,2,s)+qr(Math.abs(i%60),2,s);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+qr(o,1,s);case qt.Long:return"GMT"+(i>=0?"+":"")+qr(o,2,s)+":"+qr(Math.abs(i%60),2,s);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+qr(o,2,s)+":"+qr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const gW=0,zf=4;function oP(n){return jf(n.getFullYear(),n.getMonth(),n.getDate()+(zf-n.getDay()))}function Qv(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=oP(t),o=function mW(n){const e=jf(n,gW,1).getDay();return jf(n,0,1+(e<=zf?zf:zf+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return qr(i,n,Dr(r,se.MinusSign))}}function Gf(n,e=!1){return function(t,r){return qr(oP(t).getFullYear(),n,Dr(r,se.MinusSign),e)}}const Yv={};function aP(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function lP(n){return n instanceof Date&&!isNaN(n.valueOf())}function hP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class NW{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new NW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),mP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(x(Tr),x(di),x(Vf))},n.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function mP(n,e){n.context.$implicit=e.item}let qi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new VW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(x(Tr),x(di))},n.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class VW{constructor(){this.$implicit=null,this.ngIf=null}}function _P(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ke(e)}'.`)}const YW=new V("DATE_PIPE_DEFAULT_TIMEZONE"),XW=new V("DATE_PIPE_DEFAULT_OPTIONS");let fu=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return dW(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Kr(n,e){return new R(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(x(hi,16),x(YW,24),x(XW,24))},n.\u0275pipe=zn({name:"date",type:n,pure:!0,standalone:!0}),n})(),aq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})();const bP="browser";let hq=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>new fq(S(Ie),window)}),n})();class fq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function pq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=EP(this.window.history)||EP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function EP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wP{}class jq extends H8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cb extends jq{static makeCurrent(){!function $8(n){zv||(zv=n)}(new cb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $q(){return gu=gu||document.querySelector("base"),gu?gu.getAttribute("href"):null}();return null==t?null:function Hq(n){Qf=Qf||document.createElement("a"),Qf.setAttribute("href",n);const e=Qf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hP(document.cookie,e)}}let Qf,gu=null;const AP=new V("TRANSITION_ID"),Gq=[{provide:Mf,useFactory:function zq(n,e,t){return()=>{t.get(Pf).donePromise.then(()=>{const r=zi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[AP,Ie,tn],multi:!0}];let qq=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const Yf=new V("EventManagerPlugins");let Xf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(S(Yf),S(xe))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class SP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=zi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xP=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),mu=(()=>{class n extends xP{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const ub={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},db=/%COMP%/g,PP=new V("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function kP(n,e){return e.flat(100).map(t=>t.replace(db,n))}function OP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zf=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new hb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof VP?i.applyToHost(t):i instanceof fb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Lr.Emulated:s=new VP(o,a,r,this.appId,l);break;case Lr.ShadowDom:return new e7(o,a,t,r);default:s=new fb(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(S(Xf),S(mu),S(ou),S(PP))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class hb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ub[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(FP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(FP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ub[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ub[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(t,r,i&qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,OP(r)):this.eventManager.addEventListener(e,t,OP(r))}}function FP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class e7 extends hb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=kP(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fb extends hb{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=kP(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class VP extends fb{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function Xq(n){return"_ngcontent-%COMP%".replace(db,n)}(o),this.hostAttr=function Zq(n){return"_nghost-%COMP%".replace(db,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let t7=(()=>{class n extends SP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const LP=["alt","control","meta","shift"],n7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let i7=(()=>{class n extends SP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),LP.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=n7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),LP.forEach(o=>{o!==i&&(0,r7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const UP=[{provide:au,useValue:bP},{provide:CM,useValue:function s7(){cb.makeCurrent()},multi:!0},{provide:Ie,useFactory:function a7(){return function F5(n){my=n}(document),document},deps:[]}],l7=NM(B8,"browser",UP),jP=new V(""),$P=[{provide:kf,useClass:class Wq{addToWindow(e){tt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),tt.getAllAngularRootElements=()=>e.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(r=>{const i=tt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?zi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RM,useClass:Nv,deps:[xe,Fv,kf]},{provide:Nv,useClass:Nv,deps:[xe,Fv,kf]}],HP=[{provide:Cy,useValue:"root"},{provide:bs,useFactory:function o7(){return new bs},deps:[]},{provide:Yf,useClass:t7,multi:!0,deps:[Ie,xe,au]},{provide:Yf,useClass:i7,multi:!0,deps:[Ie]},{provide:Zf,useClass:Zf,deps:[Xf,mu,ou,PP]},{provide:zc,useExisting:Zf},{provide:xP,useExisting:mu},{provide:mu,useClass:mu,deps:[Ie]},{provide:Xf,useClass:Xf,deps:[Yf,xe]},{provide:wP,useClass:qq,deps:[]},[]];let _b,zP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ou,useValue:t.appId},{provide:AP,useExisting:ou},Gq]}}}return n.\u0275fac=function(t){return new(t||n)(S(jP,12))},n.\u0275mod=dt({type:n}),n.\u0275inj=et({providers:[...HP,...$P],imports:[aq,U8]}),n})(),GP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new t:function u7(){return new GP(S(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{_b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_b=!1}let _u,Co,vb,Ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function dq(n){return n===bP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(S(au))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yb(n){return function m7(){if(null==_u&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_u=!0}))}finally{_u=_u||!1}return _u}()?n:!!n.capture}function _7(){if(null==Co){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Co=!1,Co;if("scrollBehavior"in document.documentElement.style)Co=!0;else{const n=Element.prototype.scrollTo;Co=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Co}function bb(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function To(n){return n.composedPath?n.composedPath()[0]:n.target}function Eb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Sr extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function te(...n){return Ft(n,wc(n))}function Qr(n){return n<=0?()=>ei:Tt((e,t)=>{let r=0;e.subscribe(mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ln(n,e){return Tt((t,r)=>{let i=0;t.subscribe(mt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function x7(n,e){return n===e}function YP(n){return Tt((e,t)=>{Hn(n).subscribe(mt(t,()=>t.complete(),n_)),!t.closed&&e.subscribe(t)})}function XP(n){return Array.isArray(n)?n:[n]}function Ut(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ep(n){return n instanceof dn?n.nativeElement:n}let ek=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function O7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function k7(n){try{return n.frameElement}catch{return null}}(function $7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===nk(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=nk(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function U7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function j7(n){return!function F7(n){return function L7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function N7(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function V7(n){return function B7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||tk(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(S(Ki))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function nk(n){if(!tk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class H7{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qr(1)).subscribe(e)}}let z7=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new H7(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(S(ek),S(xe),S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q7=new V("cdk-input-modality-detector-options"),K7={ignoreKeys:[18,17,224,91,16]},al=yb({passive:!0,capture:!0});let Q7=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Sr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=To(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function G7(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=To(o))},this._onTouchstart=o=>{!function W7(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=To(o)):this._modality.next("keyboard")},this._options={...K7,...s},this.modalityDetected=this._modality.pipe(function A7(n){return Ln((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function S7(n,e=gs){return n=n??x7,Tt((t,r)=>{let i,s=!0;t.subscribe(mt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,al),i.addEventListener("mousedown",this._onMousedown,al),i.addEventListener("touchstart",this._onTouchstart,al)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,al),document.removeEventListener("mousedown",this._onMousedown,al),document.removeEventListener("touchstart",this._onTouchstart,al))}}return n.\u0275fac=function(t){return new(t||n)(S(Ki),S(xe),S(Ie),S(q7,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X7=new V("cdk-focus-monitor-default-options"),tp=yb({passive:!0,capture:!0});let Z7=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut,this._rootNodeFocusAndBlurListener=a=>{const l=To(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ep(t);if(!this._platform.isBrowser||1!==i.nodeType)return te(null);const s=function v7(n){if(function y7(){if(null==vb){const n=typeof document<"u"?document.head:null;vb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new ut,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ep(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ep(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=To(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,tp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,tp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(YP(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(S(xe),S(Ki),S(Q7),S(Ie,8),S(X7,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ik="cdk-high-contrast-black-on-white",sk="cdk-high-contrast-white-on-black",wb="cdk-high-contrast-active";let J7=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wb),t.remove(ik),t.remove(sk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(wb),t.add(ik)):2===r&&(t.add(wb),t.add(sk))}}}return n.\u0275fac=function(t){return new(t||n)(S(Ki),S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eK=new V("cdk-dir-doc",{providedIn:"root",factory:function tK(){return _e(Ie)}}),nK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ib=(()=>{class n{constructor(t){this.value="ltr",this.change=new st,t&&(this.value=function rK(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?nK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(S(eK,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})();const sK=new V("mat-sanity-checks",{providedIn:"root",factory:function iK(){return!0}});let Cs=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Eb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(S(J7),S(sK,8),S(Ie))},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[[yu],yu]}),n})(),dK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[[Cs],Cs]}),n})();function ll(n,e){const t=Ne(n)?n:()=>n,r=i=>i.error(t());return new qe(e?i=>e.schedule(r,0,i):r)}const{isArray:hK}=Array,{getPrototypeOf:fK,prototype:pK,keys:gK}=Object;function dk(n){if(1===n.length){const e=n[0];if(hK(e))return{args:e,keys:null};if(function mK(n){return n&&"object"==typeof n&&fK(n)===pK}(e)){const t=gK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:_K}=Array;function Tb(n){return he(e=>function yK(n,e){return _K(e)?n(...e):n(e)}(n,e))}function hk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jt(n,e,t){const r=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?Tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(mt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):gs}function Qi(n){return Tt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(mt(t,void 0,void 0,o=>{s=Hn(n(o,Qi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function np(n){return Tt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ts(n,e){return Ne(e)?Xt(n,e,1):Xt(n,1)}class rp{}class Db{}class Yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vK{encodeKey(e){return pk(e)}encodeValue(e){return pk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const EK=/%(\d[a-f0-9])/gi,wK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pk(n){return encodeURIComponent(n).replace(EK,(e,t)=>wK[t]??e)}function ip(n){return`${n}`}class Ds{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ip):[ip(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ds({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ip(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ip(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class IK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function gk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mk(n){return typeof Blob<"u"&&n instanceof Blob}function _k(n){return typeof FormData<"u"&&n instanceof FormData}class bu{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function CK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yi),this.context||(this.context=new IK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ds,this.urlWithParams=t}serializeBody(){return null===this.body?null:gk(this.body)||mk(this.body)||_k(this.body)||function TK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ds?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_k(this.body)?null:mk(this.body)?this.body.type||null:gk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ds?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new bu(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var $t=(()=>(($t=$t||{})[$t.Sent=0]="Sent",$t[$t.UploadProgress=1]="UploadProgress",$t[$t.ResponseHeader=2]="ResponseHeader",$t[$t.DownloadProgress=3]="DownloadProgress",$t[$t.Response=4]="Response",$t[$t.User=5]="User",$t))();class Ab{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Sb extends Ab{constructor(e={}){super(e),this.type=$t.ResponseHeader}clone(e={}){return new Sb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sp extends Ab{constructor(e={}){super(e),this.type=$t.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yk extends Ab{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rb=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof bu)s=t;else{let l,c;l=i.headers instanceof Yi?i.headers:new Yi(i.headers),i.params&&(c=i.params instanceof Ds?i.params:new Ds({fromObject:i.params})),s=new bu(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=te(s).pipe(Ts(l=>this.handler.handle(l)));if(t instanceof bu||"events"===i.observe)return o;const a=o.pipe(Ln(l=>l instanceof sp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(he(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ds).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xb(i,r))}post(t,r,i={}){return this.request("POST",t,xb(i,r))}put(t,r,i={}){return this.request("PUT",t,xb(i,r))}}return n.\u0275fac=function(t){return new(t||n)(S(rp))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function vk(n,e){return e(n)}function DK(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const SK=new V("HTTP_INTERCEPTORS"),Eu=new V("HTTP_INTERCEPTOR_FNS");function xK(){let n=null;return(e,t)=>(null===n&&(n=(_e(SK,{optional:!0})??[]).reduceRight(DK,vk)),n(e,t))}let bk=(()=>{class n extends rp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Eu)));this.chain=r.reduceRight((i,s)=>function AK(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),vk)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(S(Db),S(oi))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const kK=/^\)\]\}',?\n/;let wk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Yi(i.getAllResponseHeaders()),_=function OK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Sb({headers:p,status:i.status,statusText:f,url:_}),o},l=()=>{let{headers:f,status:p,statusText:_,url:y}=a(),b=null;204!==p&&(b=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=b?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const E=b;b=b.replace(kK,"");try{b=""!==b?JSON.parse(b):null}catch(M){b=E,C&&(C=!1,b={error:M,text:b})}}C?(r.next(new sp({body:b,headers:f,status:p,statusText:_,url:y||void 0})),r.complete()):r.error(new yk({error:b,headers:f,status:p,statusText:_,url:y||void 0}))},c=f=>{const{url:p}=a(),_=new yk({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:$t.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:$t.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:$t.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(S(wP))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const Mb=new V("XSRF_ENABLED"),Ik=new V("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ck=new V("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tk{}let VK=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hP(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(S(Ie),S(au),S(Ik))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function LK(n,e){const t=n.url.toLowerCase();if(!_e(Mb)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=_e(Tk).getToken(),i=_e(Ck);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var xt=(()=>((xt=xt||{})[xt.Interceptors=0]="Interceptors",xt[xt.LegacyInterceptors=1]="LegacyInterceptors",xt[xt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xt[xt.NoXsrfProtection=3]="NoXsrfProtection",xt[xt.JsonpSupport=4]="JsonpSupport",xt[xt.RequestsMadeViaParent=5]="RequestsMadeViaParent",xt))();function cl(n,e){return{\u0275kind:n,\u0275providers:e}}function BK(...n){const e=[Rb,wk,bk,{provide:rp,useExisting:bk},{provide:Db,useExisting:wk},{provide:Eu,useValue:LK,multi:!0},{provide:Mb,useValue:!0},{provide:Tk,useClass:VK}];for(const t of n)e.push(...t.\u0275providers);return function cH(n){return{\u0275providers:n}}(e)}const Dk=new V("LEGACY_INTERCEPTOR_FN");let jK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({providers:[BK(cl(xt.LegacyInterceptors,[{provide:Dk,useFactory:xK},{provide:Eu,useExisting:Dk,multi:!0}]))]}),n})(),qK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[[Cs],Cs]}),n})(),KK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[[dK,Cs],Cs]}),n})(),Mk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(x(Ui),x(dn))},n.\u0275dir=ae({type:n}),n})(),Ao=(()=>{class n extends Mk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ae({type:n,features:[Ve]}),n})();const pi=new V("NgValueAccessor"),YK={provide:pi,useExisting:Qe(()=>Xi),multi:!0},ZK=new V("CompositionEventMode");let Xi=(()=>{class n extends Mk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XK(){const n=zi()?zi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(x(Ui),x(dn),x(ZK,8))},n.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&F("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ht([YK]),Ve]}),n})();const JK=!1;const Tn=new V("NgValidators"),Ss=new V("NgAsyncValidators");function Fk(n){return function As(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function lp(n){return null}function $k(n){return null!=n}function Hk(n){const e=Qc(n)?Ft(n):n;if(JK&&!Xy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new R(-1101,t)}return e}function zk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Gk(n,e){return e.map(t=>t(n))}function Wk(n){return n.map(e=>function tQ(n){return!n.validate}(e)?e:t=>e.validate(t))}function kb(n){return null!=n?function qk(n){if(!n)return null;const e=n.filter($k);return 0==e.length?null:function(t){return zk(Gk(t,e))}}(Wk(n)):null}function Kk(n){if(!n)return null;const e=n.filter($k);return 0==e.length?null:function(t){return function fk(...n){const e=pA(n),{args:t,keys:r}=dk(n),i=new qe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Hn(t[u]).subscribe(mt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?hk(r,a):a),s.complete())}))}});return e?i.pipe(Tb(e)):i}(Gk(t,e).map(Hk)).pipe(he(zk))}}function Ob(n){return null!=n?Kk(Wk(n)):null}function Qk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Nb(n){return n?Array.isArray(n)?n:[n]:[]}function cp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zk(n,e){const t=Nb(e);return Nb(n).forEach(i=>{cp(t,i)||t.push(i)}),t}function Jk(n,e){return Nb(e).filter(t=>!cp(n,t))}class eO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ob(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bn extends eO{get formDirective(){return null}get path(){return null}}class xs extends eO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let So=(()=>{class n extends tO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(x(xs,2))},n.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ef("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ve]}),n})();const Iu="VALID",dp="INVALID",ul="PENDING",Cu="DISABLED";function hp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Iu}get invalid(){return this.status===dp}get pending(){return this.status==ul}get disabled(){return this.status===Cu}get enabled(){return this.status!==Cu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jk(e,this._rawAsyncValidators))}hasValidator(e){return cp(this._rawValidators,e)}hasAsyncValidator(e){return cp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ul,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Iu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Iu||this.status===ul)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cu:Iu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ul,this._hasOwnPendingAsyncValidator=!0;const t=Hk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Cu:this.errors?dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ul)?ul:this._anyControlsHaveStatus(dp)?dp:Iu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cQ(n){return Array.isArray(n)?kb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uQ(n){return Array.isArray(n)?Ob(n):n||null}(this._rawAsyncValidators)}}const dl=new V("CallSetDisabledState",{providedIn:"root",factory:()=>fp}),fp="always";function Tu(n,e,t=fp){(function $b(n,e){const t=function Yk(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Qk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Xk(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Qk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();mp(e._rawValidators,i),mp(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function fQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oO(n,e)})}(n,e),function gQ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hQ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function mp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dO=class extends sO{constructor(e=null,t,r){super(function Bb(n){return(hp(n)?n.validators:n)||null}(t),function Ub(n,e){return(hp(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},IQ={provide:xs,useExisting:Qe(()=>Rs)},pO=(()=>Promise.resolve())();let Rs=(()=>{class n extends xs{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new dO,this._registered=!1,this.update=new st,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Gb(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xi?t=s:function yQ(n){return Object.getPrototypeOf(n.constructor)===Ao}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function zb(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&sl(r);pO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function pp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(x(Bn,9),x(Tn,10),x(Ss,10),x(pi,10),x(lu,8),x(dl,8))},n.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ht([IQ]),Ve,Er]}),n})();const TQ={provide:pi,useExisting:Qe(()=>qb),multi:!0};let qb=(()=>{class n extends Ao{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ae({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&F("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[ht([TQ]),Ve]}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})(),xo=(()=>{class n{constructor(){this._validator=lp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ae({type:n,features:[Er]}),n})();const $Q={provide:Tn,useExisting:Qe(()=>yp),multi:!0};let yp=(()=>{class n extends xo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=sl,this.createValidator=t=>Fk}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Hr("required",r._enabled?"":null)},inputs:{required:"required"},features:[ht([$Q]),Ve]}),n})(),KQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[gO]}),n})(),YQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dl,useValue:t.callSetDisabledState??fp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[KQ]}),n})();const vp=bc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kO(...n){const e=wc(n),t=pA(n),{args:r,keys:i}=dk(n);if(0===r.length)return Ft([],e);const s=new qe(function XQ(n,e,t=gs){return r=>{OO(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)OO(e,()=>{const c=Ft(n[l],e);let u=!1;c.subscribe(mt(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>hk(i,o):gs));return t?s.pipe(Tb(t)):s}function OO(n,e,t){n?Pi(t,n,e):e()}function Jb(...n){return function ZQ(){return _a(1)}()(Ft(n,wc(n)))}function eE(n){return new qe(e=>{Hn(n()).subscribe(e)})}function tE(){return Tt((n,e)=>{let t=null;n._refCount++;const r=mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class NO extends qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,JD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yn;const t=this.getSubject();e.add(this.source.subscribe(mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yn.EMPTY)}return e}refCount(){return tE()(this)}}function gi(n,e){return Tt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(mt(r,l=>{i?.unsubscribe();let c=0;const u=s++;Hn(n(l,u)).subscribe(i=mt(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function FO(...n){const e=wc(n);return Tt((t,r)=>{(e?Jb(n,t,e):Jb(n,t)).subscribe(r)})}function bp(n){return Tt((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function VO(n=JQ){return Tt((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JQ(){return new vp}function Ms(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):gs,Qr(1),t?bp(e):VO(()=>new vp))}function LO(n,e){return Tt(function eY(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(mt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function nE(n){return n<=0?()=>ei:Tt((e,t)=>{let r=[];e.subscribe(mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function BO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):gs,nE(1),t?bp(e):VO(()=>new vp))}const ye="primary",Au=Symbol("RouteTitle");class rY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hl(n){return new rY(n)}function iY(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!UO(n[i],e[i]))return!1;return!0}function UO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function jO(n){return Array.prototype.concat.apply([],n)}function $O(n){return n.length>0?n[n.length-1]:null}function hn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ps(n){return Xy(n)?n:Qc(n)?Ft(Promise.resolve(n)):te(n)}const Ep=!1,oY={exact:function GO(n,e,t){if(!Ro(n.segments,e.segments)||!wp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!GO(n.children[r],e.children[r],t))return!1;return!0},subset:WO},HO={exact:function aY(n,e){return mi(n,e)},subset:function lY(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>UO(n[t],e[t]))},ignored:()=>!0};function zO(n,e,t){return oY[t.paths](n.root,e.root,t.matrixParams)&&HO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function WO(n,e,t){return qO(n,e,e.segments,t)}function qO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ro(i,t)||e.hasChildren()||!wp(i,t,r))}if(n.segments.length===t.length){if(!Ro(n.segments,t)||!wp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!WO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ro(n.segments,i)&&wp(n.segments,i,r)&&n.children[ye])&&qO(n.children[ye],e,s,r)}}function wp(n,e,t){return e.every((r,i)=>HO[t](n[i].parameters,r.parameters))}class ks{constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return dY.serialize(this)}}class Ce{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ip(this)}}class Su{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hl(this.parameters)),this._parameterMap}toString(){return YO(this)}}function Ro(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return new rE},providedIn:"root"}),n})();class rE{parse(e){const t=new bY(e);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ru(e.root,!0)}`,r=function pY(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Cp(t)}=${Cp(i)}`).join("&"):`${Cp(t)}=${Cp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dY=new rE;function Ip(n){return n.segments.map(e=>YO(e)).join("/")}function Ru(n,e){if(!n.hasChildren())return Ip(n);if(e){const t=n.children[ye]?Ru(n.children[ye],!1):"",r=[];return hn(n.children,(i,s)=>{s!==ye&&r.push(`${s}:${Ru(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uY(n,e){let t=[];return hn(n.children,(r,i)=>{i===ye&&(t=t.concat(e(r,i)))}),hn(n.children,(r,i)=>{i!==ye&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ye?[Ru(n.children[ye],!1)]:[`${i}:${Ru(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ye]?`${Ip(n)}/${t[0]}`:`${Ip(n)}/(${t.join("//")})`}}function KO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cp(n){return KO(n).replace(/%3B/gi,";")}function iE(n){return KO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(n){return decodeURIComponent(n)}function QO(n){return Tp(n.replace(/\+/g,"%20"))}function YO(n){return`${iE(n.path)}${function fY(n){return Object.keys(n).map(e=>`;${iE(e)}=${iE(n[e])}`).join("")}(n.parameters)}`}const gY=/^[^\/()?;=#]+/;function Dp(n){const e=n.match(gY);return e?e[0]:""}const mY=/^[^=?&#]+/,yY=/^[^&#]+/;class bY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Ce(e,t)),r}parseSegment(){const e=Dp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,Ep);return this.capture(e),new Su(Tp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dp(this.remaining);i&&(r=i,this.capture(r))}e[Tp(t)]=Tp(r)}parseQueryParam(e){const t=function _Y(n){const e=n.match(mY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function vY(n){const e=n.match(yY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=QO(t),s=QO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new R(4010,Ep);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ye]:new Ce([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,Ep)}}function sE(n){return n.segments.length>0?new Ce([],{[ye]:n}):n}function Ap(n){const e={};for(const r of Object.keys(n.children)){const s=Ap(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function EY(n){if(1===n.numberOfChildren&&n.children[ye]){const e=n.children[ye];return new Ce(n.segments.concat(e.segments),e.children)}return n}(new Ce(n.segments,e))}function Mo(n){return n instanceof ks}const oE=!1;function wY(n,e,t,r,i){if(0===t.length)return fl(e.root,e.root,e.root,r,i);const s=function tN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return hn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new eN(t,e,r)}(t);return s.toRoot()?fl(e.root,e.root,new Ce([],{}),r,i):function o(l){const c=function CY(n,e,t,r){if(n.isAbsolute)return new pl(e.root,!0,0);if(-1===r)return new pl(t,t===e.root,0);return function nN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,oE&&"Invalid number of '../'");i=r.segments.length}return new pl(r,!1,i-s)}(t,r+(Mu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?gl(c.segmentGroup,c.index,s.commands):aE(c.segmentGroup,c.index,s.commands);return fl(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Mu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pu(n){return"object"==typeof n&&null!=n&&n.outlets}function fl(n,e,t,r,i){let o,s={};r&&hn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:JO(n,e,t);const a=sE(Ap(o));return new ks(a,s,i)}function JO(n,e,t){const r={};return hn(n.children,(i,s)=>{r[s]=i===e?t:JO(i,e,t)}),new Ce(n.segments,r)}class eN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mu(r[0]))throw new R(4003,oE&&"Root segment cannot have matrix parameters");const i=r.find(Pu);if(i&&i!==$O(r))throw new R(4004,oE&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function aE(n,e,t){if(n||(n=new Ce([],{})),0===n.segments.length&&n.hasChildren())return gl(n,e,t);const r=function DY(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Pu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!iN(l,c,o))return s;r+=2}else{if(!iN(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ce(n.segments.slice(0,r.pathIndex),{});return s.children[ye]=new Ce(n.segments.slice(r.pathIndex),n.children),gl(s,0,i)}return r.match&&0===i.length?new Ce(n.segments,{}):r.match&&!n.hasChildren()?lE(n,e,t):r.match?gl(n,0,i):lE(n,e,t)}function gl(n,e,t){if(0===t.length)return new Ce(n.segments,{});{const r=function TY(n){return Pu(n[0])?n[0].outlets:{[ye]:n}}(t),i={};if(!r[ye]&&n.children[ye]&&1===n.numberOfChildren&&0===n.children[ye].segments.length){const s=gl(n.children[ye],e,t);return new Ce(n.segments,s.children)}return hn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aE(n.children[o],e,s))}),hn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ce(n.segments,i)}}function lE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Pu(s)){const l=AY(s.outlets);return new Ce(r,l)}if(0===i&&Mu(t[0])){r.push(new Su(n.segments[e].path,rN(t[0]))),i++;continue}const o=Pu(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Mu(a)?(r.push(new Su(o,rN(a))),i+=2):(r.push(new Su(o,{})),i++)}return new Ce(r,{})}function AY(n){const e={};return hn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lE(new Ce([],{}),0,t))}),e}function rN(n){const e={};return hn(n,(t,r)=>e[r]=`${t}`),e}function iN(n,e,t){return n==t.path&&mi(e,t.parameters)}const ku="imperative";class _i{constructor(e,t){this.id=e,this.url=t}}class cE extends _i{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends _i{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sp extends _i{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xp extends _i{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class uE extends _i{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SY extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xY extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RY extends _i{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MY extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PY extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jY=(()=>{class n{createUrlTree(t,r,i,s,o,a){return wY(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),HY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(e){return jY.\u0275fac(e)},providedIn:"root"}),n})();class oN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hE(e,this._root).map(t=>t.value)}}function dE(n,e){if(n===e.value)return e;for(const t of e.children){const r=dE(n,t);if(r)return r}return null}function hE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hE(n,t);if(r.length)return r.unshift(e),r}return[]}class Zi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ml(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class aN extends oN{constructor(e,t){super(e),this.snapshot=t,fE(this,e)}toString(){return this.snapshot.toString()}}function lN(n,e){const t=function zY(n,e){const o=new Rp([],{},{},"",{},ye,e,null,n.root,-1,{});return new uN("",new Zi(o,[]))}(n,e),r=new Sr([new Su("",{})]),i=new Sr({}),s=new Sr({}),o=new Sr({}),a=new Sr(""),l=new Os(r,i,o,a,s,ye,e,t.root);return l.snapshot=t.root,new aN(new Zi(l,[]),t)}class Os{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(he(c=>c[Au]))??te(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>hl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>hl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function GY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Rp{get title(){return this.data?.[Au]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uN extends oN{constructor(e,t){super(t),this.url=e,fE(this,t)}toString(){return dN(this._root)}}function fE(n,e){e.value._routerState=n,e.children.forEach(t=>fE(n,t))}function dN(n){const e=n.children.length>0?` { ${n.children.map(dN).join(", ")} } `:"";return`${n.value}${e}`}function pE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mi(e.params,t.params)||n.params.next(t.params),function sY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gE(n,e){const t=mi(n.params,e.params)&&function cY(n,e){return Ro(n,e)&&n.every((t,r)=>mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gE(n.parent,e.parent))}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qY(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ou(n,r,i);return Ou(n,r)})}(n,e,t);return new Zi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ou(n,a)),o}}const r=function KY(n){return new Os(new Sr(n.url),new Sr(n.params),new Sr(n.queryParams),new Sr(n.fragment),new Sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ou(n,s));return new Zi(r,i)}}const mE="ngNavigationCancelingError";function hN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function fN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[mE]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pN(n){return gN(n)&&Mo(n.url)}function gN(n){return n&&n[mE]}class QY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nu,this.attachRef=null}}let Nu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new QY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mp=!1;let _E=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new st,this.deactivateEvents=new st,this.attachEvents=new st,this.detachEvents=new st,this.parentContexts=_e(Nu),this.location=_e(Tr),this.changeDetector=_e(lu),this.environmentInjector=_e(oi)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,Mp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,Mp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,Mp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,Mp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new YY(t,a,i.injector);if(r&&function XY(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]}),n})();class YY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Os?this.route:e===Nu?this.childContexts:this.parent.get(e,t)}}let yE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zt({type:n,selectors:[["ng-component"]],standalone:!0,features:[F1],decls:1,vars:0,template:function(t,r){1&t&&De(0,"router-outlet")},dependencies:[_E],encapsulation:2}),n})();function mN(n,e){return n.providers&&!n._injector&&(n._injector=Af(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bE(n){const e=n.children&&n.children.map(bE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=yE),t}function xr(n){return n.outlet||ye}function _N(n,e){const t=n.filter(r=>xr(r)===e);return t.push(...n.filter(r=>xr(r)!==e)),t}function Fu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ml(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),hn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ml(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ml(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ml(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new LY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new FY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(pE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Fu(i.snapshot),l=a?.get(yo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class yN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pp{constructor(e,t){this.component=e,this.route=t}}function rX(n,e,t){const r=n._root;return Vu(r,e?e._root:null,t,[r.value])}function _l(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Mj(n){return null!==Dh(n)}(n)?e.get(n):n:r}function Vu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ml(e);return n.children.forEach(o=>{(function sX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function oX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,e.url)||!mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gE(n,e)||!mi(n.queryParams,e.queryParams);default:return!gE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new yN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vu(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pp(a.outlet.component,o))}else o&&Lu(e,a,i),i.canActivateChecks.push(new yN(r)),Vu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),hn(s,(o,a)=>Lu(o,t.getContext(a),i)),i}function Lu(n,e,t){const r=ml(n),i=n.value;hn(r,(s,o)=>{Lu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Pp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bu(n){return"function"==typeof n}function EE(n){return n instanceof vp||"EmptyError"===n?.name}const kp=Symbol("INITIAL_VALUE");function yl(){return gi(n=>kO(n.map(e=>e.pipe(Qr(1),FO(kp)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===kp)return kp;if(!1===t||t instanceof ks)return t}return!0}),Ln(e=>e!==kp),Qr(1)))}function vN(n){return function L3(...n){return YD(n)}(jt(e=>{if(Mo(e))throw hN(0,e)}),he(e=>!0===e))}const wE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bN(n,e,t,r,i){const s=IE(n,e,t);return s.matched?function IX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?te(i.map(o=>{const a=_l(o,n);return Ps(function hX(n){return n&&Bu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(yl(),vN()):te(!0)}(r=mN(e,r),e,t).pipe(he(o=>!0===o?s:{...wE})):te(s)}function IE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iY)(t,n,e);if(!i)return{...wE};const s={};hn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Op(n,e,t,r){if(t.length>0&&function DX(n,e,t){return t.some(r=>Np(n,e,r)&&xr(r)!==ye)}(n,t,r)){const s=new Ce(e,function TX(n,e,t,r){const i={};i[ye]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&xr(s)!==ye){const o=new Ce([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[xr(s)]=o}return i}(n,e,r,new Ce(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function AX(n,e,t){return t.some(r=>Np(n,e,r))}(n,t,r)){const s=new Ce(n.segments,function CX(n,e,t,r,i){const s={};for(const o of r)if(Np(n,t,o)&&!i[xr(o)]){const a=new Ce([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[xr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Ce(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Np(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EN(n,e,t,r){return!!(xr(n)===r||r!==ye&&Np(e,t,n))&&("**"===n.path||IE(e,n,t).matched)}function wN(n,e,t){return 0===e.length&&!n.children[t]}const Fp=!1;class Vp{constructor(e){this.segmentGroup=e||null}}class IN{constructor(e){this.urlTree=e}}function Uu(n){return ll(new Vp(n))}function CN(n){return ll(new IN(n))}class MX{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Op(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ce(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ye).pipe(he(s=>this.createUrlTree(Ap(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qi(s=>{if(s instanceof IN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ye).pipe(he(i=>this.createUrlTree(Ap(i),e.queryParams,e.fragment))).pipe(Qi(i=>{throw i instanceof Vp?this.noMatchError(i):i}))}noMatchError(e){return new R(4002,Fp)}createUrlTree(e,t,r){const i=sE(e);return new ks(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(he(s=>new Ce([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ft(i).pipe(Ts(s=>{const o=r.children[s],a=_N(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(he(l=>({segment:l,outlet:s})))}),LO((s,o)=>(s[o.outlet]=o.segment,s),{}),BO())}expandSegment(e,t,r,i,s,o){return Ft(r).pipe(Ts(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Qi(c=>{if(c instanceof Vp)return te(null);throw c}))),Ms(a=>!!a),Qi((a,l)=>{if(EE(a))return wN(t,i,s)?te(new Ce([],{})):Uu(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return EN(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Uu(t):Uu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?CN(s):this.lineralizeSegments(r,s).pipe(Xt(o=>{const a=new Ce(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=IE(t,i,s);if(!a)return Uu(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?CN(d):this.lineralizeSegments(i,d).pipe(Xt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=mN(r,e),r.loadChildren?(r._loadedRoutes?te({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(he(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Ce(i,{})))):te(new Ce(i,{}))):bN(t,r,i,e).pipe(gi(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Xt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=Op(t,a,l,h),_=new Ce(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(he(E=>new Ce(a,E)));if(0===h.length&&0===p.length)return te(new Ce(a,{}));const y=xr(r)===s;return this.expandSegment(d,_,h,p,y?ye:s,!0).pipe(he(C=>new Ce(a.concat(C.segments),C.children)))})):Uu(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?te({routes:t._loadedRoutes,injector:t._loadedInjector}):function wX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?te(!0):te(i.map(o=>{const a=_l(o,n);return Ps(function lX(n){return n&&Bu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(yl(),vN())}(e,t,r).pipe(Xt(i=>i?this.configLoader.loadChildren(e,t).pipe(jt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function xX(n){return ll(fN(Fp,3))}())):te({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return te(r);if(i.numberOfChildren>1||!i.children[ye])return e.redirectTo,ll(new R(4e3,Fp));i=i.children[ye]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ks(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return hn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ce(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new R(4001,Fp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class kX{}class FX{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Op(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(he(t=>{if(null===t)return null;const r=new Rp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zi(r,t),s=new uN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=cN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Ft(Object.keys(r.children)).pipe(Ts(i=>{const s=r.children[i],o=_N(t,i);return this.processSegmentGroup(e,o,s,i)}),LO((i,s)=>i&&s?(i.push(...s),i):null),function tY(n,e=!1){return Tt((t,r)=>{let i=0;t.subscribe(mt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),bp(null),BO(),he(i=>{if(null===i)return null;const s=DN(i);return function VX(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Ft(t).pipe(Ts(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ms(o=>!!o),Qi(o=>{if(EE(o))return wN(r,i,s)?te([]):te(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!EN(t,r,i,s))return te(null);let o;if("**"===t.path){const a=i.length>0?$O(i).parameters:{},l=SN(r)+i.length;o=te({snapshot:new Rp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xN(t),xr(t),t.component??t._loadedComponent??null,t,AN(r),l,RN(t)),consumedSegments:[],remainingSegments:[]})}else o=bN(r,t,i,e).pipe(he(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=SN(r)+l.length;return{snapshot:new Rp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xN(t),xr(t),t.component??t._loadedComponent??null,t,AN(r),d,RN(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(gi(a=>{if(null===a)return te(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function LX(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Op(r,c,u,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(he(y=>null===y?null:[new Zi(l,y)]));if(0===h.length&&0===p.length)return te([new Zi(l,[])]);const _=xr(t)===s;return this.processSegment(d,h,f,p,_?ye:s).pipe(he(y=>null===y?null:[new Zi(l,y)]))}))}}function BX(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function DN(n){const e=[],t=new Set;for(const r of n){if(!BX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=DN(r.children);e.push(new Zi(r.value,i))}return e.filter(r=>!t.has(r))}function AN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function SN(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function xN(n){return n.data||{}}function RN(n){return n.resolve||{}}function MN(n){return"string"==typeof n.title||null===n.title}function CE(n){return gi(e=>{const t=n(e);return t?Ft(t).pipe(he(()=>e)):te(e)})}const vl=new V("ROUTES");let TE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e(TM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ps(t.loadComponent()).pipe(he(kN),jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),np(()=>{this.componentLoaders.delete(t)})),i=new NO(r,()=>new ut).pipe(tE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=jO(l.get(vl,[],ie.Self|ie.Optional)));return{routes:c.map(bE),injector:l}}),np(()=>{this.childrenLoaders.delete(r)})),o=new NO(s,()=>new ut).pipe(tE());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Ps(t()).pipe(he(kN),Xt(r=>r instanceof O1||Array.isArray(r)?te(r):Ft(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kN(n){return function qX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.configLoader=_e(TE),this.environmentInjector=_e(oi),this.urlSerializer=_e(xu),this.rootContexts=_e(Nu),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new OY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Sr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ku,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(r=>0!==r.id),he(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),gi(r=>{let i=!1,s=!1;return te(r).pipe(jt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gi(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new xp(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),ei}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ON(o.source)&&(t.browserUrlTree=o.extractedUrl),te(o).pipe(gi(u=>{const d=this.transitions?.getValue();return this.events.next(new cE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?ei:Promise.resolve(u)}),function PX(n,e,t,r){return gi(i=>function RX(n,e,t,r,i){return new MX(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(he(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),jt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function jX(n,e,t,r,i){return Xt(s=>function NX(n,e,t,r,i,s,o="emptyOnly"){return new FX(n,e,t,r,i,o,s).recognize().pipe(gi(a=>null===a?function OX(n){return new qe(e=>e.error(n))}(new kX):te(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(he(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),jt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new SY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,_=new cE(u,this.urlSerializer.serialize(d),h,f);this.events.next(_);const y=lN(d,this.rootComponentType).snapshot;return te(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new xp(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),ei}}),jt(o=>{const a=new xY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),he(o=>r={...o,guards:rX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function pX(n,e){return Xt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?te({...t,guardsResult:!0}):function gX(n,e,t,r){return Ft(n).pipe(Xt(i=>function EX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const l=Fu(e)??i,c=_l(a,l);return Ps(function dX(n){return n&&Bu(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Ms())})).pipe(yl()):te(!0)}(i.component,i.route,t,e,r)),Ms(i=>!0!==i,!0))}(o,r,i,n).pipe(Xt(a=>a&&function aX(n){return"boolean"==typeof n}(a)?function mX(n,e,t,r){return Ft(e).pipe(Ts(i=>Jb(function yX(n,e){return null!==n&&e&&e(new NY(n)),te(!0)}(i.route.parent,r),function _X(n,e){return null!==n&&e&&e(new VY(n)),te(!0)}(i.route,r),function bX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function iX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>eE(()=>te(o.guards.map(l=>{const c=Fu(o.node)??t,u=_l(l,c);return Ps(function uX(n){return n&&Bu(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Ms())})).pipe(yl())));return te(s).pipe(yl())}(n,i.path,t),function vX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const i=r.map(s=>eE(()=>{const o=Fu(e)??t,a=_l(s,o);return Ps(function cX(n){return n&&Bu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ms())}));return te(i).pipe(yl())}(n,i.route,t))),Ms(i=>!0!==i,!0))}(r,s,n,e):te(a)),he(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),jt(o=>{if(r.guardsResult=o.guardsResult,Mo(o.guardsResult))throw hN(0,o.guardsResult);const a=new RY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ln(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),CE(o=>{if(o.guards.canActivateChecks.length)return te(o).pipe(jt(a=>{const l=new MY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),gi(a=>{let l=!1;return te(a).pipe(function $X(n,e){return Xt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let s=0;return Ft(i).pipe(Ts(o=>function HX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!MN(i)&&(s[Au]=i.title),function zX(n,e,t,r){const i=function GX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return te({});const s={};return Ft(i).pipe(Xt(o=>function WX(n,e,t,r){const i=Fu(e)??r,s=_l(n,i);return Ps(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ms(),jt(a=>{s[o]=a}))),nE(1),function nY(n){return he(()=>n)}(s),Qi(o=>EE(o)?ei:ll(o)))}(s,n,e,r).pipe(he(o=>(n._resolvedData=o,n.data=cN(n,t).resolve,i&&MN(i)&&(n.data[Au]=i.title),null)))}(o.route,r,n,e)),jt(()=>s++),nE(1),Xt(o=>s===i.length?te(t):ei))})}(t.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),jt(a=>{const l=new PY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),CE(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(jt(u=>{l.component=u}),he(()=>{})));for(const u of l.children)c.push(...a(u));return c};return kO(a(o.targetSnapshot.root)).pipe(bp(),Qr(1))}),CE(()=>this.afterPreactivation()),he(o=>{const a=function WY(n,e,t){const r=Ou(n,e._root,t?t._root:void 0);return new aN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),jt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>he(r=>(new nX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Qr(1),jt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Po(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),np(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Qi(o=>{if(s=!0,gN(o)){pN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Sp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),pN(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ON(r.source)};t.scheduleNavigation(l,ku,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new uE(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return ei}))}))}cancelNavigationTransition(t,r,i){const s=new Sp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ON(n){return n!==ku}let NN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[Au]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return _e(KX)},providedIn:"root"}),n})(),KX=(()=>{class n extends NN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(S(GP))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return _e(XX)},providedIn:"root"}),n})();class YX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XX=(()=>{class n extends YX{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Up=new V("",{providedIn:"root",factory:()=>({})});let JX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return _e(eZ)},providedIn:"root"}),n})(),eZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tZ(n){throw n}function nZ(n,e,t){return e.parse("/")}const rZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_e(o8),this.isNgZoneEnabled=!1,this.options=_e(Up,{optional:!0})||{},this.errorHandler=this.options.errorHandler||tZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_e(JX),this.routeReuseStrategy=_e(QX),this.urlCreationStrategy=_e(HY),this.titleStrategy=_e(NN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jO(_e(vl,{optional:!0})??[]),this.navigationTransitions=_e(Bp),this.urlSerializer=_e(xu),this.location=_e(uu),this.isNgZoneEnabled=_e(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ks,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ku,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(bE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Mo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ku,null,r)}navigate(t,r={skipLocationChange:!1}){return function sZ(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new R(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...rZ}:!1===r?{...iZ}:r,Mo(t))return zO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return zO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jp=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ut;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Po&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=sl(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=sl(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=sl(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ux(n,e,t){return function lH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?cx:lx}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(x(Rt),x(Os),function qh(n){return function S$(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(JA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(un(),n)}("tabindex"),x(Ui),x(dn),x(Io))},n.\u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&F("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Hr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Er]}),n})();class FN{}let lZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof Po),Ts(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Af(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ft(i).pipe(_a())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):te(null);const s=i.pipe(Xt(o=>null===o?te(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ft([s,this.loader.loadComponent(r)]).pipe(_a()):s})}}return n.\u0275fac=function(t){return new(t||n)(S(Rt),S(TM),S(oi),S(FN),S(TE))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AE=new V("");let VN=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Po&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Ny()},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();var ur=(()=>((ur=ur||{})[ur.COMPLETE=0]="COMPLETE",ur[ur.FAILED=1]="FAILED",ur[ur.REDIRECTING=2]="REDIRECTING",ur))();const bl=!1;function Ns(n,e){return{\u0275kind:n,\u0275providers:e}}const SE=new V("",{providedIn:"root",factory:()=>!1});function BN(){const n=_e(tn);return e=>{const t=n.get(il);if(e!==t.components[0])return;const r=n.get(Rt),i=n.get(UN);1===n.get(xE)&&r.initialNavigation(),n.get(jN,null,ie.Optional)?.setUpPreloading(),n.get(AE,null,ie.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const UN=new V(bl?"bootstrap done indicator":"",{factory:()=>new ut}),xE=new V(bl?"initial navigation":"",{providedIn:"root",factory:()=>1});function fZ(){let n=[];return n=bl?[{provide:af,multi:!0,useFactory:()=>{const e=_e(Rt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function BY(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ns(1,n)}const jN=new V(bl?"router preloader":"");function pZ(n){return Ns(0,[{provide:jN,useExisting:lZ},{provide:FN,useExisting:n}])}const ju=!1,$N=new V(ju?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gZ=[uu,{provide:xu,useClass:rE},Rt,Nu,{provide:Os,useFactory:function LN(n){return n.routerState.root},deps:[Rt]},TE,ju?{provide:SE,useValue:!0}:[]];function mZ(){return new kM("Router",Rt)}let HN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gZ,ju&&r?.enableTracing?fZ().\u0275providers:[],{provide:vl,multi:!0,useValue:t},{provide:$N,useFactory:bZ,deps:[[Rt,new wn,new ka]]},{provide:Up,useValue:r||{}},r?.useHash?{provide:Io,useClass:q8}:{provide:Io,useClass:nP},{provide:AE,useFactory:()=>{const n=_e(hq),e=_e(xe),t=_e(Up),r=_e(Bp),i=_e(xu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new VN(i,r,n,e,t)}},r?.preloadingStrategy?pZ(r.preloadingStrategy).\u0275providers:[],{provide:kM,multi:!0,useFactory:mZ},r?.initialNavigation?EZ(r):[],[{provide:zN,useFactory:BN},{provide:PM,multi:!0,useExisting:zN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(S($N,8))},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[yE]}),n})();function bZ(n){if(ju&&n)throw new R(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function EZ(n){return["disabled"===n.initialNavigation?Ns(3,[{provide:Mf,multi:!0,useFactory:()=>{const e=_e(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:xE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ns(2,[{provide:xE,useValue:0},{provide:Mf,multi:!0,deps:[tn],useFactory:e=>{const t=e.get(G8,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Rt),s=e.get(UN);(function cZ(n,e){n.events.pipe(Ln(t=>t instanceof Po||t instanceof Sp||t instanceof uE||t instanceof xp),he(t=>t instanceof Po||t instanceof xp?ur.COMPLETE:t instanceof Sp&&(0===t.code||1===t.code)?ur.REDIRECTING:ur.FAILED),Ln(t=>t!==ur.REDIRECTING),Qr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Bp).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const zN=new V(ju?"Router Initializer":""),IZ=function(){return["/facture-create"]},CZ=function(){return["/caisse"]},TZ=function(){return["/bons"]},DZ=function(){return["/clients"]};let AZ=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-home"]],decls:60,vars:8,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["href","#"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"],["src","assets/client.webp","alt","",1,"h-60","mx-auto","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),v(2,"Transit Operation"),m(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),De(8,"img",6),m(),g(9,"div",7)(10,"span",8),v(11,"total : 11"),m(),g(12,"h3",9),v(13,"Create Facture"),m(),g(14,"p"),v(15,"by "),g(16,"a",10),v(17,"Transit Operation"),m()()()()()(),g(18,"div",3)(19,"div",4)(20,"div")(21,"div",5),De(22,"img",11),m(),g(23,"div",7)(24,"span",8),v(25,"Montant :"),m(),g(26,"h3",9),v(27,"Caisse"),m(),g(28,"p"),v(29,"by "),g(30,"a",12),v(31,"Transit Operation"),m()()()()()(),g(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),De(36,"img",13),m(),g(37,"div",7)(38,"span",8),v(39,"total :"),m(),g(40,"h3",9),v(41,"Create Bons"),m(),g(42,"p"),v(43,"by "),g(44,"a",12),v(45,"Transit Operation"),m()()()()()(),g(46,"div",3)(47,"div",4)(48,"div")(49,"div",5),De(50,"img",14),m(),g(51,"div",7)(52,"span",8),v(53,"total :"),m(),g(54,"h3",9),v(55,"Create Client"),m(),g(56,"p"),v(57,"by "),g(58,"a",12),v(59,"Transit Operation"),m()()()()()()()()),2&r&&(I(4),H("routerLink",nu(4,IZ)),I(14),H("routerLink",nu(5,CZ)),I(14),H("routerLink",nu(6,TZ)),I(14),H("routerLink",nu(7,DZ)))},dependencies:[jp],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function GN(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){GN(s,r,i,o,a,"next",l)}function a(l){GN(s,r,i,o,a,"throw",l)}o(void 0)})}}const WN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},qN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new MZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $p=function(n){return function(n){const e=WN(n);return qN.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Hp=function(n){try{return qN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},zp=()=>{try{return function OZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},BZ=n=>{const e=(n=>{var e,t;return null===(t=null===(e=zp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},QN=()=>{var n;return null===(n=zp())||void 0===n?void 0:n.config};class YN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function dr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function QZ(n,e){return n.replace(YZ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Fs(i,`${this.serviceName}: ${o} (${i}).`,r)}}const YZ=/\{\$([^}]+)}/g;function ME(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(ZN(s)&&ZN(o)){if(!ME(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ZN(n){return null!==n&&"object"==typeof n}function JN(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ZZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function JZ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=PE),void 0===i.error&&(i.error=PE),void 0===i.complete&&(i.complete=PE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PE(){}function Yr(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oo="[DEFAULT]";class sJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function aJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return D(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Oo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const OE=[];var Se=(()=>{return(n=Se||(Se={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Se;var n})();const eF={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},cJ=Se.INFO,uJ={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},dJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=uJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class NE{constructor(e){this.name=e,this._logLevel=cJ,this._logHandler=dJ,this._userLogHandler=null,OE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const hJ=(n,e)=>e.some(t=>n instanceof t);let tF,nF;const rF=new WeakMap,FE=new WeakMap,iF=new WeakMap,VE=new WeakMap,LE=new WeakMap;let BE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return FE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||iF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function vJ(n){return"function"==typeof n?function yJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pJ(){return nF||(nF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(UE(this),e),Vs(rF.get(this))}:function(...e){return Vs(n.apply(UE(this),e))}:function(e,...t){const r=n.call(UE(this),e,...t);return iF.set(r,e.sort?e.sort():[e]),Vs(r)}}(n):(n instanceof IDBTransaction&&function mJ(n){if(FE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});FE.set(n,e)}(n),hJ(n,function fJ(){return tF||(tF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,BE):n)}function Vs(n){if(n instanceof IDBRequest)return function gJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&rF.set(t,n)}).catch(()=>{}),LE.set(e,n),e}(n);if(VE.has(n))return VE.get(n);const e=vJ(n);return e!==n&&(VE.set(n,e),LE.set(e,n)),e}const UE=n=>LE.get(n),EJ=["get","getKey","getAll","getAllKeys","count"],wJ=["put","add","delete","clear"],jE=new Map;function sF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(jE.get(e))return jE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=wJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!EJ.includes(t))return;const s=function(){var o=D(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return jE.set(e,s),s}!function _J(n){BE=n(BE)}(n=>({...n,get:(e,t,r)=>sF(e,t)||n.get(e,t,r),has:(e,t)=>!!sF(e,t)||n.has(e,t)}));class IJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function CJ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const $E="@firebase/app",No=new NE("@firebase/app"),Wp="[DEFAULT]",YJ={[$E]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fo=new Map,qp=new Map;function XJ(n,e){try{n.container.addComponent(e)}catch(t){No.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function El(n){const e=n.name;if(qp.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,n);for(const t of Fo.values())XJ(t,n);return!0}const Ji=new $u("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class JJ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const Kp="10.7.1";function lF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(t||(t=QN()),!t)throw Ji.create("no-options");const s=Fo.get(i);if(s){if(ME(t,s.options)&&ME(r,s.config))return s;throw Ji.create("duplicate-app",{appName:i})}const o=new lJ(i);for(const l of qp.values())o.addComponent(l);const a=new JJ(t,r,o);return Fo.set(i,a),a}function cF(n=Wp){const e=Fo.get(n);if(!e&&n===Wp&&QN())return lF();if(!e)throw Ji.create("no-app",{appName:n});return e}function uF(){return Array.from(Fo.values())}function Rr(n,e,t){var r;let i=null!==(r=YJ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void No.warn(a.join(" "))}El(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eee="firebase-heartbeat-database",tee=1,Hu="firebase-heartbeat-store";let zE=null;function dF(){return zE||(zE=function bJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vs(o.result),l.oldVersion,l.newVersion,Vs(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(eee,tee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Hu)}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),zE}function GE(){return(GE=D(function*(n){try{return yield(yield dF()).transaction(Hu).objectStore(Hu).get(fF(n))}catch(e){if(e instanceof Fs)No.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e?.message});No.warn(t.message)}}})).apply(this,arguments)}function hF(n,e){return WE.apply(this,arguments)}function WE(){return(WE=D(function*(n,e){try{const r=(yield dF()).transaction(Hu,"readwrite");yield r.objectStore(Hu).put(e,fF(n)),yield r.done}catch(t){if(t instanceof Fs)No.warn(t.message);else{const r=Ji.create("idb-set",{originalErrorMessage:t?.message});No.warn(r.message)}}})).apply(this,arguments)}function fF(n){return`${n.name}!${n.options.appId}`}class see{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aee(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pF();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return D(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=pF(),{heartbeatsToSend:i,unsentEntries:s}=function oee(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),gF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=$p(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function pF(){return(new Date).toISOString().substring(0,10)}class aee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!function WZ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function qZ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function nee(n){return GE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return hF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return hF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function gF(n){return $p(JSON.stringify({version:2,heartbeats:n})).length}!function lee(n){El(new ko("platform-logger",e=>new IJ(e),"PRIVATE")),El(new ko("heartbeat",e=>new see(e),"PRIVATE")),Rr($E,"0.9.25",n),Rr($E,"0.9.25","esm2017"),Rr("fire-js","")}("");class dee extends yn{constructor(e,t){super()}schedule(e,t=0){return this}}const Qp={setInterval(n,e,...t){const{delegate:r}=Qp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Qp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Yp extends dee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Qp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Qp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ma(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const mF={now:()=>(mF.delegate||Date).now(),delegate:void 0};class zu{constructor(e,t=zu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}zu.now=mF.now;class Xp extends zu{constructor(e,t=zu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const pee=new class fee extends Xp{}(class hee extends Yp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),qE=new Xp(Yp),gee=qE,KE=new vs("ANGULARFIRE2_VERSION");const QE=(n,e)=>{const t=e?[e]:uF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class mee{constructor(){return QE(_ee)}}const _ee="app-check";function wl(){}class yF{zone;delegate;constructor(e,t=pee){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class yee{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wl,{},wl,wl)),t.pipe(jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yF(Zone.current)),this.insideAngular=t.run(()=>new yF(Zone.current,qE)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(S(xe))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Il(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Vo(n){return Il().ngZone.run(()=>n())}function bee(n){return function Eee(n){return function(t){return(t=t.lift(new yee(n.ngZone))).pipe(wh(n.outsideAngular),Eh(n.insideAngular))}}(Il())(n)}const wee=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vo(()=>n.apply(void 0,r))},Yn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=Vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wl,{},wl,wl))),r[s]=wee(r[s],t));const i=function vee(n){return Il().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof qe){const s=Il();return i.pipe(wh(s.outsideAngular),Eh(s.insideAngular))}return Vo(()=>i)}return i instanceof qe?i.pipe(bee):i instanceof Promise?Vo(()=>new Promise((s,o)=>i.then(a=>Vo(()=>s(a)),a=>Vo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Vo(()=>i)};class Gu{constructor(e){return e}}class bF{constructor(){return uF()}}const YE=new V("angularfire2._apps"),Cee={provide:Gu,useFactory:function Iee(n){return n&&1===n.length?n[0]:new Gu(cF())},deps:[[new wn,YE]]},Tee={provide:bF,deps:[[new wn,YE]]};function Dee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gu(r)}}let Aee=(()=>{class n{constructor(t){Rr("angularfire",KE.full,"core"),Rr("angularfire",KE.full,"app"),Rr("angular",wx.full,t.toString())}static \u0275fac=function(r){return new(r||n)(S(au))};static \u0275mod=dt({type:n});static \u0275inj=et({providers:[Cee,Tee]})}return n})();function See(n,...e){return{ngModule:Aee,providers:[{provide:YE,useFactory:Dee(n),multi:!0,deps:[xe,tn,vF,...e]}]}}const xee=Yn(lF,!0);const Ree=function EF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wF=new $u("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zp=new NE("@firebase/auth");function Jp(n,...e){Zp.logLevel<=Se.ERROR&&Zp.error(`Auth (${Kp}): ${n}`,...e)}function Xn(n,...e){throw XE(n,...e)}function yi(n,...e){return XE(n,...e)}function XE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wF.create(n,...e)}function L(n,e,...t){if(!n)throw XE(e,...t)}function vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jp(e),new Error(e)}function Ls(n,e){n||vi(e)}function CF(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Pee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ZE(){return"http:"===CF()||"https:"===CF()}()||function zZ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ls(t>e,"Short delay should be less than long delay!"),this.isMobile=function $Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dr())}()||function GZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Pee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class TF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nee=new qu(3e4,6e4);function ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function at(n,e,t,r){return e0.apply(this,arguments)}function e0(){return(e0=D(function*(n,e,t,r,i={}){return DF(n,i,D(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=JN(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),TF.fetch()(AF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function DF(n,e,t){return t0.apply(this,arguments)}function t0(){return(t0=D(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oee),e);try{const i=new Vee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ku(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ku(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Ku(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Ku(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function IF(n,e,t){const r=Object.assign(Object.assign({},Ree()),{[e]:t});return new $u("auth","Firebase",r).create(e,{appName:n.name})}(n,u,c);Xn(n,u)}}catch(i){if(i instanceof Fs)throw i;Xn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function AF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function JE(n,e){Ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Vee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),Nee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yi(n,e,r);return i.customData._tokenResponse=t,i}function o0(){return(o0=D(function*(n,e){return at(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function l0(){return(l0=D(function*(n,e){return at(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function c0(){return(c0=D(function*(n,e=!1){const t=Yr(n),r=yield t.getIdToken(e),i=eg(r);L(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qu(u0(i.auth_time)),issuedAtTime:Qu(u0(i.iat)),expirationTime:Qu(u0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function u0(n){return 1e3*Number(n)}function eg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hp(t);return i?JSON.parse(i):(Jp("Failed to decode base64 JWT payload"),null)}catch(i){return Jp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ts(n,e){return d0.apply(this,arguments)}function d0(){return(d0=D(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Fs&&function zee({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Gee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(D(function*(){yield t.iteration()}),r)}iteration(){var e=this;return D(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class PF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yu(n){return h0.apply(this,arguments)}function h0(){return h0=D(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ts(n,function jee(n,e){return l0.apply(this,arguments)}(t,{idToken:r}));L(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Kee(n){return n.map(e=>{var{providerId:t}=e,r=u_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function qee(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new PF(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),h0.apply(this,arguments)}function f0(){return(f0=D(function*(n){const e=Yr(n);yield Yu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function p0(){return(p0=D(function*(n,e){const t=yield DF(n,{},D(function*(){const r=JN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=AF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function g0(){return(g0=D(function*(n,e){return at(n,"POST","/v2/accounts:revokeToken",ot(n,e))})).apply(this,arguments)}class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hee(n){const e=eg(n);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return D(function*(){return L(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return D(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Qee(n,e){return p0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Xu;return r&&(L("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(L("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(L("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return vi("not implemented")}}function Bs(n,e){L("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Lo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=u_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return D(function*(){const r=yield ts(t,t.stsTokenManager.getToken(t.auth,e));return L(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function $ee(n){return c0.apply(this,arguments)}(this,e)}reload(){return function Wee(n){return f0.apply(this,arguments)}(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return D(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Yu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return D(function*(){const t=yield e.getIdToken();return yield ts(e,function Bee(n,e){return o0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:E,emailVerified:M,isAnonymous:G,providerData:K,stsTokenManager:Te}=t;L(E&&Te,e,"internal-error");const gt=Xu.fromJSON(this.name,Te);L("string"==typeof E,e,"internal-error"),Bs(d,e.name),Bs(h,e.name),L("boolean"==typeof M,e,"internal-error"),L("boolean"==typeof G,e,"internal-error"),Bs(f,e.name),Bs(p,e.name),Bs(_,e.name),Bs(y,e.name),Bs(b,e.name),Bs(C,e.name);const $n=new Lo({uid:E,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:gt,createdAt:b,lastLoginAt:C});return K&&Array.isArray(K)&&($n.providerData=K.map(nr=>Object.assign({},nr))),y&&($n._redirectEventId=y),$n}static _fromIdTokenResponse(e,t,r=!1){return D(function*(){const i=new Xu;i.updateFromServerResponse(t);const s=new Lo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yu(s),s})()}}const kF=new Map;function ns(n){Ls(n instanceof Function,"Expected a class definition");let e=kF.get(n);return e?(Ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kF.set(n,e),e)}const OF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(function*(){return!0})()}_set(t,r){var i=this;return D(function*(){i.storage[t]=r})()}_get(t){var r=this;return D(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return D(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function tg(n,e,t){return`firebase:${n}:${e}:${t}`}class Tl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tg(this.userKey,i.apiKey,s),this.fullPersistenceKey=tg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return D(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Lo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return D(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(function*(){if(!t.length)return new Tl(ns(OF),e,r);const i=(yield Promise.all(t.map(function(){var c=D(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ns(OF);const o=tg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Lo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=D(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Tl(s,e,r)):new Tl(s,e,r)})()}}function NF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function LF(n=dr()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function FF(n=dr()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function UF(n=dr()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function jF(n=dr()){return/webos/i.test(n)}(e))return"Webos";if(function m0(n=dr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function VF(n=dr()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function BF(n=dr()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function $F(n,e=[]){let t;switch(n){case"Browser":t=NF(dr());break;case"Worker":t=`${NF(dr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kp}/${r}`}class Jee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return D(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _0(){return(_0=D(function*(n,e={}){return at(n,"GET","/v2/passwordPolicy",ot(n,e))})).apply(this,arguments)}class nte{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class rte{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HF(this),this.idTokenSubscription=new HF(this),this.beforeStateQueue=new Jee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ns(t)),this._initializationPromise=this.queue(D(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Tl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return D(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return D(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return L(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return D(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return D(function*(){try{yield Yu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function kee(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return D(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return D(function*(){const r=e?Yr(e):null;return r&&L(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return D(function*(){if(!r._deleted)return e&&L(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(D(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return D(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(D(function*(){yield t.assertedPersistence.setPersistence(ns(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return D(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return D(function*(){const t=yield function ete(n){return _0.apply(this,arguments)}(e),r=new nte(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return D(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function Yee(n,e){return g0.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return D(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return D(function*(){if(!t.redirectPersistenceManager){const r=e&&ns(e)||t._popupRedirectResolver;L(r,t,"argument-error"),t.redirectPersistenceManager=yield Tl.create(t,[ns(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return D(function*(){var r,i;return t._isInitialized&&(yield t.queue(D(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return D(function*(){if(e===t.currentUser)return t.queue(D(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var t=this;return D(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$F(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return D(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return D(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Mee(n,...e){Zp.logLevel<=Se.WARN&&Zp.warn(`Auth (${Kp}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class HF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function XZ(n,e){const t=new ZZ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function zF(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new qu(3e4,6e4),new qu(2e3,1e4),new qu(3e4,6e4),new qu(5e3,15e3),encodeURIComponent("fac");var EV="@firebase/auth";class sre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return D(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}zp(),function are(n){El(new ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$F(n)},c=new rte(r,i,s,l);return function ute(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ns);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),El(new ko("auth-internal",e=>{const t=function Mt(n){return Yr(n)}(e.getProvider("auth").getImmediate());return new sre(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(EV,"1.5.1",function ore(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Rr(EV,"1.5.1","esm2017")}("Browser");class TV{constructor(){return QE("auth")}}var $,pre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xr={},cI=cI||{},fe=pre||self;function pg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uI="closure_uid_"+(1e9*Math.random()>>>0),mre=0;function _re(n,e,t){return n.call.apply(n.bind,arguments)}function yre(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Dn(n,e,t){return(Dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_re:yre).apply(null,arguments)}function gg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function nn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function gre(n){Object.prototype.hasOwnProperty.call(n,uI)&&n[uI]||(n[uI]=++mre)}(this)},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function AV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function An(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var bre=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};fe.addEventListener("test",t,e),fe.removeEventListener("test",t,e)}catch{}return n}();function id(n){return/^[\s\xa0]*$/.test(n)}function mg(){var n=fe.navigator;return n&&(n=n.userAgent)?n:""}function bi(n){return-1!=mg().indexOf(n)}function hI(n){return hI[" "](n),n}hI[" "]=function(){};var pI,wre=bi("Opera"),Dl=bi("Trident")||bi("MSIE"),SV=bi("Edge"),fI=SV||Dl,xV=bi("Gecko")&&!(-1!=mg().toLowerCase().indexOf("webkit")&&!bi("Edge"))&&!(bi("Trident")||bi("MSIE"))&&!bi("Edge"),Ire=-1!=mg().toLowerCase().indexOf("webkit")&&!bi("Edge");function RV(){var n=fe.document;return n?n.documentMode:void 0}e:{var gI="",mI=function(){var n=mg();return xV?/rv:([^\);]+)(\)|;)/.exec(n):SV?/Edge\/([\d\.]+)/.exec(n):Dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ire?/WebKit\/(\S+)/.exec(n):wre?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(mI&&(gI=mI?mI[1]:""),Dl){var _I=RV();if(null!=_I&&_I>parseFloat(gI)){pI=String(_I);break e}}pI=gI}var Cre=fe.document&&Dl&&(RV()||parseInt(pI,10))||void 0;function sd(n,e){if(An.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xV){e:{try{hI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tre[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sd.$.h.call(this)}}nn(sd,An);var Tre={2:"touch",3:"pen",4:"mouse"};sd.prototype.h=function(){sd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var od="closure_listenable_"+(1e6*Math.random()|0),Dre=0;function Are(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Dre,this.fa=this.ia=!1}function _g(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function vI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function PV(n){const e={};for(const t in n)e[t]=n[t];return e}const kV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<kV.length;s++)t=kV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yg(n){this.src=n,this.g={},this.h=0}function bI(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=DV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_g(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function EI(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}yg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=EI(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Are(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var wI="closure_lm_"+(1e6*Math.random()|0),II={};function NV(n,e,t,r,i){if(r&&r.once)return VV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NV(n,e[s],t,r,i);return null}return t=AI(t),n&&n[od]?n.O(e,t,rd(r)?!!r.capture:!!r,i):FV(n,e,t,!1,r,i)}function FV(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=rd(i)?!!i.capture:!!i,a=TI(n);if(a||(n[wI]=a=new yg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function xre(){const e=Rre;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bre||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(BV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function VV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VV(n,e[s],t,r,i);return null}return t=AI(t),n&&n[od]?n.P(e,t,rd(r)?!!r.capture:!!r,i):FV(n,e,t,!0,r,i)}function LV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LV(n,e[s],t,r,i);else r=rd(r)?!!r.capture:!!r,t=AI(t),n&&n[od]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=EI(s=n.g[e],t,r,i))&&(_g(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=TI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=EI(e,t,r,i)),(t=-1<n?e[n]:null)&&CI(t))}function CI(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[od])bI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(BV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=TI(e))?(bI(t,n),0==t.h&&(t.src=null,e[wI]=null)):_g(n)}}}function BV(n){return n in II?II[n]:II[n]="on"+n}function Rre(n,e){if(n.fa)n=!0;else{e=new sd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&CI(n),n=t.call(r,e)}return n}function TI(n){return(n=n[wI])instanceof yg?n:null}var DI="__closure_events_fn_"+(1e9*Math.random()>>>0);function AI(n){return"function"==typeof n?n:(n[DI]||(n[DI]=function(e){return n.handleEvent(e)}),n[DI])}function rn(){Us.call(this),this.i=new yg(this),this.S=this,this.J=null}function fn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new An(e,n);else if(e instanceof An)e.target=e.target||n;else{var i=e;OV(e=new An(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=vg(o,r,!0,e)&&i}if(i=vg(o=e.g=n,r,!0,e)&&i,i=vg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=vg(o=e.g=t[s],r,!1,e)&&i}function vg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&bI(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}nn(rn,Us),rn.prototype[od]=!0,rn.prototype.removeEventListener=function(n,e,t,r){LV(this,n,e,t,r)},rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_g(t[r]);delete n.g[e],n.h--}}this.J=null},rn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},rn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var SI=fe.JSON.stringify;function Pre(){var n=xI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var UV=new class Mre{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ore,n=>n.reset());class Ore{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nre(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Fre(n){fe.setTimeout(()=>{throw n},0)}let ad,ld=!1,xI=new class kre{constructor(){this.h=this.g=null}add(e,t){const r=UV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jV=()=>{const n=fe.Promise.resolve(void 0);ad=()=>{n.then(Vre)}};var Vre=()=>{for(var n;n=Pre();){try{n.h.call(n.g)}catch(t){Fre(t)}var e=UV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ld=!1};function bg(n,e){rn.call(this),this.h=n||1,this.g=e||fe,this.j=Dn(this.qb,this),this.l=Date.now()}function RI(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function MI(n,e,t){if("function"==typeof n)t&&(n=Dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:fe.setTimeout(n,e||0)}function $V(n){n.g=MI(()=>{n.g=null,n.i&&(n.i=!1,$V(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}nn(bg,rn),($=bg.prototype).ga=!1,$.T=null,$.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(RI(this),this.start()))}},$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.N=function(){bg.$.N.call(this),RI(this),delete this.g};class Lre extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$V(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cd(n){Us.call(this),this.h=n,this.g={}}nn(cd,Us);var HV=[];function zV(n,e,t,r){Array.isArray(t)||(t&&(HV[0]=t.toString()),t=HV);for(var i=0;i<t.length;i++){var s=NV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GV(n){vI(n.g,function(e,t){this.g.hasOwnProperty(t)&&CI(e)},n),n.g={}}function Eg(){this.g=!0}function Al(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $re(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return SI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cd.prototype.N=function(){cd.$.N.call(this),GV(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eg.prototype.Ea=function(){this.g=!1},Eg.prototype.info=function(){};var $o={},WV=null;function wg(){return WV=WV||new rn}function qV(n){An.call(this,$o.Ta,n)}function ud(n){const e=wg();fn(e,new qV(e))}function KV(n,e){An.call(this,$o.STAT_EVENT,n),this.stat=e}function Un(n){const e=wg();fn(e,new KV(e,n))}function QV(n,e){An.call(this,$o.Ua,n),this.size=e}function dd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){n()},e)}$o.Ta="serverreachability",nn(qV,An),$o.STAT_EVENT="statevent",nn(KV,An),$o.Ua="timingevent",nn(QV,An);var Ig={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PI(){}function ZV(){}PI.prototype.h=null;var NI,hd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kI(){An.call(this,"d")}function OI(){An.call(this,"c")}function Cg(){}function fd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new cd(this),this.P=Hre,this.V=new bg(n=fI?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JV}function JV(){this.i=null,this.g="",this.h=!1}nn(kI,An),nn(OI,An),nn(Cg,PI),Cg.prototype.g=function(){return new XMLHttpRequest},Cg.prototype.i=function(){return{}},NI=new Cg;var Hre=45e3,eL={},FI={};function VI(n,e,t){n.L=1,n.A=Sg(is(e)),n.u=t,n.S=!0,tL(n,null)}function tL(n,e){n.G=Date.now(),pd(n),n.B=is(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),dL(t.i,"t",r),n.o=0,t=n.l.J,n.h=new JV,n.g=NL(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Lre(Dn(n.Pa,n,n.g),n.O)),zV(n.U,n.g,"readystatechange",n.nb),e=n.I?PV(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ud(),function Bre(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function nL(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function rL(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=zre(n,t),i==FI){4==e&&(n.s=4,Un(14),r=!1),Al(n.j,n.m,null,"[Incomplete Response]");break}if(i==eL){n.s=4,Un(15),Al(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Al(n.j,n.m,i,null),LI(n,i)}nL(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Un(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),GI(e),e.M=!0,Un(11))):(Al(n.j,n.m,t,"[Invalid Chunked Response]"),Ho(n),gd(n))}function zre(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?FI:(t=Number(e.substring(t,r)),isNaN(t)?eL:(r+=1)+t>e.length?FI:(e=e.slice(r,r+t),n.o=r+t,e))}function pd(n){n.Y=Date.now()+n.P,iL(n,n.P)}function iL(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=dd(Dn(n.lb,n),e)}function Tg(n){n.C&&(fe.clearTimeout(n.C),n.C=null)}function gd(n){0==n.l.H||n.J||ML(n.l,n)}function Ho(n){Tg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,RI(n.V),GV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function LI(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||BI(t.i,n)))if(!n.K&&BI(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Og(t),Pg(t)}zI(t),Un(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=dd(Dn(t.ib,t),6e3));if(1>=pL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Go(t,11)}else if((n.K||t.g==n)&&Og(t),!id(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(UI(s,s.h),s.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,lt(r.I,r.F,_))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=OL(r,r.J?r.pa:null,r.Y),o.K){gL(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Tg(a),pd(a)),r.g=o}else xL(r);0<t.j.length&&kg(t)}else"stop"!=c[0]&&"close"!=c[0]||Go(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Go(t,7):HI(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}ud()}catch{}}function sL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wre(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Gre(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}($=fd.prototype).setTimeout=function(n){this.P=n},$.nb=function(n){n=n.target;const e=this.M;e&&3==Ei(n)?e.l():this.Pa(n)},$.Pa=function(n){try{if(n==this.g)e:{const u=Ei(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||fI||this.g&&(this.h.h||this.g.ja()||IL(this.g)))){this.J||4!=u||7==e||ud(),Tg(this);var t=this.g.da();this.ca=t;t:if(nL(this)){var r=IL(this.g);n="";var i=r.length,s=4==Ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ho(this),gd(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Ure(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!id(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,Un(12),Ho(this),gd(this);break e}Al(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LI(this,t)}this.S?(rL(this,u,o),fI&&this.i&&3==u&&(zV(this.U,this.V,"tick",this.mb),this.V.start())):(Al(this.j,this.m,o,null),LI(this,o)),4==u&&Ho(this),this.i&&!this.J&&(4==u?ML(this.l,this):(this.i=!1,pd(this)))}else(function uie(n){const e={};n=(n.g&&2<=Ei(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(id(n[r]))continue;var t=Nre(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Sre(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),Ho(this),gd(this)}}}catch{}},$.mb=function(){if(this.g){var n=Ei(this.g),e=this.g.ja();this.o<e.length&&(Tg(this),rL(this,n,e),this.i&&4!=n&&pd(this))}},$.cancel=function(){this.J=!0,Ho(this)},$.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function jre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ud(),Un(17)),Ho(this),this.s=2,gd(this)):iL(this,this.Y-n)};var oL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zo){this.h=n.h,Dg(this,n.j),this.s=n.s,this.g=n.g,Ag(this,n.m),this.l=n.l;var e=n.i,t=new yd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),aL(this,t),this.o=n.o}else n&&(e=String(n).match(oL))?(this.h=!1,Dg(this,e[1]||"",!0),this.s=md(e[2]||""),this.g=md(e[3]||"",!0),Ag(this,e[4]),this.l=md(e[5]||"",!0),aL(this,e[6]||"",!0),this.o=md(e[7]||"")):(this.h=!1,this.i=new yd(null,this.h))}function is(n){return new zo(n)}function Dg(n,e,t){n.j=t?md(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ag(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aL(n,e,t){e instanceof yd?(n.i=e,function Jre(n,e){e&&!n.j&&(js(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cL(this,r),dL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_d(e,Xre)),n.i=new yd(e,n.h))}function lt(n,e,t){n.i.set(e,t)}function Sg(n){return lt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function md(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Kre),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Kre(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_d(e,lL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_d(e,lL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_d(t,"/"==t.charAt(0)?Yre:Qre,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_d(t,Zre)),n.join("")};var lL=/[#\/\?@]/g,Qre=/[#\?:]/g,Yre=/[#\?]/g,Xre=/[#\?@]/g,Zre=/#/g;function yd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function js(n){n.g||(n.g=new Map,n.h=0,n.i&&function qre(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cL(n,e){js(n),e=Sl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function uL(n,e){return js(n),e=Sl(n,e),n.g.has(e)}function dL(n,e,t){cL(n,e),0<t.length&&(n.i=null,n.g.set(Sl(n,e),dI(t)),n.h+=t.length)}function Sl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hL(n){this.l=n||tie,n=fe.PerformanceNavigationTiming?0<(n=fe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=yd.prototype).add=function(n,e){js(this),this.i=null,n=Sl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$.forEach=function(n,e){js(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},$.ta=function(){js(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},$.Z=function(n){js(this);let e=[];if("string"==typeof n)uL(this,n)&&(e=e.concat(this.g.get(Sl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$.set=function(n,e){return js(this),this.i=null,uL(this,n=Sl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var tie=10;function fL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pL(n){return n.h?1:n.g?n.g.size:0}function BI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UI(n,e){n.g?n.g.add(e):n.h=e}function gL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return dI(n.i)}hL.prototype.cancel=function(){if(this.i=mL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var nie=class{stringify(n){return fe.JSON.stringify(n,void 0)}parse(n){return fe.JSON.parse(n,void 0)}};function rie(){this.g=new nie}function iie(n,e,t){const r=t||"";try{sL(n,function(i,s){let o=i;rd(i)&&(o=SI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vd(n){this.l=n.ec||null,this.j=n.ob||!1}function Rg(n,e){rn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=jI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(vd,PI),vd.prototype.g=function(){return new Rg(this.l,this.j)},vd.prototype.i=function(n){return function(){return n}}({}),nn(Rg,rn);var jI=0;function _L(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function bd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ed(n)}function Ed(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($=Rg.prototype).open=function(n,e){if(this.readyState!=jI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ed(this)},$.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bd(this)),this.readyState=jI},$.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ed(this)),this.g&&(this.readyState=3,Ed(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_L(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bd(this):Ed(this),3==this.readyState&&_L(this)}},$.Za=function(n){this.g&&(this.response=this.responseText=n,bd(this))},$.Ya=function(n){this.g&&(this.response=n,bd(this))},$.ka=function(){this.g&&bd(this)},$.setRequestHeader=function(n,e){this.v.append(n,e)},$.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oie=fe.JSON.parse;function It(n){rn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yL,this.L=this.M=!1}nn(It,rn);var yL="",aie=/^https?$/i,lie=["POST","PUT"];function vL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bL(n),Mg(n)}function bL(n){n.F||(n.F=!0,fn(n,"complete"),fn(n,"error"))}function EL(n){if(n.h&&typeof cI<"u"&&(!n.C[1]||4!=Ei(n)||2!=n.da()))if(n.v&&4==Ei(n))MI(n.La,0,n);else if(fn(n,"readystatechange"),4==Ei(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(oL)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!aie.test(i?i.toLowerCase():"")}t=r}if(t)fn(n,"complete"),fn(n,"success");else{n.m=6;try{var s=2<Ei(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",bL(n)}}finally{Mg(n)}}}function Mg(n,e){if(n.g){wL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fn(n,"ready");try{t.onreadystatechange=r}catch{}}}function wL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(fe.clearTimeout(n.A),n.A=null)}function Ei(n){return n.g?n.g.readyState:0}function IL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case yL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CL(n){let e="";return vI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $I(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=CL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lt(n,e,t))}function wd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TL(n){this.Ga=0,this.j=[],this.l=new Eg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wd("baseRetryDelayMs",5e3,n),this.hb=wd("retryDelaySeedMs",1e4,n),this.eb=wd("forwardChannelMaxRetries",2,n),this.xa=wd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new hL(n&&n.concurrentRequestLimit),this.Ja=new rie,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HI(n){if(DL(n),3==n.H){var e=n.W++,t=is(n.I);if(lt(t,"SID",n.K),lt(t,"RID",e),lt(t,"TYPE","terminate"),Id(n,t),(e=new fd(n,n.l,e)).L=2,e.A=Sg(is(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon)try{t=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&fe.Image&&((new Image).src=e.A,t=!0),t||(e.g=NL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),pd(e)}kL(n)}function Pg(n){n.g&&(GI(n),n.g.cancel(),n.g=null)}function DL(n){Pg(n),n.u&&(fe.clearTimeout(n.u),n.u=null),Og(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fe.clearTimeout(n.m),n.m=null)}function kg(n){if(!fL(n.i)&&!n.m){n.m=!0;var e=n.Na;ad||jV(),ld||(ad(),ld=!0),xI.add(e,n),n.C=0}}function AL(n,e){var t;t=e?e.m:n.W++;const r=is(n.I);lt(r,"SID",n.K),lt(r,"RID",t),lt(r,"AID",n.V),Id(n,r),n.o&&n.s&&$I(r,n.o,n.s),t=new fd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=SL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),UI(n.i,t),VI(t,r,e)}function Id(n,e){n.na&&vI(n.na,function(t,r){lt(e,r,t)}),n.h&&sL({},function(t,r){lt(e,r,t)})}function SL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Dn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{iie(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function xL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ad||jV(),ld||(ad(),ld=!0),xI.add(e,n),n.A=0}}function zI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=dd(Dn(n.Ma,n),PL(n,n.A)),n.A++,0))}function GI(n){null!=n.B&&(fe.clearTimeout(n.B),n.B=null)}function RL(n){n.g=new fd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=is(n.wa);lt(e,"RID","rpc"),lt(e,"SID",n.K),lt(e,"AID",n.V),lt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lt(e,"TO",n.qa),lt(e,"TYPE","xmlhttp"),Id(n,e),n.o&&n.s&&$I(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Sg(is(e)),t.u=null,t.S=!0,tL(t,n)}function Og(n){null!=n.v&&(fe.clearTimeout(n.v),n.v=null)}function ML(n,e){var t=null;if(n.g==e){Og(n),GI(n),n.g=null;var r=2}else{if(!BI(n.i,e))return;t=e.F,gL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;fn(r=wg(),new QV(r,t)),kg(n)}else xL(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function die(n,e){return!(pL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=dd(Dn(n.Na,n,e),PL(n,n.C)),n.C++,0)))}(n,e)||2==r&&zI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Go(n,5);break;case 4:Go(n,10);break;case 3:Go(n,6);break;default:Go(n,2)}}function PL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Go(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Dn(n.pb,n);t||(t=new zo("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||Dg(t,"https"),Sg(t)),function sie(n,e){const t=new Eg;if(fe.Image){const r=new Image;r.onload=gg(xg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=gg(xg,t,r,"TestLoadImage: error",!1,e),r.onabort=gg(xg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=gg(xg,t,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Un(2);n.H=0,n.h&&n.h.za(e),kL(n),DL(n)}function kL(n){if(n.H=0,n.ma=[],n.h){const e=mL(n.i);(0!=e.length||0!=n.j.length)&&(AV(n.ma,e),AV(n.ma,n.j),n.i.i.length=0,dI(n.j),n.j.length=0),n.h.ya()}}function OL(n,e,t){var r=t instanceof zo?is(t):new zo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ag(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new zo(null);r&&Dg(s,r),e&&(s.g=e),i&&Ag(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&lt(r,t,e),lt(r,"VER",n.ra),Id(n,r),r}function NL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new It(n.Ha&&!n.va?new vd({ob:t}):n.va)).Oa(n.J),e}function FL(){}function Ng(){if(Dl&&!(10<=Number(Cre)))throw Error("Environmental error: no available transport.")}function hr(n,e){rn.call(this),this.g=new TL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!id(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!id(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xl(this)}function VL(n){kI.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LL(){OI.call(this),this.status=1}function xl(n){this.g=n}function Zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function WI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function He(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}($=It.prototype).Oa=function(n){this.M=n},$.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():NI.g(),this.C=function XV(n){return n.h||(n.h=n.i())}(this.u?this.u:NI),this.g.onreadystatechange=Dn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void vL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=fe.FormData&&n instanceof fe.FormData,!(0<=DV(lie,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wL(this),0<this.B&&((this.L=function cie(n){return Dl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dn(this.ua,this)):this.A=MI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){vL(this,s)}},$.ua=function(){typeof cI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},$.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fn(this,"complete"),fn(this,"abort"),Mg(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mg(this,!0)),It.$.N.call(this)},$.La=function(){this.s||(this.G||this.v||this.l?EL(this):this.kb())},$.kb=function(){EL(this)},$.isActive=function(){return!!this.g},$.da=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oie(e)}},$.Ia=function(){return this.m},$.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($=TL.prototype).ra=8,$.H=1,$.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new fd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=PV(s),OV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=SL(this,i,e),lt(t=is(this.I),"RID",n),lt(t,"CVER",22),this.F&&lt(t,"X-HTTP-Session-Id",this.F),Id(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(CL(s)))+"&"+e:this.o&&$I(t,this.o,s)),UI(this.i,i),this.bb&&lt(t,"TYPE","init"),this.P?(lt(t,"$req",e),lt(t,"SID","null"),i.aa=!0,VI(i,t,null)):VI(i,t,e),this.H=2}}else 3==this.H&&(n?AL(this,n):0==this.j.length||fL(this.i)||AL(this))},$.Ma=function(){if(this.u=null,RL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=dd(Dn(this.jb,this),n)}},$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Un(10),Pg(this),RL(this))},$.ib=function(){null!=this.v&&(this.v=null,Pg(this),zI(this),Un(19))},$.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Un(2)):(this.l.info("Failed to ping google.com"),Un(1))},$.isActive=function(){return!!this.h&&this.h.isActive(this)},($=FL.prototype).Ba=function(){},$.Aa=function(){},$.za=function(){},$.ya=function(){},$.isActive=function(){return!0},$.Va=function(){},Ng.prototype.g=function(n,e){return new hr(n,e)},nn(hr,rn),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Un(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=OL(n,null,n.Y),kg(n)},hr.prototype.close=function(){HI(this.g)},hr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=SI(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&kg(e)},hr.prototype.N=function(){this.g.h=null,delete this.j,HI(this.g),delete this.g,hr.$.N.call(this)},nn(VL,kI),nn(LL,OI),nn(xl,FL),xl.prototype.Ba=function(){fn(this.g,"a")},xl.prototype.Aa=function(n){fn(this.g,new VL(n))},xl.prototype.za=function(n){fn(this.g,new LL)},xl.prototype.ya=function(){fn(this.g,"b")},nn(Zr,function hie(){this.blockSize=-1}),Zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)WI(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){WI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){WI(this,r),i=0;break}}this.h=i,this.i+=e},Zr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var fie={};function qI(n){return-128<=n&&128>n?function Ere(n,e){var t=fie;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new He([0|e],0>e?-1:0)}):new He([0|n],0>n?-1:0)}function wi(n){if(isNaN(n)||!isFinite(n))return Rl;if(0>n)return pn(wi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=KI;return new He(e,0)}var KI=4294967296,Rl=qI(0),QI=qI(1),UL=qI(16777216);function ss(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Pr(n){return-1==n.h}function pn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new He(t,~n.h).add(QI)}function Fg(n,e){return n.add(pn(e))}function Vg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Cd(n,e){this.g=n,this.h=e}function Lg(n,e){if(ss(e))throw Error("division by zero");if(ss(n))return new Cd(Rl,Rl);if(Pr(n))return e=Lg(pn(n),e),new Cd(pn(e.g),pn(e.h));if(Pr(e))return e=Lg(n,pn(e)),new Cd(pn(e.g),e.h);if(30<n.g.length){if(Pr(n)||Pr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=QI,r=e;0>=r.X(n);)t=jL(t),r=jL(r);var i=Ml(t,1),s=Ml(r,1);for(r=Ml(r,2),t=Ml(t,2);!ss(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Ml(r,1),t=Ml(t,1)}return e=Fg(n,i.R(e)),new Cd(i,e)}for(i=Rl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=wi(t)).R(e);Pr(o)||0<o.X(n);)o=(s=wi(t-=r)).R(e);ss(s)&&(s=QI),i=i.add(s),n=Fg(n,o)}return new Cd(i,n)}function jL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new He(t,n.h)}function Ml(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new He(i,n.h)}($=He.prototype).ea=function(){if(Pr(this))return-pn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:KI+r)*e,e*=KI}return n},$.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ss(this))return"0";if(Pr(this))return"-"+pn(this).toString(n);for(var e=wi(Math.pow(n,6)),t=this,r="";;){var i=Lg(t,e).g,s=((0<(t=Fg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ss(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},$.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$.X=function(n){return Pr(n=Fg(this,n))?-1:ss(n)?0:1},$.abs=function(){return Pr(this)?pn(this):this},$.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new He(t,-2147483648&t[t.length-1]?-1:0)},$.R=function(n){if(ss(this)||ss(n))return Rl;if(Pr(this))return Pr(n)?pn(this).R(pn(n)):pn(pn(this).R(n));if(Pr(n))return pn(this.R(pn(n)));if(0>this.X(UL)&&0>n.X(UL))return wi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Vg(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Vg(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Vg(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Vg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new He(t,0)},$.gb=function(n){return Lg(this,n).h},$.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new He(t,this.h&n.h)},$.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new He(t,this.h|n.h)},$.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new He(t,this.h^n.h)},Ng.prototype.createWebChannel=Ng.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,Ig.NO_ERROR=0,Ig.TIMEOUT=8,Ig.HTTP_ERROR=6,YV.COMPLETE="complete",ZV.EventType=hd,hd.OPEN="a",hd.CLOSE="b",hd.ERROR="c",hd.MESSAGE="d",rn.prototype.listen=rn.prototype.O,It.prototype.listenOnce=It.prototype.P,It.prototype.getLastError=It.prototype.Sa,It.prototype.getLastErrorCode=It.prototype.Ia,It.prototype.getStatus=It.prototype.da,It.prototype.getResponseJson=It.prototype.Wa,It.prototype.getResponseText=It.prototype.ja,It.prototype.send=It.prototype.ha,It.prototype.setWithCredentials=It.prototype.Oa,Zr.prototype.digest=Zr.prototype.l,Zr.prototype.reset=Zr.prototype.reset,Zr.prototype.update=Zr.prototype.j,He.prototype.add=He.prototype.add,He.prototype.multiply=He.prototype.R,He.prototype.modulo=He.prototype.gb,He.prototype.compare=He.prototype.X,He.prototype.toNumber=He.prototype.ea,He.prototype.toString=He.prototype.toString,He.prototype.getBits=He.prototype.D,He.fromNumber=wi,He.fromString=function BL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pn(BL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wi(Math.pow(e,8)),r=Rl,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=wi(Math.pow(e,s)),r=r.R(s).add(wi(o))):r=(r=r.R(t)).add(wi(o))}return r};var pie=Xr.createWebChannelTransport=function(){return new Ng},gie=Xr.getStatEventTarget=function(){return wg()},YI=Xr.ErrorCode=Ig,mie=Xr.EventType=YV,_ie=Xr.Event=$o,$L=Xr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bg=(Xr.FetchXmlHttpFactory=vd,Xr.WebChannel=ZV),yie=Xr.XhrIo=It,vie=Xr.Md5=Zr,Pl=Xr.Integer=He;const HL="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let kl="10.7.0";const $s=new NE("@firebase/firestore");function Ol(){return $s.logLevel}function k(n,...e){if($s.logLevel<=Se.DEBUG){const t=e.map(XI);$s.debug(`Firestore (${kl}): ${n}`,...t)}}function Pt(n,...e){if($s.logLevel<=Se.ERROR){const t=e.map(XI);$s.error(`Firestore (${kl}): ${n}`,...t)}}function fr(n,...e){if($s.logLevel<=Se.WARN){const t=e.map(XI);$s.warn(`Firestore (${kl}): ${n}`,...t)}}function XI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function q(n="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+n;throw Pt(e),new Error(e)}function Y(n,e){n||q()}function B(n,e){return n}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class Eie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wie{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(D(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new zL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new sn(e)}}class Iie{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cie{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Iie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.R=t.token,new GL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Die(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class WL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Die(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function de(n,e){return n<e?-1:n>e?1:0}function Nl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new vt(0,0))}static max(){return new ne(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Td{constructor(e,t,r){void 0===t?t=0:t>e.length&&q(),void 0===r?r=e.length-t:r>e.length-t&&q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Td.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ke extends Td{construct(e,t,r){return new ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ke(t)}static emptyPath(){return new ke([])}}const Aie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Td{construct(e,t,r){return new ft(e,t,r)}static isValidIdentifier(e){return Aie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new O(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new O(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new O(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}class j{constructor(e){this.path=e}static fromPath(e){return new j(ke.fromString(e))}static fromName(e){return new j(ke.fromString(e).popFirst(5))}static empty(){return new j(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new ke(e.slice()))}}function QL(n){return new pr(n.readTime,n.key,-1)}class pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pr(ne.min(),j.empty(),-1)}static max(){return new pr(ne.max(),j.empty(),-1)}}function JI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=j.comparator(n.documentKey,e.documentKey),0!==t?t:de(n.largestBatchId,e.largestBatchId))}const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hs(n){return eC.apply(this,arguments)}function eC(){return eC=D(function*(n){if(n.code!==T.FAILED_PRECONDITION||n.message!==YL)throw n;k("LocalStore","Unexpectedly lost primary lease")}),eC.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function zs(n){return"IndexedDbTransactionError"===n.name}let gr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Ad(n){return null==n}function Sd(n){return 0===n&&1/n==-1/0}function o2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ze{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $g(this.root,e,this.comparator,!1)}getReverseIterator(){return new $g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $g(this.root,e,this.comparator,!0)}}class $g{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??gn.RED,this.left=i??gn.EMPTY,this.right=s??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new gn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1,gn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,t,r,i,s){return this}insert(e,t,r){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l2(this.data.getIterator())}getIteratorFrom(e){return new l2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ge(this.comparator);return t.data=e,t}}class l2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Ge(ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class c2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c2("Invalid base64 string: "+s):s}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Jie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(Y(!!n),"string"==typeof n){let e=0;const t=Jie.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function os(n){return"string"==typeof n?Qt.fromBase64String(n):Qt.fromUint8Array(n)}function Hg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zg(n){const e=n.mapValue.fields.__previous_value__;return Hg(e)?zg(e):e}function xd(n){const e=Ws(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class ese{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Qo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}const qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hg(n)?4:f2(n)?9007199254740991:10:q()}function Ci(n,e){if(n===e)return!0;const t=Ks(n);if(t!==Ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xd(n).isEqual(xd(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ws(i.timestampValue),a=Ws(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,os(n.bytesValue).isEqual(os(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ct(i.geoPointValue.latitude)===Ct(s.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ct(i.integerValue)===Ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ct(i.doubleValue),a=Ct(s.doubleValue);return o===a?Sd(o)===Sd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(o2(o)!==o2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Ci(o[l],a[l])))return!1;return!0}(n,e);default:return q()}var s}function Rd(n,e){return void 0!==(n.values||[]).find(t=>Ci(t,e))}function Qs(n,e){if(n===e)return 0;const t=Ks(n),r=Ks(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ct(s.integerValue||s.doubleValue),l=Ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return u2(n.timestampValue,e.timestampValue);case 4:return u2(xd(n),xd(e));case 5:return de(n.stringValue,e.stringValue);case 6:return function(s,o){const a=os(s),l=os(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=de(a[c],l[c]);if(0!==u)return u}return de(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=de(Ct(s.latitude),Ct(o.latitude));return 0!==a?a:de(Ct(s.longitude),Ct(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Qs(a[c],l[c]);if(u)return u}return de(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===qs.mapValue&&o===qs.mapValue)return 0;if(s===qs.mapValue)return 1;if(o===qs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=de(l[d],u[d]);if(0!==h)return h;const f=Qs(a[l[d]],c[u[d]]);if(0!==f)return f}return de(l.length,u.length)}(n.mapValue,e.mapValue);default:throw q()}}function u2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return de(n,e);const t=Ws(n),r=Ws(e),i=de(t.seconds,r.seconds);return 0!==i?i:de(t.nanos,r.nanos)}function Bl(n){return rC(n)}function rC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?os(n.bytesValue).toBase64():"referenceValue"in n?j.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=rC(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rC(t.fields[o])}`;return i+"}"}(n.mapValue):q()}function Yo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iC(n){return!!n&&"integerValue"in n}function Md(n){return!!n&&"arrayValue"in n}function d2(n){return!!n&&"nullValue"in n}function h2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qg(n){return!!n&&"mapValue"in n}function Pd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(t)}setAll(e){let t=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Pd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Gs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Pd(this.value))}}function m2(n){const e=[];return Gs(n.fields,(t,r)=>{const i=new ft([t]);if(qg(r)){const s=m2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}class ct{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,ne.min(),ne.min(),ne.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new ct(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new ct(e,2,t,ne.min(),ne.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new ct(e,3,t,ne.min(),ne.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ys{constructor(e,t){this.position=e,this.inclusive=t}}function _2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?j.comparator(j.fromName(o.referenceValue),t.key):Qs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function y2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ci(n.position[t],e.position[t]))return!1;return!0}class kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function rse(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class v2{}class Re extends v2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ise(e,t,r):"array-contains"===t?new ase(e,r):"in"===t?new T2(e,r):"not-in"===t?new lse(e,r):"array-contains-any"===t?new cse(e,r):new Re(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new sse(e,r):new ose(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qs(t,this.value)):null!==t&&Ks(this.value)===Ks(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ze extends v2{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new ze(e,t)}matches(e){return Ul(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ul(n){return"and"===n.op}function oC(n){return function b2(n){for(const e of n.filters)if(e instanceof ze)return!1;return!0}(n)&&Ul(n)}function aC(n){if(n instanceof Re)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(oC(n))return n.filters.map(e=>aC(e)).join(",");{const e=n.filters.map(t=>aC(t)).join(",");return`${n.op}(${e})`}}function E2(n,e){return n instanceof Re?(r=n,(i=e)instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&Ci(r.value,i.value)):n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&E2(o,i.filters[a]),!0)}(n,e):void q();var r,i}function I2(n){return n instanceof Re?`${(t=n).field.canonicalString()} ${t.op} ${Bl(t.value)}`:n instanceof ze?function(t){return t.op.toString()+" {"+t.getFilters().map(I2).join(" ,")+"}"}(n):"Filter";var t}class ise extends Re{constructor(e,t,r){super(e,t,r),this.key=j.fromName(r.referenceValue)}matches(e){const t=j.comparator(e.key,this.key);return this.matchesComparison(t)}}class sse extends Re{constructor(e,t){super(e,"in",t),this.keys=C2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ose extends Re{constructor(e,t){super(e,"not-in",t),this.keys=C2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>j.fromName(r.referenceValue))}class ase extends Re{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Md(t)&&Rd(t.arrayValue,this.value)}}class T2 extends Re{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rd(this.value.arrayValue,t)}}class lse extends Re{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rd(this.value.arrayValue,t)}}class cse extends Re{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Md(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rd(this.value.arrayValue,r))}}class use{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function lC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new use(n,e,t,r,i,s,o)}function Xo(n){const e=B(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>aC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bl(r)).join(",")),e.ce=t}return e.ce}function Od(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rse(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y2(n.startAt,e.startAt)&&y2(n.endAt,e.endAt)}function Kg(n){return j.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class as{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function jl(n){return new as(n)}function x2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cC(n){return null!==n.collectionGroup}function $l(n){const e=B(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new kd(s,r))}),t.has(ft.keyField().canonicalString())||e.le.push(new kd(ft.keyField(),r))}return e.le}function jn(n){const e=B(n);return e.he||(e.he=function R2(n,e){if("F"===n.limitType)return lC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new kd(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Ys(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ys(n.startAt.position,n.startAt.inclusive):null;return lC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,$l(n))),e.he}function uC(n,e){const t=n.filters.concat([e]);return new as(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yg(n,e,t){return new as(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nd(n,e){return Od(jn(n),jn(e))&&n.limitType===e.limitType}function M2(n){return`${Xo(jn(n))}|lt:${n.limitType}`}function Hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>I2(i)).join(", ")}]`),Ad(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(jn(n))}; limitType=${n.limitType})`}function Fd(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of $l(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=_2(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,$l(r),i)||r.endAt&&!function(o,a,l){const c=_2(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,$l(r),i)));var r,i}function k2(n){return(e,t)=>{let r=!1;for(const i of $l(n)){const s=dse(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dse(n,e,t){const r=n.field.isKeyField()?j.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Qs(l,c):q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}class ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return a2(this.inner)}size(){return this.innerSize}}const hse=new Ze(j.comparator);function Jn(){return hse}const O2=new Ze(j.comparator);function Vd(...n){let e=O2;for(const t of n)e=e.insert(t.key,t);return e}function N2(n){let e=O2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ti(){return Ld()}function F2(){return Ld()}function Ld(){return new ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const fse=new Ze(j.comparator),pse=new Ge(j.comparator);function ve(...n){let e=pse;for(const t of n)e=e.add(t);return e}const gse=new Ge(de);function V2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function L2(n){return{integerValue:""+n}}function B2(n,e){return function ZL(n){return"number"==typeof n&&Number.isInteger(n)&&!Sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?L2(e):V2(n,e)}class Xg{constructor(){this._=void 0}}function mse(n,e,t){return n instanceof zl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hg(s)&&(s=zg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Zo?j2(n,e):n instanceof Jo?$2(n,e):function(i,s){const o=U2(i,s),a=H2(o)+H2(i.Ie);return iC(o)&&iC(i.Ie)?L2(a):V2(i.serializer,a)}(n,e)}function _se(n,e,t){return n instanceof Zo?j2(n,e):n instanceof Jo?$2(n,e):t}function U2(n,e){return n instanceof Gl?iC(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class zl extends Xg{}class Zo extends Xg{constructor(e){super(),this.elements=e}}function j2(n,e){const t=z2(e);for(const r of n.elements)t.some(i=>Ci(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jo extends Xg{constructor(e){super(),this.elements=e}}function $2(n,e){let t=z2(e);for(const r of n.elements)t=t.filter(i=>!Ci(i,r));return{arrayValue:{values:t}}}class Gl extends Xg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function H2(n){return Ct(n.integerValue||n.doubleValue)}function z2(n){return Md(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vse{constructor(e,t){this.version=e,this.transformResults=t}}class pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pt}static exists(e){return new pt(void 0,e)}static updateTime(e){return new pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jg{}function G2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ql(n.key,pt.none()):new Wl(n.key,n.data,pt.none());{const t=n.data,r=mn.empty();let i=new Ge(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new cs(n.key,r,new Zn(i.toArray()),pt.none())}}function bse(n,e,t){n instanceof Wl?function(i,s,o){const a=i.value.clone(),l=K2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(i,s,o){if(!Zg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=K2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(q2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ud(n,e,t,r){return n instanceof Wl?function(s,o,a,l){if(!Zg(s.precondition,o))return a;const c=s.value.clone(),u=Q2(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof cs?function(s,o,a,l){if(!Zg(s.precondition,o))return a;const c=Q2(s.fieldTransforms,l,o),u=o.data;return u.setAll(q2(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Zg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Ese(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=U2(r.transform,i||null);null!=s&&(null===t&&(t=mn.empty()),t.set(r.field,s))}return t||null}function W2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Nl(r,i,(s,o)=>function yse(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Zo&&i instanceof Zo||r instanceof Jo&&i instanceof Jo?Nl(r.elements,i.elements,Ci):r instanceof Gl&&i instanceof Gl?Ci(r.Ie,i.Ie):r instanceof zl&&i instanceof zl);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Wl extends Jg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends Jg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function q2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function K2(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_se(o,a,t[i]))}return r}function Q2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,mse(s,o,e))}return r}class ql extends Jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends Jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bse(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ud(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ud(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=F2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=G2(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,r)=>W2(t,r))&&Nl(this.baseMutations,e.baseMutations,(t,r)=>W2(t,r))}}class pC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=fse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pC(e,t,r,i)}}class gC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ise{constructor(e,t){this.count=e,this.unchangedNames=t}}var zt,Oe;function X2(n){if(void 0===n)return Pt("GRPC error has no .code"),T.UNKNOWN;switch(n){case zt.OK:return T.OK;case zt.CANCELLED:return T.CANCELLED;case zt.UNKNOWN:return T.UNKNOWN;case zt.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case zt.INTERNAL:return T.INTERNAL;case zt.UNAVAILABLE:return T.UNAVAILABLE;case zt.UNAUTHENTICATED:return T.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case zt.NOT_FOUND:return T.NOT_FOUND;case zt.ALREADY_EXISTS:return T.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return T.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case zt.ABORTED:return T.ABORTED;case zt.OUT_OF_RANGE:return T.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return T.UNIMPLEMENTED;case zt.DATA_LOSS:return T.DATA_LOSS;default:return q()}}(Oe=zt||(zt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";const Cse=new Pl([4294967295,4294967295],0);function J2(n){const e=function Z2(){return new TextEncoder}().encode(n),t=new vie;return t.update(e),new Uint8Array(t.digest())}function eB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pl([t,r],0),new Pl([i,s],0)]}class mC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jd(`Invalid padding: ${t}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new jd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Pl.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Pl.fromNumber(r)));return 1===i.compare(Cse)&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=J2(e),[r,i]=eB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mC(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=J2(e),[r,i]=eB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $d{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $d(ne.min(),i,new Ze(de),Jn(),ve())}}class Hd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hd(r,t,ve(),ve(),ve())}}class tm{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class tB{constructor(e,t){this.targetId=e,this.fe=t}}class nB{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rB{constructor(){this.ge=0,this.pe=sB(),this.ye=Qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),t=ve(),r=ve();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Hd(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=sB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Y(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Tse{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jn(),this.Qe=iB(),this.Ke=new Ze(de)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(Kg(s))if(0===r){const o=new j(s.path);this.We(t,o,ct.newNoDocument(o,ne.min()))}else Y(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=os(r).toUint8Array()}catch(l){if(l instanceof c2)return fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mC(o,i,s)}catch(l){return fr(l instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Kg(a.target)){const l=new j(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,ct.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new $d(e,t,this.Ke,this.qe,r);return this.qe=Jn(),this.Qe=iB(),this.Ke=new Ze(de),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new rB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ge(de),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new rB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function iB(){return new Ze(j.comparator)}function sB(){return new Ze(j.comparator)}const Dse={asc:"ASCENDING",desc:"DESCENDING"},Ase={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sse={and:"AND",or:"OR"};class xse{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _C(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function Kl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rse(n,e){return Kl(n,e.toTimestamp())}function kt(n){return Y(!!n),ne.fromTimestamp(function(t){const r=Ws(t);return new vt(r.seconds,r.nanos)}(n))}function yC(n,e){return(r=n,new ke(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function aB(n){const e=ke.fromString(n);return Y(mB(e)),e}function zd(n,e){return yC(n.databaseId,e.path)}function Di(n,e){const t=aB(e);if(t.get(1)!==n.databaseId.projectId)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new j(cB(t))}function vC(n,e){return yC(n.databaseId,e)}function Gd(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cB(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uB(n,e,t){return{name:zd(n,e),fields:t.value.mapValue.fields}}function hB(n,e){return{documents:[vC(n,e.path)]}}function EC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return gB(ze.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Xs((d=c).field),direction:Nse(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=_C(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function fB(n){let e=function lB(n){const e=aB(n);return 4===e.length?ke.emptyPath():cB(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(d){const h=pB(d);return h instanceof ze&&oC(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new kd(Ql((p=h).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Ad(h)?null:h}(t.limit));let l=null;var d;t.startAt&&(l=new Ys((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Ys(d.values||[],!d.before)}(t.endAt)),function S2(n,e,t,r,i,s,o,a){return new as(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function pB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ql(t.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(t.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ql(t.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ql(t.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(n):void 0!==n.fieldFilter?Re.create(Ql((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ze.create(t.compositeFilter.filters.map(r=>pB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(t.compositeFilter.op))}(n):q();var t}function Nse(n){return Dse[n]}function Fse(n){return Ase[n]}function Vse(n){return Sse[n]}function Xs(n){return{fieldPath:n.canonicalString()}}function Ql(n){return ft.fromServerFormat(n.fieldPath)}function gB(n){return n instanceof Re?function(t){if("=="===t.op){if(h2(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(d2(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(h2(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(d2(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:Fse(t.op),value:t.value}}}(n):n instanceof ze?function(t){const r=t.getFilters().map(i=>gB(i));return 1===r.length?r[0]:{compositeFilter:{op:Vse(t.op),filters:r}}}(n):q()}function Lse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class us{constructor(e,t,r,i,s=ne.min(),o=ne.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _B{constructor(e){this.ut=e}}function wC(n){const e=fB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yg(e,e.limit,"L"):e}class ra{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ct(e.integerValue));else if("doubleValue"in e){const r=Ct(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Sd(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(os(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?f2(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):q()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),j.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ra.St=new ra;class Wse{constructor(){this.on=new SC}addToCollectionParentIndex(e,t){return this.on.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(pr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class SC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ge(ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(ke.comparator)).toArray()}}new Uint8Array(0);class xn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class sa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new sa(0)}static Nn(){return new sa(-1)}}class Zse{constructor(){this.changes=new ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class toe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ud(r.mutation,i,Zn.empty(),vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){const i=Ti();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Vd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ti();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Jn();const o=Ld(),a=Ld();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof cs)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Ud(u.mutation,c,u.mutation.getFieldMask(),vt.now())):o.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new toe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ld();let i=new Ze((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Zn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=F2();u.forEach(h=>{if(!s.has(h)){const f=G2(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return j.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Ti());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:N2(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new j(t)).next(r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Vd();return this.indexManager.getCollectionParents(e,s).next(a=>w.forEach(a,l=>{const c=(d=t,h=l.child(s),new as(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,ct.newInvalidDocument(u)))});let a=Vd();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&Ud(u.mutation,c,Zn.empty(),vt.now()),Fd(t,c)&&(a=a.insert(l,c))}),a})}}class noe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return w.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:kt(i.createTime)}),w.resolve();var i}getNamedQuery(e,t){return w.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:wC(i.bundledQuery),readTime:kt(i.readTime)}),w.resolve();var i}}class roe{constructor(){this.overlays=new Ze(j.comparator),this.lr=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ti();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Ti(),s=t.length+1,o=new j(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ze((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Ti(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ti(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gC(t,r));let s=this.lr.get(t);void 0===s&&(s=ve(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class xC{constructor(){this.hr=new Ge(an.Pr),this.Ir=new Ge(an.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new an(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new an(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new j(new ke([])),r=new an(t,e),i=new an(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new j(new ke([])),r=new an(t,e),i=new an(t,e+1);let s=ve();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new an(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class an{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return j.comparator(e.key,t.key)||de(e.gr,t.gr)}static Tr(e,t){return de(e.gr,t.gr)||j.comparator(e.key,t.key)}}class ioe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ge(an.Pr)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new fC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new an(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new an(t,0),i=new an(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ge(de);return t.forEach(i=>{const s=new an(i,0),o=new an(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new an(new j(s),0);let a=new Ge(de);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),w.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return w.forEach(t.mutations,i=>{const s=new an(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new an(t,0),i=this.yr.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class soe{constructor(e){this.Cr=e,this.docs=new Ze(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Jn();const o=t.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||JI(QL(u),r)<=0||(i.has(u.key)||Fd(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){q()}vr(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ooe(this)}getSize(e){return w.resolve(this.size)}}class ooe extends Zse{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class aoe{constructor(e){this.persistence=e,this.Fr=new ls(t=>Xo(t),Od),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new xC,this.targetCount=0,this.Nr=sa.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),w.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new sa(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.kn(t),w.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Or.containsKey(t))}}class RC{constructor(e,t){this.Br={},this.overlays={},this.Lr=new gr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new aoe(this),this.indexManager=new Wse,this.remoteDocumentCache=new soe(r=>this.referenceDelegate.Qr(r)),this.serializer=new _B(t),this.Kr=new noe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new roe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new ioe(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);const i=new loe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class loe extends Rie{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Gr=new xC,this.zr=null}static jr(e){return new cm(e)}get Hr(){if(this.zr)return this.zr;throw q()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),w.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{const i=j.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,ne.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return w.or([()=>w.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class OC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ve(),i=ve();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new OC(e,t.fromCache,r,i)}}class uoe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uoe;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Ol()<=Se.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(Ol()<=Se.DEBUG&&k("QueryEngine","Query:",Hl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ol()<=Se.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):w.resolve())}zi(e,t){if(x2(t))return w.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Yg(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,o,l.readTime)?this.zi(e,Yg(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,r,i){return x2(t)||i.isEqual(ne.min())?w.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?w.resolve(null):(Ol()<=Se.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hl(t)),this.Xi(e,o,t,function KL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(1e9===r?new vt(t+1,0):new vt(t,r));return new pr(i,j.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Ge(k2(e));return t.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Ol()<=Se.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.Gi.getDocumentsMatchingQuery(e,t,pr.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class doe{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new Ze(de),this.ns=new ls(s=>Xo(s),Od),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function KB(n,e){return NC.apply(this,arguments)}function NC(){return NC=D(function*(n,e){const t=B(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),NC.apply(this,arguments)}function QB(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function poe(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tc(n,e,t){return FC.apply(this,arguments)}function FC(){return FC=D(function*(n,e,t){const r=B(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zs(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),FC.apply(this,arguments)}function hm(n,e,t){const r=B(n);let i=ne.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=B(l),h=d.ns.get(u);return void 0!==h?w.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:ne.min(),t?s:ve())).next(a=>(function JB(n,e,t){let r=n.rs.get(e)||ne.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function P2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class jC{constructor(){this.activeTargetIds=function dC(){return gse}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nU{constructor(){this.eo=new jC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new jC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _oe{ro(e){}shutdown(){}}class rU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gm=null;function HC(){return null===gm?gm=268435456+Math.round(2147483648*Math.random()):gm++,"0x"+gm.toString(16)}const yoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class voe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Rn="WebChannelConnection";class boe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=HC(),l=this.So(t,r);k("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,l,c,i).then(u=>(k("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw fr("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+kl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${yoe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=HC();return new Promise((o,a)=>{const l=new yie;l.setWithCredentials(!0),l.listenOnce(mie.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case YI.NO_ERROR:const u=l.getResponseJson();k(Rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case YI.TIMEOUT:k(Rn,`RPC '${e}' ${s} timed out`),a(new O(T.DEADLINE_EXCEEDED,"Request time out"));break;case YI.HTTP_ERROR:const d=l.getStatus();if(k(Rn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(b)>=0?b:T.UNKNOWN}(f.status);a(new O(p,f.message))}else a(new O(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(T.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{k(Rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);k(Rn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}vo(e,t,r){const i=HC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pie(),a=gie(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");k(Rn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new voe({co:y=>{f?k(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(k(Rn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k(Rn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),_=(y,b,C)=>{y.listen(b,E=>{try{C(E)}catch(M){setTimeout(()=>{throw M},0)}})};return _(d,Bg.EventType.OPEN,()=>{f||k(Rn,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Bg.EventType.CLOSE,()=>{f||(f=!0,k(Rn,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),_(d,Bg.EventType.ERROR,y=>{f||(f=!0,fr(Rn,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new O(T.UNAVAILABLE,"The operation could not be completed")))}),_(d,Bg.EventType.MESSAGE,y=>{var b;if(!f){const C=y.data[0];Y(!!C);const M=C.error||(null===(b=C[0])||void 0===b?void 0:b.error);if(M){k(Rn,`RPC '${e}' stream ${i} received error:`,M);const G=M.status;let K=function($n){const nr=zt[$n];if(void 0!==nr)return X2(nr)}(G),Te=M.message;void 0===K&&(K=T.INTERNAL,Te="Unknown error status: "+G+" with message "+M.message),f=!0,p.Ro(new O(K,Te)),d.close()}else k(Rn,`RPC '${e}' stream ${i} received:`,C),p.Vo(C)}}),_(a,_ie.STAT_EVENT,y=>{y.stat===$L.PROXY?k(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===$L.NOPROXY&&k(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function mm(){return typeof document<"u"?document:null}function eh(n){return new xse(n,!0)}class zC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class sU{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zC(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return D(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return D(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return D(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===T.RESOURCE_EXHAUSTED?(Pt(t.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new O(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(D(function*(){e.state=0,e.start()}))}o_(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eoe extends sU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Pse(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:q(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Y(void 0===u||"string"==typeof u),Qt.fromBase64String(u||"")):(Y(void 0===u||u instanceof Uint8Array),Qt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?T.UNKNOWN:X2(c.code);return new O(u,c.message||"")}(o);t=new nB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Di(n,r.document.name),s=kt(r.document.updateTime),o=r.document.createTime?kt(r.document.createTime):ne.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,s,o,a);t=new tm(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Di(n,r.document),s=r.readTime?kt(r.readTime):ne.min(),o=ct.newNoDocument(i,s);t=new tm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Di(n,r.document);t=new tm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return q();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ise(i,s);t=new tB(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?kt(o.readTime):ne.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Gd(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Kg(l)?{documents:hB(s,l)}:{query:EC(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oB(s,o.resumeToken);const c=_C(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Kl(s,o.snapshotVersion.toTimestamp());const c=_C(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Ose(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Gd(this.serializer),t.removeTarget=e,this.e_(t)}}class woe extends sU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function kse(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(i,s){let o=kt(i.updateTime?i.updateTime:s);return o.isEqual(ne.min())&&(o=kt(s)),new vse(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kt(e.commitTime);return this.listener.I_(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Gd(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Wd(n,e){let t;if(e instanceof Wl)t={update:uB(n,e.key,e.value)};else if(e instanceof ql)t={delete:zd(n,e.key)};else if(e instanceof cs)t={update:uB(n,e.key,e.data),updateMask:Lse(e.fieldMask)};else{if(!(e instanceof hC))return q();t={verify:zd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw q()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Rse(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:q()),t;var s}(this.serializer,r))};this.e_(t)}}class Ioe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(T.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(T.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Toe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Pt(t),this.f_=!1):k("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Doe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(D(function*(){var l;to(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(l=D(function*(u){const d=B(u);d.C_.add(4),yield nc(d),d.M_.set("Unknown"),d.C_.delete(4),yield th(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Toe(r,i)}}function th(n){return WC.apply(this,arguments)}function WC(){return WC=D(function*(n){if(to(n))for(const e of n.v_)yield e(!0)}),WC.apply(this,arguments)}function nc(n){return qC.apply(this,arguments)}function qC(){return qC=D(function*(n){for(const e of n.v_)yield e(!1)}),qC.apply(this,arguments)}function _m(n,e){const t=B(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),YC(t)?QC(t):ic(t).Ho()&&KC(t,e))}function nh(n,e){const t=B(n),r=ic(t);t.D_.delete(e),r.Ho()&&oU(t,e),0===t.D_.size&&(r.Ho()?r.Zo():to(t)&&t.M_.set("Unknown"))}function KC(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ic(n).u_(e)}function oU(n,e){n.x_.Oe(e),ic(n).c_(e)}function QC(n){n.x_=new Tse({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.M_.g_()}function YC(n){return to(n)&&!ic(n).jo()&&n.D_.size>0}function to(n){return 0===B(n).C_.size}function aU(n){n.x_=void 0}function Aoe(n){return XC.apply(this,arguments)}function XC(){return XC=D(function*(n){n.D_.forEach((e,t)=>{KC(n,e)})}),XC.apply(this,arguments)}function Soe(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=D(function*(n,e){aU(n),YC(n)?(n.M_.w_(e),QC(n)):n.M_.set("Unknown")}),ZC.apply(this,arguments)}function xoe(n,e,t){return JC.apply(this,arguments)}function JC(){return JC=D(function*(n,e,t){if(n.M_.set("Online"),e instanceof nB&&2===e.state&&e.cause)try{yield(r=D(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ym(n,r)}else if(e instanceof tm?n.x_.$e(e):e instanceof tB?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(ne.min()))try{const r=yield QB(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Qt.EMPTY_BYTE_STRING,u.snapshotVersion)),oU(s,l);const d=new us(u.target,l,c,u.sequenceNumber);KC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield ym(n,r)}var r}),JC.apply(this,arguments)}function ym(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=D(function*(n,e,t){if(!zs(e))throw e;n.C_.add(1),yield nc(n),n.M_.set("Offline"),t||(t=()=>QB(n.localStore)),n.asyncQueue.enqueueRetryable(D(function*(){k("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield th(n)}))}),eT.apply(this,arguments)}function lU(n,e){return e().catch(t=>ym(n,t,e))}function rc(n){return tT.apply(this,arguments)}function tT(){return tT=D(function*(n){const e=B(n),t=no(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Roe(e);)try{const i=yield poe(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Moe(e,i)}catch(i){yield ym(e,i)}cU(e)&&uU(e)}),tT.apply(this,arguments)}function Roe(n){return to(n)&&n.b_.length<10}function Moe(n,e){n.b_.push(e);const t=no(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function cU(n){return to(n)&&!no(n).jo()&&n.b_.length>0}function uU(n){no(n).start()}function Poe(n){return nT.apply(this,arguments)}function nT(){return nT=D(function*(n){no(n).E_()}),nT.apply(this,arguments)}function koe(n){return rT.apply(this,arguments)}function rT(){return rT=D(function*(n){const e=no(n);for(const t of n.b_)e.P_(t.mutations)}),rT.apply(this,arguments)}function Ooe(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=D(function*(n,e,t){const r=n.b_.shift(),i=pC.from(r,e,t);yield lU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rc(n)}),iT.apply(this,arguments)}function Noe(n,e){return sT.apply(this,arguments)}function sT(){return sT=D(function*(n,e){var t;e&&no(n).h_&&(yield(t=D(function*(i,s){if(function Y2(n){switch(n){default:return q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}(a=s.code)&&a!==T.ABORTED){const o=i.b_.shift();no(i).Yo(),yield lU(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield rc(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),cU(n)&&uU(n)}),sT.apply(this,arguments)}function dU(n,e){return oT.apply(this,arguments)}function oT(){return oT=D(function*(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=to(t);t.C_.add(3),yield nc(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield th(t)}),oT.apply(this,arguments)}function lT(){return lT=D(function*(n,e){const t=B(n);e?(t.C_.delete(2),yield th(t)):e||(t.C_.add(2),yield nc(t),t.M_.set("Unknown"))}),lT.apply(this,arguments)}function ic(n){return n.O_||(n.O_=function(t,r,i){const s=B(t);return s.A_(),new Eoe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Aoe.bind(null,n),Io:Soe.bind(null,n),a_:xoe.bind(null,n)}),n.v_.push(function(){var e=D(function*(t){t?(n.O_.Yo(),YC(n)?QC(n):n.M_.set("Unknown")):(yield n.O_.stop(),aU(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function no(n){return n.N_||(n.N_=function(t,r,i){const s=B(t);return s.A_(),new woe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Poe.bind(null,n),Io:Noe.bind(null,n),T_:koe.bind(null,n),I_:Ooe.bind(null,n)}),n.v_.push(function(){var e=D(function*(t){t?(n.N_.Yo(),yield rc(n)):(yield n.N_.stop(),n.b_.length>0&&(k("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class cT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new cT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(n,e){if(Pt("AsyncQueue",`${e}: ${n}`),zs(n))return new O(T.UNAVAILABLE,`${e}: ${n}`);throw n}class oc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||j.comparator(t.key,r.key):(t,r)=>j.comparator(t.key,r.key),this.keyedMap=Vd(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hU{constructor(){this.B_=new Ze(j.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):q():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ac{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ac(e,t,oc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Foe{constructor(){this.k_=void 0,this.listeners=[]}}class Voe{constructor(){this.queries=new ls(e=>M2(e),Nd),this.onlineState="Unknown",this.q_=new Set}}function uT(n,e){return dT.apply(this,arguments)}function dT(){return dT=D(function*(n,e){const t=B(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Foe),i)try{s.k_=yield t.onListen(r)}catch(o){const a=sc(o,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&pT(t)}),dT.apply(this,arguments)}function hT(n,e){return fT.apply(this,arguments)}function fT(){return fT=D(function*(n,e){const t=B(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),fT.apply(this,arguments)}function Loe(n,e){const t=B(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&pT(t)}function Boe(n,e,t){const r=B(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function pT(n){n.q_.forEach(e=>{e.next()})}class gT{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class gU{constructor(e){this.key=e}}class mU{constructor(e){this.key=e}}class _U{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ve(),this.mutatedKeys=ve(),this._a=k2(e),this.aa=new oc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new hU,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Fd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(f?(o=o.add(f),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,d)=>function(f,p){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return _(f)-_(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],l=0===this.oa.size&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new ac(this.query,e.aa,s,o,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new hU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ve(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new mU(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new gU(r))}),t}da(e){this.ia=e.ls,this.oa=ve();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return ac.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class $oe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Hoe{constructor(e){this.key=e,this.Ra=!1}}class zoe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ls(a=>M2(a),Nd),this.fa=new Map,this.ga=new Set,this.pa=new Ze(j.comparator),this.ya=new Map,this.wa=new xC,this.Sa={},this.ba=new Map,this.Da=sa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Goe(n,e){return mT.apply(this,arguments)}function mT(){return mT=D(function*(n,e){const t=function BT(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Koe.bind(null,e),e.Va.a_=Loe.bind(null,e.eventManager),e.Va.Fa=Boe.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function ec(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new us(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,jn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function _T(n,e,t,r,i){return yT.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&_m(t.remoteStore,o)}return i}),mT.apply(this,arguments)}function yT(){return yT=D(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=D(function*(y,b,C,E){let M=b.view.ca(C);M.Zi&&(M=yield hm(y.localStore,b.query,!1).then(({documents:gt})=>b.view.ca(gt,M)));const G=E&&E.targetChanges.get(b.targetId),K=E&&null!=E.targetMismatches.get(b.targetId),Te=b.view.applyChanges(M,y.isPrimaryClient,G,K);return ST(y,b.targetId,Te.Ta),Te.snapshot}),function _(y,b,C,E){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield hm(n.localStore,e,!0),o=new _U(e,s.ls),a=o.ca(s.documents),l=Hd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);ST(n,t,c.Ta);const u=new $oe(e,t,o);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),yT.apply(this,arguments)}function Woe(n,e){return vT.apply(this,arguments)}function vT(){return vT=D(function*(n,e){const t=B(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!Nd(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),nh(t.remoteStore,r.targetId),lc(t,r.targetId)}).catch(Hs))):(lc(t,r.targetId),yield tc(t.localStore,r.targetId,!0))}),vT.apply(this,arguments)}function bT(){return bT=D(function*(n,e,t){const r=function UT(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yoe.bind(null,e),e}(n);try{const i=yield function(o,a){const l=B(o),c=vt.now(),u=a.reduce((f,p)=>f.add(p.key),ve());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Jn(),_=ve();return l.ss.getEntries(f,u).next(y=>{p=y,p.forEach((b,C)=>{C.isValidDocument()||(_=_.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(y=>{d=y;const b=[];for(const C of a){const E=Ese(C,d.get(C.key).overlayedDocument);null!=E&&b.push(new cs(C.key,E,m2(E.value.mapValue),pt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(f,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:N2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ze(de)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield ds(r,i.changes),yield rc(r.remoteStore)}catch(i){const s=sc(i,"Failed to persist write");t.reject(s)}}),bT.apply(this,arguments)}function yU(n,e){return ET.apply(this,arguments)}function ET(){return ET=D(function*(n,e){const t=B(n);try{const r=yield function foe(n,e){const t=B(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var _,y,b;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Qt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),y=f,b=u,(0===(_=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let l=Jn(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function YB(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Jn();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(ne.min())){const u=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Y(o.Ra):i.removedDocuments.size>0&&(Y(o.Ra),o.Ra=!1))}),yield ds(t,r,e)}catch(r){yield Hs(r)}}),ET.apply(this,arguments)}function vU(n,e,t){const r=B(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=B(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&pT(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Koe(n,e,t){return wT.apply(this,arguments)}function wT(){return wT=D(function*(n,e,t){const r=B(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ze(j.comparator);o=o.insert(s,ct.newNoDocument(s,ne.min()));const a=ve().add(s),l=new $d(ne.min(),new Map,new Ze(de),o,a);yield yU(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),xT(r)}else yield tc(r.localStore,e,!1).then(()=>lc(r,e,t)).catch(Hs)}),wT.apply(this,arguments)}function Qoe(n,e){return IT.apply(this,arguments)}function IT(){return IT=D(function*(n,e){const t=B(n),r=e.batch.batchId;try{const i=yield function hoe(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=w.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(_=>{const y=c.docVersions.get(p);Y(null!==y),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);AT(t,r,null),DT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ds(t,i)}catch(i){yield Hs(i)}}),IT.apply(this,arguments)}function Yoe(n,e,t){return CT.apply(this,arguments)}function CT(){return CT=D(function*(n,e,t){const r=B(n);try{const i=yield function(o,a){const l=B(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Y(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);AT(r,e,t),DT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ds(r,i)}catch(i){yield Hs(i)}}),CT.apply(this,arguments)}function DT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function AT(n,e,t){const r=B(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function lc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||bU(n,r)})}function bU(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(nh(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),xT(n))}function ST(n,e,t){for(const r of t)r instanceof gU?(n.wa.addReference(r.key,e),Zoe(n,r)):r instanceof mU?(k("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||bU(n,r.key)):q()}function Zoe(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(k("SyncEngine","New document in limbo: "+t),n.ga.add(r),xT(n))}function xT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new j(ke.fromString(e)),r=n.Da.next();n.ya.set(r,new Hoe(t)),n.pa=n.pa.insert(t,r),_m(n.remoteStore,new us(jn(jl(t.path)),r,"TargetPurposeLimboResolution",gr._e))}}function ds(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=D(function*(n,e,t){const r=B(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=OC.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=D(function*(c,u){const d=B(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(u,f=>w.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>w.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!zs(h))throw h;k("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,y)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,s))}),RT.apply(this,arguments)}function Joe(n,e){return MT.apply(this,arguments)}function MT(){return MT=D(function*(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=yield KB(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new O(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ds(t,r._s)}var s}),MT.apply(this,arguments)}function eae(n,e){const t=B(n),r=t.ya.get(e);if(r&&r.Ra)return ve().add(r.key);{let i=ve();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class vm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return D(function*(){t.serializer=eh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function qB(n,e,t,r){return new doe(n,e,t,r)}(this.persistence,new WB,e.initialUser,this.serializer)}createPersistence(e){return new RC(cm.jr,this.serializer)}createSharedClientState(e){return new nU}terminate(){var e=this;return D(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cc{initialize(e,t){var r=this;return D(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Joe.bind(null,r.syncEngine),yield function aT(n,e){return lT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Voe}createDatastore(e){const t=eh(e.databaseInfo.databaseId),r=new boe(e.databaseInfo);return new Ioe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>vU(this.syncEngine,t,0),a=rU.D()?new rU:new _oe,new Doe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const d=new zoe(i,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=D(function*(r){const i=B(r);k("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield nc(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fae{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=WL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=D(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return D(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=sc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Em(n,e){return jT.apply(this,arguments)}function jT(){return jT=D(function*(n,e){n.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield KB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jT.apply(this,arguments)}function $T(n,e){return HT.apply(this,arguments)}function HT(){return HT=D(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function zT(n){return GT.apply(this,arguments)}(n);k("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>dU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>dU(e.remoteStore,s)),n._onlineComponents=e}),HT.apply(this,arguments)}function GT(){return GT=D(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Em(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function DU(n){return"FirebaseError"===n.name?n.code===T.FAILED_PRECONDITION||n.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;fr("Error using user provided cache. Falling back to memory cache: "+t),yield Em(n,new vm)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield Em(n,new vm);return n._offlineComponents}),GT.apply(this,arguments)}function wm(n){return WT.apply(this,arguments)}function WT(){return WT=D(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield $T(n,n._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield $T(n,new cc))),n._onlineComponents}),WT.apply(this,arguments)}function dc(n){return KT.apply(this,arguments)}function KT(){return KT=D(function*(n){const e=yield wm(n),t=e.eventManager;return t.onListen=Goe.bind(null,e.syncEngine),t.onUnlisten=Woe.bind(null,e.syncEngine),t}),KT.apply(this,arguments)}function PU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kU=new Map;function QT(n,e,t){if(!t)throw new O(T.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OU(n){if(!j.isDocumentKey(n))throw new O(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NU(n){if(j.isDocumentKey(n))throw new O(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Im(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":q()}function Me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Im(n);throw new O(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class VU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new O(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Cae(n,e,t,r){if(!0===e&&!0===r)throw new O(T.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=PU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new O(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new bie;switch(r.type){case"firstParty":return new Cie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kU.get(t);r&&(k("ComponentProvider","Removing Datastore"),kU.delete(t),r.terminate())}(this),Promise.resolve()}}class _n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _n(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Ai extends _n{constructor(e,t,r){super(e,t,jl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new j(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Dae(n,e,...t){if(n=Yr(n),QT("collection","path",e),n instanceof rh){const r=ke.fromString(e,...t);return NU(r),new Ai(n,null,r)}{if(!(n instanceof Ot||n instanceof Ai))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return NU(r),new Ai(n.firestore,null,r)}}function LU(n,e,...t){if(n=Yr(n),1===arguments.length&&(e=WL.newId()),QT("doc","path",e),n instanceof rh){const r=ke.fromString(e,...t);return OU(r),new Ot(n,null,new j(r))}{if(!(n instanceof Ot||n instanceof Ai))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return OU(r),new Ot(n.firestore,n instanceof Ai?n.converter:null,new j(r))}}class Aae{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zC(this,"async_queue_retry"),this.iu=()=>{const t=mm();t&&k("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=mm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=mm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Kt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return D(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!zs(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Pt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=cT.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&q()}verifyOperationInProgress(){}uu(){var e=this;return D(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Je extends rh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Aae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UU(this),this._firestoreClient.terminate()}}function xae(n,e){const r="string"==typeof n?n:e||"(default)",i=function aF(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:cF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BZ("firestore");s&&function Tae(n,e,t,r={}){var i;const s=(n=Me(n,rh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=sn.MOCK_USER;else{a=function jZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$p(JSON.stringify({alg:"none",type:"JWT"})),$p(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new O(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(c)}n._authCredentials=new Eie(new zL(a,l))}}(i,...s)}return i}function Nt(n){return n._firestoreClient||UU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UU(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ese(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PU(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new fae(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Qt.fromBase64String(e))}catch(t){throw new O(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new O(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Mae(){return new hc("__name__")}class HU{constructor(e){this._methodName=e}}class XT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}const Pae=/^__.*__$/;class kae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}function GU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class Cm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Dm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(GU(this.Iu)&&Pae.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Oae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||eh(e)}pu(e,t,r,i=!1){return new Cm({Iu:e,methodName:t,gu:r,path:ft.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fc(n){const e=n._freezeSettings(),t=eh(n._databaseId);return new Oae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZT(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);eD("Data must be an object, but it was:",o,r);const a=YU(r,o);let l,c;if(s.merge)l=new Zn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=oh(e,d,t);if(!o.contains(h))throw new O(T.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ZU(u,h)||u.push(h)}l=new Zn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new kae(new mn(a),l,c)}function QU(n,e,t,r=!1){return la(t,n.pu(r?4:3,e))}function la(n,e){if(XU(n=Yr(n)))return eD("Unsupported field value:",e,n),YU(n,e);if(n instanceof HU)return function(r,i){if(!GU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=la(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Yr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return B2(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:Kl(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kl(i.serializer,s)}}if(r instanceof XT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:oB(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Im(r)}`)}(n,e)}function YU(n,e){const t={};return a2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,(r,i)=>{const s=la(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function XU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof XT||n instanceof aa||n instanceof Ot||n instanceof HU)}function eD(n,e,t){if(!XU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Im(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function oh(n,e,t){if((e=Yr(e))instanceof hc)return e._internalPath;if("string"==typeof e)return Tm(n,e);throw Dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lae=new RegExp("[~\\*/\\[\\]]");function Tm(n,e,t){if(e.search(Lae)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hc(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(T.INVALID_ARGUMENT,a+n+l)}function ZU(n,e){return n.some(t=>t.isEqual(e))}class tD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bae extends tD{data(){return super.data()}}function Am(n,e){return"string"==typeof e?Tm(n,e):e instanceof hc?e._internalPath:e._delegate._internalPath}class nD{}class Sm extends nD{}function Uae(n,e,...t){let r=[];e instanceof nD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof pc).length,a=s.filter(l=>l instanceof ah).length;if(o>1||o>0&&a>0)throw new O(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ah extends Sm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ah(e,t,r)}_apply(e){const t=this._parse(e);return r4(e._query,t),new _n(e.firestore,e.converter,uC(e._query,t))}_parse(e){const t=fc(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new O(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){n4(d,u);const f=[];for(const p of d)f.push(t4(l,s,p));h={arrayValue:{values:f}}}else h=t4(l,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||n4(d,u),h=QU(a,"where",d,"in"===u||"not-in"===u);return Re.create(c,u,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function jae(n,e,t){const r=e,i=Am("where",n);return ah._create(i,r,t)}class pc extends nD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ze.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)r4(o,l),o=uC(o,l)}(e._query,t),new _n(e.firestore,e.converter,uC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rD extends Sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rD(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new O(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new O(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kd(s,o)}(e._query,this._field,this._direction);return new _n(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new as(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $ae(n,e="asc"){const t=e,r=Am("orderBy",n);return rD._create(r,t)}class xm extends Sm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xm(e,t,r)}_apply(e){return new _n(e.firestore,e.converter,Yg(e._query,this._limit,this._limitType))}}function Hae(n){return function FU(n,e){if(e<=0)throw new O(T.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),xm._create("limit",n,"F")}class Rm extends Sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Rm(e,t,r)}_apply(e){const t=function e4(n,e,t,r){if(t[0]=Yr(t[0]),t[0]instanceof tD)return function(s,o,a,l,c){if(!l)throw new O(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of $l(s))if(d.field.isKeyField())u.push(Yo(o,l.key));else{const h=l.data.field(d.field);if(Hg(h))throw new O(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const f=d.field.canonicalString();throw new O(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Ys(u,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=fc(n.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new O(T.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<u.length;p++){const _=u[p];if(h[p].field.isKeyField()){if("string"!=typeof _)throw new O(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!cC(o)&&-1!==_.indexOf("/"))throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const y=o.path.child(ke.fromString(_));if(!j.isDocumentKey(y))throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new j(y);f.push(Yo(a,b))}else{const y=QU(l,c,_);f.push(y)}}return new Ys(f,d)}(n._query,n.firestore._databaseId,i,e,t,r)}}(e,this.type,this._docOrFields,this._inclusive);return new _n(e.firestore,e.converter,(s=t,new as((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}function zae(...n){return Rm._create("startAfter",n,!1)}function t4(n,e,t){if("string"==typeof(t=Yr(t))){if(""===t)throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cC(e)&&-1!==t.indexOf("/"))throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ke.fromString(t));if(!j.isDocumentKey(r))throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yo(n,new j(r))}if(t instanceof Ot)return Yo(n,t._key);throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(t)}.`)}function n4(n,e){if(!Array.isArray(n)||0===n.length)throw new O(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r4(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new O(T.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Gae{convertValue(e,t="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Gs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new XT(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ke.fromString(e);Y(mB(r));const i=new Qo(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(t)||Pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class ca{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends tD{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Pm extends gc{data(e={}){return super.data(e)}}class mc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pm(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Pm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:qae(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function Kae(n){n=Me(n,Ot);const e=Me(n.firestore,Je);return function RU(n,e,t={}){const r=new Kt;return n.asyncQueue.enqueueAndForget(D(function*(){return function(s,o,a,l,c){const u=new bm({next:h=>{o.enqueueAndForget(()=>hT(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new O(T.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&"server"===l.source?c.reject(new O(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new gT(jl(a.path),u,{includeMetadataChanges:!0,J_:!0});return uT(s,d)}(yield dc(n),n.asyncQueue,e,t,r)})),r.promise}(Nt(e),n._key).then(t=>function sD(n,e,t){const r=t.docs.get(e._key),i=new ro(n);return new gc(n,i,e._key,r,new ca(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class ro extends Gae{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function Qae(n){n=Me(n,_n);const e=Me(n.firestore,Je),t=Nt(e),r=new ro(e);return function JU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new O(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function MU(n,e,t={}){const r=new Kt;return n.asyncQueue.enqueueAndForget(D(function*(){return function(s,o,a,l,c){const u=new bm({next:h=>{o.enqueueAndForget(()=>hT(s,d)),h.fromCache&&"server"===l.source?c.reject(new O(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new gT(a,u,{includeMetadataChanges:!0,J_:!0});return uT(s,d)}(yield dc(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new mc(e,r,n,i))}function Yae(n,e,t){n=Me(n,Ot);const r=Me(n.firestore,Je),i=function iD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return lh(r,[ZT(fc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,pt.none())])}function Xae(n){return lh(Me(n.firestore,Je),[new ql(n._key,pt.none())])}function lh(n,e){return function(r,i){const s=new Kt;return r.asyncQueue.enqueueAndForget(D(function*(){return function qoe(n,e,t){return bT.apply(this,arguments)}(yield function qT(n){return wm(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Nt(n),e)}!function(e,t=!0){kl=Kp,El(new ko("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Je(new wie(r.getProvider("auth-internal")),new Tie(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new O(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rr(HL,"4.4.0",e),Rr(HL,"4.4.0","esm2017")}();class Nm{constructor(e){return e}}const l4="firestore",aD=new V("angularfire2.firestore-instances");function hle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Nm(r)}}const fle={provide:class ule{constructor(){return QE(l4)}},deps:[[new wn,aD]]},ple={provide:Nm,useFactory:function dle(n,e){const t=function _F(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(l4,n,e);return t&&new Nm(t)},deps:[[new wn,aD],Gu]};let gle=(()=>{class n{constructor(){Rr("angularfire",KE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=dt({type:n});static \u0275inj=et({providers:[ple,fle]})}return n})();function mle(n,...e){return{ngModule:gle,providers:[{provide:aD,useFactory:hle(n),multi:!0,deps:[xe,tn,vF,bF,[new wn,TV],[new wn,mee],...e]}]}}const er=Yn(Dae,!0),lD=Yn(Xae,!0),Yt=Yn(LU,!0),kr=Yn(Mae,!0),_c=Yn(Kae,!0),ch=Yn(Qae,!0),_le=Yn(xae,!0),cD=Yn(Hae,!0),hs=Yn($ae,!0),tr=Yn(Uae,!0),Si=Yn(Yae,!0),uD=Yn(zae,!0),Or=Yn(jae,!0);let xi=(()=>{class n{constructor(t){this.firestore=t}createClient(t,r,i){var s=this;return D(function*(){return t.dateCreation=new Date,s.getCaisseData().then(o=>(Si(Yt(s.firestore,"client",(o.lastFactureId+1).toString()),t),Si(Yt(s.firestore,"facture",(o.lastFactureId+1).toString()),r),Si(Yt(s.firestore,"entete","1"),i),Si(Yt(s.firestore,"general","1"),{...o,caisse:o.caisse+parseInt(t.NetPayer),lastFactureId:o.lastFactureId+1,numberFacture:o.numberFacture+1}),!0)).catch(o=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}createUser(t){var r=this;return D(function*(){return r.getCaisseData().then(i=>(Si(Yt(r.firestore,"user",(i.lastClientId+1).toString()),t),Si(Yt(r.firestore,"general","1"),{...i,lastClientId:i.lastClientId+1,numberClient:i.numberClient+1}),!0)).catch(i=>(confirm("le client na pas ete cree il peut quelle existe deja"),console.log(i),!1)),!0})()}readClients(t,r){var i=this;return D(function*(){let s=[];return(yield ch(tr(er(i.firestore,"client")))).docs.map(o=>{s.push(o.data())}),s})()}readClientsPaged(t,r,i,s){var o=this;return D(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"client"),Or("dateCreation",">=",new Date(s)),Or(kr(),">=",i));else c=null!=i?tr(er(o.firestore,"client"),hs(kr()),Or(kr(),">=",i)):null!=s?tr(er(o.firestore,"client"),hs("dateCreation"),Or("dateCreation",">=",new Date(s))):tr(er(o.firestore,"client"),hs(kr()),uD(t+""),cD(r));return(yield ch(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readBons(){var t=this;return D(function*(){let r=[];return(yield ch(tr(er(t.firestore,"bons")))).docs.map(i=>{r.push(i.data())}),r})()}readBonsPaged(t,r,i,s){var o=this;return D(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"bons"),Or("date",">=",new Date(s)),Or(kr(),">=",i));else c=null!=i?tr(er(o.firestore,"bons"),hs(kr()),Or(kr(),">=",i)):null!=s?tr(er(o.firestore,"bons"),hs("date"),Or("date",">=",new Date(s))):tr(er(o.firestore,"bons"),hs(kr()),uD(t+""),cD(r));return(yield ch(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readUsersPaged(t,r,i,s){var o=this;return D(function*(){const a=[];var l=0;if(null!=i&&null!=s)var c=tr(er(o.firestore,"user"),Or("Name","==",s),Or(kr(),">=",i));else c=null!=i?tr(er(o.firestore,"user"),hs(kr()),Or(kr(),">=",i)):null!=s?tr(er(o.firestore,"user"),hs("date"),Or("Name","==",s)):tr(er(o.firestore,"user"),hs(kr()),uD(t+""),cD(r));return(yield ch(c)).docs.map(d=>{l=d.id,a.push(d.data())}),a.push(l),a})()}readClient(t){var r=this;return D(function*(){var i=Yt(r.firestore,"client",t),o=yield(yield _c(i)).data(),a=Yt(r.firestore,"facture",t),l=yield _c(a),c=yield l.data(),u=Yt(r.firestore,"entete","1"),d=yield _c(u);return{client:o,facture:c,entete:yield d.data()}})()}deleteFacture(t,r){var i=this;return D(function*(){try{yield lD(Yt(i.firestore,"client",t)),yield lD(Yt(i.firestore,"facture",t)),i.getCaisseData().then(s=>{Si(Yt(i.firestore,"general","1"),{...s,caisse:s.caisse-r,lastFactureId:s.lastFactureId,numberFacture:s.numberFacture-1})})}catch{return!1}return!0})()}deleteBon(t,r){var i=this;return D(function*(){try{console.log(t),console.log(typeof t),yield lD(Yt(i.firestore,"bons",t+"")),i.getCaisseData().then(s=>{Si(Yt(i.firestore,"general","1"),{...s,caisse:s.caisse+r,numberBons:s.numberBons-1})})}catch{confirm("le Bons n'est pas supprimer ")}return!0})()}readBon(t){var r=this;return D(function*(){console.log(t);var i=Yt(r.firestore,"bons",t);return{bon:yield(yield _c(i)).data()}})()}getCaisseData(){var t=this;return D(function*(){const r=Yt(t.firestore,"general","1");return(yield _c(r)).data()})()}getTitleData(t){var r=this;return D(function*(){const i=Yt(r.firestore,"entete",t);return(yield _c(i)).data()})()}createBons(t){var r=this;return D(function*(){return r.getCaisseData().then(i=>(t.id=i.lastBonsId+1,Si(Yt(r.firestore,"bons",t.id+""),t),Si(Yt(r.firestore,"general","1"),{...i,caisse:i.caisse-parseInt(t.total+""),lastBonsId:i.lastBonsId+1,numberBons:i.numberBons+1}),!0)).catch(i=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}static#e=this.\u0275fac=function(r){return new(r||n)(S(Nm))};static#t=this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yle(n,e){if(1&n&&(g(0,"div")(1,"div"),v(2),m()()),2&n){const t=e.$implicit;I(2),iv("",t.name," ",t.prenom," ",t.age,"")}}let vle=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt),x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(g(0,"div")(1,"h1",0),v(2,"Factures"),m(),g(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),F("click",function(){return i.goToFacture()}),g(7,"h2",4),v(8,"Facture 1"),m(),g(9,"h3",5),v(10,"Client 1"),m()()()(),g(11,"div")(12,"div",2)(13,"div",3),F("click",function(){return i.goToFacture()}),g(14,"h2",4),v(15,"Facture 2"),m(),g(16,"h3",5),v(17,"Client 2"),m()()()(),g(18,"div")(19,"div",2)(20,"div",3),F("click",function(){return i.goToFacture()}),g(21,"h2",4),v(22,"Facture 3"),m(),g(23,"h3",5),v(24,"Client 3"),m()()()()()(),ue(25,yle,3,3,"div",6)),2&r&&(I(25),H("ngForOf",i.clients))},dependencies:[fi]})}return n})();function ble(n,e){if(1&n&&(g(0,"p",28),v(1),g(2,"span",8),v(3),m()()),2&n){const t=N().$implicit,r=N();I(1),ee("",t," : "),I(2),ee(" ",r.champsClientValue[t],"")}}function Ele(n,e){if(1&n&&(rt(0),ue(1,ble,4,2,"p",27),it()),2&n){const t=e.$implicit;I(1),H("ngIf","dateCreation"!=t&&"Nombre_Colis"!=t&&"NetPayer"!=t&&"NetPayer"!=t)}}function wle(n,e){if(1&n&&(g(0,"td",35),v(1),m()),2&n){const t=N(2).$implicit,r=N();I(1),ee("",r.champsClientValueFacture[t]," DA")}}function Ile(n,e){1&n&&(g(0,"td",35),v(1,"--"),m())}function Cle(n,e){if(1&n&&(g(0,"tr",30)(1,"td",31)(2,"div",32),v(3),m()(),De(4,"td",33)(5,"td",33),ue(6,wle,2,1,"td",34),ue(7,Ile,2,0,"td",34),m()),2&n){const t=N().$implicit,r=N();I(3),Vt(t),I(3),H("ngIf",""!=r.champsClientValueFacture[t]),I(1),H("ngIf",""==r.champsClientValueFacture[t])}}function Tle(n,e){if(1&n&&(rt(0),ue(1,Cle,8,3,"tr",29),it()),2&n){const t=e.$implicit;I(1),H("ngIf","dateCreation"!=t)}}let Dle=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.champsTitleValue={},this.champsClientValue={},this.champsClientValueFacture={},this.champsClient=[],this.champsFacture=[],this.Total=0,this.NetPayer=0}ngOnInit(){this.getFacture(this.route.snapshot.params.data)}getFacture(t){var r=this;return D(function*(){yield r.client.readClient(t).then(i=>{r.extraireClesEtValeurs(i.client,"client"),r.extraireClesEtValeurs(i.facture,"facture"),r.extraireClesEtValeurs(i.entete,"entete"),r.getTotal()})})()}imprimer(){window.print()}listeTriees(t){return t.slice().sort((r,i)=>r.localeCompare(i))}extraireClesEtValeurs(t,r){if("client"==r)for(const[i,s]of Object.entries(t))this.champsClient.push(i),this.champsClientValue[i]=s;if("facture"==r)for(const[i,s]of Object.entries(t))this.champsFacture.push(i),this.champsClientValueFacture[i]=s;else for(const[i,s]of Object.entries(t))this.champsTitleValue[i]=s}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,s]of Object.entries(t))r+=parseInt(s);return r}static#e=this.\u0275fac=function(r){return new(r||n)(x(Os),x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-facture-view"]],decls:62,vars:11,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[4,"ngFor","ngForOf"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],["class","border-b border-gray-200",4,"ngIf"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 text-center text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","text-center","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),F("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m(),g(26,"p",6)(27,"span",8),v(28,"Nombre de Colis:"),m(),v(29),m()(),g(30,"div",11),De(31,"img",12),m()(),g(32,"div",13)(33,"div"),ue(34,Ele,2,1,"ng-container",14),m()(),g(35,"div",15)(36,"table",16)(37,"colgroup"),De(38,"col",17)(39,"col",18)(40,"col",18)(41,"col",18),m(),g(42,"thead",19)(43,"tr")(44,"th",20),v(45,"Designation"),m(),De(46,"th",21)(47,"th",21),g(48,"th",22),v(49,"Montant"),m()()(),g(50,"tbody"),ue(51,Tle,2,1,"ng-container",14),m(),g(52,"tfoot")(53,"tr")(54,"th",23),v(55,"NET A PAYER"),m(),g(56,"th",24),v(57,"NET A PAYER"),m(),g(58,"td",25),v(59),m()()()()(),g(60,"div",26),v(61," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(I(7),ee(" ",i.champsTitleValue.Name," "),I(2),ee(" ",i.champsTitleValue.Adresse," "),I(2),ee(" ",i.champsTitleValue["Tel/Fax"]," "),I(4),ee("",i.champsTitleValue.RCN," "),I(3),ee(" ",i.champsTitleValue.NIF," "),I(3),ee(" ",i.champsTitleValue.Date," "),I(4),ee(" ",i.champsTitleValue.Declaration," "),I(4),ee(" ",i.champsClientValue.Nombre_Colis," "),I(5),H("ngForOf",i.listeTriees(i.champsClient)),I(17),H("ngForOf",i.listeTriees(i.champsFacture)),I(8),ee("",i.NetPayer,"\xa0DA"))},dependencies:[fi,qi],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function Ale(n,e){if(1&n){const t=Ye();rt(0),g(1,"div",19)(2,"div")(3,"label",20),v(4,"Filtre par N\xb0"),m(),g(5,"input",21),F("ngModelChange",function(i){return X(t),J(N().filterNumber=i)}),m()(),g(6,"div")(7,"label",20),v(8,"Filtre par Date"),m(),g(9,"input",22),F("ngModelChange",function(i){return X(t),J(N().filterDate=i)}),m()(),g(10,"div",23)(11,"button",24),F("click",function(){return X(t),J(N().filter())}),v(12,"Filtre"),m(),g(13,"button",24),F("click",function(){return X(t),J(N().Reset())}),v(14,"Reset/Close"),m()()(),it()}if(2&n){const t=N();I(5),H("ngModel",t.filterNumber),I(4),H("ngModel",t.filterDate)}}function Sle(n,e){if(1&n){const t=Ye();rt(0),g(1,"button",25),F("click",function(){return X(t),J(N().filterFlag=!0)}),v(2,"Ouvrir le filtre --\x3e"),m(),it()}}function xle(n,e){if(1&n){const t=Ye();rt(0),g(1,"tr")(2,"td",26)(3,"div",27),Jt(),g(4,"svg",28),De(5,"path",29),m()()(),Nn(),g(6,"td",30),v(7),m(),g(8,"td",31)(9,"div",32)(10,"div")(11,"h2",33),v(12),m()()()(),g(13,"td",34),v(14),m(),g(15,"td",35)(16,"button",36),F("click",function(){const s=X(t).$implicit;return J(N().goToFacture(s.FactureNumber))}),Jt(),g(17,"svg",37),De(18,"path",38),m()(),Nn(),g(19,"button",39),F("click",function(){const s=X(t).$implicit;return J(N().deleteFacture(s.FactureNumber,s.NetPayer))}),Jt(),g(20,"svg",28),De(21,"path",40),m()()()(),it()}if(2&n){const t=e.$implicit;I(7),ee(" ",t.FactureNumber," "),I(5),Vt(t.Name),I(2),Vt(t.dateCreation)}}let Rle=(()=>{class n{constructor(t,r,i){this.route=t,this.clientService=r,this.datePipe=i,this.clients=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=3,this.filterFlag=!1}ngOnInit(){this.getClientsPaged(this.skip[0],this.maxResultCount),this.clientService.getCaisseData().then(t=>{this.total=t.numberFacture})}getClientsPaged(t,r){this.clientService.readClientsPaged(t,r).then(i=>{this.clients=i,this.skip[this.page]=parseInt(this.clients.pop()),this.clients.forEach(s=>{s.dateCreation=this.formatDate(s.dateCreation)})})}goToFacture(t){this.route.navigate(["/facture-view",{data:t}])}deleteFacture(t,r){this.clientService.deleteFacture(t,r).then(i=>{alert("la facture a ete supprimer avec succes"),this.skip=[0],this.page=1,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount)})}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getClientsPaged(this.skip[this.page-1],this.maxResultCount))}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}filter(){this.filterFlag=!0,this.clientService.readClientsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.clients=t,this.clients.pop(),this.clients.forEach(r=>{r.dateCreation=this.formatDate(r.dateCreation)})})}formatDate(t){const r=new Date(1e3*t.seconds);return this.datePipe.transform(r,"dd-MM-yyyy")||""}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt),x(xi),x(fu))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-factures-close"]],decls:34,vars:4,consts:[[1,"container","px-4","mx-auto"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-1.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-1.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-1.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de facture a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"flex","items-center","justify-center","text-center","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-1","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-1","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-1","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-1","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(g(0,"section",0),ue(1,Ale,15,2,"ng-container",1),ue(2,Sle,3,0,"ng-container",1),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),v(11," Type "),m(),g(12,"th",8),v(13," Facture N\xb0 "),m(),g(14,"th",9)(15,"div",10)(16,"span"),v(17,"Nom ou Raison sociale"),m()()(),g(18,"th",11),v(19," Date "),m(),g(20,"th",12)(21,"span",13),v(22,"Edit"),m()()()(),g(23,"tbody",14),ue(24,xle,22,3,"ng-container",15),m()()()()()(),g(25,"div",16)(26,"a",17),F("click",function(){return i.previousStep()}),g(27,"span"),v(28," << previous "),m()(),g(29,"div",18),v(30),m(),g(31,"a",17),F("click",function(){return i.nextStep()}),g(32,"span"),v(33," Next >> "),m()()()()),2&r&&(I(1),H("ngIf",i.filterFlag),I(1),H("ngIf",!i.filterFlag),I(22),H("ngForOf",i.clients),I(6),ee(" ",i.page,""))},dependencies:[fi,qi,Xi,So,Rs]})}return n})();function Mle(n,e){if(1&n){const t=Ye();rt(0),g(1,"div")(2,"div",17)(3,"label",18),v(4),m(),g(5,"span",19),F("click",function(){const s=X(t).$implicit;return J(N(2).deleteChamp(s,"title"))}),v(6,"X"),m()(),g(7,"input",20),F("ngModelChange",function(i){const o=X(t).$implicit;return J(N(2).champsTitleValue[o]=i)}),m()(),it()}if(2&n){const t=e.$implicit,r=N(2);I(4),ee("",t," "),I(3),H("ngModel",r.champsTitleValue[t])}}function Ple(n,e){if(1&n){const t=Ye();rt(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),ue(4,Mle,8,2,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),F("ngModelChange",function(i){return X(t),J(N().newChamp=i)}),m(),g(8,"button",15),F("click",function(){return X(t),J(N().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",16),F("click",function(){return X(t),J(N().nextStep())}),v(11,"Save"),m()(),it()}if(2&n){const t=N();I(4),H("ngForOf",t.champsTitle),I(3),H("ngModel",t.newChamp),I(1),H("disabled",""==t.newChamp)}}function kle(n,e){if(1&n){const t=Ye();g(0,"input",24),F("ngModelChange",function(i){X(t);const s=N().$implicit;return J(N(2).champsClientValue[s]=i)}),m()}if(2&n){const t=N().$implicit;H("ngModel",N(2).champsClientValue[t])}}function Ole(n,e){if(1&n){const t=Ye();g(0,"input",25),F("ngModelChange",function(i){return X(t),J(N(3).factureNumber=i)}),m()}2&n&&H("ngModel",N(3).factureNumber)}function Nle(n,e){if(1&n){const t=Ye();rt(0),g(1,"div")(2,"div",17)(3,"label",18),v(4),m(),g(5,"span",19),F("click",function(){const s=X(t).$implicit;return J(N(2).deleteChamp(s,"client"))}),v(6,"X"),m()(),ue(7,kle,1,1,"input",22),ue(8,Ole,1,1,"input",23),m(),it()}if(2&n){const t=e.$implicit;I(4),ee("",t," "),I(3),H("ngIf","FactureNumber"!=t),I(1),H("ngIf","FactureNumber"==t)}}function Fle(n,e){if(1&n){const t=Ye();rt(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),ue(4,Nle,9,3,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),F("ngModelChange",function(i){return X(t),J(N().newChamp=i)}),m(),g(8,"button",15),F("click",function(){return X(t),J(N().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",21),F("click",function(){return X(t),J(N().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),F("click",function(){return X(t),J(N().nextStep())}),v(13,"Save"),m()(),it()}if(2&n){const t=N();I(4),H("ngForOf",t.champsClient),I(3),H("ngModel",t.newChamp),I(1),H("disabled",""==t.newChamp)}}function Vle(n,e){if(1&n){const t=Ye();g(0,"div")(1,"div",17)(2,"label",18),v(3),m(),g(4,"span",19),F("click",function(){const s=X(t).$implicit;return J(N(2).deleteChamp(s,"facture"))}),v(5,"X"),m()(),g(6,"input",27),F("ngModelChange",function(i){const o=X(t).$implicit;return J(N(2).champsClientValueFacture[o]=i)}),m()()}if(2&n){const t=e.$implicit,r=N(2);I(3),ee("",t," "),I(3),H("ngModel",r.champsClientValueFacture[t])}}function Lle(n,e){if(1&n){const t=Ye();rt(0),g(1,"h2",9),v(2,"Create facture"),m(),g(3,"div",10),ue(4,Vle,7,2,"div",11),m(),g(5,"div",12)(6,"div",13)(7,"input",26),F("ngModelChange",function(i){return X(t),J(N().newChamp=i)}),m(),g(8,"button",15),F("click",function(){return X(t),J(N().addChampFacture())}),v(9,"Ajouter un champ"),m()(),g(10,"button",21),F("click",function(){return X(t),J(N().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),F("click",function(){return X(t),J(N().nextStep())}),v(13,"Save"),m()(),it()}if(2&n){const t=N();I(4),H("ngForOf",t.champsFacture),I(3),H("ngModel",t.newChamp),I(1),H("disabled",""==t.newChamp)}}function Ble(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=N().$implicit,r=N(2);I(1),ee("",t," : "),I(2),ee(" ",r.champsClientValue[t],"")}}function Ule(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=N().$implicit,r=N(2);I(1),ee("",t," : "),I(2),ee("REV N\xb0 ",r.champsClientValue[t]," ")}}function jle(n,e){if(1&n&&(rt(0),ue(1,Ble,4,2,"p",54),ue(2,Ule,4,2,"p",54),it()),2&n){const t=e.$implicit;I(1),H("ngIf","FactureNumber"!=t&&"Nombre_Colis"!=t),I(1),H("ngIf","FactureNumber"==t)}}function $le(n,e){if(1&n&&(g(0,"td",61),v(1),m()),2&n){const t=N().$implicit,r=N(2);I(1),ee("",r.champsClientValueFacture[t]," DA")}}function Hle(n,e){1&n&&(g(0,"td",61),v(1,"--"),m())}function zle(n,e){if(1&n&&(rt(0),g(1,"tr",56)(2,"td",57)(3,"div",58),v(4),m()(),g(5,"td",59),v(6,"--"),m(),g(7,"td",59),v(8,"--"),m(),ue(9,$le,2,1,"td",60),ue(10,Hle,2,0,"td",60),m(),it()),2&n){const t=e.$implicit,r=N(2);I(4),Vt(t),I(5),H("ngIf",0!=r.champsClientValueFacture[t]),I(1),H("ngIf",0==r.champsClientValueFacture[t])}}function Gle(n,e){if(1&n){const t=Ye();rt(0),g(1,"div",28)(2,"button",29),F("click",function(){return X(t),J(N().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",16),F("click",function(){return X(t),J(N().stock())}),v(5,"Stocker"),m()(),g(6,"div",30)(7,"div",31)(8,"div",32)(9,"p",33),v(10),m(),g(11,"p",34),v(12),m(),g(13,"p",35),v(14),m(),g(15,"p",35)(16,"span",36),v(17,"RCN :"),m(),v(18),g(19,"span",36),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",37)(23,"p",38),v(24),m(),g(25,"p",34)(26,"span",36),v(27,"Declaration:"),m(),v(28),m(),g(29,"p",34)(30,"span",36),v(31,"Nombre de Colis:"),m(),v(32),m()(),g(33,"div",39),De(34,"img",40),m()(),g(35,"div",41)(36,"div"),ue(37,jle,3,2,"ng-container",11),m()(),g(38,"div",42)(39,"table",43)(40,"colgroup"),De(41,"col",44)(42,"col",45)(43,"col",45)(44,"col",45),m(),g(45,"thead",46)(46,"tr")(47,"th",47),v(48,"Items"),m(),g(49,"th",48),v(50,"Quantity"),m(),g(51,"th",48),v(52,"Price"),m(),g(53,"th",49),v(54,"Amount"),m()()(),g(55,"tbody"),ue(56,zle,11,3,"ng-container",11),m(),g(57,"tfoot")(58,"tr")(59,"th",50),v(60,"NET A PAYER"),m(),g(61,"th",51),v(62,"NET A PAYER"),m(),g(63,"td",52),v(64),m()()()()(),g(65,"div",53),v(66," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),it()}if(2&n){const t=N();I(10),ee(" ",t.champsTitleValue.Name," "),I(2),ee(" ",t.champsTitleValue.Adresse," "),I(2),ee(" ",t.champsTitleValue["Tel/Fax"]," "),I(4),ee("",t.champsTitleValue.RCN," "),I(3),ee(" ",t.champsTitleValue.NIF," "),I(3),ee(" ",t.champsTitleValue.Date," "),I(4),ee(" ",t.champsTitleValue.Declaration," "),I(4),ee(" ",t.champsClientValue.Nombre_Colis," "),I(5),H("ngForOf",t.champsClient),I(19),H("ngForOf",t.champsFacture),I(8),ee("",t.NetPayer,"\xa0DA")}}let Wle=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitle=["Name","Date","Adresse","Tel/Fax","Declaration","RCN","NIF"],this.champsTitleValue={},this.champsClient=["Name","Adresse","FactureNumber","Origine","Nature de Marchandise","Nombre_Colis"],this.champsClientValue={},this.newChamp="",this.factureNumber=0,this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes","Honoraires"],this.champsClientValueFacture={},this.newChampFacture="",this.width="w-2",this.color=["text-blue-600","","",""],this.step=0,this.Total=0,this.NetPayer=0}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]=0})}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]=0,this.newChamp=""}deleteChamp(t,r){"client"==r?(this.champsClient.splice(this.champsClient.indexOf(t),1),delete this.champsClientValue[t]):"title"==r?(this.champsTitle.splice(this.champsTitle.indexOf(t),1),delete this.champsTitleValue[t]):(this.champsFacture.splice(this.champsFacture.indexOf(t),1),delete this.champsClientValueFacture[t])}nextStep(){switch(this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.checkFactureNumber()&&(this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""]);break;case 3:this.checkFactureChiffres()&&(this.champsClientValue.FactureNumber=this.factureNumber+""),this.getTotal(),this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.service.getCaisseData().then(t=>{this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.factureNumber=t.lastFactureId+1})}stock(){this.champsClientValue.FactureNumber=this.factureNumber+"",this.champsClientValue.NetPayer=this.NetPayer+"",this.champsClientValue.selected="true",this.service.createClient(this.champsClientValue,this.champsClientValueFacture,this.champsTitleValue).then(t=>{console.log(t),1==t?1==confirm("la facture a ete cree avec succes")&&this.route.navigate(["/facture-view",{data:this.champsClientValue.FactureNumber}]):confirm("la facture na pas ete cree il peut quelle existe deja")})}checkFactureChiffres(){let t=!0;return this.champsFacture.forEach(r=>{!1===/^[0-9]+$/.test(this.champsClientValueFacture[r].toString())&&(alert("les entrees de la facture il faut quil soient des nombres"),this.step--,t=!1)}),t}checkFactureNumber(){return"number"==typeof this.factureNumber||(alert("le nombre de facture il faut quil etre un nombre"),this.step--,!1)}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,s]of Object.entries(t))r+=parseInt(s);return r}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt),x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["required","","id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],["id","","type","text","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","number","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["id","","type","number",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div")(1,"div",0)(2,"div",1),De(3,"div"),m(),g(4,"ol",2)(5,"li")(6,"span",3),v(7,"Entete"),m(),Jt(),g(8,"svg",4),De(9,"path",5),m()(),Nn(),g(10,"li")(11,"span",3),v(12,"Client"),m(),Jt(),g(13,"svg",4),De(14,"path",5),m()(),Nn(),g(15,"li")(16,"span",3),v(17,"Commandes"),m(),Jt(),g(18,"svg",4),De(19,"path",5),m()(),Nn(),g(20,"li")(21,"span",3),v(22,"Facture final"),m(),Jt(),g(23,"svg",4),De(24,"path",6),m()()()()(),Nn(),g(25,"section",7),ue(26,Ple,12,3,"ng-container",8),ue(27,Fle,14,3,"ng-container",8),ue(28,Lle,14,3,"ng-container",8),ue(29,Gle,67,11,"ng-container",8),m()),2&r&&(I(3),Za("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),I(2),Za("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),I(5),Za("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),I(5),Za("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),I(5),Za("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),I(6),H("ngIf",0==i.step),I(1),H("ngIf",1==i.step),I(1),H("ngIf",2==i.step),I(1),H("ngIf",3==i.step))},dependencies:[fi,qi,Xi,qb,So,yp,Rs]})}return n})(),qle=(()=>{class n{constructor(t){this.service=t,this.total=0,this.nombreFacture=0,this.nombreBons=0}ngOnInit(){this.service.getCaisseData().then(t=>{this.total=t.caisse,this.nombreFacture=t.numberFacture,this.nombreBons=t.numberBons})}static#e=this.\u0275fac=function(r){return new(r||n)(x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-caisse"]],decls:29,vars:3,consts:[[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-2xl","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(g(0,"h1",0),v(1,"La Caisse des Factures"),m(),g(2,"article",1)(3,"span",2),Jt(),g(4,"svg",3),De(5,"path",4),m()(),Nn(),g(6,"div")(7,"p",5),v(8),m(),g(9,"p",6),v(10,"Total Sales"),m()()(),g(11,"article",1)(12,"span",2),Jt(),g(13,"svg",3),De(14,"path",4),m()(),Nn(),g(15,"div")(16,"p",5),v(17),m(),g(18,"p",6),v(19,"Total Factures"),m()()(),g(20,"article",1)(21,"span",2),Jt(),g(22,"svg",3),De(23,"path",4),m()(),Nn(),g(24,"div")(25,"p",5),v(26),m(),g(27,"p",6),v(28,"Total Bons"),m()()()),2&r&&(I(8),ee("",i.total," DA"),I(9),Vt(i.nombreFacture),I(9),Vt(i.nombreBons))}})}return n})();function Kle(n,e){if(1&n){const t=Ye();g(0,"div")(1,"div",12)(2,"label",13),v(3),m(),g(4,"span",14),F("click",function(){const s=X(t).$implicit;return J(N(2).deleteChamp(s))}),v(5,"X"),m()(),g(6,"input",15),F("ngModelChange",function(i){const o=X(t).$implicit;return J(N(2).champBonsQnt[o]=i)}),m(),g(7,"input",16),F("ngModelChange",function(i){const o=X(t).$implicit;return J(N(2).champBonsPrice[o]=i)}),m()()}if(2&n){const t=e.$implicit,r=N(2);I(3),ee("",t," "),I(3),H("ngModel",r.champBonsQnt[t]),I(1),H("ngModel",r.champBonsPrice[t])}}function Qle(n,e){if(1&n){const t=Ye();rt(0),g(1,"h2",2),v(2,"Create BONS"),m(),g(3,"div",3)(4,"div")(5,"label",4),v(6,"Date"),m(),g(7,"input",5),F("ngModelChange",function(i){return X(t),J(N().champDate=i)}),m()(),ue(8,Kle,8,3,"div",6),m(),g(9,"div",7)(10,"div",8)(11,"input",9),F("ngModelChange",function(i){return X(t),J(N().newChamp=i)}),m(),g(12,"button",10),F("click",function(){return X(t),J(N().addChamp())}),v(13,"Ajouter un champ"),m()(),g(14,"button",11),F("click",function(){return X(t),J(N().nextStep())}),v(15,"Suivant"),m()(),it()}if(2&n){const t=N();I(7),H("ngModel",t.champDate),I(1),H("ngForOf",t.champs),I(3),H("ngModel",t.newChamp),I(1),H("disabled",""==t.newChamp),I(2),H("disabled",0==t.champs.length||null==t.champDate)}}function Yle(n,e){if(1&n&&(g(0,"td",48),v(1),m()),2&n){const t=N().$implicit,r=N(2);I(1),ee("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function Xle(n,e){1&n&&(g(0,"td",48),v(1,"--"),m())}function Zle(n,e){if(1&n&&(rt(0),g(1,"tr",43)(2,"td",44)(3,"div",45),v(4),m()(),g(5,"td",46),v(6),m(),g(7,"td",46),v(8),m(),ue(9,Yle,2,1,"td",47),ue(10,Xle,2,0,"td",47),m(),it()),2&n){const t=e.$implicit,r=N(2);I(4),Vt(t),I(2),Vt(r.champBonsQnt[t]||1),I(2),Vt(r.champBonsPrice[t]||0),I(1),H("ngIf",0!=r.champBonsPrice[t]),I(1),H("ngIf",0==r.champBonsPrice[t])}}function Jle(n,e){if(1&n){const t=Ye();rt(0),g(1,"div",17)(2,"button",18),F("click",function(){return X(t),J(N().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",19),F("click",function(){return X(t),J(N().stock())}),v(5,"Stocker"),m()(),g(6,"div",20)(7,"div",21)(8,"div",22)(9,"p",23),v(10),m(),g(11,"p",24),v(12),m(),g(13,"p",25),v(14),m(),g(15,"p",25)(16,"span",26),v(17,"RCN :"),m(),v(18),g(19,"span",26),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",27)(23,"p",28),v(24),function K1(n,e){const t=Pe();let r;const i=n+nt;t.firstCreatePass?(r=function w9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=uo(r.type)),o=br(x);try{const a=zh(!1),l=s();return zh(a),function c6(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,P(),i,l),l}finally{br(o)}}(25,"date"),m(),g(26,"p",24)(27,"span",26),v(28,"Declaration:"),m(),v(29),m()(),g(30,"div",29),De(31,"img",30),m()(),g(32,"div",31)(33,"table",32)(34,"colgroup"),De(35,"col",33)(36,"col",34)(37,"col",34)(38,"col",34),m(),g(39,"thead",35)(40,"tr")(41,"th",36),v(42,"Items"),m(),g(43,"th",37),v(44,"Quantity"),m(),g(45,"th",37),v(46,"Price"),m(),g(47,"th",38),v(48,"Amount"),m()()(),g(49,"tbody"),ue(50,Zle,11,5,"ng-container",6),m(),g(51,"tfoot")(52,"tr")(53,"th",39),v(54,"Total"),m(),g(55,"th",40),v(56,"Total"),m(),g(57,"td",41),v(58),m()()()()(),g(59,"div",42),v(60," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),it()}if(2&n){const t=N();I(10),ee(" ",t.champsTitleValue.Name," "),I(2),ee(" ",t.champsTitleValue.Adresse," "),I(2),ee(" ",t.champsTitleValue["Tel/Fax"]," "),I(4),ee("",t.champsTitleValue.RCN," "),I(3),ee(" ",t.champsTitleValue.NIF," "),I(3),ee(" Date : ",Q1(25,9,t.champDate,"dd/MM/yyyy")," "),I(5),ee(" ",t.champsTitleValue.Declaration," "),I(21),H("ngForOf",t.champs),I(8),ee("",t.total,"\xa0DA")}}let ece=(()=>{class n{constructor(t,r){this.service=t,this.route=r,this.champs=[],this.champBonsPrice={},this.champBonsQnt={},this.champsTitleValue={},this.champTitle=[],this.step=0,this.newChamp="",this.total=0}addChamp(){this.champs.push(this.newChamp),this.newChamp=""}previousStep(){this.step--}nextStep(){console.log(this.champDate),this.checkFactureChiffres()&&(this.step++,1==this.step&&(this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t)}),this.getTotal()))}deleteChamp(t){this.champs.splice(this.champs.indexOf(t),1),delete this.champBonsPrice[t],delete this.champBonsQnt[t]}stock(){var t={};this.champs.forEach(i=>{t[i]=[this.champBonsQnt[i]||0,this.champBonsPrice[i]||0]});var r={date:new Date(this.champDate||""),data:t,total:this.total,selected:!0};this.service.createBons(r).then(i=>{confirm("la facture a ete cree avec succes"),this.route.navigate(["/bonsList"])}).catch(i=>{confirm("la facture na pas ete cree il peut quelle existe deja")})}extraireClesEtValeurs(t){for(const[r,i]of Object.entries(t))this.champTitle.push(r),this.champsTitleValue[r]=i}getTotal(){this.total=0;for(const[t,r]of Object.entries(this.champBonsPrice))this.total+=(r||0)*(this.champBonsQnt[t]||1)}checkFactureChiffres(){let t=!0;if(null==this.champDate)return!1;for(const r of this.champs)if(!1===/^[0-9]+$/.test((this.champBonsPrice[r]||0).toString())||!1===/^[0-9]+$/.test((this.champBonsQnt[r]||1).toString())){alert("les entrees de la facture il faut quil soient des nombres numeriques"),t=!1;break}return t}static#e=this.\u0275fac=function(r){return new(r||n)(x(xi),x(Rt))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-bons"]],decls:3,vars:2,consts:[[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","date","placeholder","Date",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"disabled","click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["type","text","placeholder","Quantite",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Prix",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"section",0),ue(1,Qle,16,5,"ng-container",1),ue(2,Jle,61,12,"ng-container",1),m()),2&r&&(I(1),H("ngIf",0==i.step),I(1),H("ngIf",1==i.step))},dependencies:[fi,qi,Xi,So,Rs,fu]})}return n})();function tce(n,e){if(1&n){const t=Ye();g(0,"div",19)(1,"div")(2,"label",20),v(3,"Filtre par N\xb0"),m(),g(4,"input",21),F("ngModelChange",function(i){return X(t),J(N().filterNumber=i)}),m()(),g(5,"div")(6,"label",20),v(7,"Filtre par Date"),m(),g(8,"input",22),F("ngModelChange",function(i){return X(t),J(N().filterDate=i)}),m()(),g(9,"div",23)(10,"button",24),F("click",function(){return X(t),J(N().filter())}),v(11,"Filtre"),m(),g(12,"button",24),F("click",function(){return X(t),J(N().Reset())}),v(13,"Reset/Close"),m()()()}if(2&n){const t=N();I(4),H("ngModel",t.filterNumber),I(4),H("ngModel",t.filterDate)}}function nce(n,e){if(1&n){const t=Ye();rt(0),g(1,"button",25),F("click",function(){return X(t),J(N().filterFlag=!0)}),v(2,"Ouvrir le filtre --\x3e"),m(),it()}}function rce(n,e){if(1&n){const t=Ye();rt(0),g(1,"tr")(2,"td",26),v(3),m(),g(4,"td",27)(5,"div",28)(6,"div")(7,"h2",29),v(8),m()()()(),g(9,"td",30),v(10),m(),g(11,"td",30),v(12),m(),g(13,"td",31)(14,"button",32),F("click",function(){const s=X(t).$implicit;return J(N().goToBons(s.id))}),Jt(),g(15,"svg",33),De(16,"path",34),m()(),Nn(),g(17,"button",35),F("click",function(){const s=X(t).$implicit;return J(N().deleteBons(s.id,s.total))}),Jt(),g(18,"svg",36),De(19,"path",37),m()()()(),it()}if(2&n){const t=e.$implicit;I(3),ee(" ",t.id," "),I(5),Vt(t.name),I(2),Vt(t.date),I(2),ee("",t.total," DA")}}function ice(n,e){if(1&n){const t=Ye();g(0,"div",38)(1,"a",39),F("click",function(){return X(t),J(N().previousStep())}),g(2,"span"),v(3," << previous "),m()(),g(4,"div",40),v(5),m(),g(6,"a",39),F("click",function(){return X(t),J(N().nextStep())}),g(7,"span"),v(8," Next >> "),m()()()}if(2&n){const t=N();I(5),ee(" ",t.page,"")}}let sce=(()=>{class n{constructor(t,r,i){this.route=t,this.datePipe=r,this.service=i,this.Bons=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=10,this.filterFlag=!1}ngOnInit(){this.getBons(this.skip[0],this.maxResultCount),this.service.getCaisseData().then(t=>{this.total=t.numberBons})}getBons(t,r){this.service.readBonsPaged(t,r).then(i=>{this.skip[this.page]=parseInt(i.pop()),this.Bons=i,this.Bons.forEach(s=>{s.date=this.formatDate(s.date)})})}deleteBons(t,r){this.service.deleteBon(t,r).then(i=>{confirm("le Bons est bien supprimer"),this.skip=[0],this.page=1,this.getBons(this.skip[this.page-1],this.maxResultCount)}).catch(i=>{console.log(i)})}goToBons(t){this.route.navigate(["/bon-view",{data:t}])}filter(){this.filterFlag=!0,this.service.readBonsPaged(0,50,this.filterNumber,this.filterDate).then(t=>{this.Bons=t,this.Bons.forEach(r=>{r.date=new Date(1e3*r.date.seconds)})})}Reset(){this.filterFlag=!1,this.filterDate=void 0,this.filterNumber=""}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getBons(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getBons(this.skip[this.page-1],this.maxResultCount))}formatDate(t){const r=new Date(1e3*t.seconds),i=this.datePipe.transform(r,"dd-MM-yyyy");return console.log(i),i||""}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt),x(fu),x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-bons-list"]],decls:26,vars:4,consts:[[1,"container","px-4","mx-auto"],["class","grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-center","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center mt-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de Bons a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"px-3","py-4","text-sm","text-center","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"]],template:function(r,i){1&r&&(g(0,"section",0),ue(1,tce,14,2,"div",1),ue(2,nce,3,0,"ng-container",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7)(8,"thead",8)(9,"tr")(10,"th",9),v(11," Bons N\xb0 "),m(),g(12,"th",10)(13,"div",11)(14,"span"),v(15,"Nom du Bon"),m()()(),g(16,"th",12),v(17," Date "),m(),g(18,"th",13),v(19," Total "),m(),g(20,"th",14)(21,"span",15),v(22,"Edit"),m()()()(),g(23,"tbody",16),ue(24,rce,20,4,"ng-container",17),m()()()()()(),ue(25,ice,9,1,"div",18),m()),2&r&&(I(1),H("ngIf",i.filterFlag),I(1),H("ngIf",!i.filterFlag),I(22),H("ngForOf",i.Bons),I(1),H("ngIf",!i.filterFlag))},dependencies:[fi,qi,Xi,So,Rs]})}return n})();function oce(n,e){if(1&n&&(g(0,"td",32),v(1),m()),2&n){const t=N().$implicit,r=N();I(1),ee("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function ace(n,e){1&n&&(g(0,"td",32),v(1,"--"),m())}function lce(n,e){if(1&n&&(rt(0),g(1,"tr",27)(2,"td",28)(3,"div",29),v(4),m()(),g(5,"td",30),v(6),m(),g(7,"td",30),v(8),m(),ue(9,oce,2,1,"td",31),ue(10,ace,2,0,"td",31),m(),it()),2&n){const t=e.$implicit,r=N();I(4),Vt(t),I(2),Vt(r.champBonsQnt[t]||1),I(2),Vt(r.champBonsPrice[t]||0),I(1),H("ngIf",0!=r.champBonsPrice[t]),I(1),H("ngIf",0==r.champBonsPrice[t])}}let cce=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitleValue={},this.champTitle=[],this.champDate="",this.champs=[],this.total=0,this.name="",this.champBonsQnt={},this.champBonsPrice={}}ngOnInit(){var t=this.route.snapshot.params.data;this.getTitleValue(),this.getBon(t)}getTitleValue(){this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t,"title")})}getBon(t){var r=this;return D(function*(){yield r.service.readBon(t).then(i=>{r.extraireClesEtValeurs(i.bon.data,"bon"),r.champDate=i.bon.date,r.total=i.bon.total,r.name=i.bon.name})})()}extraireClesEtValeurs(t,r){if("title"==r)for(const[i,s]of Object.entries(t))this.champTitle.push(i),this.champsTitleValue[i]=s;else for(const[i,s]of Object.entries(t))this.champs.push(i),this.champBonsPrice[i]=s[1],this.champBonsQnt[i]=s[0]}imprimer(){window.print()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Os),x(xi))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-bons-view"]],decls:59,vars:10,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"text-3xl","text-center","font-semibold","mt-6","underline"],[1,"-mx-4","mt-5","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[4,"ngFor","ngForOf"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0","whitespace-no-wrap","h-8"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),F("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m()(),g(26,"div",11),De(27,"img",12),m()(),g(28,"h3",13),v(29),m(),g(30,"div",14)(31,"table",15)(32,"colgroup"),De(33,"col",16)(34,"col",17)(35,"col",17)(36,"col",17),m(),g(37,"thead",18)(38,"tr")(39,"th",19),v(40,"Items"),m(),g(41,"th",20),v(42,"Quantity"),m(),g(43,"th",20),v(44,"Price"),m(),g(45,"th",21),v(46,"Amount"),m()()(),g(47,"tbody"),ue(48,lce,11,5,"ng-container",22),m(),g(49,"tfoot")(50,"tr")(51,"th",23),v(52,"Total"),m(),g(53,"th",24),v(54,"Total"),m(),g(55,"td",25),v(56),m()()()()(),g(57,"div",26),v(58," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(I(7),ee(" ",i.champsTitleValue.Name," "),I(2),ee(" ",i.champsTitleValue.Adresse," "),I(2),ee(" ",i.champsTitleValue["Tel/Fax"]," "),I(4),ee("",i.champsTitleValue.RCN," "),I(3),ee(" ",i.champsTitleValue.NIF," "),I(3),ee(" Date : ",i.champDate," "),I(4),ee(" ",i.champsTitleValue.Declaration," "),I(4),Vt(i.name),I(19),H("ngForOf",i.champs),I(8),ee("",i.total,"\xa0DA"))},dependencies:[fi,qi],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const uce=["addListener","removeListener"],dce=["addEventListener","removeEventListener"],hce=["on","off"];function dD(n,e,t,r){if(Ne(t)&&(r=t,t=void 0),r)return dD(n,e,t).pipe(Tb(r));const[i,s]=function gce(n){return Ne(n.addEventListener)&&Ne(n.removeEventListener)}(n)?dce.map(o=>a=>n[o](e,a,t)):function fce(n){return Ne(n.addListener)&&Ne(n.removeListener)}(n)?uce.map(c4(n,e)):function pce(n){return Ne(n.on)&&Ne(n.off)}(n)?hce.map(c4(n,e)):[];if(!i&&f_(n))return Xt(o=>dD(o,e,t))(Hn(n));if(!i)throw new TypeError("Invalid event target");return new qe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function c4(n,e){return t=>r=>n[t](e,r)}const uh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=uh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new yn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=uh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=uh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class _ce extends Xp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class mce extends Yp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=uh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(uh.cancelAnimationFrame(t),e._scheduled=void 0)}});let hD,vce=1;const Fm={};function u4(n){return n in Fm&&(delete Fm[n],!0)}const bce={setImmediate(n){const e=vce++;return Fm[e]=!0,hD||(hD=Promise.resolve()),hD.then(()=>u4(e)&&n()),e},clearImmediate(n){u4(n)}},{setImmediate:Ece,clearImmediate:wce}=bce,Vm={setImmediate(...n){const{delegate:e}=Vm;return(e?.setImmediate||Ece)(...n)},clearImmediate(n){const{delegate:e}=Vm;return(e?.clearImmediate||wce)(n)},delegate:void 0};new class Cce extends Xp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ice extends Yp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Vm.clearImmediate(t),e._scheduled=void 0)}});function d4(n,e=qE){return function Dce(n){return Tt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(mt(t,c=>{r=!0,i=c,s||Hn(n(c)).subscribe(s=mt(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Sce(n=0,e,t=gee){let r=-1;return null!=e&&(fA(e)?t=e:r=e),new qe(i=>{let s=function Ace(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let Rce=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ut,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new qe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(d4(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ln(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ep(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(S(xe),S(Ki),S(Ie,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h4=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ut,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(d4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(S(Ki),S(xe),S(Ie,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({imports:[[yu,f4],yu,f4]}),n})();class fD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class pD extends fD{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class g4 extends fD{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Pce extends fD{constructor(e){super(),this.element=e instanceof dn?e.nativeElement:e}}class gD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof pD?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof g4?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Pce?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kce extends gD{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||tn.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let m4=(()=>{class n extends gD{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new st,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(x(yo),x(Tr),x(Ie))},n.\u0275dir=ae({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ve]}),n})(),_4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({}),n})();const y4=_7();class Oce{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ut(-this._previousScrollPosition.left),e.style.top=Ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),y4&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),y4&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Nce{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v4{enable(){}disable(){}attach(){}}function mD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function b4(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Fce{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();mD(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vce=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new v4,this.close=o=>new Nce(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Oce(this._viewportRuler,this._document),this.reposition=o=>new Fce(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(S(Rce),S(h4),S(xe),S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class E4{constructor(e){if(this.scrollStrategy=new v4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Lce{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let w4=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bce=(()=>{class n extends w4{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(S(Ie),S(xe,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uce=(()=>{class n extends w4{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=To(s)},this._clickListener=s=>{const o=To(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(S(Ie),S(Ki),S(xe,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_D=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Eb()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),Eb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(S(Ie),S(Ki))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jce{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ut,this._attachments=new ut,this._detachments=new ut,this._locationChanges=yn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ut,this._outsidePointerEvents=new ut,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ut(this._config.width),e.height=Ut(this._config.height),e.minWidth=Ut(this._config.minWidth),e.minHeight=Ut(this._config.minHeight),e.maxWidth=Ut(this._config.maxWidth),e.maxHeight=Ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;e&&(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=XP(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(YP(mA(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const I4="cdk-overlay-connected-position-bounding-box",$ce=/([A-Za-z%]+)$/;class Hce{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut,this._resizeSubscription=yn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(I4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ua(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(I4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=T4(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,h,f),y=p*_;return{visibleArea:y,isCompletelyWithinViewport:s.width*s.height===y,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=C4(this._overlayRef.getConfig().minHeight),a=C4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=T4(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Lce(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ut(r.height),i.top=Ut(r.top),i.bottom=Ut(r.bottom),i.width=Ut(r.width),i.left=Ut(r.left),i.right=Ut(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ut(s)),o&&(i.maxWidth=Ut(o))}this._lastBoundingBoxSize=r,ua(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ua(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ua(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ua(r,this._getExactOverlayY(t,e,u)),ua(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ut(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ut(o.maxWidth):s&&(r.maxWidth="")),ua(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ut(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ut(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:b4(e,r),isOriginOutsideView:mD(e,r),isOverlayClipped:b4(t,r),isOverlayOutsideView:mD(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&XP(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof dn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ua(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function C4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($ce);return t&&"px"!==t?null:parseFloat(e)}return n||null}function T4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const D4="cdk-global-overlay-wrapper";class zce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(D4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(D4),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Gce=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new zce}flexibleConnectedTo(t){return new Hce(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(S(h4),S(Ie),S(Ki),S(_D))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wce=0,Lm=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new E4(t);return o.direction=o.direction||this._directionality.value,new jce(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Wce++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(il)),new kce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(S(Vce),S(_D),S(yo),S(Gce),S(Bce),S(tn),S(xe),S(Ie),S(Ib),S(uu),S(Uce))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const Qce={provide:new V("cdk-connected-overlay-scroll-strategy"),deps:[Lm],useFactory:function Kce(n){return()=>n.scrollStrategies.reposition()}};let Yce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({providers:[Lm,Qce],imports:[[yu,_4,p4],p4]}),n})();class A4{}class Xce{}const fs="*";function Zce(n,e){return{type:7,name:n,definitions:e,options:{}}}function S4(n,e=null){return{type:4,styles:e,timings:n}}function x4(n,e=null){return{type:3,steps:n,options:e}}function R4(n,e=null){return{type:2,steps:n,options:e}}function yc(n){return{type:6,styles:n,offset:null}}function M4(n,e,t){return{type:0,name:n,styles:e,options:t}}function P4(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function k4(n=null){return{type:9,options:n}}function O4(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function N4(n){Promise.resolve().then(n)}class dh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){N4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class F4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?N4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const yD="!";function Jce(n,e){}class vD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const eue={dialogContainer:Zce("dialogContainer",[M4("void, exit",yc({opacity:0,transform:"scale(0.7)"})),M4("enter",yc({transform:"none"})),P4("* => enter",x4([S4("150ms cubic-bezier(0, 0, 0.2, 1)",yc({transform:"none",opacity:1})),O4("@*",k4(),{optional:!0})])),P4("* => void, * => exit",x4([S4("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",yc({opacity:0})),O4("@*",k4(),{optional:!0})]))])};let tue=(()=>{class n extends gD{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new st,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=bb())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=bb(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=bb();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(x(dn),x(z7),x(lu),x(Ie,8),x(vD),x(ek),x(xe),x(Z7))},n.\u0275dir=ae({type:n,viewQuery:function(t,r){if(1&t&&tM(m4,7),2&t){let i;Iv(i=function Cv(){return function L9(n,e){return n[ni].queries[e].queryList}(P(),WA())}())&&(r._portalOutlet=i.first)}},features:[Ve]}),n})(),nue=(()=>{class n extends tue{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275cmp=Zt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&Zy("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(sv("id",r._id),Hr("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ov("@dialogContainer",r._state))},features:[Ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&ue(0,Jce,0,0,"ng-template",0)},dependencies:[m4],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[eue.dialogContainer]}}),n})(),rue=0;class V4{constructor(e,t,r="mat-dialog-"+rue++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ut,this._afterClosed=new ut,this._beforeClosed=new ut,this._state=0,t._id=r,t._animationStateChanged.pipe(Ln(i=>"opened"===i.state),Qr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ln(i=>"closed"===i.state),Qr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Ln(i=>27===i.keyCode&&!this.disableClose&&!function D7(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),L4(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():L4(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),Qr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function L4(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const B4=new V("MatDialogData"),iue=new V("mat-dialog-default-options"),U4=new V("mat-dialog-scroll-strategy"),oue={provide:U4,deps:[Lm],useFactory:function sue(n){return()=>n.scrollStrategies.block()}};let aue=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut,this._afterOpenedAtThisLevel=new ut,this._ariaHiddenElements=new Map,this.afterAllClosed=eE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(FO(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function lue(n,e){return{...e,...n}}(r,this._defaultOptions||new vD),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new E4({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=tn.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:vD,useValue:r}]}),o=new pD(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof di)r.attachTemplatePortal(new g4(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new pD(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(Ib,null,ie.Optional))&&o.push({provide:Ib,useValue:{value:t.direction,change:te()}}),tn.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Ny()},n.\u0275dir=ae({type:n}),n})(),j4=(()=>{class n extends aue{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,V4,nue,B4,c)}}return n.\u0275fac=function(t){return new(t||n)(S(Lm),S(tn),S(uu,8),S(iue,8),S(U4),S(n,12),S(_D),S(Mv,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),cue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({providers:[j4,oue],imports:[[Yce,_4,Cs],Cs]}),n})();function uue(n,e){if(1&n){const t=Ye();rt(0),g(1,"div")(2,"div",8)(3,"label",9),v(4),m(),g(5,"span",10),F("click",function(){const s=X(t).$implicit;return J(N().deleteChamp(s))}),v(6,"X"),m()(),g(7,"input",11),F("ngModelChange",function(i){const o=X(t).$implicit;return J(N().champsClientValue[o]=i)}),m()(),it()}if(2&n){const t=e.$implicit,r=N();I(4),ee("",t," "),I(3),H("ngModel",r.champsClientValue[t])}}let due=(()=>{class n{constructor(t,r,i){this.clientService=t,this.clients=r,this.dialogRef=i,this.champsClient=["Name","Adresse","NIC","Nature de Marchandise"],this.champsClientValue={},this.id=0}ngOnInit(){this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.clientService.getCaisseData().then(t=>{this.id=t.lastClientId+1})}Create(){this.clientService.createUser({id:this.id,Name:this.champsClientValue.Name,Adresse:this.champsClientValue.Adresse,NIC:this.champsClientValue.NIC,Nature_de_Marchandise:this.champsClientValue["Nature de Marchandise"]}).then(()=>{alert("client ajouter avec succes"),this.dialogRef.close()}).catch(r=>{alert("le client na pas ete ajouter il peut quelle existe deja")})}deleteChamp(t){this.champsClient.splice(this.champsClient.indexOf(t),1),delete this.champsClientValue[t]}Close(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||n)(x(xi),x(B4),x(V4))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-add-client-pop-up"]],decls:11,vars:1,consts:[[1,"overlay"],[1,"dialog-content","max-w-5xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between"],["for","",1,"text-gray-700","dark:text-gray-200"],[1,"cursor-pointer","mr-3","transition-all","duration-200","text-gray-600","bg-gray-200","rounded-full","hover:bg-gray-500","text-base","px-2","font-semibold","font-sans",3,"click"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"section",1)(2,"h2",2),v(3,"Cr\xe9ation d'un Client"),m(),g(4,"div",3),ue(5,uue,8,2,"ng-container",4),m(),g(6,"div",5)(7,"button",6),F("click",function(){return i.Close()}),v(8,"Reset"),m(),g(9,"button",7),F("click",function(){return i.Create()}),v(10,"Create"),m()()()()),2&r&&(I(5),H("ngForOf",i.champsClient))},dependencies:[fi,Xi,So,Rs],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#80808080}.dialog-content[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;z-index:9999;width:70%}@media screen and (max-width: 600px){.dialog-content[_ngcontent-%COMP%]{width:90%}}'],data:{animation:[]}})}return n})();function hue(n,e){if(1&n){const t=Ye();g(0,"div",19)(1,"div")(2,"label",20),v(3,"Filtre par N\xb0"),m(),g(4,"input",21),F("ngModelChange",function(i){return X(t),J(N().filterNic=i)}),m()(),g(5,"div")(6,"label",20),v(7,"Filtre par Date"),m(),g(8,"input",22),F("ngModelChange",function(i){return X(t),J(N().filterName=i)}),m()(),g(9,"div",23)(10,"button",24),F("click",function(){return X(t),J(N().filter())}),v(11,"Filtre"),m(),g(12,"button",24),F("click",function(){return X(t),J(N().Reset())}),v(13,"Reset/Close"),m()()()}if(2&n){const t=N();I(4),H("ngModel",t.filterNic),I(4),H("ngModel",t.filterName)}}function fue(n,e){if(1&n){const t=Ye();rt(0),g(1,"div",25)(2,"button",26),F("click",function(){return X(t),J(N().filterFlag=!0)}),v(3,"Ouvrir le filtre --\x3e"),m(),g(4,"button",27),F("click",function(){return X(t),J(N().add())}),v(5,"Ajouter Client"),m()(),it()}}function pue(n,e){if(1&n){const t=Ye();rt(0),g(1,"tr")(2,"td",28),v(3),m(),g(4,"td",29)(5,"div",30)(6,"div")(7,"h2",31),v(8),m()()()(),g(9,"td",32),v(10),m(),g(11,"td",32),v(12),m(),g(13,"td",33)(14,"button",34),F("click",function(){const s=X(t).$implicit;return J(N().goToClients(s.id))}),Jt(),g(15,"svg",35),De(16,"path",36),m()(),Nn(),g(17,"button",37),F("click",function(){const s=X(t).$implicit;return J(N().deleteClients(s.id))}),Jt(),g(18,"svg",38),De(19,"path",39),m()()()(),it()}if(2&n){const t=e.$implicit;I(3),ee(" ",t.id," "),I(5),Vt(t.Name),I(2),Vt(t.Adresse),I(2),Vt(t.NIC)}}function gue(n,e){if(1&n){const t=Ye();g(0,"div",40)(1,"a",41),F("click",function(){return X(t),J(N().previousStep())}),g(2,"span"),v(3," << previous "),m()(),g(4,"div",42),v(5),m(),g(6,"a",41),F("click",function(){return X(t),J(N().nextStep())}),g(7,"span"),v(8," Next >> "),m()()()}if(2&n){const t=N();I(5),ee(" ",t.page,"")}}const mue=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:AZ},{path:"factures",component:vle},{path:"facture-view",component:Dle},{path:"facture-close",component:Rle},{path:"facture-create",component:Wle},{path:"caisse",component:qle},{path:"bons",component:ece},{path:"bonsList",component:sce},{path:"bon-view",component:cce},{path:"clients",component:(()=>{class n{constructor(t,r,i){this.route=t,this.clientService=r,this.dialog=i,this.filterName="",this.filterNic="",this.filterFlag=!1,this.clients=[],this.page=1,this.total=0,this.skip=[0],this.maxResultCount=2}ngOnInit(){this.getUsers(this.skip[0],this.maxResultCount),this.clientService.getCaisseData().then(t=>{this.total=t.numberClient})}filter(){}Reset(){this.filterFlag=!1,this.filterName="",this.filterNic=""}add(){this.openDialogPart()}goToClients(t){}deleteClients(t){}getUsers(t,r){this.clientService.readUsersPaged(t,r).then(i=>{this.skip[this.page]=parseInt(i.pop()),this.clients=i})}nextStep(){this.page*this.maxResultCount<this.total&&(this.page++,this.getUsers(this.skip[this.page-1],this.maxResultCount))}previousStep(){this.page>1&&(this.page--,this.getUsers(this.skip[this.page-1],this.maxResultCount))}openDialogPart(){this.dialog.open(due,{data:{data:this.clients},height:"50%",width:"50%"}).afterClosed().subscribe(r=>{this.clients.map(i=>{})})}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt),x(xi),x(j4))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-create-client"]],decls:26,vars:4,consts:[[1,"container","px-4","mx-auto"],["class","grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-center","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center mt-6",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-3"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text","placeholder","Saisir le Numero de Bons a Rechercher...",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","Date","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-y-1"],[1,"text-center","w-24","h-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],[1,"flex","justify-between","w-full"],[1,"text-center","w-48","h-8","transition-colors","duration-300","transform","hover:text-blue-600",2,"color","#003566",3,"click"],[1,"addClient","text-center","w-32","h-8","mt-5","text-white","transition-colors","duration-300","transform","rounded-md","focus:outline-none",3,"click"],[1,"px-3","py-4","text-sm","text-center","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","items-center","justify-center","mt-6"],[1,"text-center","cursor-pointer","w-24","px-2","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800",3,"click"],[1,"text-center","w-24","px-2","py-1","text-lg","text-gray-700","capitalize","transition-colors","duration-200","bg-white","rounded-md","gap-x-2","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"]],template:function(r,i){1&r&&(g(0,"section",0),ue(1,hue,14,2,"div",1),ue(2,fue,6,0,"ng-container",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7)(8,"thead",8)(9,"tr")(10,"th",9),v(11," Client N\xb0 "),m(),g(12,"th",10)(13,"div",11)(14,"span"),v(15,"Nom du Client"),m()()(),g(16,"th",12),v(17," Date "),m(),g(18,"th",13),v(19," NIC "),m(),g(20,"th",14)(21,"span",15),v(22,"Edit"),m()()()(),g(23,"tbody",16),ue(24,pue,20,4,"ng-container",17),m()()()()()(),ue(25,gue,9,1,"div",18),m()),2&r&&(I(1),H("ngIf",i.filterFlag),I(1),H("ngIf",!i.filterFlag),I(22),H("ngForOf",i.clients),I(1),H("ngIf",!i.filterFlag))},dependencies:[fi,qi,Xi,So,Rs],styles:[".addClient[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}.addClient[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let _ue=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=dt({type:n});static#n=this.\u0275inj=et({imports:[HN.forRoot(mue),HN]})}return n})(),yue=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-navbar"]],decls:11,vars:0,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-300","hover:text-blue-400"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-300","hover:text-blue-400",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-300","hover:text-blue-400"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),v(4,"Home"),m(),g(5,"a",4),F("click",function(){return i.goToFactures()}),v(6,"Factures"),m(),g(7,"a",4),F("click",function(){return i.goToBons()}),v(8,"Bons"),m(),g(9,"a",5),v(10,"Contact Us"),m()()()())},styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}@media (max-width: 300px){button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}}"]})}return n})(),vue=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-footer"]],decls:0,vars:0,template:function(r,i){}})}return n})();function bue(n,e){if(1&n){const t=Ye();Jt(),Nn(),g(0,"div",13)(1,"a",14),v(2,"Home"),m(),g(3,"a",15),F("click",function(){return X(t),J(N().goToFactures())}),v(4,"Factures"),m(),g(5,"a",15),F("click",function(){return X(t),J(N().goToBons())}),v(6,"Bons"),m(),g(7,"a",16),v(8,"Contact Us"),m()()}}let Eue=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Rt))};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-header-search"]],decls:14,vars:1,consts:[[1,"relative","mx-auto","flex","h-16","max-w-[1200px]","items-center","justify-between","px-5"],["href","index.html"],["src","assets/elite-logo.png","alt","company logo",1,"cursor-pointer","h-16","w-20"],[1,"md:hidden"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],["class","absolute top-12 right-2 z-10 p-6 rounded bg-blue-700 flex flex-col gap-3 ",4,"ngIf"],[1,"hidden","h-9","w-2/5","items-center","border","md:flex","rounded","overflow-hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-3","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","search","placeholder","Search",1,"hidden","w-11/12","outline-none","md:block"],[1,"ml-auto","h-full","bg-amber-400","px-4","hover:bg-yellow-300"],[1,"absolute","top-12","right-2","z-10","p-6","rounded","bg-blue-700","flex","flex-col","gap-3"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"]],template:function(r,i){1&r&&(g(0,"header",0)(1,"a",1),De(2,"img",2),m(),g(3,"div",3)(4,"button",4),F("click",function(){return i.mobile()}),Jt(),g(5,"svg",5),De(6,"path",6),m()(),ue(7,bue,9,0,"div",7),m(),Nn(),g(8,"div",8),Jt(),g(9,"svg",9),De(10,"path",10),m(),Nn(),De(11,"input",11),g(12,"button",12),v(13," Search "),m()()()),2&r&&(I(7),H("ngIf",i.desktopMenuOpen))},dependencies:[qi],styles:["button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})(),wue=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Zt({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"print"]],template:function(r,i){1&r&&De(0,"app-header-search",0)(1,"app-navbar",0)(2,"router-outlet")(3,"app-footer",0)},dependencies:[_E,yue,vue,Eue],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const Cue={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};function $4(n){return new R(3e3,!1)}function sde(){return typeof window<"u"&&typeof window.document<"u"}function bD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function io(n){switch(n.length){case 0:return new dh;case 1:return n[0];default:return new F4(n)}}function H4(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,_)=>{let y=_,b=p;if("offset"!==_)switch(y=e.normalizePropertyName(y,o),b){case yD:b=i.get(_);break;case fs:b=s.get(_);break;default:b=e.normalizeStyleValue(_,y,b,o)}f.set(y,b)}),h||a.push(f),c=f,l=d}),o.length)throw function que(n){return new R(3502,!1)}();return a}function ED(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&wD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&wD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&wD(t,"destroy",n)))}}function wD(n,e,t){const s=ID(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function ID(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function mr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function z4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let CD=(n,e)=>!1,G4=(n,e,t)=>[],W4=null;function TD(n){const e=n.parentNode||n.host;return e===W4?null:e}(bD()||typeof Element<"u")&&(sde()?(W4=(()=>document.documentElement)(),CD=(n,e)=>{for(;e;){if(e===n)return!0;e=TD(e)}return!1}):CD=(n,e)=>n.contains(e),G4=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let da=null,q4=!1;const K4=CD,Q4=G4;let Y4=(()=>{class n{validateStyleProperty(t){return function ade(n){da||(da=function lde(){return typeof document<"u"?document.body:null}()||{},q4=!!da.style&&"WebkitAppearance"in da.style);let e=!0;return da.style&&!function ode(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in da.style,!e&&q4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in da.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return K4(t,r)}getParentElement(t){return TD(t)}query(t,r,i){return Q4(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new dh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),DD=(()=>{class n{}return n.NOOP=new Y4,n})();const cde=1e3,AD="ng-enter",Bm="ng-leave",Um="ng-trigger",jm=".ng-trigger",Z4="ng-animating",SD=".ng-animating";function ps(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xD(parseFloat(e[1]),e[2])}function xD(n,e){return"s"===e?n*cde:n}function $m(n,e,t){return n.hasOwnProperty("duration")?n:function dde(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push($4()),{duration:0,delay:0,easing:""};i=xD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=xD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Tue(){return new R(3100,!1)}()),a=!0),s<0&&(e.push(function Due(){return new R(3101,!1)}()),a=!0),a&&e.splice(l,0,$4())}return{duration:i,delay:s,easing:o}}(n,e,t)}function hh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function J4(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function so(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function t3(n,e,t){return t?e+":"+t+";":""}function n3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=t3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=t3(0,gde(t),n.style[t]));n.setAttribute("style",e)}function Ri(n,e,t){n.style&&(e.forEach((r,i)=>{const s=MD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),bD()&&n3(n))}function ha(n,e){n.style&&(e.forEach((t,r)=>{const i=MD(r);n.style[i]=""}),bD()&&n3(n))}function fh(n){return Array.isArray(n)?1==n.length?n[0]:R4(n):n}const RD=new RegExp("{{\\s*(.+?)\\s*}}","g");function r3(n){let e=[];if("string"==typeof n){let t;for(;t=RD.exec(n);)e.push(t[1]);RD.lastIndex=0}return e}function ph(n,e,t){const r=n.toString(),i=r.replace(RD,(s,o)=>{let a=e[o];return null==a&&(t.push(function Sue(n){return new R(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Hm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pde=/-+([a-z0-9])/g;function MD(n){return n.replace(pde,(...e)=>e[1].toUpperCase())}function gde(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _r(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xue(n){return new R(3004,!1)}()}}function s3(n,e){return window.getComputedStyle(n)[e]}const Wm="*";function Ede(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function wde(n,e,t){if(":"==n[0]){const l=function Ide(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Hue(n){return new R(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function $ue(n){return new R(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(o3(i,o));"<"==s[0]&&!(i==Wm&&o==Wm)&&e.push(o3(o,i))}(r,t,e)):t.push(n),t}const qm=new Set(["true","1"]),Km=new Set(["false","0"]);function o3(n,e){const t=qm.has(n)||Km.has(n),r=qm.has(e)||Km.has(e);return(i,s)=>{let o=n==Wm||n==i,a=e==Wm||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?qm.has(n):Km.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?qm.has(e):Km.has(e)),o&&a}}const Cde=new RegExp("s*:selfs*,?","g");function PD(n,e,t,r){return new Tde(n).build(e,t,r)}class Tde{constructor(e){this._driver=e}build(e,t,r){const i=new Sde(t);return this._resetContextStyleTimingState(i),_r(this,fh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mue(){return new R(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Pue(){return new R(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{r3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Hm(s.values()),t.errors.push(function kue(n,e){return new R(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=_r(this,fh(e.animation),t);return{type:1,matchers:Ede(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>_r(this,r,t)),options:fa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=_r(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:fa(e.options)}}visitAnimate(e,t){const r=function Rde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kD($m(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=$m(t,e);return kD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:yc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=yc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===fs?r.push(a):t.errors.push(new R(3002,!1)):r.push(J4(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function Nue(n,e,t,r,i){return new R(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function fde(n,e,t){const r=e.params||{},i=r3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Aue(n){return new R(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Fue(){return new R(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const C=this._makeStyleAst(b,t);let E=null!=C.offset?C.offset:function xde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),M=0;return null!=E&&(s++,M=C.offset=E),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),C});l&&t.errors.push(function Vue(){return new R(3012,!1)}()),a&&t.errors.push(function Lue(){return new R(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Bue(){return new R(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,y=_.duration;return u.forEach((b,C)=>{const E=h>0?C==f?1:h*C:o[C],M=E*y;t.currentTime=p+_.delay+M,_.duration=M,this._validateStyleAst(b,t),b.offset=E,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:_r(this,fh(e.animation),t),options:fa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Dde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Cde,"")),n=n.replace(/@\*/g,jm).replace(/@\w+/g,t=>jm+"-"+t.slice(1)).replace(/:animating/g,SD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,mr(t.collectedStyles,t.currentQuerySelector,new Map);const a=_r(this,fh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:fa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Uue(){return new R(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$m(e.timings,t.errors,!0);return{type:12,animation:_r(this,fh(e.animation),t),timings:r,options:null}}}class Sde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fa(n){return n?(n=hh(n)).params&&(n.params=function Ade(n){return n?hh(n):null}(n.params)):n={},n}function kD(n,e,t){return{duration:n,delay:e,easing:t}}function OD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Qm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const kde=new RegExp(":enter","g"),Nde=new RegExp(":leave","g");function ND(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new Fde).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class Fde{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Qm;const d=new FD(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?ps(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),_r(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let _=f.length-1;_>=0;_--){const y=f[_];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[OD(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ps(ph(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ps(r.duration):null,a=null!=r.delay?ps(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_r(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ym);const o=ps(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>_r(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ps(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),_r(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $m(t.params?ph(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ps(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ym);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),_r(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;_r(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Ym={};class FD{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ym,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ps(r.duration)),null!=r.delay&&(i.delay=ps(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=ph(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new FD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ym,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Vde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(kde,"."+this._enterClassName)).replace(Nde,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function jue(n){return new R(3014,!1)}()),a}}class Xm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||fs),this._currentKeyframe.set(t,fs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Lde(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,fs)}else so(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=ph(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??fs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=so(a,new Map,this._backFill);c.forEach((u,d)=>{u===yD?e.add(d):u===fs&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Hm(e.values()):[],o=t.size?Hm(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return OD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Vde extends Xm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=so(e[0]);l.set("offset",0),s.push(l);const c=so(e[0]);c.set("offset",c3(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=so(e[d]);const f=h.get("offset");h.set("offset",c3((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return OD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function c3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class VD{}const Bde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ude extends VD{normalizePropertyName(e,t){return MD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Bde.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Rue(n,e){return new R(3005,!1)}())}return o+s}}function u3(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const LD={};class d3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jde(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||LD,p=this.buildStyles(r,a&&a.params||LD,d),_=l&&l.params||LD,y=this.buildStyles(i,_,d),b=new Set,C=new Map,E=new Map,M="void"===i,G={params:$de(_,h),delay:this.ast.options?.delay},K=u?[]:ND(e,t,this.ast.animation,s,o,p,y,G,c,d);let Te=0;if(K.forEach($n=>{Te=Math.max($n.duration+$n.delay,Te)}),d.length)return u3(t,this._triggerName,r,i,M,p,y,[],[],C,E,Te,d);K.forEach($n=>{const nr=$n.element,D3=mr(C,nr,new Set);$n.preStyleProps.forEach(pa=>D3.add(pa));const mh=mr(E,nr,new Set);$n.postStyleProps.forEach(pa=>mh.add(pa)),nr!==t&&b.add(nr)});const gt=Hm(b.values());return u3(t,this._triggerName,r,i,M,p,y,K,gt,C,E,Te)}}function $de(n,e){const t=hh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Hde{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=hh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=ph(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class Gde{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Hde(i.style,i.options&&i.options.params||{},r))}),h3(this.states,"true","1"),h3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new d3(e,i,this.states))}),this.fallbackTransition=function Wde(n,e,t){return new d3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function h3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qde=new Qm;class Kde{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=PD(this._driver,t,r,i);if(r.length)throw function Kue(n){return new R(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=H4(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=ND(this._driver,t,s,AD,Bm,new Map,new Map,r,qde,i),o.forEach(u=>{const d=mr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Que(){return new R(3300,!1)}()),o=[]),i.length)throw function Yue(n){return new R(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,fs))})});const c=io(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Xue(n){return new R(3301,!1)}();return t}listen(e,t,r,i){const s=ID(t,"","","");return ED(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const f3="ng-animate-queued",BD="ng-animate-disabled",Jde=[],p3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ehe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nr="__ng_removed";class UD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ihe(n){return n??null}(r?e.value:e),r){const s=hh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gh="void",jD=new UD(gh);class the{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Zue(n,e){return new R(3302,!1)}();if(null==r||0==r.length)throw function Jue(n){return new R(3303,!1)}();if(!function she(n){return"start"==n||"done"==n}(r))throw function ede(n,e){return new R(3400,!1)}();const s=mr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=mr(this._engine.statesByElement,e,new Map);return a.has(t)||(Fr(e,Um),Fr(e,Um+"-"+t),a.set(t,jD)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function tde(n){return new R(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new $D(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Fr(e,Um),Fr(e,Um+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new UD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=jD),c.value!==gh&&l.value===c.value){if(!function lhe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],y=s.matchStyles(l.value,l.params,_),b=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{ha(e,y),Ri(e,b)})}return}const h=mr(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Fr(e,f3),o.onStart(()=>{vc(e,f3)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const y=this._engine.playersByElement.get(e);if(y){let b=y.indexOf(o);b>=0&&y.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,jm,!0);r.forEach(i=>{if(i[Nr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,gh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||jD,u=new UD(gh),d=new $D(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Nr];(!s||s===p3)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Fr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=ID(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,ED(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nhe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new the(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Zm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Zm(t))return;const s=t[Nr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,BD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vc(e,BD))}removeNode(e,t,r,i){if(Zm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Nr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Zm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,jm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,SD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return io(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Nr];if(t&&t.setForRemoval){if(e[Nr]=p3,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(BD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Fr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?io(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function nde(n){return new R(3402,!1)}()}_flushAnimations(e,t){const r=new Qm,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Q=>{u.add(Q);const re=this.driver.query(Q,".ng-animate-queued",!0);for(let ce=0;ce<re.length;ce++)u.add(re[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=_3(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((Q,re)=>{const ce=AD+_++;p.set(re,ce),Q.forEach(Fe=>Fr(Fe,ce))});const y=[],b=new Set,C=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const re=this.collectedLeaveElements[Q],ce=re[Nr];ce&&ce.setForRemoval&&(y.push(re),b.add(re),ce.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Fe=>b.add(Fe)):C.add(re))}const E=new Map,M=_3(h,Array.from(b));M.forEach((Q,re)=>{const ce=Bm+_++;E.set(re,ce),Q.forEach(Fe=>Fr(Fe,ce))}),e.push(()=>{f.forEach((Q,re)=>{const ce=p.get(re);Q.forEach(Fe=>vc(Fe,ce))}),M.forEach((Q,re)=>{const ce=E.get(re);Q.forEach(Fe=>vc(Fe,ce))}),y.forEach(Q=>{this.processLeaveNode(Q)})});const G=[],K=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(ce=>{const Fe=ce.player,ln=ce.element;if(G.push(Fe),this.collectedEnterElements.length){const Mn=ln[Nr];if(Mn&&Mn.setForMove){if(Mn.previousTriggersValues&&Mn.previousTriggersValues.has(ce.triggerName)){const ga=Mn.previousTriggersValues.get(ce.triggerName),Vr=this.statesByElement.get(ce.element);if(Vr&&Vr.has(ce.triggerName)){const t_=Vr.get(ce.triggerName);t_.value=ga,Vr.set(ce.triggerName,t_)}}return void Fe.destroy()}}const Mi=!d||!this.driver.containsElement(d,ln),yr=E.get(ln),oo=p.get(ln),bt=this._buildInstruction(ce,r,oo,yr,Mi);if(bt.errors&&bt.errors.length)return void K.push(bt);if(Mi)return Fe.onStart(()=>ha(ln,bt.fromStyles)),Fe.onDestroy(()=>Ri(ln,bt.toStyles)),void i.push(Fe);if(ce.isFallbackTransition)return Fe.onStart(()=>ha(ln,bt.fromStyles)),Fe.onDestroy(()=>Ri(ln,bt.toStyles)),void i.push(Fe);const x3=[];bt.timelines.forEach(Mn=>{Mn.stretchStartingKeyframe=!0,this.disabledNodes.has(Mn.element)||x3.push(Mn)}),bt.timelines=x3,r.append(ln,bt.timelines),o.push({instruction:bt,player:Fe,element:ln}),bt.queriedElements.forEach(Mn=>mr(a,Mn,[]).push(Fe)),bt.preStyleProps.forEach((Mn,ga)=>{if(Mn.size){let Vr=l.get(ga);Vr||l.set(ga,Vr=new Set),Mn.forEach((t_,GD)=>Vr.add(GD))}}),bt.postStyleProps.forEach((Mn,ga)=>{let Vr=c.get(ga);Vr||c.set(ga,Vr=new Set),Mn.forEach((t_,GD)=>Vr.add(GD))})});if(K.length){const Q=[];K.forEach(re=>{Q.push(function rde(n,e){return new R(3505,!1)}())}),G.forEach(re=>re.destroy()),this.reportError(Q)}const Te=new Map,gt=new Map;o.forEach(Q=>{const re=Q.element;r.has(re)&&(gt.set(re,re),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,Te))}),i.forEach(Q=>{const re=Q.element;this._getPreviousPlayers(re,!1,Q.namespaceId,Q.triggerName,null).forEach(Fe=>{mr(Te,re,[]).push(Fe),Fe.destroy()})});const $n=y.filter(Q=>v3(Q,l,c)),nr=new Map;m3(nr,this.driver,C,c,fs).forEach(Q=>{v3(Q,l,c)&&$n.push(Q)});const mh=new Map;f.forEach((Q,re)=>{m3(mh,this.driver,new Set(Q),l,yD)}),$n.forEach(Q=>{const re=nr.get(Q),ce=mh.get(Q);nr.set(Q,new Map([...Array.from(re?.entries()??[]),...Array.from(ce?.entries()??[])]))});const pa=[],A3=[],S3={};o.forEach(Q=>{const{element:re,player:ce,instruction:Fe}=Q;if(r.has(re)){if(u.has(re))return ce.onDestroy(()=>Ri(re,Fe.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Fe.totalTime),void i.push(ce);let ln=S3;if(gt.size>1){let yr=re;const oo=[];for(;yr=yr.parentNode;){const bt=gt.get(yr);if(bt){ln=bt;break}oo.push(yr)}oo.forEach(bt=>gt.set(bt,ln))}const Mi=this._buildAnimation(ce.namespaceId,Fe,Te,s,mh,nr);if(ce.setRealPlayer(Mi),ln===S3)pa.push(ce);else{const yr=this.playersByElement.get(ln);yr&&yr.length&&(ce.parentPlayer=io(yr)),i.push(ce)}}else ha(re,Fe.fromStyles),ce.onDestroy(()=>Ri(re,Fe.toStyles)),A3.push(ce),u.has(re)&&i.push(ce)}),A3.forEach(Q=>{const re=s.get(Q.element);if(re&&re.length){const ce=io(re);Q.setRealPlayer(ce)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<y.length;Q++){const re=y[Q],ce=re[Nr];if(vc(re,Bm),ce&&ce.hasAnimation)continue;let Fe=[];if(a.size){let Mi=a.get(re);Mi&&Mi.length&&Fe.push(...Mi);let yr=this.driver.query(re,SD,!0);for(let oo=0;oo<yr.length;oo++){let bt=a.get(yr[oo]);bt&&bt.length&&Fe.push(...bt)}}const ln=Fe.filter(Mi=>!Mi.destroyed);ln.length?ohe(this,re,ln):this.processLeaveNode(re)}return y.length=0,pa.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const re=this.players.indexOf(Q);this.players.splice(re,1)}),Q.play()}),pa}elementContainsData(e,t){let r=!1;const i=t[Nr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==gh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=mr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ha(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const y=_[Nr];if(y&&y.removedBeforeQueried)return new dh(p.duration,p.delay);const b=_!==l,C=function ahe(n){const e=[];return y3(n,e),e}((r.get(_)||Jde).map(Te=>Te.getRealPlayer())).filter(Te=>!!Te.element&&Te.element===_),E=s.get(_),M=o.get(_),G=H4(0,this._normalizer,0,p.keyframes,E,M),K=this._buildPlayer(p,G,C);if(p.subTimeline&&i&&d.add(_),b){const Te=new $D(e,a,_);Te.setRealPlayer(K),c.push(Te)}return K});c.forEach(p=>{mr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function rhe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Fr(p,Z4));const f=io(h);return f.onDestroy(()=>{u.forEach(p=>vc(p,Z4)),Ri(l,t.toStyles)}),d.forEach(p=>{mr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dh(e.duration,e.delay)}}class $D{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ED(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){mr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zm(n){return n&&1===n.nodeType}function g3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function m3(n,e,t,r,i){const s=[];t.forEach(l=>s.push(g3(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Nr]=ehe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>g3(l,s[a++])),o}function _3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?r:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function Fr(n,e){n.classList?.add(e)}function vc(n,e){n.classList?.remove(e)}function ohe(n,e,t){io(t).onDone(()=>n.processLeaveNode(e))}function y3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof F4?y3(r.players,e):e.push(r)}}function v3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Jm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nhe(e,t,r),this._timelineEngine=new Kde(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=PD(this._driver,s,l,c);if(l.length)throw function Wue(n,e){return new R(3404,!1)}();a=function zde(n,e,t){return new Gde(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=z4(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=z4(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uhe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ri(this._element,this._initialStyles),this._endStyles&&(Ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ha(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ha(this._element,this._endStyles),this._endStyles=null),Ri(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function HD(n){let e=null;return n.forEach((t,r)=>{(function dhe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class b3{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:s3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hhe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return K4(e,t)}getParentElement(e){return TD(e)}query(e,t,r){return Q4(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof b3);(function mde(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,_)=>c.set(_,p))});let d=function hde(n){return n.length?n[0]instanceof Map?n:n.map(e=>J4(e)):[]}(t).map(f=>so(f));d=function _de(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,s3(n,a)))}}return e}(e,d,c);const h=function che(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=HD(e[0]),e.length>1&&(r=HD(e[e.length-1]))):e instanceof Map&&(t=HD(e)),t||r?new uhe(n,t,r):null}(e,d);return new b3(e,d,l,h)}}let fhe=(()=>{class n extends A4{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Lr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?R4(t):t;return E3(this._renderer,null,r,"register",[i]),new phe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(S(zc),S(Ie))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class phe extends Xce{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ghe(this._id,e,t||{},this._renderer)}}class ghe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return E3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function E3(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const w3="@.disabled";let mhe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new I3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new _he(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(S(zc),S(Jm),S(xe))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class I3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==w3?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _he extends I3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==w3?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yhe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vhe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let bhe=(()=>{class n extends Jm{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(S(Ie),S(DD),S(VD),S(il))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const C3=[{provide:A4,useClass:fhe},{provide:VD,useFactory:function Ehe(){return new Ude}},{provide:Jm,useClass:bhe},{provide:zc,useFactory:function whe(n,e,t){return new mhe(n,e,t)},deps:[Zf,Jm,xe]}],zD=[{provide:DD,useFactory:()=>new hhe},{provide:Mv,useValue:"BrowserAnimations"},...C3],T3=[{provide:DD,useClass:Y4},{provide:Mv,useValue:"NoopAnimations"},...C3];let Ihe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?T3:zD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=et({providers:zD,imports:[zP]}),n})(),Che=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=dt({type:n,bootstrap:[wue]});static#n=this.\u0275inj=et({providers:[fu],imports:[zP,Ihe,_ue,qK,jK,KK,cue,YQ,See(()=>xee(Cue)),mle(()=>_le())]})}return n})();l7().bootstrapModule(Che).catch(n=>console.error(n))}},Ne=>{Ne(Ne.s=92)}]);