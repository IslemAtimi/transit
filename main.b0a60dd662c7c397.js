"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{320:()=>{function ke(n){return"function"==typeof n}function Tu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ld=Tu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Is(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(o){e=o instanceof ld?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{T0(o)}catch(s){e=e??[],s instanceof ld?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ld(e)}}add(e){var t;if(e&&e!==this)if(this.closed)T0(e);else{if(e instanceof Rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Is(t,e)}remove(e){const{_finalizers:t}=this;t&&Is(t,e),e instanceof Rn&&e._removeParent(this)}}Rn.EMPTY=(()=>{const n=new Rn;return n.closed=!0,n})();const b0=Rn.EMPTY;function w0(n){return n instanceof Rn||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function T0(n){ke(n)?n():n.unsubscribe()}const Io={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dd={setTimeout(n,e,...t){const{delegate:r}=dd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=dd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function C0(n){dd.setTimeout(()=>{const{onUnhandledError:e}=Io;if(!e)throw n;e(n)})}function D0(){}const W2=Sg("C",void 0,void 0);function Sg(n,e,t){return{kind:n,value:e,error:t}}let bo=null;function hd(n){if(Io.useDeprecatedSynchronousErrorHandling){const e=!bo;if(e&&(bo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=bo;if(bo=null,t)throw r}}else n()}class Rg extends Rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w0(e)&&e.add(this)):this.destination=Z2}static create(e,t,r){return new Cu(e,t,r)}next(e){this.isStopped?Mg(function K2(n){return Sg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mg(function q2(n){return Sg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mg(W2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y2=Function.prototype.bind;function xg(n,e){return Y2.call(n,e)}class X2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fd(r)}else fd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fd(t)}}}class Cu extends Rg{constructor(e,t,r){let i;if(super(),ke(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Io.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xg(e.next,o),error:e.error&&xg(e.error,o),complete:e.complete&&xg(e.complete,o)}):i=e}this.destination=new X2(i)}}function fd(n){Io.useDeprecatedSynchronousErrorHandling?function Q2(n){Io.useDeprecatedSynchronousErrorHandling&&bo&&(bo.errorThrown=!0,bo.error=n)}(n):C0(n)}function Mg(n,e){const{onStoppedNotification:t}=Io;t&&dd.setTimeout(()=>t(n,e))}const Z2={closed:!0,next:D0,error:function J2(n){throw n},complete:D0},Pg="function"==typeof Symbol&&Symbol.observable||"@@observable";function wo(n){return n}function A0(n){return 0===n.length?wo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function nU(n){return n&&n instanceof Rg||function tU(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&w0(n)}(t)?t:new Cu(t,r,i);return hd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=S0(r))((i,o)=>{const s=new Cu({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Pg](){return this}pipe(...t){return A0(t)(this)}toPromise(t){return new(t=S0(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function S0(n){var e;return null!==(e=n??Io.Promise)&&void 0!==e?e:Promise}const rU=Tu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zr=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new R0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rU}next(t){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?b0:(this.currentObservers=null,o.push(t),new Rn(()=>{this.currentObservers=null,Is(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Xe;return t.source=this,t}}return n.create=(e,t)=>new R0(e,t),n})();class R0 extends Zr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:b0}}function x0(n){return ke(n?.lift)}function Mt(n){return e=>{if(x0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(n,e,t,r,i){return new iU(n,e,t,r,i)}class iU extends Rg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ne(n,e){return Mt((t,r)=>{let i=0;t.subscribe(Tt(r,o=>{r.next(n.call(e,o,i++))}))})}function Og(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ki(n){return this instanceof ki?(this.v=n,this):new ki(n)}function N0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Vg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const O0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function F0(n){return ke(n?.then)}function V0(n){return ke(n[Pg])}function L0(n){return Symbol.asyncIterator&&ke(n?.[Symbol.asyncIterator])}function U0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const B0=function CU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function j0(n){return ke(n?.[B0])}function $0(n){return function k0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ki?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ki(t.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{t.releaseLock()}})}function H0(n){return ke(n?.getReader)}function ar(n){if(n instanceof Xe)return n;if(null!=n){if(V0(n))return function DU(n){return new Xe(e=>{const t=n[Pg]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(O0(n))return function AU(n){return new Xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(F0(n))return function SU(n){return new Xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,C0)})}(n);if(L0(n))return G0(n);if(j0(n))return function RU(n){return new Xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(H0(n))return function xU(n){return G0($0(n))}(n)}throw U0(n)}function G0(n){return new Xe(e=>{(function MU(n,e){var t,r,i,o;return function M0(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=N0(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ei(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lt(n,e,t=1/0){return ke(e)?Lt((r,i)=>ne((o,s)=>e(r,o,i,s))(ar(n(r,i))),t):("number"==typeof e&&(t=e),Mt((r,i)=>function PU(n,e,t,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;ar(t(g,l++)).subscribe(Tt(e,I=>{i?.(I),o?f(I):e.next(I)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const I=u.shift();s?ei(e,s,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(Tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function bs(n=1/0){return Lt(wo,n)}const Tr=new Xe(n=>n.complete());function Lg(n){return n[n.length-1]}function z0(n){return ke(Lg(n))?n.pop():void 0}function Du(n){return function NU(n){return n&&ke(n.schedule)}(Lg(n))?n.pop():void 0}function pd(n,e=0){return Mt((t,r)=>{t.subscribe(Tt(r,i=>ei(r,n,()=>r.next(i),e),()=>ei(r,n,()=>r.complete(),e),i=>ei(r,n,()=>r.error(i),e)))})}function gd(n,e=0){return Mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function W0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xe(t=>{ei(t,e,()=>{const r=n[Symbol.asyncIterator]();ei(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ut(n,e){return e?function jU(n,e){if(null!=n){if(V0(n))return function FU(n,e){return ar(n).pipe(gd(e),pd(e))}(n,e);if(O0(n))return function LU(n,e){return new Xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(F0(n))return function VU(n,e){return ar(n).pipe(gd(e),pd(e))}(n,e);if(L0(n))return W0(n,e);if(j0(n))return function UU(n,e){return new Xe(t=>{let r;return ei(t,e,()=>{r=n[B0](),ei(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(n,e);if(H0(n))return function BU(n,e){return W0($0(n),e)}(n,e)}throw U0(n)}(n,e):ar(n)}function Ug(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Cu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function Bg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function jg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const HU=Pe({__forward_ref__:Pe});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return Ne(this())},n}function Q(n){return $g(n)?n():n}function $g(n){return"function"==typeof n&&n.hasOwnProperty(HU)&&n.__forward_ref__===Oe}function Hg(n){return n&&!!n.\u0275providers}const md="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(_d(e,t)),this.code=e}}function _d(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function yd(n,e){throw new P(-201,!1)}function Wn(n,e){null==n&&function Ce(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function vd(n){return K0(n,Ed)||K0(n,Y0)}function K0(n,e){return n.hasOwnProperty(e)?n[e]:null}function Q0(n){return n&&(n.hasOwnProperty(Gg)||n.hasOwnProperty(XU))?n[Gg]:null}const Ed=Pe({\u0275prov:Pe}),Gg=Pe({\u0275inj:Pe}),Y0=Pe({ngInjectableDef:Pe}),XU=Pe({ngInjectorDef:Pe});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let zg;function qn(n){const e=zg;return zg=n,e}function X0(n,e,t){const r=vd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void yd(Ne(n))}const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Au={},Wg="__NG_DI_FLAG__",Id="ngTempTokenPath",ZU="ngTokenPath",eB=/\n/gm,tB="\u0275",J0="__source";let Su;function ws(n){const e=Su;return Su=n,e}function nB(n,e=Y.Default){if(void 0===Su)throw new P(-203,!1);return null===Su?X0(n,void 0,e):Su.get(n,e&Y.Optional?null:void 0,e)}function L(n,e=Y.Default){return(function JU(){return zg}()||nB)(Q(n),e)}function ae(n,e=Y.Default){return L(n,bd(e))}function bd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qg(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){const a=r[s],u=rB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function Ru(n,e){return n[Wg]=e,n.prototype[Wg]=e,n}function rB(n){return n[Wg]}function ti(n){return{toString:n}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Dr=(()=>{return(n=Dr||(Dr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dr;var n})();const ni={},be=[],wd=Pe({\u0275cmp:Pe}),Kg=Pe({\u0275dir:Pe}),Qg=Pe({\u0275pipe:Pe}),eC=Pe({\u0275mod:Pe}),ri=Pe({\u0275fac:Pe}),xu=Pe({__NG_ELEMENT_ID__:Pe});let sB=0;function ur(n){return ti(()=>{const e=nC(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,id:"c"+sB++,styles:n.styles||be,_:null,schemas:n.schemas||null,tView:null};rC(t);const r=n.dependencies;return t.directiveDefs=Td(r,!1),t.pipeDefs=Td(r,!0),t})}function uB(n){return De(n)||Yt(n)}function cB(n){return null!==n}function Pt(n){return ti(()=>({type:n.type,bootstrap:n.bootstrap||be,declarations:n.declarations||be,imports:n.imports||be,exports:n.exports||be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tC(n,e){if(null==n)return ni;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ee(n){return ti(()=>{const e=nC(n);return rC(e),e})}function De(n){return n[wd]||null}function Yt(n){return n[Kg]||null}function En(n){return n[Qg]||null}function Mn(n,e){const t=n[eC]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function nC(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tC(n.inputs,e),outputs:tC(n.outputs)}}function rC(n){n.features?.forEach(e=>e(n))}function Td(n,e){if(!n)return null;const t=e?En:uB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(cB)}const ii=0,B=1,le=2,rt=3,cr=4,To=5,Xt=6,Cs=7,ct=8,Cd=9,Dd=10,he=11,Yg=12,Mu=13,iC=14,Ds=15,Jt=16,Pu=17,As=18,Ar=19,ku=20,oC=21,$e=22,Xg=1,sC=2,Ad=7,Sd=8,Ss=9,cn=10;function Pn(n){return Array.isArray(n)&&"object"==typeof n[Xg]}function lr(n){return Array.isArray(n)&&!0===n[Xg]}function Jg(n){return 0!=(4&n.flags)}function Nu(n){return n.componentOffset>-1}function Rd(n){return 1==(1&n.flags)}function dr(n){return!!n.template}function dB(n){return 0!=(256&n[le])}function Co(n,e){return n.hasOwnProperty(ri)?n[ri]:null}class pB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kn(){return cC}function cC(n){return n.type.prototype.ngOnChanges&&(n.setInput=mB),gB}function gB(){const n=dC(this),e=n?.current;if(e){const t=n.previous;if(t===ni)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function mB(n,e,t,r){const i=this.declaredInputs[t],o=dC(n)||function _B(n,e){return n[lC]=e}(n,{previous:ni,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new pB(u&&u.currentValue,e,a===ni),n[r]=e}Kn.ngInherit=!0;const lC="__ngSimpleChanges__";function dC(n){return n[lC]||null}const Qn=function(n,e,t){},hC="svg";function Ut(n){for(;Array.isArray(n);)n=n[ii];return n}function xd(n,e){return Ut(e[n])}function kn(n,e){return Ut(e[n.index])}function pC(n,e){return n.data[e]}function In(n,e){const t=e[n];return Pn(t)?t:t[ii]}function Md(n){return 64==(64&n[le])}function Oi(n,e){return null==e?null:n[e]}function gC(n){n[As]=0}function em(n,e){n[To]+=e;let t=n,r=n[rt];for(;null!==r&&(1===e&&1===t[To]||-1===e&&0===t[To]);)r[To]+=e,t=r,r=r[rt]}const oe={lFrame:CC(null),bindingsEnabled:!0};function _C(){return oe.bindingsEnabled}function D(){return oe.lFrame.lView}function ye(){return oe.lFrame.tView}function Bt(n){return oe.lFrame.contextLView=n,n[ct]}function jt(n){return oe.lFrame.contextLView=null,n}function $t(){let n=yC();for(;null!==n&&64===n.type;)n=n.parent;return n}function yC(){return oe.lFrame.currentTNode}function Sr(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function tm(){return oe.lFrame.isParent}function nm(){oe.lFrame.isParent=!1}function xs(){return oe.lFrame.bindingIndex++}function si(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function xB(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,rm(e)}function rm(n){oe.lFrame.currentDirectiveIndex=n}function om(n){oe.lFrame.currentQueryIndex=n}function PB(n){const e=n[B];return 2===e.type?e.declTNode:1===e.type?n[Xt]:null}function wC(n,e,t){if(t&Y.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=PB(o),null===i||(o=o[Ds],10&i.type))););if(null===i)return!1;e=i,n=o}const r=oe.lFrame=TC();return r.currentTNode=e,r.lView=n,!0}function sm(n){const e=TC(),t=n[B];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function TC(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?CC(n):e}function CC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function DC(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const AC=DC;function am(){const n=DC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dn(){return oe.lFrame.selectedIndex}function Do(n){oe.lFrame.selectedIndex=n}function Je(){const n=oe.lFrame;return pC(n.tView,n.selectedIndex)}function Nn(){oe.lFrame.currentNamespace=hC}function hr(){!function FB(){oe.lFrame.currentNamespace=null}()}function Pd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function kd(n,e,t){SC(n,e,3,t)}function Nd(n,e,t,r){(3&n[le])===t&&SC(n,e,t,r)}function um(n,e){let t=n[le];(3&t)===e&&(t&=2047,t+=1,n[le]=t)}function SC(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[As]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[As]+=65536),(a<o||-1==o)&&(UB(n,t,e,u),n[As]=(4294901760&n[As])+u+2),u++}function UB(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[le]>>11<n[As]>>16&&(3&n[le])===e){n[le]+=2048,Qn(4,a,o);try{o.call(a)}finally{Qn(5,a,o)}}}else{Qn(4,a,o);try{o.call(a)}finally{Qn(5,a,o)}}}const Ms=-1;class Fu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function lm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];xC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function RC(n){return 3===n||4===n||6===n}function xC(n){return 64===n.charCodeAt(0)}function Vu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||MC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function MC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function PC(n){return n!==Ms}function Od(n){return 32767&n}function Fd(n,e){let t=function HB(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ds],t--;return r}let dm=!0;function Vd(n){const e=dm;return dm=n,e}const kC=255,NC=5;let GB=0;const Rr={};function Ld(n,e){const t=OC(n,e);if(-1!==t)return t;const r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,hm(r.data,n),hm(e,null),hm(r.blueprint,null));const i=fm(n,e),o=n.injectorIndex;if(PC(i)){const s=Od(i),a=Fd(i,e),u=a[B].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function hm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function OC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function fm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=$C(i),null===r)return Ms;if(t++,i=i[Ds],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ms}function pm(n,e,t){!function zB(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xu)&&(r=t[xu]),null==r&&(r=t[xu]=GB++);const i=r&kC;e.data[n+(i>>NC)]|=1<<i}(n,e,t)}function FC(n,e,t){if(t&Y.Optional||void 0!==n)return n;yd()}function VC(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),!(t&(Y.Self|Y.Host))){const i=n[Cd],o=qn(void 0);try{return i?i.get(e,r,t&Y.Optional):X0(e,r,t&Y.Optional)}finally{qn(o)}}return FC(r,0,t)}function LC(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[le]){const s=function YB(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[le]&&!(256&s[le]);){const a=UC(o,s,t,r|Y.Self,Rr);if(a!==Rr)return a;let u=o.parent;if(!u){const c=s[oC];if(c){const l=c.get(t,Rr,r);if(l!==Rr)return l}u=$C(s),s=s[Ds]}o=u}return i}(n,e,t,r,Rr);if(s!==Rr)return s}const o=UC(n,e,t,r,Rr);if(o!==Rr)return o}return VC(e,t,r,i)}function UC(n,e,t,r,i){const o=function KB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xu)?n[xu]:void 0;return"number"==typeof e?e>=0?e&kC:QB:e}(t);if("function"==typeof o){if(!wC(e,n,r))return r&Y.Host?FC(i,0,r):VC(e,t,r,i);try{const s=o(r);if(null!=s||r&Y.Optional)return s;yd()}finally{AC()}}else if("number"==typeof o){let s=null,a=OC(n,e),u=Ms,c=r&Y.Host?e[Jt][Xt]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?fm(n,e):e[a+8],u!==Ms&&jC(r,!1)?(s=e[B],a=Od(u),e=Fd(u,e)):a=-1);-1!==a;){const l=e[B];if(BC(o,a,l.data)){const d=qB(a,e,t,s,r,c);if(d!==Rr)return d}u=e[a+8],u!==Ms&&jC(r,e[B].data[a+8]===c)&&BC(o,a,e)?(s=l,a=Od(u),e=Fd(u,e)):a=-1}}return i}function qB(n,e,t,r,i,o){const s=e[B],a=s.data[n+8],l=function Ud(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,l=o>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=s[u];if(f&&dr(f)&&f.type===t)return u}return null}(a,s,t,null==r?Nu(a)&&dm:r!=s&&0!=(3&a.type),i&Y.Host&&o===a);return null!==l?Ao(e,s,l,a):Rr}function Ao(n,e,t,r){let i=n[t];const o=e.data;if(function BB(n){return n instanceof Fu}(i)){const s=i;s.resolving&&function GU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(o[t]));const a=Vd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?qn(s.injectImpl):null;wC(n,r,Y.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function LB(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=cC(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&qn(u),Vd(a),s.resolving=!1,AC()}}return i}function BC(n,e,t){return!!(t[e+(n>>NC)]&1<<n)}function jC(n,e){return!(n&Y.Self||n&Y.Host&&e)}class Ps{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LC(this._tNode,this._lView,e,bd(r),t)}}function QB(){return new Ps($t(),D())}function Ht(n){return ti(()=>{const e=n.prototype.constructor,t=e[ri]||gm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ri]||gm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gm(n){return $g(n)?()=>{const e=gm(Q(n));return e&&e()}:Co(n)}function $C(n){const e=n[B],t=e.type;return 2===t?e.declTNode:1===t?n[Xt]:null}const Ns="__parameters__";function Fs(n,e,t){return ti(()=>{const r=function mm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Ns)?u[Ns]:Object.defineProperty(u,Ns,{value:[]})[Ns];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class F{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function So(n,e){n.forEach(t=>Array.isArray(t)?So(t,e):e(t))}function GC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function On(n,e,t){let r=Vs(n,e);return r>=0?n[1|r]=t:(r=~r,function ej(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ym(n,e){const t=Vs(n,e);if(t>=0)return n[1|t]}function Vs(n,e){return function zC(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Zt=Ru(Fs("Optional"),8),Ls=Ru(Fs("SkipSelf"),4);var bn=(()=>((bn=bn||{})[bn.Important=1]="Important",bn[bn.DashCase=2]="DashCase",bn))();const Tm=new Map;let bj=0;const Dm="__ngContext__";function en(n,e){Pn(e)?(n[Dm]=e[ku],function Tj(n){Tm.set(n[ku],n)}(e)):n[Dm]=e}let Am;function Sm(n,e){return Am(n,e)}function Gu(n){const e=n[rt];return lr(e)?e[rt]:e}function Rm(n){return dD(n[Mu])}function xm(n){return dD(n[cr])}function dD(n){for(;null!==n&&!lr(n);)n=n[cr];return n}function Bs(n,e,t,r,i){if(null!=r){let o,s=!1;lr(r)?o=r:Pn(r)&&(s=!0,r=r[ii]);const a=Ut(r);0===n&&null!==t?null==i?_D(e,t,a):Ro(e,t,a,i||null,!0):1===n&&null!==t?Ro(e,t,a,i||null,!0):2===n?function Vm(n,e,t){const r=zd(n,e);r&&function Gj(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function qj(n,e,t,r,i){const o=t[Ad];o!==Ut(t)&&Bs(e,n,r,o,i);for(let a=cn;a<t.length;a++){const u=t[a];zu(u[B],u,n,e,r,o)}}(e,n,o,t,i)}}function Pm(n,e,t){return n.createElement(e,t)}function fD(n,e){const t=n[Ss],r=t.indexOf(e),i=e[rt];512&e[le]&&(e[le]&=-513,em(i,-1)),t.splice(r,1)}function km(n,e){if(n.length<=cn)return;const t=cn+e,r=n[t];if(r){const i=r[Pu];null!==i&&i!==n&&fD(i,r),e>0&&(n[t-1][cr]=r[cr]);const o=jd(n,cn+e);!function Fj(n,e){zu(n,e,e[he],2,null,null),e[ii]=null,e[Xt]=null}(r[B],r);const s=o[Ar];null!==s&&s.detachView(o[B]),r[rt]=null,r[cr]=null,r[le]&=-65}return r}function pD(n,e){if(!(128&e[le])){const t=e[he];t.destroyNode&&zu(n,e,t,3,null,null),function Uj(n){let e=n[Mu];if(!e)return Nm(n[B],n);for(;e;){let t=null;if(Pn(e))t=e[Mu];else{const r=e[cn];r&&(t=r)}if(!t){for(;e&&!e[cr]&&e!==n;)Pn(e)&&Nm(e[B],e),e=e[rt];null===e&&(e=n),Pn(e)&&Nm(e[B],e),t=e&&e[cr]}e=t}}(e)}}function Nm(n,e){if(!(128&e[le])){e[le]&=-65,e[le]|=128,function Hj(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Fu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Qn(4,a,u);try{u.call(a)}finally{Qn(5,a,u)}}else{Qn(4,i,o);try{o.call(i)}finally{Qn(5,i,o)}}}}}(n,e),function $j(n,e){const t=n.cleanup,r=e[Cs];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[Cs]=null}}(n,e),1===e[B].type&&e[he].destroy();const t=e[Pu];if(null!==t&&lr(e[rt])){t!==e[rt]&&fD(t,e);const r=e[Ar];null!==r&&r.detachView(n)}!function Cj(n){Tm.delete(n[ku])}(e)}}function gD(n,e,t){return function mD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ii];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return kn(r,t)}}(n,e.parent,t)}function Ro(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _D(n,e,t){n.appendChild(e,t)}function yD(n,e,t,r,i){null!==r?Ro(n,e,t,r,i):_D(n,e,t)}function zd(n,e){return n.parentNode(e)}let Om,Bm,Qd,ID=function ED(n,e,t){return 40&n.type?kn(n,t):null};function Wd(n,e,t,r){const i=gD(n,r,e),o=e[he],a=function vD(n,e,t){return ID(n,e,t)}(r.parent||e[Xt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)yD(o,i,t[u],a,!1);else yD(o,i,t,a,!1);void 0!==Om&&Om(o,r,e,t,i)}function qd(n,e){if(null!==e){const t=e.type;if(3&t)return kn(e,n);if(4&t)return Fm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return qd(n,r);{const i=n[e.index];return lr(i)?Fm(-1,i):Ut(i)}}if(32&t)return Sm(e,n)()||Ut(n[e.index]);{const r=wD(n,e);return null!==r?Array.isArray(r)?r[0]:qd(Gu(n[Jt]),r):qd(n,e.next)}}return null}function wD(n,e){return null!==e?n[Jt][Xt].projection[e.projection]:null}function Fm(n,e){const t=cn+n+1;if(t<e.length){const r=e[t],i=r[B].firstChild;if(null!==i)return qd(r,i)}return e[Ad]}function Lm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&en(Ut(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Lm(n,e,t.child,r,i,o,!1),Bs(e,n,i,a,o);else if(32&u){const c=Sm(t,r);let l;for(;l=c();)Bs(e,n,i,l,o);Bs(e,n,i,a,o)}else 16&u?TD(n,e,r,t,i,o):Bs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function zu(n,e,t,r,i,o){Lm(t,r,n.firstChild,e,i,o,!1)}function TD(n,e,t,r,i,o){const s=t[Jt],u=s[Xt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Bs(e,n,i,u[c],o);else Lm(n,e,u,s[rt],i,o,!0)}function CD(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function DD(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&lm(n,e,r),null!==i&&CD(n,e,i),null!==o&&function Qj(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function xD(n){return function jm(){if(void 0===Qd&&(Qd=null,je.trustedTypes))try{Qd=je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qd}()?.createScriptURL(n)||n}class xo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${md})`}}function Fn(n){return n instanceof xo?n.changingThisBreaksApplicationSecurity:n}function xr(n,e){const t=function o$(n){return n instanceof xo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${md})`)}return t===e}const p$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var we=(()=>((we=we||{})[we.NONE=0]="NONE",we[we.HTML=1]="HTML",we[we.STYLE=2]="STYLE",we[we.SCRIPT=3]="SCRIPT",we[we.URL=4]="URL",we[we.RESOURCE_URL=5]="RESOURCE_URL",we))();function LD(n){const e=qu();return e?e.sanitize(we.URL,n)||"":xr(n,"URL")?Fn(n):function Yd(n){return(n=String(n)).match(p$)?n:"unsafe:"+n}(ie(n))}function UD(n){const e=qu();if(e)return xD(e.sanitize(we.RESOURCE_URL,n)||"");if(xr(n,"ResourceURL"))return xD(Fn(n));throw new P(904,!1)}function qu(){const n=D();return n&&n[Yg]}const Jd=new F("ENVIRONMENT_INITIALIZER"),jD=new F("INJECTOR",-1),$D=new F("INJECTOR_DEF_TYPES");class HD{get(e,t=Au){if(t===Au){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}function A$(...n){return{\u0275providers:GD(0,n),\u0275fromNgModule:!0}}function GD(n,...e){const t=[],r=new Set;let i;return So(e,o=>{const s=o;zm(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&zD(i,t),t}function zD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Wm(i,o=>{e.push(o)})}}function zm(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,o=Q0(n);const s=!o&&De(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Q0(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)zm(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{So(o.imports,l=>{zm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&zD(c,e)}if(!a){const c=Co(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:be},{provide:$D,useValue:i,multi:!0},{provide:Jd,useValue:()=>L(i),multi:!0})}const u=o.providers;null==u||a||Wm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Wm(n,e){for(let t of n)Hg(t)&&(t=t.\u0275providers),Array.isArray(t)?Wm(t,e):e(t)}const S$=Pe({provide:String,useValue:Pe});function qm(n){return null!==n&&"object"==typeof n&&S$ in n}function Mo(n){return"function"==typeof n}const Km=new F("Set Injector scope."),Zd={},x$={};let Qm;function eh(){return void 0===Qm&&(Qm=new HD),Qm}class Mr{}class KD extends Mr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xm(e,s=>this.processProvider(s)),this.records.set(jD,$s(void 0,this)),i.has("environment")&&this.records.set(Mr,$s(void 0,this));const o=this.records.get(Km);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($D.multi,be,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ws(this),r=qn(void 0);try{return e()}finally{ws(t),qn(r)}}get(e,t=Au,r=Y.Default){this.assertNotDestroyed(),r=bd(r);const i=ws(this),o=qn(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function O$(n){return"function"==typeof n||"object"==typeof n&&n instanceof F}(e)&&vd(e);a=u&&this.injectableDefInScope(u)?$s(Ym(e),Zd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?eh():this.parent).get(e,t=r&Y.Optional&&t===Au?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Id]=s[Id]||[]).unshift(Ne(e)),i)throw s;return function iB(n,e,t,r){const i=n[Id];throw e[J0]&&i.unshift(e[J0]),n.message=function oB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tB?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(eB,"\n  ")}`}("\n"+n.message,i,t,r),n[ZU]=i,n[Id]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{qn(o),ws(i)}}resolveInjectorInitializers(){const e=ws(this),t=qn(void 0);try{const r=this.get(Jd.multi,be,Y.Self);for(const i of r)i()}finally{ws(e),qn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=Mo(e=Q(e))?e:Q(e&&e.provide);const r=function P$(n){return qm(n)?$s(void 0,n.useValue):$s(QD(n),Zd)}(e);if(Mo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=$s(void 0,Zd,!0),i.factory=()=>qg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Zd&&(t.value=x$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function N$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ym(n){const e=vd(n),t=null!==e?e.factory:Co(n);if(null!==t)return t;if(n instanceof F)throw new P(204,!1);if(n instanceof Function)return function M$(n){const e=n.length;if(e>0)throw function Bu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new P(204,!1);const t=function YU(n){return n&&(n[Ed]||n[Y0])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function QD(n,e,t){let r;if(Mo(n)){const i=Q(n);return Co(i)||Ym(i)}if(qm(n))r=()=>Q(n.useValue);else if(function qD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...qg(n.deps||[]));else if(function WD(n){return!(!n||!n.useExisting)}(n))r=()=>L(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function k$(n){return!!n.deps}(n))return Co(i)||Ym(i);r=()=>new i(...qg(n.deps))}return r}function $s(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Xm(n,e){for(const t of n)Array.isArray(t)?Xm(t,e):t&&Hg(t)?Xm(t.\u0275providers,e):e(t)}class F${}class YD{}class L${resolveComponentFactory(e){throw function V$(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ku=(()=>{class n{}return n.NULL=new L$,n})();function U$(){return Hs($t(),D())}function Hs(n,e){return new Vn(kn(n,e))}let Vn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=U$,n})();class JD{}let ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function j$(){const n=D(),t=In($t().index,n);return(Pn(t)?t:n)[he]}(),n})(),$$=(()=>{class n{}return n.\u0275prov=G({token:n,providedIn:"root",factory:()=>null}),n})();class Fi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ZD=new Fi("15.2.10"),Jm={},Zm="ngOriginalError";function e_(n){return n[Zm]}class Vi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&e_(e);for(;t&&e_(t);)t=e_(t);return t||null}}function ci(n){return n instanceof Function?n():n}function tA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const nA="ng-template";function Z$(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==tA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function rA(n){return 4===n.type&&n.value!==nA}function e4(n,e,t){return e===(4!==n.type||t?n.value:nA)}function t4(n,e,t){let r=4;const i=n.attrs||[],o=function i4(n){for(let e=0;e<n.length;e++)if(RC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!e4(n,u,t)||""===u&&1===e.length){if(fr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Z$(n.attrs,c,t)){if(fr(r))return!1;s=!0}continue}const d=n4(8&r?"class":u,i,rA(n),t);if(-1===d){if(fr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==tA(f,c,0)||2&r&&c!==h){if(fr(r))return!1;s=!0}}}}else{if(!s&&!fr(r)&&!fr(u))return!1;if(s&&fr(u))continue;s=!1,r=u|1&r}}return fr(r)||s}function fr(n){return 0==(1&n)}function n4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function o4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function iA(n,e,t=!1){for(let r=0;r<e.length;r++)if(t4(n,e[r],t))return!0;return!1}function oA(n,e){return n?":not("+e.trim()+")":e}function a4(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fr(s)&&(e+=oA(o,i),i=""),r=s,o=o||!fr(r);t++}return""!==i&&(e+=oA(o,i)),e}const se={};function X(n){sA(ye(),D(),dn()+n,!1)}function sA(n,e,t,r){if(!r)if(3==(3&e[le])){const o=n.preOrderCheckHooks;null!==o&&kd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Nd(e,o,0,t)}Do(t)}function lA(n,e=null,t=null,r){const i=dA(n,e,t,r);return i.resolveInjectorInitializers(),i}function dA(n,e=null,t=null,r,i=new Set){const o=[t||be,A$(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new KD(o,e||eh(),r||null,i)}let Ln=(()=>{class n{static create(t,r){if(Array.isArray(t))return lA({name:""},r,t,"");{const i=t.name??"";return lA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Au,n.NULL=new HD,n.\u0275prov=G({token:n,providedIn:"any",factory:()=>L(jD)}),n.__NG_ELEMENT_ID__=-1,n})();function x(n,e=Y.Default){const t=D();return null===t?L(n,e):LC($t(),t,Q(n),e)}function vA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];om(t[r]),s.contentQueries(2,e[o],o)}}}function nh(n,e,t,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[ii]=i,d[le]=76|r,(null!==l||n&&1024&n[le])&&(d[le]|=1024),gC(d),d[rt]=d[Ds]=n,d[ct]=t,d[Dd]=s||n&&n[Dd],d[he]=a||n&&n[he],d[Yg]=u||n&&n[Yg]||null,d[Cd]=c||n&&n[Cd]||null,d[Xt]=o,d[ku]=function wj(){return bj++}(),d[oC]=l,d[Jt]=2==e.type?n[Jt]:d,d}function Ws(n,e,t,r,i){let o=n.data[e];if(null===o)o=function o_(n,e,t,r,i){const o=yC(),s=tm(),u=n.data[e]=function k4(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function RB(){return oe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ou(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Sr(o,!0),o}function Qu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function s_(n,e,t){sm(e);try{const r=n.viewQuery;null!==r&&g_(1,r,t);const i=n.template;null!==i&&EA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vA(n,e),n.staticViewQueries&&g_(2,n.viewQuery,t);const o=n.components;null!==o&&function x4(n,e){for(let t=0;t<e.length;t++)Z4(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,am()}}function rh(n,e,t,r){const i=e[le];if(128!=(128&i)){sm(e);try{gC(e),function EC(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&EA(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&kd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Nd(e,c,0,null),um(e,0)}if(function X4(n){for(let e=Rm(n);null!==e;e=xm(e)){if(!e[sC])continue;const t=e[Ss];for(let r=0;r<t.length;r++){const i=t[r];512&i[le]||em(i[rt],1),i[le]|=512}}}(e),function Y4(n){for(let e=Rm(n);null!==e;e=xm(e))for(let t=cn;t<e.length;t++){const r=e[t],i=r[B];Md(r)&&rh(i,r,i.template,r[ct])}}(e),null!==n.contentQueries&&vA(n,e),s){const c=n.contentCheckHooks;null!==c&&kd(e,c)}else{const c=n.contentHooks;null!==c&&Nd(e,c,1),um(e,1)}!function S4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Do(~i);else{const o=i,s=t[++r],a=t[++r];xB(s,o),a(2,e[o])}}}finally{Do(-1)}}(n,e);const a=n.components;null!==a&&function R4(n,e){for(let t=0;t<e.length;t++)J4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&g_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&kd(e,c)}else{const c=n.viewHooks;null!==c&&Nd(e,c,2),um(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[le]&=-41,512&e[le]&&(e[le]&=-513,em(e[rt],-1))}finally{am()}}}function EA(n,e,t,r,i){const o=dn(),s=2&r;try{Do(-1),s&&e.length>$e&&sA(n,e,$e,!1),Qn(s?2:0,i),t(r,i)}finally{Do(o),Qn(s?3:1,i)}}function a_(n,e,t){if(Jg(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function u_(n,e,t){_C()&&(function B4(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Nu(t)&&function q4(n,e,t){const r=kn(e,n),i=IA(t),o=n[Dd],s=ih(n,nh(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ld(t,e),en(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Ao(e,n,a,t);en(c,e),null!==s&&K4(0,a-i,c,u,0,s),dr(u)&&(In(t.index,e)[ct]=Ao(e,n,a,t))}}(n,e,t,kn(t,e)),64==(64&t.flags)&&DA(n,e,t))}function c_(n,e,t=kn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function IA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=l_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function l_(n,e,t,r,i,o,s,a,u,c){const l=$e+r,d=l+i,h=function M4(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(l,d),f="function"==typeof c?c():c;return h[B]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function wA(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?TA(t,e,i,o):r.hasOwnProperty(i)&&TA(t,e,r[i],o)}return t}function TA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function d_(n,e,t,r){if(_C()){const i=null===r?null:{"":-1},o=function $4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(iA(e,s.selectors,!1))if(r||(r=[]),dr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),h_(n,e,a.length)}else r.unshift(s),h_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&CA(n,e,t,s,i,a),i&&function H4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new P(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Vu(t.mergedAttrs,t.attrs)}function CA(n,e,t,r,i,o){for(let c=0;c<r.length;c++)pm(Ld(t,e),n,r[c].type);!function z4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Qu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Vu(t.mergedAttrs,l.hostAttrs),W4(n,t,e,u,l),G4(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function N4(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=t?t.get(d):null,p=h?h.outputs:null;u=wA(d.inputs,l,u,h?h.inputs:null),c=wA(d.outputs,l,c,p);const g=null===u||null===s||rA(e)?null:Q4(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function DA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function MB(){return oe.lFrame.currentDirectiveIndex}();try{Do(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];rm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&j4(u,c)}}finally{Do(-1),rm(s)}}function j4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function h_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function G4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;dr(e)&&(t[""]=n)}}function W4(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Co(i.type)),s=new Fu(o,dr(i),x);n.blueprint[r]=s,t[r]=s,function L4(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function U4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Qu(n,t,i.hostVars,se),i)}function Pr(n,e,t,r,i,o){const s=kn(n,e);!function f_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ie(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[he],s,o,n.value,t,r,i)}function K4(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],d=s[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function Q4(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function AA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function J4(n,e){const t=In(e,n);if(Md(t)){const r=t[B];48&t[le]?rh(r,t,r.template,t[ct]):t[To]>0&&p_(t)}}function p_(n){for(let r=Rm(n);null!==r;r=xm(r))for(let i=cn;i<r.length;i++){const o=r[i];if(Md(o))if(512&o[le]){const s=o[B];rh(s,o,s.template,o[ct])}else o[To]>0&&p_(o)}const t=n[B].components;if(null!==t)for(let r=0;r<t.length;r++){const i=In(t[r],n);Md(i)&&i[To]>0&&p_(i)}}function Z4(n,e){const t=In(e,n),r=t[B];(function e3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),s_(r,t,t[ct])}function ih(n,e){return n[Mu]?n[iC][cr]=e:n[Mu]=e,n[iC]=e,e}function oh(n){for(;n;){n[le]|=32;const e=Gu(n);if(dB(n)&&!e)return n;n=e}return null}function sh(n,e,t,r=!0){const i=e[Dd];i.begin&&i.begin();try{rh(n,e,n.template,t)}catch(s){throw r&&MA(e,s),s}finally{i.end&&i.end()}}function g_(n,e,t){om(0),e(n,t)}function SA(n){return n[Cs]||(n[Cs]=[])}function RA(n){return n.cleanup||(n.cleanup=[])}function MA(n,e){const t=n[Cd],r=t?t.get(Vi,null):null;r&&r.handleError(e)}function m_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function li(n,e,t){const r=xd(e,n);!function hD(n,e,t){n.setValue(e,t)}(n[he],r,t)}function ah(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=jg(i,a):2==o&&(r=jg(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function uh(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Ut(o)),lr(o))for(let a=cn;a<o.length;a++){const u=o[a],c=u[B].firstChild;null!==c&&uh(u[B],u,c,r)}const s=t.type;if(8&s)uh(n,e,t.child,r);else if(32&s){const a=Sm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=wD(e,t);if(Array.isArray(a))r.push(...a);else{const u=Gu(e[Jt]);uh(u[B],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Yu{get rootNodes(){const e=this._lView,t=e[B];return uh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return 128==(128&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rt];if(lr(e)){const t=e[Sd],r=t?t.indexOf(this):-1;r>-1&&(km(e,r),jd(t,r))}this._attachedToViewContainer=!1}pD(this._lView[B],this._lView)}onDestroy(e){!function bA(n,e,t,r){const i=SA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&RA(n).push(r,i.length-1))}(this._lView[B],this._lView,null,e)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-65}reattach(){this._lView[le]|=64}detectChanges(){sh(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lj(n,e){zu(n,e,e[he],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class t3 extends Yu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sh(e[B],e,e[ct],!1)}checkNoChanges(){}get context(){return null}}class PA extends Ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=De(e);return new Xu(t,this.ngModule)}}function kA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class r3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=bd(r);const i=this.injector.get(e,Jm,r);return i!==Jm||t===Jm?i:this.parentInjector.get(e,t,r)}}class Xu extends YD{get inputs(){return kA(this.componentDef.inputs)}get outputs(){return kA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function u4(n){return n.map(a4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new r3(e,o):e,a=s.get(JD,null);if(null===a)throw new P(407,!1);const u=s.get($$,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function P4(n,e,t){return n.selectRootElement(e,t===Dr.ShadowDom)}(c,r,this.componentDef.encapsulation):Pm(c,l,function n3(n){const e=n.toLowerCase();return"svg"===e?hC:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=l_(0,null,null,1,0,null,null,null,null,null),p=nh(null,f,null,h,null,null,a,c,u,s,null);let g,m;sm(p);try{const I=this.componentDef;let T,v=null;I.findHostDirectiveDefs?(T=[],v=new Map,I.findHostDirectiveDefs(I,T,v),T.push(I)):T=[I];const M=function s3(n,e){const t=n[B],r=$e;return n[r]=e,Ws(t,r,2,"#host",null)}(p,d),$=function a3(n,e,t,r,i,o,s,a){const u=i[B];!function u3(n,e,t,r){for(const i of n)e.mergedAttrs=Vu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ah(e,e.mergedAttrs,!0),null!==t&&DD(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),l=nh(i,IA(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return u.firstCreatePass&&h_(u,n,r.length-1),ih(i,l),i[n.index]=l}(M,d,I,T,p,a,c);m=pC(f,$e),d&&function l3(n,e,t,r){if(r)lm(n,t,["ng-version",ZD.full]);else{const{attrs:i,classes:o}=function c4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!fr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&lm(n,t,i),o&&o.length>0&&CD(n,t,o.join(" "))}}(c,I,d,r),void 0!==t&&function d3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(m,this.ngContentSelectors,t),g=function c3(n,e,t,r,i,o){const s=$t(),a=i[B],u=kn(s,i);CA(a,i,s,t,null,r);for(let l=0;l<t.length;l++)en(Ao(i,a,s.directiveStart+l,s),i);DA(a,i,s),u&&en(u,i);const c=Ao(i,a,s.directiveStart+s.componentOffset,s);if(n[ct]=i[ct]=c,null!==o)for(const l of o)l(c,e);return a_(a,s,n),c}($,I,T,v,p,[h3]),s_(f,p,null)}finally{am()}return new o3(this.componentType,g,Hs(m,p),p,m)}}class o3 extends F${constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new t3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;m_(o[B],o,i,e,t),oh(In(this._tNode.index,o))}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function h3(){const n=$t();Pd(D()[B],n)}function Ae(n){let e=function NA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=__(n.inputs),s.declaredInputs=__(n.declaredInputs),s.outputs=__(n.outputs);const a=i.hostBindings;a&&m3(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&p3(n,u),c&&g3(n,c),Bg(n.inputs,i.inputs),Bg(n.declaredInputs,i.declaredInputs),Bg(n.outputs,i.outputs),dr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function f3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vu(i.hostAttrs,t=Vu(t,i.hostAttrs))}}(r)}function __(n){return n===ni?{}:n===be?[]:n}function p3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function g3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function m3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function ch(n){return!!function y_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function lh(n,e,t,r,i){const o=function Po(n,e,t,r){const i=tn(n,e,t);return tn(n,e+1,r)||i}(n,e,t,r);return tn(n,e+2,i)||o}function Nr(n,e,t,r){const i=D();return tn(i,xs(),e)&&(ye(),Pr(Je(),i,n,e,t,r)),Nr}function Ks(n,e,t,r){return tn(n,xs(),t)?e+ie(t)+r:se}function Ys(n,e,t,r,i,o,s,a){const c=lh(n,function oi(){return oe.lFrame.bindingIndex}(),t,i,s);return si(3),c?e+ie(t)+r+ie(i)+o+ie(s)+a:se}function Jn(n,e,t,r,i,o,s,a){const u=D(),c=ye(),l=n+$e,d=c.firstCreatePass?function D3(n,e,t,r,i,o,s,a,u){const c=e.consts,l=Ws(e,n,4,s||null,Oi(c,a));d_(e,t,l,Oi(c,u)),Pd(e,l);const d=l.tView=l_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,o,s):c.data[l];Sr(d,!1);const h=u[he].createComment("");Wd(c,u,h,d),en(h,u),ih(u,u[l]=AA(h,u,h,d)),Rd(d)&&u_(c,u,d),null!=s&&c_(u,d,a)}function Fe(n,e,t){const r=D();return tn(r,xs(),e)&&function Un(n,e,t,r,i,o,s,a){const u=kn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(m_(n,t,l,r,i),Nu(e)&&function F4(n,e){const t=In(e,n);16&t[le]||(t[le]|=32)}(t,e.index)):3&e.type&&(r=function O4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ye(),Je(),r,n,e,r[he],t,!1),Fe}function v_(n,e,t,r,i){const s=i?"class":"style";m_(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=D(),o=ye(),s=$e+n,a=i[he],u=o.firstCreatePass?function R3(n,e,t,r,i,o){const s=e.consts,u=Ws(e,n,2,r,Oi(s,i));return d_(e,t,u,Oi(s,o)),null!==u.attrs&&ah(u,u.attrs,!1),null!==u.mergedAttrs&&ah(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=i[s]=Pm(a,e,function VB(){return oe.lFrame.currentNamespace}()),l=Rd(u);return Sr(u,!0),DD(a,c,u),32!=(32&u.flags)&&Wd(o,i,c,u),0===function wB(){return oe.lFrame.elementDepthCount}()&&en(c,i),function TB(){oe.lFrame.elementDepthCount++}(),l&&(u_(o,i,u),a_(o,u,i)),null!==r&&c_(i,u),_}function y(){let n=$t();tm()?nm():(n=n.parent,Sr(n,!1));const e=n;!function CB(){oe.lFrame.elementDepthCount--}();const t=ye();return t.firstCreatePass&&(Pd(t,n),Jg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function jB(n){return 0!=(8&n.flags)}(e)&&v_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $B(n){return 0!=(16&n.flags)}(e)&&v_(t,e,D(),e.stylesWithoutHost,!1),y}function Se(n,e,t,r){return _(n,e,t,r),y(),Se}function Zn(n,e,t){const r=D(),i=ye(),o=n+$e,s=i.firstCreatePass?function x3(n,e,t,r,i){const o=e.consts,s=Oi(o,r),a=Ws(e,n,8,"ng-container",s);return null!==s&&ah(a,s,!0),d_(e,t,a,Oi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Sr(s,!0);const a=r[o]=r[he].createComment("");return Wd(i,r,a,s),en(a,r),Rd(s)&&(u_(i,r,s),a_(i,s,r)),null!=t&&c_(r,s),Zn}function er(){let n=$t();const e=ye();return tm()?nm():(n=n.parent,Sr(n,!1)),e.firstCreatePass&&(Pd(e,n),Jg(n)&&e.queries.elementEnd(n)),er}function Li(){return D()}function Zu(n){return!!n&&"function"==typeof n.then}const E_=function KA(n){return!!n&&"function"==typeof n.subscribe};function Ie(n,e,t,r){const i=D(),o=ye(),s=$t();return function YA(n,e,t,r,i,o,s){const a=Rd(r),c=n.firstCreatePass&&RA(n),l=e[ct],d=SA(e);let h=!0;if(3&r.type||s){const g=kn(r,e),m=s?s(g):g,I=d.length,T=s?M=>s(Ut(M[r.index])):r.index;let v=null;if(!s&&a&&(v=function M3(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Cs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=JA(r,e,l,o,!1);const M=t.listen(m,i,o);d.push(o,M),c&&c.push(i,T,I,I+1)}}else o=JA(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const $=e[p[m]][p[m+1]].subscribe(o),q=d.length;d.push(o,$),c&&c.push(i,r.index,q,-(q+1))}}}(o,i,i[he],s,n,e,r),Ie}function XA(n,e,t,r){try{return Qn(6,e,t),!1!==t(r)}catch(i){return MA(n,i),!1}finally{Qn(7,e,t)}}function JA(n,e,t,r,i){return function o(s){if(s===Function)return r;oh(n.componentOffset>-1?In(n.index,e):e);let u=XA(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=XA(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Ve(n=1){return function kB(n){return(oe.lFrame.contextLView=function NB(n,e){for(;n>0;)e=e[Ds],n--;return e}(n,oe.lFrame.contextLView))[ct]}(n)}function dh(n,e){return n<<17|e<<2}function Ui(n){return n>>17&32767}function b_(n){return 2|n}function ko(n){return(131068&n)>>2}function w_(n,e){return-131069&n|e<<2}function T_(n){return 1|n}function uS(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Ui(o):ko(o),u=!1;for(;0!==a&&(!1===u||s);){const l=n[a+1];B3(n[a],e)&&(u=!0,n[a+1]=r?T_(l):b_(l)),a=r?Ui(l):ko(l)}u&&(n[t+1]=r?b_(o):T_(o))}function B3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Vs(n,e)>=0}const At={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cS(n){return n.substring(At.key,At.keyEnd)}function lS(n,e){const t=At.textEnd;return t===e?-1:(e=At.keyEnd=function G3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,At.key=e,t),na(n,e,t))}function na(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function hh(n,e){return function pr(n,e,t,r){const i=D(),o=ye(),s=si(2);o.firstUpdatePass&&_S(o,n,s,r),e!==se&&tn(i,s,e)&&vS(o,o.data[dn()],i,i[he],n,i[s+1]=function nH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(Fn(n)))),n}(e,t),r,s)}(n,e,null,!0),hh}function Fr(n,e){for(let t=function $3(n){return function hS(n){At.key=0,At.keyEnd=0,At.value=0,At.valueEnd=0,At.textEnd=n.length}(n),lS(n,na(n,0,At.textEnd))}(e);t>=0;t=lS(e,t))On(n,cS(e),!0)}function mS(n,e){return e>=n.expandoStartIndex}function _S(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[dn()],s=mS(n,t);IS(o,r)&&null===e&&!s&&(e=!1),e=function Q3(n,e,t,r){const i=function im(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ec(t=C_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=C_(i,n,e,t,r),null===o){let u=function Y3(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ko(r))return n[Ui(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=C_(null,n,e,u[1],r),u=ec(u,e.attrs,r),function X3(n,e,t,r){n[Ui(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function J3(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ec(r,n[o].hostAttrs,t);return ec(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function L3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ui(s),u=ko(s);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Vs(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Ui(n[a+1]);n[r+1]=dh(h,a),0!==h&&(n[h+1]=w_(n[h+1],r)),n[a+1]=function F3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dh(a,0),0!==a&&(n[a+1]=w_(n[a+1],r)),a=r;else n[r+1]=dh(u,0),0===a?a=r:n[u+1]=w_(n[u+1],r),u=r;c&&(n[r+1]=b_(n[r+1])),uS(n,l,r,!0),uS(n,l,r,!1),function U3(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Vs(o,e)>=0&&(t[r+1]=T_(t[r+1]))}(e,l,n,r,o),s=dh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function C_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=ec(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ec(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),On(n,s,!!t||e[++o]))}return void 0===n?null:n}function vS(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function V3(n){return 1==(1&n)}(c)?ES(u,e,t,i,ko(c),s):void 0;fh(l)||(fh(o)||function O3(n){return 2==(2&n)}(c)&&(o=ES(u,null,t,i,a,s)),function Kj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:bn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=bn.Important),n.setStyle(t,r,i,o))}}(r,s,xd(dn(),t),i,o))}function ES(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===se&&(h=d?be:void 0);let f=d?ym(h,r):l===r?h:void 0;if(c&&!fh(f)&&(f=ym(u,r)),fh(f)&&(a=f,s))return a;const p=n[i+1];i=s?Ui(p):ko(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ym(u,r))}return a}function fh(n){return void 0!==n}function IS(n,e){return 0!=(n.flags&(e?8:16))}function b(n,e=""){const t=D(),r=ye(),i=n+$e,o=r.firstCreatePass?Ws(r,i,1,e,null):r.data[i],s=t[i]=function Mm(n,e){return n.createText(e)}(t[he],e);Wd(r,t,s,o),Sr(o,!1)}function Bi(n){return hn("",n,""),Bi}function hn(n,e,t){const r=D(),i=Ks(r,n,e,t);return i!==se&&li(r,dn(),i),hn}function D_(n,e,t,r,i,o,s){const a=D(),u=Ys(a,n,e,t,r,i,o,s);return u!==se&&li(a,dn(),u),D_}function ra(n,e,t){!function gr(n,e,t,r){const i=ye(),o=si(2);i.firstUpdatePass&&_S(i,null,o,r);const s=D();if(t!==se&&tn(s,o,t)){const a=i.data[dn()];if(IS(a,r)&&!mS(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=jg(u,t||"")),v_(i,a,s,t,r)}else!function tH(n,e,t,r,i,o,s,a){i===se&&(i=be);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&vS(n,e,t,r,p,g,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[he],s[o+1],s[o+1]=function Z3(n,e,t){if(null==t||""===t)return be;const r=[],i=Fn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(On,Fr,Ks(D(),n,e,t),!0)}const oa="en-US";let $S=oa;function R_(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let o=0;o<n.length;o++)R_(n[o],e,t,r,i);else{const o=ye(),s=D();let a=Mo(n)?n:Q(n.provide),u=QD(n);const c=$t(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Mo(n)||!n.multi){const f=new Fu(u,i,x),p=M_(a,e,i?l:l+h,d);-1===p?(pm(Ld(c,s),o,a),x_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=M_(a,e,l+h,d),p=M_(a,e,l,l+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){pm(Ld(c,s),o,a);const I=function v5(n,e,t,r,i){const o=new Fu(n,t,x);return o.multi=[],o.index=e,o.componentProviders=0,fR(o,i,r&&!t),o}(i?y5:_5,t.length,i,r,u);!i&&m&&(t[p].providerFactory=I),x_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),s.push(I)}else x_(o,n,f>-1?f:p,fR(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function x_(n,e,t,r){const i=Mo(e),o=function R$(n){return!!n.useClass}(e);if(i||o){const u=(o?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function fR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function M_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _5(n,e,t,r){return P_(this.multi,[])}function y5(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ao(t,t[B],this.providerFactory.index,r);o=a.slice(0,s),P_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],P_(i,o);return o}function P_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function m5(n,e,t){const r=ye();if(r.firstCreatePass){const i=dr(n);R_(t,r.data,r.blueprint,i,!0),R_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class sa{}class pR{}class gR extends sa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PA(this);const r=Mn(e);this._bootstrapComponents=ci(r.bootstrap),this._r3Injector=dA(e,t,[{provide:sa,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class k_ extends pR{constructor(e){super(),this.moduleType=e}create(e){return new gR(this.moduleType,e)}}class I5 extends sa{constructor(e,t,r){super(),this.componentFactoryResolver=new PA(this),this.instance=null;const i=new KD([...e,{provide:sa,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],t||eh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function yh(n,e,t=null){return new I5(n,e,t).injector}let b5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=GD(0,t.type),i=r.length>0?yh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(L(Mr))}),n})();function mR(n){n.getStandaloneInjector=e=>e.get(b5).getOrCreateStandaloneInjector(n)}function sc(n,e,t){const r=function ln(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=D();return i[r]===se?function kr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function Ju(n,e){return n[e]}(i,r)}function O_(n){return e=>{setTimeout(n,void 0,e)}}const ot=class q5 extends Zr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=O_(o),i&&(i=O_(i)),s&&(s=O_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Rn&&e.add(a),a}};let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=X5,n})();const Q5=di,Y5=class extends Q5{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=nh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Pu]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Ar];return null!==s&&(i[Ar]=s.createEmbeddedView(r)),s_(r,i,e),new Yu(i)}};function X5(){return function vh(n,e){return 4&n.type?new Y5(e,n,Hs(n,e)):null}($t(),D())}let mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=J5,n})();function J5(){return function xR(n,e){let t;const r=e[n.index];if(lr(r))t=r;else{let i;if(8&n.type)i=Ut(r);else{const o=e[he];i=o.createComment("");const s=kn(n,e);Ro(o,zd(o,s),i,function zj(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=AA(r,e,i,n),ih(e,t)}return new SR(t,n,e)}($t(),D())}const Z5=mr,SR=class extends Z5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const e=fm(this._hostTNode,this._hostLView);if(PC(e)){const t=Fd(e,this._hostLView),r=Od(e);return new Ps(t[B].data[r+8],t)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=RR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Uu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new Xu(De(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?c:this.parentInjector).get(Mr,null);h&&(o=h)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[B];if(function bB(n){return lr(n[rt])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[rt],h=new SR(d,d[Xt],d[rt]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function Bj(n,e,t,r){const i=cn+r,o=t.length;r>0&&(t[i-1][cr]=e),r<o-cn?(e[cr]=t[i],GC(t,cn+r,e)):(t.push(e),e[cr]=null),e[rt]=t;const s=e[Pu];null!==s&&t!==s&&function jj(n,e){const t=n[Ss];e[Jt]!==e[rt][rt][Jt]&&(n[sC]=!0),null===t?n[Ss]=[e]:t.push(e)}(s,e);const a=e[Ar];null!==a&&a.insertView(n),e[le]|=64}(i,r,s,o);const a=Fm(o,s),u=r[he],c=zd(u,s[Ad]);return null!==c&&function Vj(n,e,t,r,i,o){r[ii]=i,r[Xt]=e,zu(n,r,t,1,i,o)}(i,s[Xt],u,r,c,a),e.attachToViewContainerRef(),GC(V_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=RR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=km(this._lContainer,t);r&&(jd(V_(this._lContainer),t),pD(r[B],r))}detach(e){const t=this._adjustIndex(e,-1),r=km(this._lContainer,t);return r&&null!=jd(V_(this._lContainer),t)?new Yu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function RR(n){return n[Sd]}function V_(n){return n[Sd]||(n[Sd]=[])}function Ih(...n){}const bh=new F("Application Initializer");let wh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ih,this.reject=Ih,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Zu(o))t.push(o);else if(E_(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(bh,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lc=new F("AppId",{providedIn:"root",factory:function nx(){return`${K_()}${K_()}${K_()}`}});function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rx=new F("Platform Initializer"),dc=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let AG=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vr=new F("LocaleId",{providedIn:"root",factory:()=>ae(Vr,Y.Optional|Y.SkipSelf)||function SG(){return typeof $localize<"u"&&$localize.locale||oa}()});class xG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ix=(()=>{class n{compileModuleSync(t){return new k_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ci(Mn(t).declarations).reduce((s,a)=>{const u=De(a);return u&&s.push(new Xu(u)),s},[]);return new xG(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kG=(()=>Promise.resolve(0))();function Q_(n){typeof Zone>"u"?kG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function NG(){let n=je.requestAnimationFrame,e=je.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function VG(n){const e=()=>{!function FG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,X_(n),n.isCheckStableRunning=!0,Y_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),X_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return ax(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),ux(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return ax(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),ux(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,X_(n),Y_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OG,Ih,Ih);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const OG={};function Y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function X_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ax(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ux(n){n._nesting--,Y_(n)}class LG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const cx=new F(""),Th=new F("");let ey,J_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ey||(function UG(n){ey=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),Q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Q_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Ke),L(Z_),L(Th))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),Z_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ey?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hi=!1;let ji=null;const lx=new F("AllowMultipleToken"),ty=new F("PlatformDestroyListeners"),dx=new F("appBootstrapListener");class hx{constructor(e,t){this.name=e,this.token=t}}function px(n,e,t=[]){const r=`Platform: ${e}`,i=new F(r);return(o=[])=>{let s=ny();if(!s||s.injector.get(lx,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function $G(n){if(ji&&!ji.get(lx,!1))throw new P(400,!1);ji=n;const e=n.get(mx);(function fx(n){const e=n.get(rx,null);e&&e.forEach(t=>t())})(n)}(function gx(n=[],e){return Ln.create({name:e,providers:[{provide:Km,useValue:"platform"},{provide:ty,useValue:new Set([()=>ji=null])},...n]})}(a,r))}return function GG(n){const e=ny();if(!e)throw new P(401,!1);return e}()}}function ny(){return ji?.get(mx)??null}let mx=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function yx(n,e){let t;return t="noop"===n?new LG:("zone.js"===n?void 0:n)||new Ke(e),t}(r?.ngZone,function _x(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ke,useValue:i}];return i.run(()=>{const s=Ln.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Vi,null);if(!u)throw new P(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Dh(this._modules,a),c.unsubscribe()})}),function vx(n,e,t){try{const r=t();return Zu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(wh);return c.runInitializers(),c.donePromise.then(()=>(function HS(n){Wn(n,"Expected localeId to be defined"),"string"==typeof n&&($S=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Vr,oa)||oa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Ex({},r);return function BG(n,e,t){const r=new k_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ch);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(ty,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(Ln))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ex(n,e){return Array.isArray(e)?e.reduce(Ex,n):{...n,...e}}let Ch=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Xe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Xe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),Q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function $U(...n){const e=Du(n),t=function OU(n,e){return"number"==typeof Lg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ar(r[0]):bs(t)(ut(r,e)):Tr}(o,s.pipe(function q0(n={}){const{connector:e=(()=>new Zr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return Mt((g,m)=>{c++,!d&&!l&&h();const I=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Ug(p,i))}),I.subscribe(m),!s&&c>0&&(s=new Cu({next:T=>I.next(T),error:T=>{d=!0,h(),a=Ug(f,t,T),I.error(T)},complete:()=>{l=!0,h(),a=Ug(f,r),I.complete()}}),ar(g).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof YD;if(!this._injector.get(wh).done){!i&&function Ts(n){const e=De(n)||Yt(n)||En(n);return null!==e&&e.standalone}(t);throw new P(405,hi)}let s;s=i?t:this._injector.get(Ku).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function jG(n){return n.isBoundToModule}(s)?void 0:this._injector.get(sa),c=s.create(Ln.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(cx,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Dh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Dh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(dx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Dh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(L(Ke),L(Mr),L(Vi))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ah=(()=>{class n{}return n.__NG_ELEMENT_ID__=WG,n})();function WG(n){return function qG(n,e,t){if(Nu(n)&&!t){const r=In(n.index,e);return new Yu(r,r)}return 47&n.type?new Yu(e[Jt],e):null}($t(),D(),16==(16&n))}class Cx{constructor(){}supports(e){return ch(e)}create(e){return new ZG(e)}}const JG=(n,e)=>e;class ZG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Ax(r,i,o)?t:r,a=Ax(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ch(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function w3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ez(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Dx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ez{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Dx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new tz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ax(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Rx(){return new xh([new Cx])}let xh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Rx()),deps:[[n,new Ls,new Zt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new P(901,!1)}}return n.\u0275prov=G({token:n,providedIn:"root",factory:Rx}),n})();const sz=px(null,"core",[]);let az=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(Ch))},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({}),n})();function ca(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let ay=null;function fi(){return ay}class lz{}const Ze=new F("DocumentToken");let uy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return function dz(){return L(Mx)}()},providedIn:"platform"}),n})();const hz=new F("Location Initialized");let Mx=(()=>{class n extends uy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(t){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){Px()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){Px()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(Ze))},n.\u0275prov=G({token:n,factory:function(){return function fz(){return new Mx(L(Ze))}()},providedIn:"platform"}),n})();function Px(){return!!window.history.pushState}function cy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pi(n){return n&&"?"!==n[0]?"?"+n:n}let Fo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return ae(Ox)},providedIn:"root"}),n})();const Nx=new F("appBaseHref");let Ox=(()=>{class n extends Fo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+pi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+pi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(uy),L(Nx,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pz=(()=>{class n extends Fo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(uy),L(Nx,8))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),ly=(()=>{class n{constructor(t){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function _z(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kx(Fx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pi(r))}normalize(t){return n.stripTrailingSlash(function mz(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Fx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=pi,n.joinWithSlash=cy,n.stripTrailingSlash=kx,n.\u0275fac=function(t){return new(t||n)(L(Fo))},n.\u0275prov=G({token:n,factory:function(){return function gz(){return new ly(L(Fo))}()},providedIn:"root"}),n})();function Fx(n){return n.replace(/\/index.html$/,"")}function zx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class n6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bh=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new n6(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Qx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Qx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(x(mr),x(di),x(xh))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qx(n,e){n.context.$implicit=e.item}let Yx=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new i6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(x(mr),x(di))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class i6{constructor(){this.$implicit=null,this.ngIf=null}}function Xx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}let R6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({}),n})();const eM="browser";let N6=(()=>{class n{}return n.\u0275prov=G({token:n,providedIn:"root",factory:()=>new O6(L(Ze),window)}),n})();class O6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function F6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=tM(this.window.history)||tM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nM{}class c9 extends lz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ay extends c9{static makeCurrent(){!function cz(n){ay||(ay=n)}(new Ay)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function l9(){return mc=mc||document.querySelector("base"),mc?mc.getAttribute("href"):null}();return null==t?null:function d9(n){Hh=Hh||document.createElement("a"),Hh.setAttribute("href",n);const e=Hh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zx(document.cookie,e)}}let Hh,mc=null;const aM=new F("TRANSITION_ID"),f9=[{provide:bh,useFactory:function h9(n,e,t){return()=>{t.get(wh).donePromise.then(()=>{const r=fi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[aM,Ze,Ln],multi:!0}];let g9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const Gh=new F("EventManagerPlugins");let zh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(Gh),L(Ke))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class uM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=fi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let cM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),_c=(()=>{class n extends cM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(L(Ze))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const Sy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ry=/%COMP%/g,hM=new F("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fM(n,e){return e.flat(100).map(t=>t.replace(Ry,n))}function pM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let xy=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new My(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof _M?i.applyToHost(t):i instanceof Py&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Dr.Emulated:o=new _M(s,a,r,this.appId,u);break;case Dr.ShadowDom:return new b9(s,a,t,r);default:o=new Py(s,a,r,u)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(zh),L(_c),L(lc),L(hM))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();class My{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Sy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(mM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Sy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Sy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(t,r,i&bn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pM(r)):this.eventManager.addEventListener(e,t,pM(r))}}function mM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class b9 extends My{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fM(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Py extends My{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=fM(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _M extends Py{constructor(e,t,r,i,o){const s=i+"-"+r.id;super(e,t,r,o,s),this.contentAttr=function v9(n){return"_ngcontent-%COMP%".replace(Ry,n)}(s),this.hostAttr=function E9(n){return"_nghost-%COMP%".replace(Ry,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let w9=(()=>{class n extends uM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(Ze))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const yM=["alt","control","meta","shift"],T9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let D9=(()=>{class n extends uM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=T9[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yM.forEach(s=>{s!==i&&(0,C9[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(Ze))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const EM=[{provide:dc,useValue:eM},{provide:rx,useValue:function A9(){Ay.makeCurrent()},multi:!0},{provide:Ze,useFactory:function R9(){return function Zj(n){Bm=n}(document),document},deps:[]}],x9=px(sz,"browser",EM),IM=new F(""),bM=[{provide:Th,useClass:class p9{addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?fi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:cx,useClass:J_,deps:[Ke,Z_,Th]},{provide:J_,useClass:J_,deps:[Ke,Z_,Th]}],wM=[{provide:Km,useValue:"root"},{provide:Vi,useFactory:function S9(){return new Vi},deps:[]},{provide:Gh,useClass:w9,multi:!0,deps:[Ze,Ke,dc]},{provide:Gh,useClass:D9,multi:!0,deps:[Ze]},{provide:xy,useClass:xy,deps:[zh,_c,lc,hM]},{provide:JD,useExisting:xy},{provide:cM,useExisting:_c},{provide:_c,useClass:_c,deps:[Ze]},{provide:zh,useClass:zh,deps:[Gh,Ke]},{provide:nM,useClass:g9,deps:[]},[]];let Fy,M9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lc,useValue:t.appId},{provide:aM,useExisting:lc},f9]}}}return n.\u0275fac=function(t){return new(t||n)(L(IM,12))},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({providers:[...wM,...bM],imports:[R6,az]}),n})(),TM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(L(Ze))},n.\u0275prov=G({token:n,factory:function(t){let r=null;return r=t?new t:function k9(){return new TM(L(Ze))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{Fy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fy=!1}let U9=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function k6(n){return n===eM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(L(dc))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PM="cdk-high-contrast-black-on-white",kM="cdk-high-contrast-white-on-black",Uy="cdk-high-contrast-active";let nW=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Uy),t.remove(PM),t.remove(kM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Uy),t.add(PM)):2===r&&(t.add(Uy),t.add(kM))}}}return n.\u0275fac=function(t){return new(t||n)(L(U9),L(Ze))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({}),n})();const sW=new F("mat-sanity-checks",{providedIn:"root",factory:function oW(){return!0}});let da=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function $9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(L(nW),L(sW,8),L(Ze))},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[[NM],NM]}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[[da],da]}),n})();function W(...n){return ut(n,Du(n))}function ha(n,e){const t=ke(n)?n:()=>n,r=i=>i.error(t());return new Xe(e?i=>e.schedule(r,0,i):r)}const{isArray:fW}=Array,{getPrototypeOf:pW,prototype:gW,keys:mW}=Object;function BM(n){if(1===n.length){const e=n[0];if(fW(e))return{args:e,keys:null};if(function _W(n){return n&&"object"==typeof n&&pW(n)===gW}(e)){const t=mW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:yW}=Array;function jM(n){return ne(e=>function vW(n,e){return yW(e)?n(...e):n(e)}(n,e))}function $M(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Et(n,e,t){const r=ke(n)||e||t?{next:n,error:e,complete:t}:n;return r?Mt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Tt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):wo}function mi(n){return Mt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Tt(t,void 0,void 0,s=>{o=ar(n(s,mi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function qh(n){return Mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hi(n,e){return ke(e)?Lt(n,e,1):Lt(n,1)}function _i(n,e){return Mt((t,r)=>{let i=0;t.subscribe(Tt(r,o=>n.call(e,o,i++)&&r.next(o)))})}class Kh{}class jy{}class yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class EW{encodeKey(e){return GM(e)}encodeValue(e){return GM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bW=/%(\d[a-f0-9])/gi,wW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GM(n){return encodeURIComponent(n).replace(bW,(e,t)=>wW[t]??e)}function Qh(n){return`${n}`}class Gi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new EW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function IW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Qh):[Qh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Qh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Qh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class TW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WM(n){return typeof Blob<"u"&&n instanceof Blob}function qM(n){return typeof FormData<"u"&&n instanceof FormData}class Ec{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function CW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new yi),this.context||(this.context=new TW),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Gi,this.urlWithParams=t}serializeBody(){return null===this.body?null:zM(this.body)||WM(this.body)||qM(this.body)||function DW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qM(this.body)?null:WM(this.body)?this.body.type||null:zM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ec(t,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var It=(()=>((It=It||{})[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It))();class $y{constructor(e,t=200,r="OK"){this.headers=e.headers||new yi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Hy extends $y{constructor(e={}){super(e),this.type=It.ResponseHeader}clone(e={}){return new Hy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yh extends $y{constructor(e={}){super(e),this.type=It.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class KM extends $y{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Gy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Xh=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ec)o=t;else{let u,c;u=i.headers instanceof yi?i.headers:new yi(i.headers),i.params&&(c=i.params instanceof Gi?i.params:new Gi({fromObject:i.params})),o=new Ec(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=W(o).pipe(Hi(u=>this.handler.handle(u)));if(t instanceof Ec||"events"===i.observe)return s;const a=s.pipe(_i(u=>u instanceof Yh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ne(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ne(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Gi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Gy(i,r))}post(t,r,i={}){return this.request("POST",t,Gy(i,r))}put(t,r,i={}){return this.request("PUT",t,Gy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(L(Kh))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();function QM(n,e){return e(n)}function AW(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const RW=new F("HTTP_INTERCEPTORS"),Ic=new F("HTTP_INTERCEPTOR_FNS");function xW(){let n=null;return(e,t)=>(null===n&&(n=(ae(RW,{optional:!0})??[]).reduceRight(AW,QM)),n(e,t))}let YM=(()=>{class n extends Kh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Ic)));this.chain=r.reduceRight((i,o)=>function SW(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),QM)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(L(jy),L(Mr))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const NW=/^\)\]\}',?\n/;let JM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new yi(i.getAllResponseHeaders()),g=function OW(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Hy({headers:p,status:i.status,statusText:f,url:g}),s},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),I=null;204!==p&&(I=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=I?200:0);let T=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof I){const v=I;I=I.replace(NW,"");try{I=""!==I?JSON.parse(I):null}catch(M){I=v,T&&(T=!1,I={error:M,text:I})}}T?(r.next(new Yh({body:I,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new KM({error:I,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new KM({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:It.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:It.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:It.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(L(nM))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();const zy=new F("XSRF_ENABLED"),ZM=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eP=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tP{}let LW=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(L(Ze),L(dc),L(ZM))},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();function UW(n,e){const t=n.url.toLowerCase();if(!ae(zy)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ae(tP).getToken(),i=ae(eP);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ht=(()=>((ht=ht||{})[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht))();function fa(n,e){return{\u0275kind:n,\u0275providers:e}}function BW(...n){const e=[Xh,JM,YM,{provide:Kh,useExisting:YM},{provide:jy,useExisting:JM},{provide:Ic,useValue:UW,multi:!0},{provide:zy,useValue:!0},{provide:tP,useClass:LW}];for(const t of n)e.push(...t.\u0275providers);return function D$(n){return{\u0275providers:n}}(e)}const nP=new F("LEGACY_INTERCEPTOR_FN");let $W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({providers:[BW(fa(ht.LegacyInterceptors,[{provide:nP,useFactory:xW},{provide:Ic,useExisting:nP,multi:!0}]))]}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[[da],da]}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[[hW,da],da]}),n})(),aP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(x(ui),x(Vn))},n.\u0275dir=ee({type:n}),n})(),Uo=(()=>{class n extends aP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Ae]}),n})();const Lr=new F("NgValueAccessor"),XW={provide:Lr,useExisting:Oe(()=>ef),multi:!0},ZW=new F("CompositionEventMode");let ef=(()=>{class n extends aP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JW(){const n=fi()?fi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(x(ui),x(Vn),x(ZW,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ie("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[qe([XW]),Ae]}),n})();const eq=!1,nn=new F("NgValidators"),Wi=new F("NgAsyncValidators");function yP(n){return null!=n}function vP(n){const e=Zu(n)?ut(n):n;if(eq&&!E_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new P(-1101,t)}return e}function EP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function IP(n,e){return e.map(t=>t(n))}function bP(n){return n.map(e=>function nq(n){return!n.validate}(e)?e:t=>e.validate(t))}function qy(n){return null!=n?function wP(n){if(!n)return null;const e=n.filter(yP);return 0==e.length?null:function(t){return EP(IP(t,e))}}(bP(n)):null}function TP(n){if(!n)return null;const e=n.filter(yP);return 0==e.length?null:function(t){return function HM(...n){const e=z0(n),{args:t,keys:r}=BM(n),i=new Xe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;ar(t[l]).subscribe(Tt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?$M(r,a):a),o.complete())}))}});return e?i.pipe(jM(e)):i}(IP(t,e).map(vP)).pipe(ne(EP))}}function Ky(n){return null!=n?TP(bP(n)):null}function CP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qy(n){return n?Array.isArray(n)?n:[n]:[]}function nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function SP(n,e){const t=Qy(e);return Qy(n).forEach(i=>{nf(t,i)||t.push(i)}),t}function RP(n,e){return Qy(e).filter(t=>!nf(n,t))}class xP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ky(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gn extends xP{get formDirective(){return null}get path(){return null}}class qi extends xP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let PP=(()=>{class n extends MP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(x(qi,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&hh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]}),n})();const wc="VALID",sf="INVALID",pa="PENDING",Tc="DISABLED";function af(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class FP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wc}get invalid(){return this.status===sf}get pending(){return this.status==pa}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RP(e,this._rawAsyncValidators))}hasValidator(e){return nf(this._rawValidators,e)}hasAsyncValidator(e){return nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wc||this.status===pa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pa,this._hasOwnPendingAsyncValidator=!0;const t=vP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pa)?pa:this._anyControlsHaveStatus(sf)?sf:wc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){af(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lq(n){return Array.isArray(n)?qy(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dq(n){return Array.isArray(n)?Ky(n):n||null}(this._rawAsyncValidators)}}const ga=new F("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function Cc(n,e,t=uf){(function nv(n,e){const t=function DP(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(CP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function AP(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(CP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();df(e._rawValidators,i),df(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function pq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VP(n,e)})}(n,e),function mq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fq(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function df(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function VP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $P=class extends FP{constructor(e=null,t,r){super(function Zy(n){return(af(n)?n.validators:n)||null}(t),function ev(n,e){return(af(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tq={provide:qi,useExisting:Oe(()=>av)},zP=(()=>Promise.resolve())();let av=(()=>{class n extends qi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $P,this._registered=!1,this.update=new ot,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ov(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ef?t=o:function vq(n){return Object.getPrototypeOf(n.constructor)===Uo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function iv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ca(r);zP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function cf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(x(gn,9),x(nn,10),x(Wi,10),x(Lr,10),x(Ah,8),x(ga,8))},n.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([Tq]),Ae,Kn]}),n})(),qP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[qP]}),n})(),Xq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ga,useValue:t.callSetDisabledState??uf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[Qq]}),n})();class Er extends Zr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ff=Tu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function h1(...n){const e=Du(n),t=z0(n),{args:r,keys:i}=BM(n);if(0===r.length)return ut([],e);const o=new Xe(function Jq(n,e,t=wo){return r=>{f1(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)f1(e,()=>{const c=ut(n[u],e);let l=!1;c.subscribe(Tt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>$M(i,s):wo));return t?o.pipe(jM(t)):o}function f1(n,e,t){n?ei(t,n,e):e()}function pv(...n){return function Zq(){return bs(1)}()(ut(n,Du(n)))}function p1(n){return new Xe(e=>{ar(n()).subscribe(e)})}function gv(){return Mt((n,e)=>{let t=null;n._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class g1 extends Xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,x0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rn;const t=this.getSubject();e.add(this.source.subscribe(Tt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rn.EMPTY)}return e}refCount(){return gv()(this)}}function Ur(n,e){return Mt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Tt(r,u=>{i?.unsubscribe();let c=0;const l=o++;ar(n(u,l)).subscribe(i=Tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ma(n){return n<=0?()=>Tr:Mt((e,t)=>{let r=0;e.subscribe(Tt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pf(n){return Mt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function m1(n=t8){return Mt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function t8(){return new ff}function Ki(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((i,o)=>n(i,o,r)):wo,ma(1),t?pf(e):m1(()=>new ff))}function _1(n,e){return Mt(function n8(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Tt(s,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}function mv(n){return n<=0?()=>Tr:Mt((e,t)=>{let r=[];e.subscribe(Tt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function y1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((i,o)=>n(i,o,r)):wo,mv(1),t?pf(e):m1(()=>new ff))}const ue="primary",Ac=Symbol("RouteTitle");class o8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _a(n){return new o8(n)}function s8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Br(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!v1(n[i],e[i]))return!1;return!0}function v1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function E1(n){return Array.prototype.concat.apply([],n)}function I1(n){return n.length>0?n[n.length-1]:null}function Gt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qi(n){return E_(n)?n:Zu(n)?ut(Promise.resolve(n)):W(n)}const gf=!1,u8={exact:function T1(n,e,t){if(!jo(n.segments,e.segments)||!mf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!T1(n.children[r],e.children[r],t))return!1;return!0},subset:C1},b1={exact:function c8(n,e){return Br(n,e)},subset:function l8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>v1(n[t],e[t]))},ignored:()=>!0};function w1(n,e,t){return u8[t.paths](n.root,e.root,t.matrixParams)&&b1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function C1(n,e,t){return D1(n,e,e.segments,t)}function D1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jo(i,t)||e.hasChildren()||!mf(i,t,r))}if(n.segments.length===t.length){if(!jo(n.segments,t)||!mf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!C1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(jo(n.segments,i)&&mf(n.segments,i,r)&&n.children[ue])&&D1(n.children[ue],e,o,r)}}function mf(n,e,t){return e.every((r,i)=>b1[t](n[i].parameters,r.parameters))}class Yi{constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return f8.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _f(this)}}class Sc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_a(this.parameters)),this._parameterMap}toString(){return R1(this)}}function jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return new _v},providedIn:"root"}),n})();class _v{parse(e){const t=new b8(e);return new Yi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xc(e.root,!0)}`,r=function m8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yf(t)}=${yf(i)}`).join("&"):`${yf(t)}=${yf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function p8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const f8=new _v;function _f(n){return n.segments.map(e=>R1(e)).join("/")}function xc(n,e){if(!n.hasChildren())return _f(n);if(e){const t=n.children[ue]?xc(n.children[ue],!1):"",r=[];return Gt(n.children,(i,o)=>{o!==ue&&r.push(`${o}:${xc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function h8(n,e){let t=[];return Gt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Gt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[xc(n.children[ue],!1)]:[`${i}:${xc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${_f(n)}/${t[0]}`:`${_f(n)}/(${t.join("//")})`}}function A1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(n){return A1(n).replace(/%3B/gi,";")}function yv(n){return A1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vf(n){return decodeURIComponent(n)}function S1(n){return vf(n.replace(/\+/g,"%20"))}function R1(n){return`${yv(n.path)}${function g8(n){return Object.keys(n).map(e=>`;${yv(e)}=${yv(n[e])}`).join("")}(n.parameters)}`}const _8=/^[^\/()?;=#]+/;function Ef(n){const e=n.match(_8);return e?e[0]:""}const y8=/^[^=?&#]+/,E8=/^[^&#]+/;class b8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new fe(e,t)),r}parseSegment(){const e=Ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,gf);return this.capture(e),new Sc(vf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ef(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ef(this.remaining);i&&(r=i,this.capture(r))}e[vf(t)]=vf(r)}parseQueryParam(e){const t=function v8(n){const e=n.match(y8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function I8(n){const e=n.match(E8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=S1(t),o=S1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ef(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new P(4010,gf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ue]:new fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,gf)}}function vv(n){return n.segments.length>0?new fe([],{[ue]:n}):n}function If(n){const e={};for(const r of Object.keys(n.children)){const o=If(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function w8(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}function $o(n){return n instanceof Yi}const Ev=!1;function T8(n,e,t,r,i){if(0===t.length)return ya(e.root,e.root,e.root,r,i);const o=function N1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new k1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Gt(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new k1(t,e,r)}(t);return o.toRoot()?ya(e.root,e.root,new fe([],{}),r,i):function s(u){const c=function D8(n,e,t,r){if(n.isAbsolute)return new va(e.root,!0,0);if(-1===r)return new va(t,t===e.root,0);return function O1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,Ev&&"Invalid number of '../'");i=r.segments.length}return new va(r,!1,i-o)}(t,r+(Mc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,u),l=c.processChildren?Ea(c.segmentGroup,c.index,o.commands):Iv(c.segmentGroup,c.index,o.commands);return ya(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Mc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pc(n){return"object"==typeof n&&null!=n&&n.outlets}function ya(n,e,t,r,i){let s,o={};r&&Gt(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:P1(n,e,t);const a=vv(If(s));return new Yi(a,o,i)}function P1(n,e,t){const r={};return Gt(n.children,(i,o)=>{r[o]=i===e?t:P1(i,e,t)}),new fe(n.segments,r)}class k1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mc(r[0]))throw new P(4003,Ev&&"Root segment cannot have matrix parameters");const i=r.find(Pc);if(i&&i!==I1(r))throw new P(4004,Ev&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class va{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Iv(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Ea(n,e,t);const r=function S8(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Pc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!V1(u,c,s))return o;r+=2}else{if(!V1(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new fe(n.segments.slice(r.pathIndex),n.children),Ea(o,0,i)}return r.match&&0===i.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?bv(n,e,t):r.match?Ea(n,0,i):bv(n,e,t)}function Ea(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function A8(n){return Pc(n[0])?n[0].outlets:{[ue]:n}}(t),i={};if(!r[ue]&&n.children[ue]&&1===n.numberOfChildren&&0===n.children[ue].segments.length){const o=Ea(n.children[ue],e,t);return new fe(n.segments,o.children)}return Gt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Iv(n.children[s],e,o))}),Gt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new fe(n.segments,i)}}function bv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Pc(o)){const u=R8(o.outlets);return new fe(r,u)}if(0===i&&Mc(t[0])){r.push(new Sc(n.segments[e].path,F1(t[0]))),i++;continue}const s=Pc(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Mc(a)?(r.push(new Sc(s,F1(a))),i+=2):(r.push(new Sc(s,{})),i++)}return new fe(r,{})}function R8(n){const e={};return Gt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bv(new fe([],{}),0,t))}),e}function F1(n){const e={};return Gt(n,(t,r)=>e[r]=`${t}`),e}function V1(n,e,t){return n==t.path&&Br(e,t.parameters)}const kc="imperative";class jr{constructor(e,t){this.id=e,this.url=t}}class wv extends jr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ho extends jr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bf extends jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wf extends jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Tv extends jr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P8 extends jr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class k8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class F8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class V8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let H8=(()=>{class n{createUrlTree(t,r,i,o,s,a){return T8(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})(),z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(e){return H8.\u0275fac(e)},providedIn:"root"}),n})();class U1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Cv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Cv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}}function Cv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Cv(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ia(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class B1 extends U1{constructor(e,t){super(e),this.snapshot=t,Av(this,e)}toString(){return this.snapshot.toString()}}function j1(n,e){const t=function W8(n,e){const s=new Tf([],{},{},"",{},ue,e,null,n.root,-1,{});return new H1("",new vi(s,[]))}(n,e),r=new Er([new Sc("",{})]),i=new Er({}),o=new Er({}),s=new Er({}),a=new Er(""),u=new ba(r,i,s,a,o,ue,e,t.root);return u.snapshot=t.root,new B1(new vi(u,[]),t)}class ba{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ne(c=>c[Ac]))??W(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(e=>_a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(e=>_a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function q8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tf{get title(){return this.data?.[Ac]}constructor(e,t,r,i,o,s,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class H1 extends U1{constructor(e,t){super(t),this.url=e,Av(this,t)}toString(){return G1(this._root)}}function Av(n,e){e.value._routerState=n,e.children.forEach(t=>Av(n,t))}function G1(n){const e=n.children.length>0?` { ${n.children.map(G1).join(", ")} } `:"";return`${n.value}${e}`}function Sv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Br(e.params,t.params)||n.params.next(t.params),function a8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rv(n,e){const t=Br(n.params,e.params)&&function d8(n,e){return jo(n,e)&&n.every((t,r)=>Br(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Rv(n.parent,e.parent))}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Q8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}(n,e,t);return new vi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nc(n,a)),s}}const r=function Y8(n){return new ba(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Nc(n,o));return new vi(r,i)}}const xv="ngNavigationCancelingError";function z1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=$o(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=W1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function W1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[xv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function q1(n){return K1(n)&&$o(n.url)}function K1(n){return n&&n[xv]}class X8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Oc,this.attachRef=null}}let Oc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new X8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cf=!1;let Mv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=ae(Oc),this.location=ae(mr),this.changeDetector=ae(Ah),this.environmentInjector=ae(Mr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,Cf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,Cf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,Cf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,Cf);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new J8(t,a,i.injector);if(r&&function Z8(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]}),n})();class J8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ba?this.route:e===Oc?this.childContexts:this.parent.get(e,t)}}let Pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ur({type:n,selectors:[["ng-component"]],standalone:!0,features:[mR],decls:1,vars:0,template:function(t,r){1&t&&Se(0,"router-outlet")},dependencies:[Mv],encapsulation:2}),n})();function Q1(n,e){return n.providers&&!n._injector&&(n._injector=yh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Nv(n){const e=n.children&&n.children.map(Nv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Pv),t}function rr(n){return n.outlet||ue}function Y1(n,e){const t=n.filter(r=>rr(r)===e);return t.push(...n.filter(r=>rr(r)!==e)),t}function Fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class i7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ia(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Gt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ia(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ia(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ia(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new B8(o.value.snapshot))}),e.children.length&&this.forwardEvent(new L8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Sv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Fc(i.snapshot),u=a?.get(Ku)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class X1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Df{constructor(e,t){this.component=e,this.route=t}}function o7(n,e,t){const r=n._root;return Vc(r,e?e._root:null,t,[r.value])}function wa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function QU(n){return null!==vd(n)}(n)?e.get(n):n:r}function Vc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ia(e);return n.children.forEach(s=>{(function a7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function u7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,e.url)||!Br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rv(n,e)||!Br(n.queryParams,e.queryParams);default:return!Rv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new X1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Vc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Df(a.outlet.component,s))}else s&&Lc(e,a,i),i.canActivateChecks.push(new X1(r)),Vc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Gt(o,(s,a)=>Lc(s,t.getContext(a),i)),i}function Lc(n,e,t){const r=Ia(n),i=n.value;Gt(r,(o,s)=>{Lc(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Df(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uc(n){return"function"==typeof n}function Ov(n){return n instanceof ff||"EmptyError"===n?.name}const Af=Symbol("INITIAL_VALUE");function Ta(){return Ur(n=>h1(n.map(e=>e.pipe(ma(1),function e8(...n){const e=Du(n);return Mt((t,r)=>{(e?pv(n,t,e):pv(n,t)).subscribe(r)})}(Af)))).pipe(ne(e=>{for(const t of e)if(!0!==t){if(t===Af)return Af;if(!1===t||t instanceof Yi)return t}return!0}),_i(e=>e!==Af),ma(1)))}function J1(n){return function eU(...n){return A0(n)}(Et(e=>{if($o(e))throw z1(0,e)}),ne(e=>!0===e))}const Fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z1(n,e,t,r,i){const o=Vv(n,e,t);return o.matched?function C7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=wa(s,n);return Qi(function p7(n){return n&&Uc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ta(),J1()):W(!0)}(r=Q1(e,r),e,t).pipe(ne(s=>!0===s?o:{...Fv})):W(o)}function Vv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||s8)(t,n,e);if(!i)return{...Fv};const o={};Gt(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Sf(n,e,t,r){if(t.length>0&&function S7(n,e,t){return t.some(r=>Rf(n,e,r)&&rr(r)!==ue)}(n,t,r)){const o=new fe(e,function A7(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&rr(o)!==ue){const s=new fe([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[rr(o)]=s}return i}(n,e,r,new fe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function R7(n,e,t){return t.some(r=>Rf(n,e,r))}(n,t,r)){const o=new fe(n.segments,function D7(n,e,t,r,i){const o={};for(const s of r)if(Rf(n,t,s)&&!i[rr(s)]){const a=new fe([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[rr(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new fe(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Rf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ek(n,e,t,r){return!!(rr(n)===r||r!==ue&&Rf(e,t,n))&&("**"===n.path||Vv(e,n,t).matched)}function tk(n,e,t){return 0===e.length&&!n.children[t]}const xf=!1;class Mf{constructor(e){this.segmentGroup=e||null}}class nk{constructor(e){this.urlTree=e}}function Bc(n){return ha(new Mf(n))}function rk(n){return ha(new nk(n))}class k7{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Sf(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(ne(o=>this.createUrlTree(If(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mi(o=>{if(o instanceof nk)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Mf?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(ne(i=>this.createUrlTree(If(i),e.queryParams,e.fragment))).pipe(mi(i=>{throw i instanceof Mf?this.noMatchError(i):i}))}noMatchError(e){return new P(4002,xf)}createUrlTree(e,t,r){const i=vv(e);return new Yi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ne(o=>new fe([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ut(i).pipe(Hi(o=>{const s=r.children[o],a=Y1(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ne(u=>({segment:u,outlet:o})))}),_1((o,s)=>(o[s.outlet]=s.segment,o),{}),y1())}expandSegment(e,t,r,i,o,s){return ut(r).pipe(Hi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(mi(c=>{if(c instanceof Mf)return W(null);throw c}))),Ki(a=>!!a),mi((a,u)=>{if(Ov(a))return tk(t,i,o)?W(new fe([],{})):Bc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return ek(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Bc(t):Bc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rk(o):this.lineralizeSegments(r,o).pipe(Lt(s=>{const a=new fe(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Vv(t,i,o);if(!a)return Bc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?rk(d):this.lineralizeSegments(i,d).pipe(Lt(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=Q1(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ne(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new fe(i,{})))):W(new fe(i,{}))):Z1(t,r,i,e).pipe(Ur(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Lt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Sf(t,a,u,h),g=new fe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ne(v=>new fe(a,v)));if(0===h.length&&0===p.length)return W(new fe(a,{}));const m=rr(r)===o;return this.expandSegment(d,g,h,p,m?ue:o,!0).pipe(ne(T=>new fe(a.concat(T.segments),T.children)))})):Bc(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function T7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=wa(s,n);return Qi(function l7(n){return n&&Uc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ta(),J1())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(Et(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function M7(n){return ha(W1(xf,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ue])return e.redirectTo,ha(new P(4e3,xf));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Yi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Gt(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new P(4001,xf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class O7{}class L7{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Sf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(ne(t=>{if(null===t)return null;const r=new Tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,t),o=new H1(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=$1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ut(Object.keys(r.children)).pipe(Hi(i=>{const o=r.children[i],s=Y1(t,i);return this.processSegmentGroup(e,s,o,i)}),_1((i,o)=>i&&o?(i.push(...o),i):null),function r8(n,e=!1){return Mt((t,r)=>{let i=0;t.subscribe(Tt(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),pf(null),y1(),ne(i=>{if(null===i)return null;const o=ok(i);return function U7(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return ut(t).pipe(Hi(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Ki(s=>!!s),mi(s=>{if(Ov(s))return tk(r,i,o)?W([]):W(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!ek(t,r,i,o))return W(null);let s;if("**"===t.path){const a=i.length>0?I1(i).parameters:{},u=ak(r)+i.length;s=W({snapshot:new Tf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uk(t),rr(t),t.component??t._loadedComponent??null,t,sk(r),u,ck(t)),consumedSegments:[],remainingSegments:[]})}else s=Z1(r,t,i,e).pipe(ne(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=ak(r)+u.length;return{snapshot:new Tf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uk(t),rr(t),t.component??t._loadedComponent??null,t,sk(r),d,ck(t)),consumedSegments:u,remainingSegments:c}}));return s.pipe(Ur(a=>{if(null===a)return W(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function B7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Sf(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ne(m=>null===m?null:[new vi(u,m)]));if(0===h.length&&0===p.length)return W([new vi(u,[])]);const g=rr(t)===o;return this.processSegment(d,h,f,p,g?ue:o).pipe(ne(m=>null===m?null:[new vi(u,m)]))}))}}function j7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ok(n){const e=[],t=new Set;for(const r of n){if(!j7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ok(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!t.has(r))}function sk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ak(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function uk(n){return n.data||{}}function ck(n){return n.resolve||{}}function lk(n){return"string"==typeof n.title||null===n.title}function Lv(n){return Ur(e=>{const t=n(e);return t?ut(t).pipe(ne(()=>e)):W(e)})}const Ca=new F("ROUTES");let Uv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(ix)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qi(t.loadComponent()).pipe(ne(hk),Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),qh(()=>{this.componentLoaders.delete(t)})),i=new g1(r,()=>new Zr).pipe(gv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ne(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=E1(u.get(Ca,[],Y.Self|Y.Optional)));return{routes:c.map(Nv),injector:u}}),qh(()=>{this.childrenLoaders.delete(r)})),s=new g1(o,()=>new Zr).pipe(gv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Qi(t()).pipe(ne(hk),Lt(r=>r instanceof pR||Array.isArray(r)?W(r):ut(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hk(n){return function Q7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let kf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Zr,this.configLoader=ae(Uv),this.environmentInjector=ae(Mr),this.urlSerializer=ae(Rc),this.rootContexts=ae(Oc),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new F8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new O8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(r=>0!==r.id),ne(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let i=!1,o=!1;return W(r).pipe(Et(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ur(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new wf(s.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Tr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return fk(s.source)&&(t.browserUrlTree=s.extractedUrl),W(s).pipe(Ur(l=>{const d=this.transitions?.getValue();return this.events.next(new wv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Tr:Promise.resolve(l)}),function N7(n,e,t,r){return Ur(i=>function P7(n,e,t,r,i){return new k7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ne(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Et(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function H7(n,e,t,r,i){return Lt(o=>function V7(n,e,t,r,i,o,s="emptyOnly"){return new L7(n,e,t,r,i,s,o).recognize().pipe(Ur(a=>null===a?function F7(n){return new Xe(e=>e.error(n))}(new O7):W(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(ne(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Et(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new x8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new wv(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=j1(d,this.rootComponentType).snapshot;return W(r={...s,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new wf(s.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Tr}}),Et(s=>{const a=new M8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>r={...s,guards:o7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function m7(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?W({...t,guardsResult:!0}):function _7(n,e,t,r){return ut(n).pipe(Lt(i=>function w7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const u=Fc(e)??i,c=wa(a,u);return Qi(function f7(n){return n&&Uc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Ki())})).pipe(Ta()):W(!0)}(i.component,i.route,t,e,r)),Ki(i=>!0!==i,!0))}(s,r,i,n).pipe(Lt(a=>a&&function c7(n){return"boolean"==typeof n}(a)?function y7(n,e,t,r){return ut(e).pipe(Hi(i=>pv(function E7(n,e){return null!==n&&e&&e(new V8(n)),W(!0)}(i.route.parent,r),function v7(n,e){return null!==n&&e&&e(new U8(n)),W(!0)}(i.route,r),function b7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function s7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>p1(()=>W(s.guards.map(u=>{const c=Fc(s.node)??t,l=wa(u,c);return Qi(function h7(n){return n&&Uc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Ki())})).pipe(Ta())));return W(o).pipe(Ta())}(n,i.path,t),function I7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>p1(()=>{const s=Fc(e)??t,a=wa(o,s);return Qi(function d7(n){return n&&Uc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ki())}));return W(i).pipe(Ta())}(n,i.route,t))),Ki(i=>!0!==i,!0))}(r,o,n,e):W(a)),ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Et(s=>{if(r.guardsResult=s.guardsResult,$o(s.guardsResult))throw z1(0,s.guardsResult);const a=new P8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),_i(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Lv(s=>{if(s.guards.canActivateChecks.length)return W(s).pipe(Et(a=>{const u=new k8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ur(a=>{let u=!1;return W(a).pipe(function G7(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=0;return ut(i).pipe(Hi(s=>function z7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!lk(i)&&(o[Ac]=i.title),function W7(n,e,t,r){const i=function q7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const o={};return ut(i).pipe(Lt(s=>function K7(n,e,t,r){const i=Fc(e)??r,o=wa(n,i);return Qi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ki(),Et(a=>{o[s]=a}))),mv(1),function i8(n){return ne(()=>n)}(o),mi(s=>Ov(s)?Tr:ha(s)))}(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=$1(n,t).resolve,i&&lk(i)&&(n.data[Ac]=i.title),null)))}(s.route,r,n,e)),Et(()=>o++),mv(1),Lt(s=>o===i.length?W(t):Tr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Et(a=>{const u=new N8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Lv(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Et(l=>{u.component=l}),ne(()=>{})));for(const l of u.children)c.push(...a(l));return c};return h1(a(s.targetSnapshot.root)).pipe(pf(),ma(1))}),Lv(()=>this.afterPreactivation()),ne(s=>{const a=function K8(n,e,t){const r=Nc(n,e._root,t?t._root:void 0);return new B1(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Et(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>ne(r=>(new i7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),ma(1),Et({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ho(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),qh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mi(s=>{if(o=!0,K1(s)){q1(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new bf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),q1(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||fk(r.source)};t.scheduleNavigation(u,kc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Tv(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Tr}))}))}cancelNavigationTransition(t,r,i){const o=new bf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fk(n){return n!==kc}let pk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Ac]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return ae(Y7)},providedIn:"root"}),n})(),Y7=(()=>{class n extends pk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(L(TM))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return ae(Z7)},providedIn:"root"}),n})();class J7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Z7=(()=>{class n extends J7{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(n)))(r||n)}}(),n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nf=new F("",{providedIn:"root",factory:()=>({})});let tK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:function(){return ae(nK)},providedIn:"root"}),n})(),nK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rK(n){throw n}function iK(n,e,t){return e.parse("/")}const oK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ae(AG),this.isNgZoneEnabled=!1,this.options=ae(Nf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||rK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ae(tK),this.routeReuseStrategy=ae(X7),this.urlCreationStrategy=ae(z8),this.titleStrategy=ae(pk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=E1(ae(Ca,{optional:!0})??[]),this.navigationTransitions=ae(kf),this.urlSerializer=ae(Rc),this.location=ae(ly),this.isNgZoneEnabled=ae(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=j1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$o(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kc,null,r)}navigate(t,r={skipLocationChange:!1}){return function aK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new P(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...oK}:!1===r?{...sK}:r,$o(t))return w1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return w1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Of=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Zr;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ho&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ca(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ca(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ca(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function BD(n,e,t){return function C$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?UD:LD}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(x(mn),x(ba),function Bd(n){return function WB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(RC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}($t(),n)}("tabindex"),x(ui),x(Vn),x(Fo))},n.\u0275dir=ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Ie("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Kn]}),n})();class gk{}let lK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_i(t=>t instanceof Ho),Hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=yh(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ut(i).pipe(bs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const o=i.pipe(Lt(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ut([o,this.loader.loadComponent(r)]).pipe(bs()):o})}}return n.\u0275fac=function(t){return new(t||n)(L(mn),L(ix),L(Mr),L(gk),L(Uv))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jv=new F("");let mk=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ho&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof L1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new L1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function yA(){throw new Error("invalid")}()},n.\u0275prov=G({token:n,factory:n.\u0275fac}),n})();var Bn=(()=>((Bn=Bn||{})[Bn.COMPLETE=0]="COMPLETE",Bn[Bn.FAILED=1]="FAILED",Bn[Bn.REDIRECTING=2]="REDIRECTING",Bn))();const Da=!1;function Xi(n,e){return{\u0275kind:n,\u0275providers:e}}const $v=new F("",{providedIn:"root",factory:()=>!1});function yk(){const n=ae(Ln);return e=>{const t=n.get(Ch);if(e!==t.components[0])return;const r=n.get(mn),i=n.get(vk);1===n.get(Hv)&&r.initialNavigation(),n.get(Ek,null,Y.Optional)?.setUpPreloading(),n.get(jv,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vk=new F(Da?"bootstrap done indicator":"",{factory:()=>new Zr}),Hv=new F(Da?"initial navigation":"",{providedIn:"root",factory:()=>1});function gK(){let n=[];return n=Da?[{provide:Jd,multi:!0,useFactory:()=>{const e=ae(mn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function j8(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Xi(1,n)}const Ek=new F(Da?"router preloader":"");function mK(n){return Xi(0,[{provide:Ek,useExisting:lK},{provide:gk,useExisting:n}])}const jc=!1,Ik=new F(jc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),_K=[ly,{provide:Rc,useClass:_v},mn,Oc,{provide:ba,useFactory:function _k(n){return n.routerState.root},deps:[mn]},Uv,jc?{provide:$v,useValue:!0}:[]];function yK(){return new hx("Router",mn)}let bk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_K,jc&&r?.enableTracing?gK().\u0275providers:[],{provide:Ca,multi:!0,useValue:t},{provide:Ik,useFactory:bK,deps:[[mn,new Zt,new Ls]]},{provide:Nf,useValue:r||{}},r?.useHash?{provide:Fo,useClass:pz}:{provide:Fo,useClass:Ox},{provide:jv,useFactory:()=>{const n=ae(N6),e=ae(Ke),t=ae(Nf),r=ae(kf),i=ae(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mk(i,r,n,e,t)}},r?.preloadingStrategy?mK(r.preloadingStrategy).\u0275providers:[],{provide:hx,multi:!0,useFactory:yK},r?.initialNavigation?wK(r):[],[{provide:wk,useFactory:yk},{provide:dx,multi:!0,useExisting:wk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ca,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(L(Ik,8))},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[Pv]}),n})();function bK(n){if(jc&&n)throw new P(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wK(n){return["disabled"===n.initialNavigation?Xi(3,[{provide:bh,multi:!0,useFactory:()=>{const e=ae(mn);return()=>{e.setUpLocationChangeListener()}}},{provide:Hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xi(2,[{provide:Hv,useValue:0},{provide:bh,multi:!0,deps:[Ln],useFactory:e=>{const t=e.get(hz,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(mn),o=e.get(vk);(function dK(n,e){n.events.pipe(_i(t=>t instanceof Ho||t instanceof bf||t instanceof Tv||t instanceof wf),ne(t=>t instanceof Ho||t instanceof wf?Bn.COMPLETE:t instanceof bf&&(0===t.code||1===t.code)?Bn.REDIRECTING:Bn.FAILED),_i(t=>t!==Bn.REDIRECTING),ma(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(kf).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const wk=new F(jc?"Router Initializer":""),CK=function(){return["/facture-create"]},DK=function(){return["/factures"]},Tk=function(){return["/caisse"]};let AK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-home"]],decls:60,vars:8,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],["href","#"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["src","assets/bon.png","alt","",1,"h-60","scale-[1.3]","group-hover:scale-[1.1]","mx-auto","transition-all","duration-500"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1",1),b(2,"Transit Operation"),y(),_(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),Se(8,"img",6),y(),_(9,"div",7)(10,"span",8),b(11,"total : 11"),y(),_(12,"h3",9),b(13,"Facture Create"),y(),_(14,"p"),b(15,"by "),_(16,"a",10),b(17,"Transit Operation"),y()()()()()(),_(18,"div",3)(19,"div",4)(20,"div")(21,"div",5),Se(22,"img",11),y(),_(23,"div",7)(24,"span",8),b(25,"total : 3"),y(),_(26,"h3",9),b(27,"Factures Close"),y(),_(28,"p"),b(29,"by "),_(30,"a",12),b(31,"Transit Operation"),y()()()()()(),_(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),Se(36,"img",13),y(),_(37,"div",7)(38,"span",8),b(39,"Montant :"),y(),_(40,"h3",9),b(41,"Caisse"),y(),_(42,"p"),b(43,"by "),_(44,"a",12),b(45,"Transit Operation"),y()()()()()(),_(46,"div",3)(47,"div",4)(48,"div")(49,"div",5),Se(50,"img",14),y(),_(51,"div",7)(52,"span",8),b(53,"total :"),y(),_(54,"h3",9),b(55,"Bons"),y(),_(56,"p"),b(57,"by "),_(58,"a",12),b(59,"Transit Operation"),y()()()()()()()()),2&r&&(X(4),Fe("routerLink",sc(4,CK)),X(14),Fe("routerLink",sc(5,DK)),X(14),Fe("routerLink",sc(6,Tk)),X(14),Fe("routerLink",sc(7,Tk)))},dependencies:[Of],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function Ck(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function C(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Ck(o,r,i,s,a,"next",u)}function a(u){Ck(o,r,i,s,a,"throw",u)}s(void 0)})}}const Dk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Dk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new MK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ff=function(n){return function(n){const e=Dk(n);return Ak.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Vf=function(n){try{return Ak.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Lf=()=>{try{return function NK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},UK=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Lf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rk=()=>{var n;return null===(n=Lf())||void 0===n?void 0:n.config};class xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function jn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function QK(n,e){return n.replace(YK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ji(i,`${this.serviceName}: ${s} (${i}).`,r)}}const YK=/\{\$([^}]+)}/g;function zv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(Pk(o)&&Pk(s)){if(!zv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Pk(n){return null!==n&&"object"==typeof n}function kk(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class JK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function ZK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Wv),void 0===i.error&&(i.error=Wv),void 0===i.complete&&(i.complete=Wv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wv(){}function $r(n){return n&&n._delegate?n._delegate:n}class Go{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class oQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function aQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===zo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class uQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Kv=[];var ge=(()=>{return(n=ge||(ge={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ge;var n})();const Nk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},cQ=ge.INFO,lQ={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},dQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=lQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Qv{constructor(e){this.name=e,this._logLevel=cQ,this._logHandler=dQ,this._userLogHandler=null,Kv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const hQ=(n,e)=>e.some(t=>n instanceof t);let Ok,Fk;const Vk=new WeakMap,Yv=new WeakMap,Lk=new WeakMap,Xv=new WeakMap,Jv=new WeakMap;let Zv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Yv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Lk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function vQ(n){return"function"==typeof n?function yQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pQ(){return Fk||(Fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(eE(this),e),Zi(Vk.get(this))}:function(...e){return Zi(n.apply(eE(this),e))}:function(e,...t){const r=n.call(eE(this),e,...t);return Lk.set(r,e.sort?e.sort():[e]),Zi(r)}}(n):(n instanceof IDBTransaction&&function mQ(n){if(Yv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Yv.set(n,e)}(n),hQ(n,function fQ(){return Ok||(Ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Zv):n)}function Zi(n){if(n instanceof IDBRequest)return function gQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Vk.set(t,n)}).catch(()=>{}),Jv.set(e,n),e}(n);if(Xv.has(n))return Xv.get(n);const e=vQ(n);return e!==n&&(Xv.set(n,e),Jv.set(e,n)),e}const eE=n=>Jv.get(n),IQ=["get","getKey","getAll","getAllKeys","count"],bQ=["put","add","delete","clear"],tE=new Map;function Uk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(tE.get(e))return tE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=bQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!IQ.includes(t))return;const o=function(){var s=C(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return tE.set(e,o),o}!function _Q(n){Zv=n(Zv)}(n=>({...n,get:(e,t,r)=>Uk(e,t)||n.get(e,t,r),has:(e,t)=>!!Uk(e,t)||n.has(e,t)}));class wQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function TQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const nE="@firebase/app",Wo=new Qv("@firebase/app"),Bf="[DEFAULT]",YQ={[nE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qo=new Map,jf=new Map;function XQ(n,e){try{n.container.addComponent(e)}catch(t){Wo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(jf.has(e))return Wo.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,n);for(const t of qo.values())XQ(t,n);return!0}const Ei=new $c("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ZQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const $f="10.7.1";function $k(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(t||(t=Rk()),!t)throw Ei.create("no-options");const o=qo.get(i);if(o){if(zv(t,o.options)&&zv(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}const s=new uQ(i);for(const u of jf.values())s.addComponent(u);const a=new ZQ(t,r,s);return qo.set(i,a),a}function Hk(n=Bf){const e=qo.get(n);if(!e&&n===Bf&&Rk())return $k();if(!e)throw Ei.create("no-app",{appName:n});return e}function Gk(){return Array.from(qo.values())}function ir(n,e,t){var r;let i=null!==(r=YQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wo.warn(a.join(" "))}Aa(new Go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eY="firebase-heartbeat-database",tY=1,Hc="firebase-heartbeat-store";let iE=null;function zk(){return iE||(iE=function EQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Zi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zi(s.result),u.oldVersion,u.newVersion,Zi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(eY,tY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Hc)}}).catch(n=>{throw Ei.create("idb-open",{originalErrorMessage:n.message})})),iE}function oE(){return(oE=C(function*(n){try{return yield(yield zk()).transaction(Hc).objectStore(Hc).get(qk(n))}catch(e){if(e instanceof Ji)Wo.warn(e.message);else{const t=Ei.create("idb-get",{originalErrorMessage:e?.message});Wo.warn(t.message)}}})).apply(this,arguments)}function Wk(n,e){return sE.apply(this,arguments)}function sE(){return(sE=C(function*(n,e){try{const r=(yield zk()).transaction(Hc,"readwrite");yield r.objectStore(Hc).put(e,qk(n)),yield r.done}catch(t){if(t instanceof Ji)Wo.warn(t.message);else{const r=Ei.create("idb-set",{originalErrorMessage:t?.message});Wo.warn(r.message)}}})).apply(this,arguments)}function qk(n){return`${n.name}!${n.options.appId}`}class oY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kk();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return C(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Kk(),{heartbeatsToSend:i,unsentEntries:o}=function sY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Qk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Qk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Kk(){return(new Date).toISOString().substring(0,10)}class aY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!function WK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function qK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function nY(n){return oE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Wk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Wk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Qk(n){return Ff(JSON.stringify({version:2,heartbeats:n})).length}!function uY(n){Aa(new Go("platform-logger",e=>new wQ(e),"PRIVATE")),Aa(new Go("heartbeat",e=>new oY(e),"PRIVATE")),ir(nE,"0.9.25",n),ir(nE,"0.9.25","esm2017"),ir("fire-js","")}("");class dY extends Rn{constructor(e,t){super()}schedule(e,t=0){return this}}const Hf={setInterval(n,e,...t){const{delegate:r}=Hf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Hf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Yk extends dY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Hf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Hf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Is(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Xk={now:()=>(Xk.delegate||Date).now(),delegate:void 0};class Gc{constructor(e,t=Gc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gc.now=Xk.now;class Jk extends Gc{constructor(e,t=Gc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const pY=new class fY extends Jk{}(class hY extends Yk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),gY=new Jk(Yk),aE=new Fi("ANGULARFIRE2_VERSION");const uE=(n,e)=>{const t=e?[e]:Gk(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class mY{constructor(){return uE(_Y)}}const _Y="app-check";function Sa(){}class eN{zone;delegate;constructor(e,t=pY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class yY{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)),t.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tN=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new eN(Zone.current)),this.insideAngular=t.run(()=>new eN(Zone.current,gY)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(L(Ke))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ra(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ko(n){return Ra().ngZone.run(()=>n())}function EY(n){return function IY(n){return function(t){return(t=t.lift(new yY(n.ngZone))).pipe(gd(n.outsideAngular),pd(n.insideAngular))}}(Ra())(n)}const bY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ko(()=>n.apply(void 0,r))},xa=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=Ko(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa))),r[o]=bY(r[o],t));const i=function vY(n){return Ra().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Xe){const o=Ra();return i.pipe(gd(o.outsideAngular),pd(o.insideAngular))}return Ko(()=>i)}return i instanceof Xe?i.pipe(EY):i instanceof Promise?Ko(()=>new Promise((o,s)=>i.then(a=>Ko(()=>o(a)),a=>Ko(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ko(()=>i)};class zc{constructor(e){return e}}class nN{constructor(){return Gk()}}const cE=new F("angularfire2._apps"),TY={provide:zc,useFactory:function wY(n){return n&&1===n.length?n[0]:new zc(Hk())},deps:[[new Zt,cE]]},CY={provide:nN,deps:[[new Zt,cE]]};function DY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zc(r)}}let AY=(()=>{class n{constructor(t){ir("angularfire",aE.full,"core"),ir("angularfire",aE.full,"app"),ir("angular",ZD.full,t.toString())}static \u0275fac=function(r){return new(r||n)(L(dc))};static \u0275mod=Pt({type:n});static \u0275inj=Ct({providers:[TY,CY]})}return n})();function SY(n,...e){return{ngModule:AY,providers:[{provide:cE,useFactory:DY(n),multi:!0,deps:[Ke,Ln,tN,...e]}]}}const RY=xa($k,!0);const xY=function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iN=new $c("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gf=new Qv("@firebase/auth");function zf(n,...e){Gf.logLevel<=ge.ERROR&&Gf.error(`Auth (${$f}): ${n}`,...e)}function Cn(n,...e){throw lE(n,...e)}function Hr(n,...e){return lE(n,...e)}function lE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iN.create(n,...e)}function k(n,e,...t){if(!n)throw lE(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function eo(n,e){n||Gr(e)}function sN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function PY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dE(){return"http:"===sN()||"https:"===sN()}()||function GK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,eo(t>e,"Short delay should be less than long delay!"),this.isMobile=function $K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}()||function zK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return PY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class aN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},OY=new qc(3e4,6e4);function He(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ge(n,e,t,r){return fE.apply(this,arguments)}function fE(){return(fE=C(function*(n,e,t,r,i={}){return uN(n,i,C(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=kk(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),aN.fetch()(cN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function uN(n,e,t){return pE.apply(this,arguments)}function pE(){return(pE=C(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},NY),e);try{const i=new VY(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Kc(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Kc(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Kc(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw Kc(n,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function oN(n,e,t){const r=Object.assign(Object.assign({},xY()),{[e]:t});return new $c("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);Cn(n,l)}}catch(i){if(i instanceof Ji)throw i;Cn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function cN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function hE(n,e){eo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class VY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),OY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Hr(n,e,r);return i.customData._tokenResponse=t,i}function yE(){return(yE=C(function*(n,e){return Ge(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function EE(){return(EE=C(function*(n,e){return Ge(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function IE(){return(IE=C(function*(n,e=!1){const t=$r(n),r=yield t.getIdToken(e),i=Wf(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qc(bE(i.auth_time)),issuedAtTime:Qc(bE(i.iat)),expirationTime:Qc(bE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function bE(n){return 1e3*Number(n)}function Wf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vf(t);return i?JSON.parse(i):(zf("Failed to decode base64 JWT payload"),null)}catch(i){return zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bi(n,e){return wE.apply(this,arguments)}function wE(){return(wE=C(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ji&&function GY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class zY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield t.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yc(n){return TE.apply(this,arguments)}function TE(){return TE=C(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield bi(n,function jY(n,e){return EE.apply(this,arguments)}(t,{idToken:r}));k(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function KY(n){return n.map(e=>{var{providerId:t}=e,r=Og(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function qY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),l=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),TE.apply(this,arguments)}function CE(){return(CE=C(function*(n){const e=$r(n);yield Yc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function DE(){return(DE=C(function*(n,e){const t=yield uN(n,{},C(function*(){const r=kk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=cN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function AE(){return(AE=C(function*(n,e){return Ge(n,"POST","/v2/accounts:revokeToken",He(n,e))})).apply(this,arguments)}class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function HY(n){const e=Wf(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return C(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return C(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function QY(n,e){return DE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Xc;return r&&(k("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(k("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function to(n,e){k("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Qo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return C(function*(){const r=yield bi(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function $Y(n){return IE.apply(this,arguments)}(this,e)}reload(){return function WY(n){return CE.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return C(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Yc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return C(function*(){const t=yield e.getIdToken();return yield bi(e,function UY(n,e){return yE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,T=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:M,isAnonymous:$,providerData:q,stsTokenManager:nt}=t;k(v&&nt,e,"internal-error");const Sn=Xc.fromJSON(this.name,nt);k("string"==typeof v,e,"internal-error"),to(d,e.name),to(h,e.name),k("boolean"==typeof M,e,"internal-error"),k("boolean"==typeof $,e,"internal-error"),to(f,e.name),to(p,e.name),to(g,e.name),to(m,e.name),to(I,e.name),to(T,e.name);const cd=new Qo({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Sn,createdAt:I,lastLoginAt:T});return q&&Array.isArray(q)&&(cd.providerData=q.map(Ag=>Object.assign({},Ag))),m&&(cd._redirectEventId=m),cd}static _fromIdTokenResponse(e,t,r=!1){return C(function*(){const i=new Xc;i.updateFromServerResponse(t);const o=new Qo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yc(o),o})()}}const gN=new Map;function wi(n){eo(n instanceof Function,"Expected a class definition");let e=gN.get(n);return e?(eo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gN.set(n,e),e)}const mN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(t,r){var i=this;return C(function*(){i.storage[t]=r})()}_get(t){var r=this;return C(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return C(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function qf(n,e,t){return`firebase:${n}:${e}:${t}`}class Pa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qf(this.userKey,i.apiKey,o),this.fullPersistenceKey=qf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Qo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return C(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(function*(){if(!t.length)return new Pa(wi(mN),e,r);const i=(yield Promise.all(t.map(function(){var c=C(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||wi(mN);const s=qf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(s);if(l){const d=Qo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=C(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Pa(o,e,r)):new Pa(o,e,r)})()}}function _N(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function EN(n=jn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function yN(n=jn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function bN(n=jn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function wN(n=jn()){return/webos/i.test(n)}(e))return"Webos";if(function SE(n=jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function vN(n=jn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function IN(n=jn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function TN(n,e=[]){let t;switch(n){case"Browser":t=_N(jn());break;case"Worker":t=`${_N(jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$f}/${r}`}class ZY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return C(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function RE(){return(RE=C(function*(n,e={}){return Ge(n,"GET","/v2/passwordPolicy",He(n,e))})).apply(this,arguments)}class nX{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class rX{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CN(this),this.idTokenSubscription=new CN(this),this.beforeStateQueue=new ZY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(C(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Pa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return C(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return C(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return C(function*(){try{yield Yc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function kY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return C(function*(){const r=e?$r(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return C(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(C(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return C(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(C(function*(){yield t.assertedPersistence.setPersistence(wi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return C(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return C(function*(){const t=yield function eX(n){return RE.apply(this,arguments)}(e),r=new nX(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return C(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function YY(n,e){return AE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return C(function*(){if(!t.redirectPersistenceManager){const r=e&&wi(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield Pa.create(t,[wi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return C(function*(){var r,i;return t._isInitialized&&(yield t.queue(C(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return C(function*(){if(e===t.currentUser)return t.queue(C(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return C(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return C(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function MY(n,...e){Gf.logLevel<=ge.WARN&&Gf.warn(`Auth (${$f}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class CN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function XK(n,e){const t=new JK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function DN(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new qc(3e4,6e4),new qc(2e3,1e4),new qc(3e4,6e4),new qc(5e3,15e3),encodeURIComponent("fac");var rO="@firebase/auth";class oZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return C(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Lf(),function aZ(n){Aa(new Go("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;k(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TN(n)},c=new rX(r,i,o,u);return function lX(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Aa(new Go("auth-internal",e=>{const t=function ft(n){return $r(n)}(e.getProvider("auth").getImmediate());return new oZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(rO,"1.5.1",function sZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ir(rO,"1.5.1","esm2017")}("Browser");class aO{constructor(){return uE("auth")}}var V,pZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},Ib=Ib||{},re=pZ||self;function sp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bb="closure_uid_"+(1e9*Math.random()>>>0),mZ=0;function _Z(n,e,t){return n.call.apply(n.bind,arguments)}function yZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function rn(n,e,t){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_Z:yZ).apply(null,arguments)}function ap(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function kt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function no(){this.s=this.s,this.o=this.o}no.prototype.s=!1,no.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function gZ(n){Object.prototype.hasOwnProperty.call(n,bb)&&n[bb]||(n[bb]=++mZ)}(this)},no.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function wb(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sp(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function on(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var EZ=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};re.addEventListener("test",t,e),re.removeEventListener("test",t,e)}catch{}return n}();function il(n){return/^[\s\xa0]*$/.test(n)}function up(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function zr(n){return-1!=up().indexOf(n)}function Tb(n){return Tb[" "](n),n}Tb[" "]=function(){};var Db,bZ=zr("Opera"),ka=zr("Trident")||zr("MSIE"),lO=zr("Edge"),Cb=lO||ka,dO=zr("Gecko")&&!(-1!=up().toLowerCase().indexOf("webkit")&&!zr("Edge"))&&!(zr("Trident")||zr("MSIE"))&&!zr("Edge"),wZ=-1!=up().toLowerCase().indexOf("webkit")&&!zr("Edge");function hO(){var n=re.document;return n?n.documentMode:void 0}e:{var Ab="",Sb=function(){var n=up();return dO?/rv:([^\);]+)(\)|;)/.exec(n):lO?/Edge\/([\d\.]+)/.exec(n):ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wZ?/WebKit\/(\S+)/.exec(n):bZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Sb&&(Ab=Sb?Sb[1]:""),ka){var Rb=hO();if(null!=Rb&&Rb>parseFloat(Ab)){Db=String(Rb);break e}}Db=Ab}var TZ=re.document&&ka&&(hO()||parseInt(Db,10))||void 0;function ol(n,e){if(on.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dO){e:{try{Tb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ol.$.h.call(this)}}kt(ol,on);var CZ={2:"touch",3:"pen",4:"mouse"};ol.prototype.h=function(){ol.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),DZ=0;function AZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++DZ,this.fa=this.ia=!1}function cp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Mb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pO(n){const e={};for(const t in n)e[t]=n[t];return e}const gO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<gO.length;o++)t=gO[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function lp(n){this.src=n,this.g={},this.h=0}function Pb(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=uO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(cp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function kb(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}lp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=kb(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new AZ(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Nb="closure_lm_"+(1e6*Math.random()|0),Ob={};function _O(n,e,t,r,i){if(r&&r.once)return vO(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_O(n,e[o],t,r,i);return null}return t=Ub(t),n&&n[sl]?n.O(e,t,rl(r)?!!r.capture:!!r,i):yO(n,e,t,!1,r,i)}function yO(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=rl(i)?!!i.capture:!!i,a=Vb(n);if(a||(n[Nb]=a=new lp(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function RZ(){const e=xZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)EZ||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(IO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vO(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vO(n,e[o],t,r,i);return null}return t=Ub(t),n&&n[sl]?n.P(e,t,rl(r)?!!r.capture:!!r,i):yO(n,e,t,!0,r,i)}function EO(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)EO(n,e[o],t,r,i);else r=rl(r)?!!r.capture:!!r,t=Ub(t),n&&n[sl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=kb(o=n.g[e],t,r,i))&&(cp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Vb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=kb(e,t,r,i)),(t=-1<n?e[n]:null)&&Fb(t))}function Fb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[sl])Pb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(IO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Vb(e))?(Pb(t,n),0==t.h&&(t.src=null,e[Nb]=null)):cp(n)}}}function IO(n){return n in Ob?Ob[n]:Ob[n]="on"+n}function xZ(n,e){if(n.fa)n=!0;else{e=new ol(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Fb(n),n=t.call(r,e)}return n}function Vb(n){return(n=n[Nb])instanceof lp?n:null}var Lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ub(n){return"function"==typeof n?n:(n[Lb]||(n[Lb]=function(e){return n.handleEvent(e)}),n[Lb])}function Nt(){no.call(this),this.i=new lp(this),this.S=this,this.J=null}function zt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new on(e,n);else if(e instanceof on)e.target=e.target||n;else{var i=e;mO(e=new on(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=dp(s,r,!0,e)&&i}if(i=dp(s=e.g=n,r,!0,e)&&i,i=dp(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=dp(s=e.g=t[o],r,!1,e)&&i}function dp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,u=s.la||s.src;s.ia&&Pb(n.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(Nt,no),Nt.prototype[sl]=!0,Nt.prototype.removeEventListener=function(n,e,t,r){EO(this,n,e,t,r)},Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)cp(t[r]);delete n.g[e],n.h--}}this.J=null},Nt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bb=re.JSON.stringify;function PZ(){var n=jb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bO=new class MZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new NZ,n=>n.reset());class NZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function OZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function FZ(n){re.setTimeout(()=>{throw n},0)}let al,ul=!1,jb=new class kZ{constructor(){this.h=this.g=null}add(e,t){const r=bO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},wO=()=>{const n=re.Promise.resolve(void 0);al=()=>{n.then(VZ)}};var VZ=()=>{for(var n;n=PZ();){try{n.h.call(n.g)}catch(t){FZ(t)}var e=bO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ul=!1};function hp(n,e){Nt.call(this),this.h=n||1,this.g=e||re,this.j=rn(this.qb,this),this.l=Date.now()}function $b(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Hb(n,e,t){if("function"==typeof n)t&&(n=rn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rn(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function TO(n){n.g=Hb(()=>{n.g=null,n.i&&(n.i=!1,TO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}kt(hp,Nt),(V=hp.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&($b(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){hp.$.N.call(this),$b(this),delete this.g};class LZ extends no{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TO(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cl(n){no.call(this),this.h=n,this.g={}}kt(cl,no);var CO=[];function DO(n,e,t,r){Array.isArray(t)||(t&&(CO[0]=t.toString()),t=CO);for(var i=0;i<t.length;i++){var o=_O(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function AO(n){Mb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fb(e)},n),n.g={}}function fp(){this.g=!0}function Na(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $Z(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cl.prototype.N=function(){cl.$.N.call(this),AO(this)},cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fp.prototype.Ea=function(){this.g=!1},fp.prototype.info=function(){};var Zo={},SO=null;function pp(){return SO=SO||new Nt}function RO(n){on.call(this,Zo.Ta,n)}function ll(n){const e=pp();zt(e,new RO(e))}function xO(n,e){on.call(this,Zo.STAT_EVENT,n),this.stat=e}function _n(n){const e=pp();zt(e,new xO(e,n))}function MO(n,e){on.call(this,Zo.Ua,n),this.size=e}function dl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Zo.Ta="serverreachability",kt(RO,on),Zo.STAT_EVENT="statevent",kt(xO,on),Zo.Ua="timingevent",kt(MO,on);var gp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gb(){}function NO(){}Gb.prototype.h=null;var qb,hl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zb(){on.call(this,"d")}function Wb(){on.call(this,"c")}function mp(){}function fl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new cl(this),this.P=HZ,this.V=new hp(n=Cb?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OO}function OO(){this.i=null,this.g="",this.h=!1}kt(zb,on),kt(Wb,on),kt(mp,Gb),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},qb=new mp;var HZ=45e3,FO={},Kb={};function Qb(n,e,t){n.L=1,n.A=Ep(Ci(e)),n.u=t,n.S=!0,VO(n,null)}function VO(n,e){n.G=Date.now(),pl(n),n.B=Ci(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),qO(t.i,"t",r),n.o=0,t=n.l.J,n.h=new OO,n.g=_F(n.l,t?e:null,!n.u),0<n.O&&(n.M=new LZ(rn(n.Pa,n,n.g),n.O)),DO(n.U,n.g,"readystatechange",n.nb),e=n.I?pO(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ll(),function UZ(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function LO(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function UO(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=GZ(n,t),i==Kb){4==e&&(n.s=4,_n(14),r=!1),Na(n.j,n.m,null,"[Incomplete Response]");break}if(i==FO){n.s=4,_n(15),Na(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Na(n.j,n.m,i,null),Yb(n,i)}LO(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,_n(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rw(e),e.M=!0,_n(11))):(Na(n.j,n.m,t,"[Invalid Chunked Response]"),es(n),gl(n))}function GZ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?Kb:(t=Number(e.substring(t,r)),isNaN(t)?FO:(r+=1)+t>e.length?Kb:(e=e.slice(r,r+t),n.o=r+t,e))}function pl(n){n.Y=Date.now()+n.P,BO(n,n.P)}function BO(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=dl(rn(n.lb,n),e)}function _p(n){n.C&&(re.clearTimeout(n.C),n.C=null)}function gl(n){0==n.l.H||n.J||fF(n.l,n)}function es(n){_p(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$b(n.V),AO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Yb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Xb(t.i,n)))if(!n.K&&Xb(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Dp(t),Tp(t)}nw(t),_n(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=dl(rn(t.ib,t),6e3));if(1>=YO(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ns(t,11)}else if((n.K||t.g==n)&&Dp(t),!il(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Jb(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ze(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=mF(r,r.J?r.pa:null,r.Y),s.K){XO(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(_p(a),pl(a)),r.g=s}else dF(r);0<t.j.length&&Cp(t)}else"stop"!=c[0]&&"close"!=c[0]||ns(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ns(t,7):tw(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}ll()}catch{}}function jO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function WZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(V=fl.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==Wr(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const l=Wr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Cb||this.g&&(this.h.h||this.g.ja()||oF(this.g)))){this.J||4!=l||7==e||ll(),_p(this);var t=this.g.da();this.ca=t;t:if(LO(this)){var r=oF(this.g);n="";var i=r.length,o=4==Wr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){es(this),gl(this);var s="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function BZ(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!il(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,_n(12),es(this),gl(this);break e}Na(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yb(this,t)}this.S?(UO(this,l,s),Cb&&this.i&&3==l&&(DO(this.U,this.V,"tick",this.mb),this.V.start())):(Na(this.j,this.m,s,null),Yb(this,s)),4==l&&es(this),this.i&&!this.J&&(4==l?fF(this.l,this):(this.i=!1,pl(this)))}else(function lee(n){const e={};n=(n.g&&2<=Wr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(il(n[r]))continue;var t=OZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function SZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),es(this),gl(this)}}}catch{}},V.mb=function(){if(this.g){var n=Wr(this.g),e=this.g.ja();this.o<e.length&&(_p(this),UO(this,n,e),this.i&&4!=n&&pl(this))}},V.cancel=function(){this.J=!0,es(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function jZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ll(),_n(17)),es(this),this.s=2,gl(this)):BO(this,this.Y-n)};var $O=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ts(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ts){this.h=n.h,yp(this,n.j),this.s=n.s,this.g=n.g,vp(this,n.m),this.l=n.l;var e=n.i,t=new yl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HO(this,t),this.o=n.o}else n&&(e=String(n).match($O))?(this.h=!1,yp(this,e[1]||"",!0),this.s=ml(e[2]||""),this.g=ml(e[3]||"",!0),vp(this,e[4]),this.l=ml(e[5]||"",!0),HO(this,e[6]||"",!0),this.o=ml(e[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}function Ci(n){return new ts(n)}function yp(n,e,t){n.j=t?ml(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HO(n,e,t){e instanceof yl?(n.i=e,function ZZ(n,e){e&&!n.j&&(ro(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zO(this,r),qO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_l(e,XZ)),n.i=new yl(e,n.h))}function ze(n,e,t){n.i.set(e,t)}function Ep(n){return ze(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ml(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _l(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,KZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function KZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ts.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_l(e,GO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_l(e,GO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_l(t,"/"==t.charAt(0)?YZ:QZ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_l(t,JZ)),n.join("")};var GO=/[#\/\?@]/g,QZ=/[#\?:]/g,YZ=/[#\?]/g,XZ=/[#\?@]/g,JZ=/#/g;function yl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ro(n){n.g||(n.g=new Map,n.h=0,n.i&&function qZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zO(n,e){ro(n),e=Oa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WO(n,e){return ro(n),e=Oa(n,e),n.g.has(e)}function qO(n,e,t){zO(n,e),0<t.length&&(n.i=null,n.g.set(Oa(n,e),wb(t)),n.h+=t.length)}function Oa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KO(n){this.l=n||tee,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=yl.prototype).add=function(n,e){ro(this),this.i=null,n=Oa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){ro(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){ro(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},V.Z=function(n){ro(this);let e=[];if("string"==typeof n)WO(this,n)&&(e=e.concat(this.g.get(Oa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return ro(this),this.i=null,WO(this,n=Oa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var tee=10;function QO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YO(n){return n.h?1:n.g?n.g.size:0}function Xb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Jb(n,e){n.g?n.g.add(e):n.h=e}function XO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function JO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return wb(n.i)}KO.prototype.cancel=function(){if(this.i=JO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var nee=class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}};function ree(){this.g=new nee}function iee(n,e,t){const r=t||"";try{jO(n,function(i,o){let s=i;rl(i)&&(s=Bb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ip(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vl(n){this.l=n.ec||null,this.j=n.ob||!1}function bp(n,e){Nt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Zb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(vl,Gb),vl.prototype.g=function(){return new bp(this.l,this.j)},vl.prototype.i=function(n){return function(){return n}}({}),kt(bp,Nt);var Zb=0;function ZO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function El(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Il(n)}function Il(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=bp.prototype).open=function(n,e){if(this.readyState!=Zb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Il(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,El(this)),this.readyState=Zb},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?El(this):Il(this),3==this.readyState&&ZO(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,El(this))},V.Ya=function(n){this.g&&(this.response=n,El(this))},V.ka=function(){this.g&&El(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var see=re.JSON.parse;function st(n){Nt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eF,this.L=this.M=!1}kt(st,Nt);var eF="",aee=/^https?$/i,uee=["POST","PUT"];function tF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nF(n),wp(n)}function nF(n){n.F||(n.F=!0,zt(n,"complete"),zt(n,"error"))}function rF(n){if(n.h&&typeof Ib<"u"&&(!n.C[1]||4!=Wr(n)||2!=n.da()))if(n.v&&4==Wr(n))Hb(n.La,0,n);else if(zt(n,"readystatechange"),4==Wr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match($O)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!aee.test(i?i.toLowerCase():"")}t=r}if(t)zt(n,"complete"),zt(n,"success");else{n.m=6;try{var o=2<Wr(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",nF(n)}}finally{wp(n)}}}function wp(n,e){if(n.g){iF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||zt(n,"ready");try{t.onreadystatechange=r}catch{}}}function iF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Wr(n){return n.g?n.g.readyState:0}function oF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case eF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sF(n){let e="";return Mb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ew(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ze(n,e,t))}function bl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function aF(n){this.Ga=0,this.j=[],this.l=new fp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bl("baseRetryDelayMs",5e3,n),this.hb=bl("retryDelaySeedMs",1e4,n),this.eb=bl("forwardChannelMaxRetries",2,n),this.xa=bl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new KO(n&&n.concurrentRequestLimit),this.Ja=new ree,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tw(n){if(uF(n),3==n.H){var e=n.W++,t=Ci(n.I);if(ze(t,"SID",n.K),ze(t,"RID",e),ze(t,"TYPE","terminate"),wl(n,t),(e=new fl(n,n.l,e)).L=2,e.A=Ep(Ci(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.A,t=!0),t||(e.g=_F(e.l,null),e.g.ha(e.A)),e.G=Date.now(),pl(e)}gF(n)}function Tp(n){n.g&&(rw(n),n.g.cancel(),n.g=null)}function uF(n){Tp(n),n.u&&(re.clearTimeout(n.u),n.u=null),Dp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function Cp(n){if(!QO(n.i)&&!n.m){n.m=!0;var e=n.Na;al||wO(),ul||(al(),ul=!0),jb.add(e,n),n.C=0}}function cF(n,e){var t;t=e?e.m:n.W++;const r=Ci(n.I);ze(r,"SID",n.K),ze(r,"RID",t),ze(r,"AID",n.V),wl(n,r),n.o&&n.s&&ew(r,n.o,n.s),t=new fl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=lF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Jb(n.i,t),Qb(t,r,e)}function wl(n,e){n.na&&Mb(n.na,function(t,r){ze(e,r,t)}),n.h&&jO({},function(t,r){ze(e,r,t)})}function lF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?rn(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{iee(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function dF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;al||wO(),ul||(al(),ul=!0),jb.add(e,n),n.A=0}}function nw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=dl(rn(n.Ma,n),pF(n,n.A)),n.A++,0))}function rw(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function hF(n){n.g=new fl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ci(n.wa);ze(e,"RID","rpc"),ze(e,"SID",n.K),ze(e,"AID",n.V),ze(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ze(e,"TO",n.qa),ze(e,"TYPE","xmlhttp"),wl(n,e),n.o&&n.s&&ew(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Ep(Ci(e)),t.u=null,t.S=!0,VO(t,n)}function Dp(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function fF(n,e){var t=null;if(n.g==e){Dp(n),rw(n),n.g=null;var r=2}else{if(!Xb(n.i,e))return;t=e.F,XO(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;zt(r=pp(),new MO(r,t)),Cp(n)}else dF(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function dee(n,e){return!(YO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=dl(rn(n.Na,n,e),pF(n,n.C)),n.C++,0)))}(n,e)||2==r&&nw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ns(n,5);break;case 4:ns(n,10);break;case 3:ns(n,6);break;default:ns(n,2)}}function pF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ns(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=rn(n.pb,n);t||(t=new ts("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||yp(t,"https"),Ep(t)),function oee(n,e){const t=new fp;if(re.Image){const r=new Image;r.onload=ap(Ip,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ap(Ip,t,r,"TestLoadImage: error",!1,e),r.onabort=ap(Ip,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ap(Ip,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _n(2);n.H=0,n.h&&n.h.za(e),gF(n),uF(n)}function gF(n){if(n.H=0,n.ma=[],n.h){const e=JO(n.i);(0!=e.length||0!=n.j.length)&&(cO(n.ma,e),cO(n.ma,n.j),n.i.i.length=0,wb(n.j),n.j.length=0),n.h.ya()}}function mF(n,e,t){var r=t instanceof ts?Ci(t):new ts(t);if(""!=r.g)e&&(r.g=e+"."+r.g),vp(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ts(null);r&&yp(o,r),e&&(o.g=e),i&&vp(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&ze(r,t,e),ze(r,"VER",n.ra),wl(n,r),r}function _F(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new st(n.Ha&&!n.va?new vl({ob:t}):n.va)).Oa(n.J),e}function yF(){}function Ap(){if(ka&&!(10<=Number(TZ)))throw Error("Environmental error: no available transport.")}function $n(n,e){Nt.call(this),this.g=new aF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!il(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!il(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fa(this)}function vF(n){zb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function EF(){Wb.call(this),this.status=1}function Fa(n){this.g=n}function br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Re(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(V=st.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qb.g(),this.C=function kO(n){return n.h||(n.h=n.i())}(this.u?this.u:qb),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void tF(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=uO(uee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iF(this),0<this.B&&((this.L=function cee(n){return ka&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=Hb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){tF(this,o)}},V.ua=function(){typeof Ib<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zt(this,"complete"),zt(this,"abort"),wp(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wp(this,!0)),st.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?rF(this):this.kb())},V.kb=function(){rF(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),see(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=aF.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new fl(this,this.l,n);let o=this.s;if(this.U&&(o?(o=pO(o),mO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lF(this,i,e),ze(t=Ci(this.I),"RID",n),ze(t,"CVER",22),this.F&&ze(t,"X-HTTP-Session-Id",this.F),wl(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(sF(o)))+"&"+e:this.o&&ew(t,this.o,o)),Jb(this.i,i),this.bb&&ze(t,"TYPE","init"),this.P?(ze(t,"$req",e),ze(t,"SID","null"),i.aa=!0,Qb(i,t,null)):Qb(i,t,e),this.H=2}}else 3==this.H&&(n?cF(this,n):0==this.j.length||QO(this.i)||cF(this))},V.Ma=function(){if(this.u=null,hF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=dl(rn(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),Tp(this),hF(this))},V.ib=function(){null!=this.v&&(this.v=null,Tp(this),nw(this),_n(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=yF.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Ap.prototype.g=function(n,e){return new $n(n,e)},kt($n,Nt),$n.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_n(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=mF(n,null,n.Y),Cp(n)},$n.prototype.close=function(){tw(this.g)},$n.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Cp(e)},$n.prototype.N=function(){this.g.h=null,delete this.j,tw(this.g),delete this.g,$n.$.N.call(this)},kt(vF,zb),kt(EF,Wb),kt(Fa,yF),Fa.prototype.Ba=function(){zt(this.g,"a")},Fa.prototype.Aa=function(n){zt(this.g,new vF(n))},Fa.prototype.za=function(n){zt(this.g,new EF)},Fa.prototype.ya=function(){zt(this.g,"b")},kt(br,function hee(){this.blockSize=-1}),br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},br.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)iw(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){iw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){iw(this,r),i=0;break}}this.h=i,this.i+=e},br.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var fee={};function ow(n){return-128<=n&&128>n?function IZ(n,e){var t=fee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Re([0|e],0>e?-1:0)}):new Re([0|n],0>n?-1:0)}function qr(n){if(isNaN(n)||!isFinite(n))return Va;if(0>n)return Wt(qr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=sw;return new Re(e,0)}var sw=4294967296,Va=ow(0),aw=ow(1),bF=ow(16777216);function Di(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function sr(n){return-1==n.h}function Wt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Re(t,~n.h).add(aw)}function Sp(n,e){return n.add(Wt(e))}function Rp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Tl(n,e){this.g=n,this.h=e}function xp(n,e){if(Di(e))throw Error("division by zero");if(Di(n))return new Tl(Va,Va);if(sr(n))return e=xp(Wt(n),e),new Tl(Wt(e.g),Wt(e.h));if(sr(e))return e=xp(n,Wt(e)),new Tl(Wt(e.g),e.h);if(30<n.g.length){if(sr(n)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=aw,r=e;0>=r.X(n);)t=wF(t),r=wF(r);var i=La(t,1),o=La(r,1);for(r=La(r,2),t=La(t,2);!Di(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=La(r,1),t=La(t,1)}return e=Sp(n,i.R(e)),new Tl(i,e)}for(i=Va;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=qr(t)).R(e);sr(s)||0<s.X(n);)s=(o=qr(t-=r)).R(e);Di(o)&&(o=aw),i=i.add(o),n=Sp(n,s)}return new Tl(i,n)}function wF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Re(t,n.h)}function La(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Re(i,n.h)}(V=Re.prototype).ea=function(){if(sr(this))return-Wt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:sw+r)*e,e*=sw}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Di(this))return"0";if(sr(this))return"-"+Wt(this).toString(n);for(var e=qr(Math.pow(n,6)),t=this,r="";;){var i=xp(t,e).g,o=((0<(t=Sp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Di(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return sr(n=Sp(this,n))?-1:Di(n)?0:1},V.abs=function(){return sr(this)?Wt(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Re(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(Di(this)||Di(n))return Va;if(sr(this))return sr(n)?Wt(this).R(Wt(n)):Wt(Wt(this).R(n));if(sr(n))return Wt(this.R(Wt(n)));if(0>this.X(bF)&&0>n.X(bF))return qr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=s*u,Rp(t,2*r+2*i),t[2*r+2*i+1]+=o*u,Rp(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,Rp(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,Rp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Re(t,0)},V.gb=function(n){return xp(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Re(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Re(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Re(t,this.h^n.h)},Ap.prototype.createWebChannel=Ap.prototype.g,$n.prototype.send=$n.prototype.u,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,gp.NO_ERROR=0,gp.TIMEOUT=8,gp.HTTP_ERROR=6,PO.COMPLETE="complete",NO.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",Nt.prototype.listen=Nt.prototype.O,st.prototype.listenOnce=st.prototype.P,st.prototype.getLastError=st.prototype.Sa,st.prototype.getLastErrorCode=st.prototype.Ia,st.prototype.getStatus=st.prototype.da,st.prototype.getResponseJson=st.prototype.Wa,st.prototype.getResponseText=st.prototype.ja,st.prototype.send=st.prototype.ha,st.prototype.setWithCredentials=st.prototype.Oa,br.prototype.digest=br.prototype.l,br.prototype.reset=br.prototype.reset,br.prototype.update=br.prototype.j,Re.prototype.add=Re.prototype.add,Re.prototype.multiply=Re.prototype.R,Re.prototype.modulo=Re.prototype.gb,Re.prototype.compare=Re.prototype.X,Re.prototype.toNumber=Re.prototype.ea,Re.prototype.toString=Re.prototype.toString,Re.prototype.getBits=Re.prototype.D,Re.fromNumber=qr,Re.fromString=function IF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Wt(IF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qr(Math.pow(e,8)),r=Va,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=qr(Math.pow(e,o)),r=r.R(o).add(qr(s))):r=(r=r.R(t)).add(qr(s))}return r};var pee=Ir.createWebChannelTransport=function(){return new Ap},gee=Ir.getStatEventTarget=function(){return pp()},uw=Ir.ErrorCode=gp,mee=Ir.EventType=PO,_ee=Ir.Event=Zo,TF=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mp=(Ir.FetchXmlHttpFactory=vl,Ir.WebChannel=NO),yee=Ir.XhrIo=st,vee=Ir.Md5=br,Ua=Ir.Integer=Re;const CF="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let Ba="10.7.0";const io=new Qv("@firebase/firestore");function ja(){return io.logLevel}function S(n,...e){if(io.logLevel<=ge.DEBUG){const t=e.map(cw);io.debug(`Firestore (${Ba}): ${n}`,...t)}}function pt(n,...e){if(io.logLevel<=ge.ERROR){const t=e.map(cw);io.error(`Firestore (${Ba}): ${n}`,...t)}}function Hn(n,...e){if(io.logLevel<=ge.WARN){const t=e.map(cw);io.warn(`Firestore (${Ba}): ${n}`,...t)}}function cw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function j(n="Unexpected state"){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+n;throw pt(e),new Error(e)}function H(n,e){n||j()}function N(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class Iee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bee{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(C(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new DF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Ot(e)}}class wee{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tee{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new wee(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.R=t.token,new AF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class SF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Dee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function $a(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new R(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new R(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new R(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new tt(0,0))}static max(){return new z(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cl{constructor(e,t,r){void 0===t?t=0:t>e.length&&j(),void 0===r?r=e.length-t:r>e.length-t&&j(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends Cl{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const Aee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Cl{construct(e,t,r){return new Qe(e,t,r)}static isValidIdentifier(e){return Aee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new R(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new R(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new R(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new R(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(t)}static emptyPath(){return new Qe([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(ve.fromString(e))}static fromName(e){return new O(ve.fromString(e).popFirst(5))}static empty(){return new O(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new ve(e.slice()))}}function MF(n){return new Gn(n.readTime,n.key,-1)}class Gn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gn(z.min(),O.empty(),-1)}static max(){return new Gn(z.max(),O.empty(),-1)}}function dw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=O.comparator(n.documentKey,e.documentKey),0!==t?t:te(n.largestBatchId,e.largestBatchId))}const PF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oo(n){return hw.apply(this,arguments)}function hw(){return hw=C(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==PF)throw n;S("LocalStore","Unexpectedly lost primary lease")}),hw.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,t){return new E((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function so(n){return"IndexedDbTransactionError"===n.name}let zn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Al(n){return null==n}function Sl(n){return 0===n&&1/n==-1/0}function jF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $F(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ue{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new Ue(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=o??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new qt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,t,r,i,o){return this}insert(e,t,r){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HF(this.data.getIterator())}getIteratorFrom(e){return new HF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class HF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Me(Qe.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class GF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GF("Invalid base64 string: "+o):o}}(e);return new xt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Zee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(H(!!n),"string"==typeof n){let e=0;const t=Zee.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ai(n){return"string"==typeof n?xt.fromBase64String(n):xt.fromUint8Array(n)}function Op(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fp(n){const e=n.mapValue.fields.__previous_value__;return Op(e)?Fp(e):e}function Rl(n){const e=uo(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}class ete{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ss{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ss&&e.projectId===this.projectId&&e.database===this.database}}const co={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Op(n)?4:KF(n)?9007199254740991:10:j()}function Qr(n,e){if(n===e)return!0;const t=lo(n);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=uo(i.timestampValue),a=uo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ai(n.bytesValue).isEqual(Ai(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=at(i.doubleValue),a=at(o.doubleValue);return s===a?Sl(s)===Sl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return $a(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jF(s)!==jF(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Qr(s[u],a[u])))return!1;return!0}(n,e);default:return j()}var o}function xl(n,e){return void 0!==(n.values||[]).find(t=>Qr(t,e))}function ho(n,e){if(n===e)return 0;const t=lo(n),r=lo(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=at(o.integerValue||o.doubleValue),u=at(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return zF(n.timestampValue,e.timestampValue);case 4:return zF(Rl(n),Rl(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Ai(o),u=Ai(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=te(a[c],u[c]);if(0!==l)return l}return te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=te(at(o.latitude),at(s.latitude));return 0!==a?a:te(at(o.longitude),at(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=ho(a[c],u[c]);if(l)return l}return te(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===co.mapValue&&s===co.mapValue)return 0;if(o===co.mapValue)return 1;if(s===co.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=te(u[d],l[d]);if(0!==h)return h;const f=ho(a[u[d]],c[l[d]]);if(0!==f)return f}return te(u.length,l.length)}(n.mapValue,e.mapValue);default:throw j()}}function zF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return te(n,e);const t=uo(n),r=uo(e),i=te(t.seconds,r.seconds);return 0!==i?i:te(t.nanos,r.nanos)}function Wa(n){return gw(n)}function gw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=uo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ai(n.bytesValue).toBase64():"referenceValue"in n?O.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=gw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${gw(t.fields[s])}`;return i+"}"}(n.mapValue):j()}function as(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mw(n){return!!n&&"integerValue"in n}function Ml(n){return!!n&&"arrayValue"in n}function WF(n){return!!n&&"nullValue"in n}function qF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Up(n){return!!n&&"mapValue"in n}function Pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Qe.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Pl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ao(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Kt(Pl(this.value))}}function XF(n){const e=[];return ao(n.fields,(t,r)=>{const i=new Qe([t]);if(Up(r)){const o=XF(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}class We{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new We(e,0,z.min(),z.min(),z.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new We(e,1,t,z.min(),r,i,0)}static newNoDocument(e,t){return new We(e,2,t,z.min(),z.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new We(e,3,t,z.min(),z.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fo{constructor(e,t){this.position=e,this.inclusive=t}}function JF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?O.comparator(O.fromName(s.referenceValue),t.key):ho(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ZF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}class kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function rte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class eV{}class me extends eV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ite(e,t,r):"array-contains"===t?new ate(e,r):"in"===t?new sV(e,r):"not-in"===t?new ute(e,r):"array-contains-any"===t?new cte(e,r):new me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ote(e,r):new ste(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ho(t,this.value)):null!==t&&lo(this.value)===lo(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xe extends eV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new xe(e,t)}matches(e){return qa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function qa(n){return"and"===n.op}function yw(n){return function tV(n){for(const e of n.filters)if(e instanceof xe)return!1;return!0}(n)&&qa(n)}function vw(n){if(n instanceof me)return n.field.canonicalString()+n.op.toString()+Wa(n.value);if(yw(n))return n.filters.map(e=>vw(e)).join(",");{const e=n.filters.map(t=>vw(t)).join(",");return`${n.op}(${e})`}}function nV(n,e){return n instanceof me?(r=n,(i=e)instanceof me&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)):n instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&nV(s,i.filters[a]),!0)}(n,e):void j();var r,i}function iV(n){return n instanceof me?`${(t=n).field.canonicalString()} ${t.op} ${Wa(t.value)}`:n instanceof xe?function(t){return t.op.toString()+" {"+t.getFilters().map(iV).join(" ,")+"}"}(n):"Filter";var t}class ite extends me{constructor(e,t,r){super(e,t,r),this.key=O.fromName(r.referenceValue)}matches(e){const t=O.comparator(e.key,this.key);return this.matchesComparison(t)}}class ote extends me{constructor(e,t){super(e,"in",t),this.keys=oV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ste extends me{constructor(e,t){super(e,"not-in",t),this.keys=oV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>O.fromName(r.referenceValue))}class ate extends me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ml(t)&&xl(t.arrayValue,this.value)}}class sV extends me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xl(this.value.arrayValue,t)}}class ute extends me{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xl(this.value.arrayValue,t)}}class cte extends me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}class lte{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Ew(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lte(n,e,t,r,i,o,s)}function us(n){const e=N(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wa(r)).join(",")),e.ce=t}return e.ce}function Nl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ZF(n.startAt,e.startAt)&&ZF(n.endAt,e.endAt)}function Bp(n){return O.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Si{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Ka(n){return new Si(n)}function lV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Iw(n){return null!==n.collectionGroup}function Qa(n){const e=N(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Me(Qe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new kl(o,r))}),t.has(Qe.keyField().canonicalString())||e.le.push(new kl(Qe.keyField(),r))}return e.le}function yn(n){const e=N(n);return e.he||(e.he=function dV(n,e){if("F"===n.limitType)return Ew(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new kl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new fo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fo(n.startAt.position,n.startAt.inclusive):null;return Ew(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Qa(n))),e.he}function bw(n,e){const t=n.filters.concat([e]);return new Si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $p(n,e,t){return new Si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ol(n,e){return Nl(yn(n),yn(e))&&n.limitType===e.limitType}function hV(n){return`${us(yn(n))}|lt:${n.limitType}`}function Ya(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>iV(i)).join(", ")}]`),Al(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(yn(n))}; limitType=${n.limitType})`}function Fl(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):O.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Qa(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=JF(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Qa(r),i)||r.endAt&&!function(s,a,u){const c=JF(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Qa(r),i)));var r,i}function pV(n){return(e,t)=>{let r=!1;for(const i of Qa(n)){const o=dte(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function dte(n,e,t){const r=n.field.isKeyField()?O.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?ho(u,c):j()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}class Ri{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return $F(this.inner)}size(){return this.innerSize}}const hte=new Ue(O.comparator);function An(){return hte}const gV=new Ue(O.comparator);function Vl(...n){let e=gV;for(const t of n)e=e.insert(t.key,t);return e}function mV(n){let e=gV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yr(){return Ll()}function _V(){return Ll()}function Ll(){return new Ri(n=>n.toString(),(n,e)=>n.isEqual(e))}const fte=new Ue(O.comparator),pte=new Me(O.comparator);function ce(...n){let e=pte;for(const t of n)e=e.add(t);return e}const gte=new Me(te);function yV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function vV(n){return{integerValue:""+n}}function EV(n,e){return function NF(n){return"number"==typeof n&&Number.isInteger(n)&&!Sl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?vV(e):yV(n,e)}class Hp{constructor(){this._=void 0}}function mte(n,e,t){return n instanceof Xa?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Op(o)&&(o=Fp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof cs?bV(n,e):n instanceof ls?wV(n,e):function(i,o){const s=IV(i,o),a=TV(s)+TV(i.Ie);return mw(s)&&mw(i.Ie)?vV(a):yV(i.serializer,a)}(n,e)}function _te(n,e,t){return n instanceof cs?bV(n,e):n instanceof ls?wV(n,e):t}function IV(n,e){return n instanceof Ja?mw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Xa extends Hp{}class cs extends Hp{constructor(e){super(),this.elements=e}}function bV(n,e){const t=CV(e);for(const r of n.elements)t.some(i=>Qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ls extends Hp{constructor(e){super(),this.elements=e}}function wV(n,e){let t=CV(e);for(const r of n.elements)t=t.filter(i=>!Qr(i,r));return{arrayValue:{values:t}}}class Ja extends Hp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function TV(n){return at(n.integerValue||n.doubleValue)}function CV(n){return Ml(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vte{constructor(e,t){this.version=e,this.transformResults=t}}class Ye{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zp{}function DV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new eu(n.key,Ye.none()):new Za(n.key,n.data,Ye.none());{const t=n.data,r=Kt.empty();let i=new Me(Qe.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new xi(n.key,r,new Dn(i.toArray()),Ye.none())}}function Ete(n,e,t){n instanceof Za?function(i,o,s){const a=i.value.clone(),u=RV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xi?function(i,o,s){if(!Gp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=RV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(SV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bl(n,e,t,r){return n instanceof Za?function(o,s,a,u){if(!Gp(o.precondition,s))return a;const c=o.value.clone(),l=xV(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof xi?function(o,s,a,u){if(!Gp(o.precondition,s))return a;const c=xV(o.fieldTransforms,u,s),l=s.data;return l.setAll(SV(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Gp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Ite(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=IV(r.transform,i||null);null!=o&&(null===t&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function AV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&$a(r,i,(o,s)=>function yte(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof cs&&i instanceof cs||r instanceof ls&&i instanceof ls?$a(r.elements,i.elements,Qr):r instanceof Ja&&i instanceof Ja?Qr(r.Ie,i.Ie):r instanceof Xa&&i instanceof Xa);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Za extends zp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xi extends zp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function SV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RV(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_te(s,a,t[i]))}return r}function xV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,mte(o,s,e))}return r}class eu extends zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ete(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_V();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=DV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(t,r)=>AV(t,r))&&$a(this.baseMutations,e.baseMutations,(t,r)=>AV(t,r))}}class Dw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){H(e.mutations.length===r.length);let i=fte;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Dw(e,t,r,i)}}class Aw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wte{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,Ee;function PV(n){if(void 0===n)return pt("GRPC error has no .code"),w.UNKNOWN;switch(n){case wt.OK:return w.OK;case wt.CANCELLED:return w.CANCELLED;case wt.UNKNOWN:return w.UNKNOWN;case wt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case wt.INTERNAL:return w.INTERNAL;case wt.UNAVAILABLE:return w.UNAVAILABLE;case wt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case wt.NOT_FOUND:return w.NOT_FOUND;case wt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case wt.ABORTED:return w.ABORTED;case wt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case wt.DATA_LOSS:return w.DATA_LOSS;default:return j()}}(Ee=wt||(wt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";const Tte=new Ua([4294967295,4294967295],0);function NV(n){const e=function kV(){return new TextEncoder}().encode(n),t=new vee;return t.update(e),new Uint8Array(t.digest())}function OV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ua([t,r],0),new Ua([i,o],0)]}class Sw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ua.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ua.fromNumber(r)));return 1===i.compare(Tte)&&(i=new Ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=NV(e),[r,i]=OV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Sw(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=NV(e),[r,i]=OV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $l{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $l(z.min(),i,new Ue(te),An(),ce())}}class Hl{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hl(r,t,ce(),ce(),ce())}}class qp{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class FV{constructor(e,t){this.targetId=e,this.fe=t}}class VV{constructor(e,t,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LV{constructor(){this.ge=0,this.pe=BV(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),t=ce(),r=ce();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Hl(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=BV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,H(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Cte{constructor(e){this.Le=e,this.ke=new Map,this.qe=An(),this.Qe=UV(),this.Ke=new Ue(te)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const o=i.target;if(Bp(o))if(0===r){const s=new O(o.path);this.We(t,s,We.newNoDocument(s,z.min()))}else H(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Ai(r).toUint8Array()}catch(u){if(u instanceof GF)return Hn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Sw(s,i,o)}catch(u){return Hn(u instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Bp(a.target)){const u=new O(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,We.newNoDocument(u,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let r=ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new $l(e,t,this.Ke,this.qe,r);return this.qe=An(),this.Qe=UV(),this.Ke=new Ue(te),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new LV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Me(te),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new LV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function UV(){return new Ue(O.comparator)}function BV(){return new Ue(O.comparator)}const Dte={asc:"ASCENDING",desc:"DESCENDING"},Ate={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ste={and:"AND",or:"OR"};class Rte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rw(n,e){return n.useProto3Json||Al(e)?e:{value:e}}function tu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xte(n,e){return tu(n,e.toTimestamp())}function gt(n){return H(!!n),z.fromTimestamp(function(t){const r=uo(t);return new tt(r.seconds,r.nanos)}(n))}function xw(n,e){return(r=n,new ve(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function $V(n){const e=ve.fromString(n);return H(XV(e)),e}function Gl(n,e){return xw(n.databaseId,e.path)}function Xr(n,e){const t=$V(e);if(t.get(1)!==n.databaseId.projectId)throw new R(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new R(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new O(GV(t))}function Mw(n,e){return xw(n.databaseId,e)}function zl(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GV(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zV(n,e,t){return{name:Gl(n,e),fields:t.value.mapValue.fields}}function qV(n,e){return{documents:[Mw(n,e.path)]}}function kw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Mw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return YV(xe.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:po((d=c).field),direction:Ote(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=Rw(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function KV(n){let e=function HV(n){const e=$V(n);return 4===e.length?ve.emptyPath():GV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];t.where&&(o=function(d){const h=QV(d);return h instanceof xe&&yw(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new kl(nu((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Al(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new fo((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new fo(d.values||[],!d.before)}(t.endAt)),function cV(n,e,t,r,i,o,s,a){return new Si(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function QV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nu(t.unaryFilter.field);return me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nu(t.unaryFilter.field);return me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nu(t.unaryFilter.field);return me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nu(t.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(n):void 0!==n.fieldFilter?me.create(nu((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return xe.create(t.compositeFilter.filters.map(r=>QV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(t.compositeFilter.op))}(n):j();var t}function Ote(n){return Dte[n]}function Fte(n){return Ate[n]}function Vte(n){return Ste[n]}function po(n){return{fieldPath:n.canonicalString()}}function nu(n){return Qe.fromServerFormat(n.fieldPath)}function YV(n){return n instanceof me?function(t){if("=="===t.op){if(qF(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(WF(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qF(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(WF(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:Fte(t.op),value:t.value}}}(n):n instanceof xe?function(t){const r=t.getFilters().map(i=>YV(i));return 1===r.length?r[0]:{compositeFilter:{op:Vte(t.op),filters:r}}}(n):j()}function Lte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Mi{constructor(e,t,r,i,o=z.min(),s=z.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JV{constructor(e){this.ut=e}}function Nw(n){const e=KV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$p(e,e.limit,"L"):e}class ps{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(at(e.integerValue));else if("doubleValue"in e){const r=at(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Sl(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ai(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?KF(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):j()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),O.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ps.St=new ps;class Wte{constructor(){this.on=new Bw}addToCollectionParentIndex(e,t){return this.on.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve(Gn.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class Bw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(ve.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ve.comparator)).toArray()}}new Uint8Array(0);class an{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class ms{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ms(0)}static Nn(){return new ms(-1)}}class Jte{constructor(){this.changes=new Ri(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Bl(r.mutation,i,Dn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){const i=Yr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Vl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Yr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=An();const s=Ll(),a=Ll();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof xi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Bl(l.mutation,c,l.mutation.getFieldMask(),tt.now())):s.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new tne(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ll();let i=new Ue((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=_V();l.forEach(h=>{if(!o.has(h)){const f=DV(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return O.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):E.resolve(Yr());let a=-1,u=o;return s.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ce())).next(l=>({batchId:a,changes:mV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new O(t)).next(r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Vl();return this.indexManager.getCollectionParents(e,o).next(a=>E.forEach(a,u=>{const c=(d=t,h=u.child(o),new Si(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,We.newInvalidDocument(l)))});let a=Vl();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Bl(l.mutation,c,Dn.empty(),tt.now()),Fl(t,c)&&(a=a.insert(u,c))}),a})}}class nne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return E.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:gt(i.createTime)}),E.resolve();var i}getNamedQuery(e,t){return E.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Nw(i.bundledQuery),readTime:gt(i.readTime)}),E.resolve();var i}}class rne{constructor(){this.overlays=new Ue(O.comparator),this.lr=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yr();return E.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.lt(e,t,o)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=Yr(),o=t.length+1,s=new O(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ue((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Yr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Yr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Aw(t,r));let o=this.lr.get(t);void 0===o&&(o=ce(),this.lr.set(t,o)),this.lr.set(t,o.add(r.key))}}class jw{constructor(){this.hr=new Me(Vt.Pr),this.Ir=new Me(Vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Vt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new O(new ve([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new O(new ve([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=ce();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Vt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return O.comparator(e.key,t.key)||te(e.gr,t.gr)}static Tr(e,t){return te(e.gr,t.gr)||O.comparator(e.key,t.key)}}class ine{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Me(Vt.Pr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.pr;this.pr++;const s=new Cw(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(s)}lookupMutationBatch(e,t){return E.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),o=i<0?0:i;return E.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),E.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(te);return t.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),E.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;O.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new O(o),0);let a=new Me(te);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),E.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return E.forEach(t.mutations,i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Vt(t,0),i=this.yr.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class one{constructor(e){this.Cr=e,this.docs=new Ue(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():We.newInvalidDocument(t))}getEntries(e,t){let r=An();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():We.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=An();const s=t.path,a=new O(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||dw(MF(l),r)<=0||(i.has(l.key)||Fl(t,l))&&(o=o.insert(l.key,l.mutableCopy()))}return E.resolve(o)}getAllFromCollectionGroup(e,t,r,i){j()}vr(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sne(this)}getSize(e){return E.resolve(this.size)}}class sne extends Jte{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class ane{constructor(e){this.persistence=e,this.Fr=new Ri(t=>us(t),Nl),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new jw,this.targetCount=0,this.Nr=ms.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),E.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new ms(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.kn(t),E.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(o).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),E.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.Or.containsKey(t))}}class $w{constructor(e,t){this.Br={},this.overlays={},this.Lr=new zn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ane(this),this.indexManager=new Wte,this.remoteDocumentCache=new one(r=>this.referenceDelegate.Qr(r)),this.serializer=new JV(t),this.Kr=new nne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new ine(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new une(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,t){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class une extends xee{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Gr=new jw,this.zr=null}static jr(e){return new tg(e)}get Hr(){if(this.zr)return this.zr;throw j()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),E.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Hr,r=>{const i=O.fromPath(r);return this.Jr(e,i).next(o=>{o||t.removeEntry(i,z.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return E.or([()=>E.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Ww{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ce(),i=ce();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ww(e,t.fromCache,r,i)}}class lne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new lne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(ja()<=ge.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",Ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),E.resolve()):(ja()<=ge.DEBUG&&S("QueryEngine","Query:",Ya(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ja()<=ge.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",Ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(t))):E.resolve())}zi(e,t){if(lV(t))return E.resolve(null);let r=yn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=$p(t,null,"F"),r=yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ce(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,s,u.readTime)?this.zi(e,$p(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return lV(t)||i.isEqual(z.min())?E.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,r,i)?E.resolve(null):(ja()<=ge.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(t)),this.Xi(e,s,t,function xF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new tt(t+1,0):new tt(t,r));return new Gn(i,O.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Me(pV(e));return t.forEach((i,o)=>{Fl(e,o)&&(r=r.add(o))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,t,r){return ja()<=ge.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",Ya(t)),this.Gi.getDocumentsMatchingQuery(e,t,Gn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class dne{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new Ue(te),this.ns=new Ri(o=>us(o),Nl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function RL(n,e){return qw.apply(this,arguments)}function qw(){return qw=C(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ce();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),qw.apply(this,arguments)}function xL(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function pne(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uu(n,e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=C(function*(n,e,t){const r=N(n),i=r.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!so(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Kw.apply(this,arguments)}function ig(n,e,t){const r=N(n);let i=z.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=N(u),h=d.ns.get(l);return void 0!==h?E.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?i:z.min(),t?o:ce())).next(a=>(function NL(n,e,t){let r=n.rs.get(e)||z.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.rs.set(e,r)}(r,function fV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class Zw{constructor(){this.activeTargetIds=function ww(){return gte}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VL{constructor(){this.eo=new Zw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Zw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _ne{ro(e){}shutdown(){}}class LL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ag=null;function tT(){return null===ag?ag=268435456+Math.round(2147483648*Math.random()):ag++,"0x"+ag.toString(16)}const yne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vne{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const un="WebChannelConnection";class Ene extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(t,r,i,o,s){const a=tT(),u=this.So(t,r);S("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,u,c,i).then(l=>(S("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Hn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(t,r,i,o,s,a){return this.wo(t,r,i,o,s)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ba,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}So(t,r){return`${this.mo}/v1/${r}:${yne[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const o=tT();return new Promise((s,a)=>{const u=new yee;u.setWithCredentials(!0),u.listenOnce(mee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uw.NO_ERROR:const l=u.getResponseJson();S(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case uw.TIMEOUT:S(un,`RPC '${e}' ${o} timed out`),a(new R(w.DEADLINE_EXCEEDED,"Request time out"));break;case uw.HTTP_ERROR:const d=u.getStatus();if(S(un,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const I=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(I)>=0?I:w.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new R(w.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{S(un,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);S(un,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=tT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pee(),a=gee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=o.join("");S(un,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new vne({co:m=>{f?S(un,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(un,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(un,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,I,T)=>{m.listen(I,v=>{try{T(v)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,Mp.EventType.OPEN,()=>{f||S(un,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Mp.EventType.CLOSE,()=>{f||(f=!0,S(un,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Mp.EventType.ERROR,m=>{f||(f=!0,Hn(un,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new R(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,Mp.EventType.MESSAGE,m=>{var I;if(!f){const T=m.data[0];H(!!T);const M=T.error||(null===(I=T[0])||void 0===I?void 0:I.error);if(M){S(un,`RPC '${e}' stream ${i} received error:`,M);const $=M.status;let q=function(cd){const Ag=wt[cd];if(void 0!==Ag)return PV(Ag)}($),nt=M.message;void 0===q&&(q=w.INTERNAL,nt="Unknown error status: "+$+" with message "+M.message),f=!0,p.Ro(new R(q,nt)),d.close()}else S(un,`RPC '${e}' stream ${i} received:`,T),p.Vo(T)}}),g(a,_ee.STAT_EVENT,m=>{m.stat===TF.PROXY?S(un,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===TF.NOPROXY&&S(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function ug(){return typeof document<"u"?document:null}function ed(n){return new Rte(n,!0)}class nT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class BL{constructor(e,t,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new nT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return C(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return C(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return C(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(pt(t.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new R(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(C(function*(){e.state=0,e.start()}))}o_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ine extends BL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Pte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:j(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(H(void 0===l||"string"==typeof l),xt.fromBase64String(l||"")):(H(void 0===l||l instanceof Uint8Array),xt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?w.UNKNOWN:PV(c.code);return new R(l,c.message||"")}(s);t=new VV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(n,r.document.name),o=gt(r.document.updateTime),s=r.document.createTime?gt(r.document.createTime):z.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=We.newFoundDocument(i,o,s,a);t=new qp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(n,r.document),o=r.readTime?gt(r.readTime):z.min(),s=We.newNoDocument(i,o);t=new qp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(n,r.document);t=new qp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new wte(i,o);t=new FV(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?gt(s.readTime):z.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=zl(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=Bp(u)?{documents:qV(o,u)}:{query:kw(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jV(o,s.resumeToken);const c=Rw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(z.min())>0){a.readTime=tu(o,s.snapshotVersion.toTimestamp());const c=Rw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Nte(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=zl(this.serializer),t.removeTarget=e,this.e_(t)}}class bne extends BL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function kte(n,e){return n&&n.length>0?(H(void 0!==e),n.map(t=>function(i,o){let s=gt(i.updateTime?i.updateTime:o);return s.isEqual(z.min())&&(s=gt(o)),new vte(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.I_(r,t)}return H(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=zl(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Wl(n,e){let t;if(e instanceof Za)t={update:zV(n,e.key,e.value)};else if(e instanceof eu)t={delete:Gl(n,e.key)};else if(e instanceof xi)t={update:zV(n,e.key,e.data),updateMask:Lte(e.fieldMask)};else{if(!(e instanceof Tw))return j();t={verify:Gl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ja)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw j()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xte(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:j()),t;var o}(this.serializer,r))};this.e_(t)}}class wne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new R(w.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(w.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(w.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Cne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(pt(t),this.f_=!1):S("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Dne{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(C(function*(){var u;yo(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=C(function*(l){const d=N(l);d.C_.add(4),yield cu(d),d.M_.set("Unknown"),d.C_.delete(4),yield td(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new Cne(r,i)}}function td(n){return iT.apply(this,arguments)}function iT(){return iT=C(function*(n){if(yo(n))for(const e of n.v_)yield e(!0)}),iT.apply(this,arguments)}function cu(n){return oT.apply(this,arguments)}function oT(){return oT=C(function*(n){for(const e of n.v_)yield e(!1)}),oT.apply(this,arguments)}function cg(n,e){const t=N(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),uT(t)?aT(t):du(t).Ho()&&sT(t,e))}function nd(n,e){const t=N(n),r=du(t);t.D_.delete(e),r.Ho()&&jL(t,e),0===t.D_.size&&(r.Ho()?r.Zo():yo(t)&&t.M_.set("Unknown"))}function sT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).u_(e)}function jL(n,e){n.x_.Oe(e),du(n).c_(e)}function aT(n){n.x_=new Cte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.M_.g_()}function uT(n){return yo(n)&&!du(n).jo()&&n.D_.size>0}function yo(n){return 0===N(n).C_.size}function $L(n){n.x_=void 0}function Ane(n){return cT.apply(this,arguments)}function cT(){return cT=C(function*(n){n.D_.forEach((e,t)=>{sT(n,e)})}),cT.apply(this,arguments)}function Sne(n,e){return lT.apply(this,arguments)}function lT(){return lT=C(function*(n,e){$L(n),uT(n)?(n.M_.w_(e),aT(n)):n.M_.set("Unknown")}),lT.apply(this,arguments)}function Rne(n,e,t){return dT.apply(this,arguments)}function dT(){return dT=C(function*(n,e,t){if(n.M_.set("Online"),e instanceof VV&&2===e.state&&e.cause)try{yield(r=C(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lg(n,r)}else if(e instanceof qp?n.x_.$e(e):e instanceof FV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(z.min()))try{const r=yield xL(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),jL(o,u);const d=new Mi(l.target,u,c,l.sequenceNumber);sT(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield lg(n,r)}var r}),dT.apply(this,arguments)}function lg(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=C(function*(n,e,t){if(!so(e))throw e;n.C_.add(1),yield cu(n),n.M_.set("Offline"),t||(t=()=>xL(n.localStore)),n.asyncQueue.enqueueRetryable(C(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield td(n)}))}),hT.apply(this,arguments)}function HL(n,e){return e().catch(t=>lg(n,t,e))}function lu(n){return fT.apply(this,arguments)}function fT(){return fT=C(function*(n){const e=N(n),t=vo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;xne(e);)try{const i=yield pne(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Mne(e,i)}catch(i){yield lg(e,i)}GL(e)&&zL(e)}),fT.apply(this,arguments)}function xne(n){return yo(n)&&n.b_.length<10}function Mne(n,e){n.b_.push(e);const t=vo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function GL(n){return yo(n)&&!vo(n).jo()&&n.b_.length>0}function zL(n){vo(n).start()}function Pne(n){return pT.apply(this,arguments)}function pT(){return pT=C(function*(n){vo(n).E_()}),pT.apply(this,arguments)}function kne(n){return gT.apply(this,arguments)}function gT(){return gT=C(function*(n){const e=vo(n);for(const t of n.b_)e.P_(t.mutations)}),gT.apply(this,arguments)}function Nne(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=C(function*(n,e,t){const r=n.b_.shift(),i=Dw.from(r,e,t);yield HL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lu(n)}),mT.apply(this,arguments)}function One(n,e){return _T.apply(this,arguments)}function _T(){return _T=C(function*(n,e){var t;e&&vo(n).h_&&(yield(t=C(function*(i,o){if(function MV(n){switch(n){default:return j();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(a=o.code)&&a!==w.ABORTED){const s=i.b_.shift();vo(i).Yo(),yield HL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield lu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),GL(n)&&zL(n)}),_T.apply(this,arguments)}function WL(n,e){return yT.apply(this,arguments)}function yT(){return yT=C(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=yo(t);t.C_.add(3),yield cu(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield td(t)}),yT.apply(this,arguments)}function ET(){return ET=C(function*(n,e){const t=N(n);e?(t.C_.delete(2),yield td(t)):e||(t.C_.add(2),yield cu(t),t.M_.set("Unknown"))}),ET.apply(this,arguments)}function du(n){return n.O_||(n.O_=function(t,r,i){const o=N(t);return o.A_(),new Ine(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:Ane.bind(null,n),Io:Sne.bind(null,n),a_:Rne.bind(null,n)}),n.v_.push(function(){var e=C(function*(t){t?(n.O_.Yo(),uT(n)?aT(n):n.M_.set("Unknown")):(yield n.O_.stop(),$L(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function vo(n){return n.N_||(n.N_=function(t,r,i){const o=N(t);return o.A_(),new bne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:Pne.bind(null,n),Io:One.bind(null,n),T_:kne.bind(null,n),I_:Nne.bind(null,n)}),n.v_.push(function(){var e=C(function*(t){t?(n.N_.Yo(),yield lu(n)):(yield n.N_.stop(),n.b_.length>0&&(S("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class IT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new IT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hu(n,e){if(pt("AsyncQueue",`${e}: ${n}`),so(n))return new R(w.UNAVAILABLE,`${e}: ${n}`);throw n}class fu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||O.comparator(t.key,r.key):(t,r)=>O.comparator(t.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qL{constructor(){this.B_=new Ue(O.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new pu(e,t,fu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Fne{constructor(){this.k_=void 0,this.listeners=[]}}class Vne{constructor(){this.queries=new Ri(e=>hV(e),Ol),this.onlineState="Unknown",this.q_=new Set}}function wT(){return wT=C(function*(n,e){const t=N(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Fne),i)try{o.k_=yield t.onListen(r)}catch(s){const a=hu(s,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&DT(t)}),wT.apply(this,arguments)}function CT(){return CT=C(function*(n,e){const t=N(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CT.apply(this,arguments)}function Lne(n,e){const t=N(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&DT(t)}function Une(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function DT(n){n.q_.forEach(e=>{e.next()})}class AT{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class YL{constructor(e){this.key=e}}class XL{constructor(e){this.key=e}}class JL{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=pV(e),this.aa=new fu(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new qL,i=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Fl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return g(f)-g(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==s.length||c?{snapshot:new pu(this.query,e.aa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new qL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ce(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new XL(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new YL(r))}),t}da(e){this.ia=e.ls,this.oa=ce();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return pu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class $ne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Hne{constructor(e){this.key=e,this.Ra=!1}}class Gne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Ri(a=>hV(a),Ol),this.fa=new Map,this.ga=new Set,this.pa=new Ue(O.comparator),this.ya=new Map,this.wa=new jw,this.Sa={},this.ba=new Map,this.Da=ms.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function zne(n,e){return ST.apply(this,arguments)}function ST(){return ST=C(function*(n,e){const t=function XT(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ere.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kne.bind(null,e),e.Va.a_=Lne.bind(null,e.eventManager),e.Va.Fa=Une.bind(null,e.eventManager),e}(n);let r,i;const o=t.ma.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function au(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(o=>o?(i=o,E.resolve(i)):t.qr.allocateTargetId(r).next(s=>(i=new Mi(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,yn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function RT(n,e,t,r,i){return xT.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&cg(t.remoteStore,s)}return i}),ST.apply(this,arguments)}function xT(){return xT=C(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=C(function*(m,I,T,v){let M=I.view.ca(T);M.Zi&&(M=yield ig(m.localStore,I.query,!1).then(({documents:Sn})=>I.view.ca(Sn,M)));const $=v&&v.targetChanges.get(I.targetId),q=v&&null!=v.targetMismatches.get(I.targetId),nt=I.view.applyChanges(M,m.isPrimaryClient,$,q);return BT(m,I.targetId,nt.Ta),nt.snapshot}),function g(m,I,T,v){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield ig(n.localStore,e,!0),s=new JL(e,o.ls),a=s.ca(o.documents),u=Hl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);BT(n,t,c.Ta);const l=new $ne(e,t,s);return n.ma.set(e,l),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),xT.apply(this,arguments)}function Wne(n,e){return MT.apply(this,arguments)}function MT(){return MT=C(function*(n,e){const t=N(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(o=>!Ol(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),nd(t.remoteStore,r.targetId),gu(t,r.targetId)}).catch(oo))):(gu(t,r.targetId),yield uu(t.localStore,r.targetId,!0))}),MT.apply(this,arguments)}function PT(){return PT=C(function*(n,e,t){const r=function JT(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yne.bind(null,e),e}(n);try{const i=yield function(s,a){const u=N(s),c=tt.now(),l=a.reduce((f,p)=>f.add(p.key),ce());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=An(),g=ce();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((I,T)=>{T.isValidDocument()||(g=g.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const I=[];for(const T of a){const v=Ite(T,d.get(T.key).overlayedDocument);null!=v&&I.push(new xi(T.key,v,XF(v.value.mapValue),Ye.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,I,a)}).next(m=>{h=m;const I=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,I)})}).then(()=>({batchId:h.batchId,changes:mV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new Ue(te)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Pi(r,i.changes),yield lu(r.remoteStore)}catch(i){const o=hu(i,"Failed to persist write");t.reject(o)}}),PT.apply(this,arguments)}function ZL(n,e){return kT.apply(this,arguments)}function kT(){return kT=C(function*(n,e){const t=N(n);try{const r=yield function fne(n,e){const t=N(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,I=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,f))});let u=An(),c=ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function ML(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=An();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(z.min())){const l=t.qr.getLastRemoteSnapshotVersion(o).next(d=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ts=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.ya.get(o);s&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?H(s.Ra):i.removedDocuments.size>0&&(H(s.Ra),s.Ra=!1))}),yield Pi(t,r,e)}catch(r){yield oo(r)}}),kT.apply(this,arguments)}function e2(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=N(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&DT(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kne(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=C(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Ue(O.comparator);s=s.insert(o,We.newNoDocument(o,z.min()));const a=ce().add(o),u=new $l(z.min(),new Map,new Ue(te),s,a);yield ZL(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),jT(r)}else yield uu(r.localStore,e,!1).then(()=>gu(r,e,t)).catch(oo)}),NT.apply(this,arguments)}function Qne(n,e){return OT.apply(this,arguments)}function OT(){return OT=C(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield function hne(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);H(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);UT(t,r,null),LT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pi(t,i)}catch(i){yield oo(i)}}),OT.apply(this,arguments)}function Yne(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=C(function*(n,e,t){const r=N(n);try{const i=yield function(s,a){const u=N(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(H(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);UT(r,e,t),LT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pi(r,i)}catch(i){yield oo(i)}}),FT.apply(this,arguments)}function LT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function UT(n,e,t){const r=N(n);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function gu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||t2(n,r)})}function t2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(nd(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),jT(n))}function BT(n,e,t){for(const r of t)r instanceof YL?(n.wa.addReference(r.key,e),Jne(n,r)):r instanceof XL?(S("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||t2(n,r.key)):j()}function Jne(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(S("SyncEngine","New document in limbo: "+t),n.ga.add(r),jT(n))}function jT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new O(ve.fromString(e)),r=n.Da.next();n.ya.set(r,new Hne(t)),n.pa=n.pa.insert(t,r),cg(n.remoteStore,new Mi(yn(Ka(t.path)),r,"TargetPurposeLimboResolution",zn._e))}}function Pi(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=C(function*(n,e,t){const r=N(n),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Ww.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=C(function*(c,l){const d=N(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!so(h))throw h;S("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),$T.apply(this,arguments)}function Zne(n,e){return HT.apply(this,arguments)}function HT(){return HT=C(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield RL(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new R(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pi(t,r._s)}var o}),HT.apply(this,arguments)}function ere(n,e){const t=N(n),r=t.ya.get(e);if(r&&r.Ra)return ce().add(r.key);{let i=ce();const o=t.fa.get(e);if(!o)return i;for(const s of o){const a=t.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class dg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return C(function*(){t.serializer=ed(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function SL(n,e,t,r){return new dne(n,e,t,r)}(this.persistence,new AL,e.initialUser,this.serializer)}createPersistence(e){return new $w(tg.jr,this.serializer)}createSharedClientState(e){return new VL}terminate(){var e=this;return C(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mu{initialize(e,t){var r=this;return C(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>e2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Zne.bind(null,r.syncEngine),yield function vT(n,e){return ET.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vne}createDatastore(e){const t=ed(e.databaseInfo.databaseId),r=new Ene(e.databaseInfo);return new wne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>e2(this.syncEngine,t,0),a=LL.D()?new LL:new _ne,new Dne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,l){const d=new Gne(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=C(function*(r){const i=N(r);S("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield cu(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fre{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=SF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=C(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return C(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=hu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function fg(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=C(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=C(function*(o){r.isEqual(o)||(yield RL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ZT.apply(this,arguments)}function e0(n,e){return t0.apply(this,arguments)}function t0(){return t0=C(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function n0(n){return r0.apply(this,arguments)}(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>WL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>WL(e.remoteStore,o)),n._onlineComponents=e}),t0.apply(this,arguments)}function r0(){return r0=C(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function u2(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Hn("Error using user provided cache. Falling back to memory cache: "+t),yield fg(n,new dg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield fg(n,new dg);return n._offlineComponents}),r0.apply(this,arguments)}function pg(n){return o0.apply(this,arguments)}function o0(){return o0=C(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield e0(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield e0(n,new mu))),n._onlineComponents}),o0.apply(this,arguments)}function a0(){return a0=C(function*(n){const e=yield pg(n),t=e.eventManager;return t.onListen=zne.bind(null,e.syncEngine),t.onUnlisten=Wne.bind(null,e.syncEngine),t}),a0.apply(this,arguments)}function f2(n,e,t={}){const r=new Rt;return n.asyncQueue.enqueueAndForget(C(function*(){return function(o,s,a,u,c){const l=new hg({next:h=>{s.enqueueAndForget(()=>function TT(n,e){return CT.apply(this,arguments)}(o,d)),h.fromCache&&"server"===u.source?c.reject(new R(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new AT(a,l,{includeMetadataChanges:!0,J_:!0});return function bT(n,e){return wT.apply(this,arguments)}(o,d)}(yield function yu(n){return a0.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function p2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const g2=new Map;function u0(n,e,t){if(!t)throw new R(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m2(n){if(!O.isDocumentKey(n))throw new R(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _2(n){if(O.isDocumentKey(n))throw new R(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":j()}function _e(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new R(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gg(n);throw new R(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class v2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new R(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Tre(n,e,t,r){if(!0===e&&!0===r)throw new R(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=p2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Eee;switch(r.type){case"firstParty":return new Tee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new R(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=g2.get(t);r&&(S("ComponentProvider","Removing Datastore"),g2.delete(t),r.terminate())}(this),Promise.resolve()}}class Qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class Jr extends Qt{constructor(e,t,r){super(e,t,Ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new O(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function Dre(n,e,...t){if(n=$r(n),u0("collection","path",e),n instanceof rd){const r=ve.fromString(e,...t);return _2(r),new Jr(n,null,r)}{if(!(n instanceof mt||n instanceof Jr))throw new R(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return _2(r),new Jr(n.firestore,null,r)}}class Sre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new nT(this,"async_queue_retry"),this.iu=()=>{const t=ug();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=ug();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=ug();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Rt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return C(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!so(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,pt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=IT.createAndSchedule(this,e,t,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&j()}verifyOperationInProgress(){}uu(){var e=this;return C(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Be extends rd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||I2(this),this._firestoreClient.terminate()}}function xre(n,e){const r="string"==typeof n?n:e||"(default)",i=function jk(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:Hk(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=UK("firestore");o&&function Cre(n,e,t,r={}){var i;const o=(n=_e(n,rd))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ot.MOCK_USER;else{a=function jK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ff(JSON.stringify({alg:"none",type:"JWT"})),Ff(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new R(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}n._authCredentials=new Iee(new DF(a,u))}}(i,...o)}return i}function _t(n){return n._firestoreClient||I2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function I2(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ete(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,p2(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new fre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(xt.fromBase64String(e))}catch(t){throw new R(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ys(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new R(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T2{constructor(e){this._methodName=e}}class l0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new R(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Pre=/^__.*__$/;class kre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Za(e,this.data,t,this.fieldTransforms)}}function D2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class mg{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return yg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(D2(this.Iu)&&Pre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Nre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ed(e)}pu(e,t,r,i=!1){return new mg({Iu:e,methodName:t,gu:r,path:Qe.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eu(n){const e=n._freezeSettings(),t=ed(n._databaseId);return new Nre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d0(n,e,t,r,i,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,i);f0("Data must be an object, but it was:",s,r);const a=M2(r,s);let u,c;if(o.merge)u=new Dn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=sd(e,d,t);if(!s.contains(h))throw new R(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k2(l,h)||l.push(h)}u=new Dn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new kre(new Kt(a),u,c)}function vs(n,e){if(P2(n=$r(n)))return f0("Unsupported field value:",e,n),M2(n,e);if(n instanceof T2)return function(r,i){if(!D2(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=vs(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=$r(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return EV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=tt.fromDate(r);return{timestampValue:tu(i.serializer,o)}}if(r instanceof tt){const o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tu(i.serializer,o)}}if(r instanceof l0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ys)return{bytesValue:jV(i.serializer,r._byteString)};if(r instanceof mt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${gg(r)}`)}(n,e)}function M2(n,e){const t={};return $F(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(n,(r,i)=>{const o=vs(i,e.Eu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function P2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof l0||n instanceof ys||n instanceof mt||n instanceof T2)}function f0(n,e,t){if(!P2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=gg(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function sd(n,e,t){if((e=$r(e))instanceof vu)return e._internalPath;if("string"==typeof e)return _g(n,e);throw yg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lre=new RegExp("[~\\*/\\[\\]]");function _g(n,e,t){if(e.search(Lre)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vu(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new R(w.INVALID_ARGUMENT,a+n+u)}function k2(n,e){return n.some(t=>t.isEqual(e))}class p0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ure(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ure extends p0{data(){return super.data()}}function vg(n,e){return"string"==typeof e?_g(n,e):e instanceof vu?e._internalPath:e._delegate._internalPath}class g0{}class Bre extends g0{}function jre(n,e,...t){let r=[];e instanceof g0&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof Iu).length,a=o.filter(u=>u instanceof ad).length;if(s>1||s>0&&a>0)throw new R(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ad extends Bre{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ad(e,t,r)}_apply(e){const t=this._parse(e);return L2(e._query,t),new Qt(e.firestore,e.converter,bw(e._query,t))}_parse(e){const t=Eu(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new R(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){V2(d,l);const f=[];for(const p of d)f.push(F2(u,o,p));h={arrayValue:{values:f}}}else h=F2(u,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||V2(d,l),h=function x2(n,e,t,r=!1){return vs(t,n.pu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return me.create(c,l,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iu extends g0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:xe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)L2(s,u),s=bw(s,u)}(e._query,t),new Qt(e.firestore,e.converter,bw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function F2(n,e,t){if("string"==typeof(t=$r(t))){if(""===t)throw new R(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&-1!==t.indexOf("/"))throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ve.fromString(t));if(!O.isDocumentKey(r))throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return as(n,new O(r))}if(t instanceof mt)return as(n,t._key);throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gg(t)}.`)}function V2(n,e){if(!Array.isArray(n)||0===n.length)throw new R(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L2(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new R(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $re{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw j()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ao(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new l0(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const t=uo(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);H(XV(r));const i=new ss(r.get(1),r.get(3)),o=new O(r.popFirst(5));return i.isEqual(t)||pt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Es{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends p0{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wg extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wg(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new wg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new wg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Gre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}class Eo extends $re{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function zre(n){n=_e(n,Qt);const e=_e(n.firestore,Be),t=_t(e),r=new Eo(e);return function N2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new R(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),f2(t,n._query).then(i=>new wu(e,r,n,i))}function Wre(n,e){const t=_e(n.firestore,Be),r=function Are(n,e,...t){if(n=$r(n),1===arguments.length&&(e=SF.newId()),u0("doc","path",e),n instanceof rd){const r=ve.fromString(e,...t);return m2(r),new mt(n,null,new O(r))}{if(!(n instanceof mt||n instanceof Jr))throw new R(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return m2(r),new mt(n.firestore,n instanceof Jr?n.converter:null,new O(r))}}(n),i=function _0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function ud(n,e){return function(r,i){const o=new Rt;return r.asyncQueue.enqueueAndForget(C(function*(){return function qne(n,e,t){return PT.apply(this,arguments)}(yield function s0(n){return pg(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(_t(n),e)}(t,[d0(Eu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}!function(e,t=!0){Ba=$f,Aa(new Go("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Be(new bee(r.getProvider("auth-internal")),new Cee(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new R(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ss(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ir(CF,"4.4.0",e),ir(CF,"4.4.0","esm2017")}();class Dg{constructor(e){return e}}const H2="firestore",E0=new F("angularfire2.firestore-instances");function aie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dg(r)}}const uie={provide:class oie{constructor(){return uE(H2)}},deps:[[new Zt,E0]]},cie={provide:Dg,useFactory:function sie(n,e){const t=function Zk(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(H2,n,e);return t&&new Dg(t)},deps:[[new Zt,E0],zc]};let lie=(()=>{class n{constructor(){ir("angularfire",aE.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ct({providers:[cie,uie]})}return n})();function die(n,...e){return{ngModule:lie,providers:[{provide:E0,useFactory:aie(n),multi:!0,deps:[Ke,Ln,tN,nN,[new Zt,aO],[new Zt,mY],...e]}]}}const hie=xa(Wre,!0),I0=xa(Dre,!0),G2=xa(zre,!0),fie=xa(xre,!0),pie=xa(jre,!0);let z2=(()=>{class n{constructor(t){this.firestore=t}createClient(){var t=this;return C(function*(){console.log("--------------+++++++++");const r=yield hie(I0(t.firestore,"client"),{name:"atchi",prenom:"zaki",age:19});console.log("Document written with ID: ",r.id),console.log(r)})()}readClients(){var t=this;return C(function*(){return(yield G2(pie(I0(t.firestore,"client")))).docs.map(r=>r.data())})()}getCollectionData(){var t=this;return C(function*(){(yield G2(I0(t.firestore,"client"))).forEach(i=>{console.log(i.id," => ",i.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(L(Dg))};static#t=this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gie(n,e){if(1&n&&(_(0,"div")(1,"div"),b(2),y()()),2&n){const t=e.$implicit;X(2),D_("",t.name," ",t.prenom," ",t.age,"")}}let mie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){ut(this.client.readClients()).subscribe(t=>{console.log(t),this.clients=t})}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(x(mn),x(z2))};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_(0,"div")(1,"h1",0),b(2,"Factures"),y(),_(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),Ie("click",function(){return i.goToFacture()}),_(7,"h2",4),b(8,"Facture 1"),y(),_(9,"h3",5),b(10,"Client 1"),y()()()(),_(11,"div")(12,"div",2)(13,"div",3),Ie("click",function(){return i.goToFacture()}),_(14,"h2",4),b(15,"Facture 2"),y(),_(16,"h3",5),b(17,"Client 2"),y()()()(),_(18,"div")(19,"div",2)(20,"div",3),Ie("click",function(){return i.goToFacture()}),_(21,"h2",4),b(22,"Facture 3"),y(),_(23,"h3",5),b(24,"Client 3"),y()()()()()(),Jn(25,gie,3,3,"div",6)),2&r&&(X(25),Fe("ngForOf",i.clients))},dependencies:[Bh]})}return n})(),_ie=(()=>{class n{constructor(){}ngOnInit(){}imprimer(){window.print()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-facture-view"]],decls:124,vars:0,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-2","items-center"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100"],[1,"text-right"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"grid","grid-cols-2","items-center","mt-8"],[1,"font-bold","text-gray-800"],[1,"text-gray-500"],[1,""],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-5","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"mt-1","truncate","text-gray-500"],[1,"hidden","px-3","py-5","text-right","text-sm","text-gray-500","sm:table-cell"],[1,"py-5","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-6","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-6","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-6","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-4","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"button",1),Ie("click",function(){return i.imprimer()}),b(2,"Print"),y()(),_(3,"div",2)(4,"div",3)(5,"div"),Se(6,"img",4),y(),_(7,"div",5)(8,"p"),b(9," Tailwind Inc. "),y(),_(10,"p",6),b(11," sales@tailwindcss.com "),y(),_(12,"p",7),b(13," +41-442341232 "),y(),_(14,"p",7),b(15," VAT: 8657671212 "),y()()(),_(16,"div",8)(17,"div")(18,"p",9),b(19," Bill to : "),y(),_(20,"p",10),b(21," Laravel LLC. "),Se(22,"br"),b(23," 102, San-Fransico, CA, USA "),y(),_(24,"p",10),b(25," info@laravel.com "),y()(),_(26,"div",5)(27,"p",11),b(28," Invoice number: "),_(29,"span",10),b(30,"INV-2023786123"),y()(),_(31,"p"),b(32," Invoice date: "),_(33,"span",10),b(34,"03/07/2023"),y(),Se(35,"br"),b(36," Due date:"),_(37,"span",10),b(38,"31/07/2023"),y()()()(),_(39,"div",12)(40,"table",13)(41,"colgroup"),Se(42,"col",14)(43,"col",15)(44,"col",15)(45,"col",15),y(),_(46,"thead",16)(47,"tr")(48,"th",17),b(49,"Items"),y(),_(50,"th",18),b(51,"Quantity"),y(),_(52,"th",18),b(53,"Price"),y(),_(54,"th",19),b(55,"Amount"),y()()(),_(56,"tbody")(57,"tr",20)(58,"td",21)(59,"div",22),b(60,"E-commerce Platform"),y(),_(61,"div",23),b(62,"Laravel based e-commerce platform."),y()(),_(63,"td",24),b(64,"500.0"),y(),_(65,"td",24),b(66,"$100.00"),y(),_(67,"td",25),b(68,"$5,000.00"),y()(),_(69,"tr",20)(70,"td",21)(71,"div",22),b(72,"Frontend Design"),y(),_(73,"div",23),b(74,"Frontend design using Vue.js and Tailwind CSS."),y()(),_(75,"td",24),b(76,"500.0"),y(),_(77,"td",24),b(78,"$100.00"),y(),_(79,"td",25),b(80,"$5,000.00"),y()(),_(81,"tr",20)(82,"td",21)(83,"div",22),b(84,"Shop SEO"),y(),_(85,"div",23),b(86,"Website SEO and Social Media marketing."),y()(),_(87,"td",24),b(88,"50.0"),y(),_(89,"td",24),b(90,"$100.00"),y(),_(91,"td",25),b(92,"$500.00"),y()()(),_(93,"tfoot")(94,"tr")(95,"th",26),b(96,"Subtotal"),y(),_(97,"th",27),b(98,"Subtotal"),y(),_(99,"td",28),b(100,"$10,500.00"),y()(),_(101,"tr")(102,"th",29),b(103,"Tax"),y(),_(104,"th",30),b(105,"Tax"),y(),_(106,"td",31),b(107,"$1,050.00"),y()(),_(108,"tr")(109,"th",29),b(110,"Discount"),y(),_(111,"th",30),b(112,"Discount"),y(),_(113,"td",31),b(114,"- 10%"),y()(),_(115,"tr")(116,"th",32),b(117,"Total"),y(),_(118,"th",33),b(119,"Total"),y(),_(120,"td",34),b(121,"$11,550.00"),y()()()()(),_(122,"div",35),b(123," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),y()())},styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function yie(n,e){if(1&n&&(Zn(0),_(1,"tr")(2,"td",23)(3,"div",24),Nn(),_(4,"svg",25),Se(5,"path",26),y()()(),hr(),_(6,"td",27),b(7),y(),_(8,"td",28)(9,"div",29)(10,"div")(11,"h2",30),b(12),y()()()(),_(13,"td",31),b(14),y(),_(15,"td",32)(16,"button",33),Nn(),_(17,"svg",34),Se(18,"path",35),y()(),hr(),_(19,"button",36),Nn(),_(20,"svg",25),Se(21,"path",37),y()()()(),er()),2&n){const t=e.$implicit;X(7),hn(" ",t.numero_facture," "),X(5),Bi(t.name),X(2),Bi(t.date)}}let vie=(()=>{class n{constructor(t,r){this.http=t,this.clientService=r,this.clients=[]}ngOnInit(){this.getClient()}getClient(){this.http.get("/assets/data/client.json").subscribe(t=>{console.log(t),this.clients=t})}createClient(){this.clientService.getCollectionData(),console.log("--------------")}static#e=this.\u0275fac=function(r){return new(r||n)(x(Xh),x(z2))};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-factures-close"]],decls:49,vars:1,consts:[[1,"container","px-4","mx-auto"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mt-6"],["href","#",1,"flex","items-center","px-5","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","rtl:-scale-x-100"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"],[1,"items-center","hidden","md:flex","gap-x-3"],["href","#",1,"px-2","py-1","text-sm","text-blue-500","rounded-md","dark:bg-gray-800","bg-blue-100/60"],["href","#",1,"px-2","py-1","text-sm","text-gray-500","rounded-md","dark:hover:bg-gray-800","dark:text-gray-300","hover:bg-gray-100"],["stroke-linecap","round","stroke-linejoin","round","d","M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"],[1,"flex","items-center","justify-center","text-center","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(_(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),b(9," Type "),y(),_(10,"th",7),b(11," Facture N\xb0 "),y(),_(12,"th",8)(13,"div",9)(14,"span"),b(15,"Nom ou Raison sociale"),y()()(),_(16,"th",10),b(17," Date "),y(),_(18,"th",11)(19,"span",12),b(20,"Edit"),y()()()(),_(21,"tbody",13),Jn(22,yie,22,3,"ng-container",14),y()()()()()(),_(23,"div",15)(24,"a",16),Nn(),_(25,"svg",17),Se(26,"path",18),y(),hr(),_(27,"span"),b(28," previous "),y()(),_(29,"div",19)(30,"a",20),b(31,"1"),y(),_(32,"a",21),b(33,"2"),y(),_(34,"a",21),b(35,"3"),y(),_(36,"a",21),b(37,"..."),y(),_(38,"a",21),b(39,"12"),y(),_(40,"a",21),b(41,"13"),y(),_(42,"a",21),b(43,"14"),y()(),_(44,"a",16)(45,"span"),b(46," Next "),y(),Nn(),_(47,"svg",17),Se(48,"path",22),y()()()()),2&r&&(X(22),Fe("ngForOf",i.clients))},dependencies:[Bh]})}return n})();function Eie(n,e){if(1&n){const t=Li();Zn(0),_(1,"div")(2,"label",17),b(3),y(),_(4,"input",18),Ie("ngModelChange",function(i){const s=Bt(t).$implicit;return jt(Ve(2).champsTitleValue[s]=i)}),y()(),er()}if(2&n){const t=e.$implicit,r=Ve(2);X(3),Bi(t),X(1),Fe("ngModel",r.champsTitleValue[t])}}function Iie(n,e){if(1&n){const t=Li();Zn(0),_(1,"h2",9),b(2,"Create L'entete de facture"),y(),_(3,"div",10),Jn(4,Eie,5,2,"ng-container",11),y(),_(5,"div",12)(6,"div",13)(7,"input",14),Ie("ngModelChange",function(i){return Bt(t),jt(Ve().newChamp=i)}),y(),_(8,"button",15),Ie("click",function(){return Bt(t),jt(Ve().addChamp())}),b(9,"Ajouter un champ"),y()(),_(10,"button",16),Ie("click",function(){return Bt(t),jt(Ve().nextStep())}),b(11,"Save"),y()(),er()}if(2&n){const t=Ve();X(4),Fe("ngForOf",t.champsTitle),X(3),Fe("ngModel",t.newChamp),X(1),Fe("disabled",""==t.newChamp)}}function bie(n,e){if(1&n){const t=Li();Zn(0),_(1,"div")(2,"label",20),b(3),y(),_(4,"input",21),Ie("ngModelChange",function(i){const s=Bt(t).$implicit;return jt(Ve(2).champsClientValue[s]=i)}),y()(),er()}if(2&n){const t=e.$implicit,r=Ve(2);X(3),Bi(t),X(1),Fe("ngModel",r.champsClientValue[t])}}function wie(n,e){if(1&n){const t=Li();Zn(0),_(1,"h2",9),b(2,"Create L'entete de facture"),y(),_(3,"div",10),Jn(4,bie,5,2,"ng-container",11),y(),_(5,"div",12)(6,"div",13)(7,"input",14),Ie("ngModelChange",function(i){return Bt(t),jt(Ve().newChamp=i)}),y(),_(8,"button",15),Ie("click",function(){return Bt(t),jt(Ve().addChamp())}),b(9,"Ajouter un champ"),y()(),_(10,"button",19),Ie("click",function(){return Bt(t),jt(Ve().previousStep())}),b(11,"pr\xe9c\xe9dent"),y(),_(12,"button",16),Ie("click",function(){return Bt(t),jt(Ve().nextStep())}),b(13,"Save"),y()(),er()}if(2&n){const t=Ve();X(4),Fe("ngForOf",t.champsClient),X(3),Fe("ngModel",t.newChamp),X(1),Fe("disabled",""==t.newChamp)}}function Tie(n,e){if(1&n){const t=Li();_(0,"div")(1,"label",23),b(2),y(),_(3,"input",24),Ie("ngModelChange",function(i){const s=Bt(t).$implicit;return jt(Ve(2).champsClientValueFacture[s]=i)}),y()()}if(2&n){const t=e.$implicit,r=Ve(2);X(2),Bi(t),X(1),Fe("ngModel",r.champsClientValueFacture[t])}}function Cie(n,e){if(1&n){const t=Li();Zn(0),_(1,"h2",9),b(2,"Create facture"),y(),_(3,"div",10),Jn(4,Tie,4,2,"div",11),y(),_(5,"div",12)(6,"div",13)(7,"input",22),Ie("ngModelChange",function(i){return Bt(t),jt(Ve().newChamp=i)}),y(),_(8,"button",15),Ie("click",function(){return Bt(t),jt(Ve().addChampFacture())}),b(9,"Ajouter un champ"),y()(),_(10,"button",19),Ie("click",function(){return Bt(t),jt(Ve().previousStep())}),b(11,"pr\xe9c\xe9dent"),y(),_(12,"button",16),Ie("click",function(){return Bt(t),jt(Ve().nextStep())}),b(13,"Save"),y()(),er()}if(2&n){const t=Ve();X(4),Fe("ngForOf",t.champsFacture),X(3),Fe("ngModel",t.newChamp),X(1),Fe("disabled",""==t.newChamp)}}function Die(n,e){if(1&n&&(Zn(0),_(1,"p",57),b(2),_(3,"span",33),b(4),y()(),er()),2&n){const t=e.$implicit,r=Ve(2);X(2),hn("",t," : "),X(2),hn(" ",r.champsClientValue[t],"")}}function Aie(n,e){if(1&n&&(Zn(0),_(1,"tr",58)(2,"td",59)(3,"div",60),b(4),y()(),_(5,"td",61),b(6,"--"),y(),_(7,"td",61),b(8,"--"),y(),_(9,"td",62),b(10),y()(),er()),2&n){const t=e.$implicit,r=Ve(2);X(4),Bi(t),X(6),hn("",r.champsClientValueFacture[t]," DA")}}function Sie(n,e){if(1&n){const t=Li();Zn(0),_(1,"div",25)(2,"button",26),Ie("click",function(){return Bt(t),jt(Ve().previousStep())}),b(3,"pr\xe9c\xe9dent"),y(),_(4,"button",16),Ie("click",function(){return Bt(t),jt(Ve().nextStep())}),b(5,"Stocker"),y()(),_(6,"div",27)(7,"div",28)(8,"div",29)(9,"p",30),b(10),y(),_(11,"p",31),b(12),y(),_(13,"p",32),b(14),y(),_(15,"p",32)(16,"span",33),b(17,"RCN :"),y(),b(18),_(19,"span",33),b(20," / NIF :"),y(),b(21),y()(),_(22,"div",34)(23,"p",35),b(24),y(),_(25,"p",31)(26,"span",33),b(27,"Declaration:"),y(),b(28),y(),_(29,"p",31)(30,"span",33),b(31,"Nombre de Colis:"),y(),b(32),y()(),_(33,"div",36),Se(34,"img",37),y()(),_(35,"div",38)(36,"div"),Jn(37,Die,5,2,"ng-container",11),y()(),_(38,"div",39)(39,"table",40)(40,"colgroup"),Se(41,"col",41)(42,"col",42)(43,"col",42)(44,"col",42),y(),_(45,"thead",43)(46,"tr")(47,"th",44),b(48,"Items"),y(),_(49,"th",45),b(50,"Quantity"),y(),_(51,"th",45),b(52,"Price"),y(),_(53,"th",46),b(54,"Amount"),y()()(),_(55,"tbody"),Jn(56,Aie,11,2,"ng-container",11),y(),_(57,"tfoot")(58,"tr")(59,"th",47),b(60,"Total Debours"),y(),_(61,"th",48),b(62,"Total Debours"),y(),_(63,"td",49),b(64,"10,500.00 DA"),y()(),_(65,"tr")(66,"th",47),b(67,"Honoraires"),y(),_(68,"th",48),b(69,"Honoraires"),y(),_(70,"td",49),b(71,"1,795.00 DA"),y()(),_(72,"tr")(73,"th",50),b(74,"TVA 9%"),y(),_(75,"th",51),b(76,"TVA 9%"),y(),_(77,"td",52),b(78,"--"),y()(),_(79,"tr")(80,"th",50),b(81,"Timbre"),y(),_(82,"th",51),b(83,"Timbre"),y(),_(84,"td",52),b(85,"--"),y()(),_(86,"tr")(87,"th",53),b(88,"NET A PAYER"),y(),_(89,"th",54),b(90,"NET A PAYER"),y(),_(91,"td",55),b(92,"11,550.00 DA"),y()()()()(),_(93,"div",56),b(94," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),y()(),er()}if(2&n){const t=Ve();X(10),hn(" ",t.champsTitleValue.Name," "),X(2),hn(" ",t.champsTitleValue.Adresse," "),X(2),hn(" ",t.champsTitleValue["Tel/Fax"]," "),X(4),hn("",t.champsTitleValue.RCN," "),X(3),hn(" ",t.champsTitleValue.NIF," "),X(3),hn(" ",t.champsTitleValue.Date," "),X(4),hn(" ",t.champsTitleValue.Declaration," "),X(4),hn(" ",t.champsTitleValue.Nombre_Colis," "),X(5),Fe("ngForOf",t.champsClient),X(19),Fe("ngForOf",t.champsFacture)}}const Rie=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:AK},{path:"factures",component:mie},{path:"facture-view",component:_ie},{path:"facture-close",component:vie},{path:"facture-create",component:(()=>{class n{constructor(){this.champsTitle=["Name","Date","Adresse","FactureNumber","Tel/Fax","Declaration","RCN","NIF","Nombre_Colis"],this.champsTitleValue={},this.champsClient=["Name","FactureN\xb0","Adresse","Origine","Nature de Marchandise"],this.champsClientValue={},this.newChamp="",this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes"],this.champsClientValueFacture={},this.newChampFacture="",this.width="w-2",this.color=["text-blue-600","","",""],this.step=3}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]=""})}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]="",this.newChamp=""}nextStep(){switch(console.log(this.champsClientValue),this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue.FactureNumber="REP N\xb0 XXX /2024",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.champsTitleValue.Nombre_Colis="4 cafe vert"}stock(){}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["for","",1,"text-black","dark:text-gray-200"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],["for","",1,"text-gray-700","dark:text-gray-200"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-6","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-6","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-6","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-normal","text-gray-500","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-normal","text-gray-500","sm:hidden"],[1,"pl-3","pr-6","pt-4","text-right","text-sm","text-gray-500","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(_(0,"div")(1,"div",0)(2,"div",1),Se(3,"div"),y(),_(4,"ol",2)(5,"li")(6,"span",3),b(7,"Entete"),y(),Nn(),_(8,"svg",4),Se(9,"path",5),y()(),hr(),_(10,"li")(11,"span",3),b(12,"Client"),y(),Nn(),_(13,"svg",4),Se(14,"path",5),y()(),hr(),_(15,"li")(16,"span",3),b(17,"Commandes"),y(),Nn(),_(18,"svg",4),Se(19,"path",5),y()(),hr(),_(20,"li")(21,"span",3),b(22,"Facture final"),y(),Nn(),_(23,"svg",4),Se(24,"path",6),y()()()()(),hr(),_(25,"section",7),Jn(26,Iie,12,3,"ng-container",8),Jn(27,wie,14,3,"ng-container",8),Jn(28,Cie,14,3,"ng-container",8),Jn(29,Sie,95,10,"ng-container",8),y()),2&r&&(X(3),ra("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),X(2),ra("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),X(5),ra("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),X(5),ra("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),X(5),ra("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),X(6),Fe("ngIf",0==i.step),X(1),Fe("ngIf",1==i.step),X(1),Fe("ngIf",2==i.step),X(1),Fe("ngIf",3==i.step))},dependencies:[Bh,Yx,ef,PP,av]})}return n})()}];let xie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pt({type:n});static#n=this.\u0275inj=Ct({imports:[bk.forRoot(Rie),bk]})}return n})(),Mie=(()=>{class n{constructor(t){this.route=t}ngOnInit(){}goToFactures(){this.route.navigate(["/facture-close"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(mn))};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-navbar"]],decls:23,vars:0,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],["onclick","desktopMenuOpen = ! desktopMenuOpen",1,"ml-5","flex","h-full","w-40","cursor-pointer","items-center","justify-center","bg-amber-400"],["href","#",1,"flex","justify-around"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-1","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","about-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"ml-auto","flex","gap-4","px-5"],["href","login.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"],[1,"text-white"],["href","sign-up.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"]],template:function(r,i){1&r&&(_(0,"nav",0)(1,"div",1)(2,"button",2)(3,"div",3),Nn(),_(4,"svg",4),Se(5,"path",5),y(),b(6," All categories "),y()(),hr(),_(7,"div",6)(8,"a",7),b(9,"Home"),y(),_(10,"a",8),Ie("click",function(){return i.goToFactures()}),b(11,"Factures"),y(),_(12,"a",9),b(13,"Clients"),y(),_(14,"a",10),b(15,"Contact Us"),y()(),_(16,"div",11)(17,"a",12),b(18,"Login"),y(),_(19,"span",13),b(20,"|"),y(),_(21,"a",14),b(22,"Sign Up"),y()()()())},styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}@media (max-width: 300px){button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}}"]})}return n})(),Pie=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),b(1,"footer works!"),y())}})}return n})(),kie=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-header-search"]],decls:13,vars:0,consts:[[1,"mx-auto","flex","h-16","max-w-[1200px]","items-center","justify-between","px-5"],["href","index.html"],["src","assets/elite-logo.png","alt","company logo",1,"cursor-pointer","h-16","w-20"],[1,"md:hidden"],["onclick","mobileMenuOpen = ! mobileMenuOpen"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"hidden","h-9","w-2/5","items-center","border","md:flex","rounded","overflow-hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-3","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","search","placeholder","Search",1,"hidden","w-11/12","outline-none","md:block"],[1,"ml-auto","h-full","bg-amber-400","px-4","hover:bg-yellow-300"]],template:function(r,i){1&r&&(_(0,"header",0)(1,"a",1),Se(2,"img",2),y(),_(3,"div",3)(4,"button",4),Nn(),_(5,"svg",5),Se(6,"path",6),y()()(),hr(),_(7,"div",7),Nn(),_(8,"svg",8),Se(9,"path",9),y(),hr(),Se(10,"input",10),_(11,"button",11),b(12," Search "),y()()())},styles:["button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})(),Nie=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ur({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"print"]],template:function(r,i){1&r&&Se(0,"app-header-search",0)(1,"app-navbar",0)(2,"router-outlet")(3,"app-footer",0)},dependencies:[Mv,Mie,Pie,kie],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const Fie={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};let Vie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pt({type:n,bootstrap:[Nie]});static#n=this.\u0275inj=Ct({imports:[M9,xie,KW,$W,QW,Xq,SY(()=>RY(Fie)),die(()=>fie())]})}return n})();x9().bootstrapModule(Vie).catch(n=>console.error(n))}},ke=>{ke(ke.s=320)}]);