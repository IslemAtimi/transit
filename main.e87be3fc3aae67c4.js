"use strict";(self.webpackChunkatchiShop=self.webpackChunkatchiShop||[]).push([[179],{461:()=>{function Be(n){return"function"==typeof n}function Ru(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const md=Ru(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function As(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof md?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{NT(o)}catch(s){e=e??[],s instanceof md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NT(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&As(t,e)}remove(e){const{_finalizers:t}=this;t&&As(t,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const n=new Ln;return n.closed=!0,n})();const PT=Ln.EMPTY;function kT(n){return n instanceof Ln||n&&"closed"in n&&Be(n.remove)&&Be(n.add)&&Be(n.unsubscribe)}function NT(n){Be(n)?n():n.unsubscribe()}const Ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_d={setTimeout(n,e,...t){const{delegate:r}=_d;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=_d;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function OT(n){_d.setTimeout(()=>{const{onUnhandledError:e}=Ao;if(!e)throw n;e(n)})}function FT(){}const eB=Ng("C",void 0,void 0);function Ng(n,e,t){return{kind:n,value:e,error:t}}let So=null;function yd(n){if(Ao.useDeprecatedSynchronousErrorHandling){const e=!So;if(e&&(So={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=So;if(So=null,t)throw r}}else n()}class Og extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kT(e)&&e.add(this)):this.destination=aB}static create(e,t,r){return new Mu(e,t,r)}next(e){this.isStopped?Vg(function nB(n){return Ng("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Vg(function tB(n){return Ng("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vg(eB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const iB=Function.prototype.bind;function Fg(n,e){return iB.call(n,e)}class oB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){vd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){vd(r)}else vd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vd(t)}}}class Mu extends Og{constructor(e,t,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ao.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fg(e.next,o),error:e.error&&Fg(e.error,o),complete:e.complete&&Fg(e.complete,o)}):i=e}this.destination=new oB(i)}}function vd(n){Ao.useDeprecatedSynchronousErrorHandling?function rB(n){Ao.useDeprecatedSynchronousErrorHandling&&So&&(So.errorThrown=!0,So.error=n)}(n):OT(n)}function Vg(n,e){const{onStoppedNotification:t}=Ao;t&&_d.setTimeout(()=>t(n,e))}const aB={closed:!0,next:FT,error:function sB(n){throw n},complete:FT},Lg="function"==typeof Symbol&&Symbol.observable||"@@observable";function xo(n){return n}function VT(n){return 0===n.length?xo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let tt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function lB(n){return n&&n instanceof Og||function cB(n){return n&&Be(n.next)&&Be(n.error)&&Be(n.complete)}(n)&&kT(n)}(t)?t:new Mu(t,r,i);return yd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=LT(r))((i,o)=>{const s=new Mu({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Lg](){return this}pipe(...t){return VT(t)(this)}toPromise(t){return new(t=LT(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function LT(n){var e;return null!==(e=n??Ao.Promise)&&void 0!==e?e:Promise}const dB=Ru(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new BT(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dB}next(t){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?PT:(this.currentObservers=null,o.push(t),new Ln(()=>{this.currentObservers=null,As(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return n.create=(e,t)=>new BT(e,t),n})();class BT extends ni{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:PT}}function UT(n){return Be(n?.lift)}function Ut(n){return e=>{if(UT(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,e,t,r,i){return new hB(n,e,t,r,i)}class hB extends Og{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Mt(r,o=>{r.next(n.call(e,o,i++))}))})}function jg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Vi(n){return this instanceof Vi?(this.v=n,this):new Vi(n)}function GT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Hg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function WT(n){return Be(n?.then)}function qT(n){return Be(n[Lg])}function KT(n){return Symbol.asyncIterator&&Be(n?.[Symbol.asyncIterator])}function QT(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YT=function kB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function XT(n){return Be(n?.[YT])}function JT(n){return function HT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){o.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Vi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Vi(t.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{t.releaseLock()}})}function ZT(n){return Be(n?.getReader)}function hr(n){if(n instanceof tt)return n;if(null!=n){if(qT(n))return function NB(n){return new tt(e=>{const t=n[Lg]();if(Be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(zT(n))return function OB(n){return new tt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(WT(n))return function FB(n){return new tt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,OT)})}(n);if(KT(n))return eC(n);if(XT(n))return function VB(n){return new tt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ZT(n))return function LB(n){return eC(JT(n))}(n)}throw QT(n)}function eC(n){return new tt(e=>{(function BB(n,e){var t,r,i,o;return function jT(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=GT(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ri(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function qt(n,e,t=1/0){return Be(e)?qt((r,i)=>se((o,s)=>e(r,o,i,s))(hr(n(r,i))),t):("number"==typeof e&&(t=e),Ut((r,i)=>function UB(n,e,t,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=_=>c<r?p(_):u.push(_),p=_=>{o&&e.next(_),c++;let y=!1;hr(t(_,l++)).subscribe(Mt(e,b=>{i?.(b),o?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const b=u.shift();s?ri(e,s,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(Mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ss(n=1/0){return qt(xo,n)}const Ar=new tt(n=>n.complete());function Gg(n){return n[n.length-1]}function tC(n){return Be(Gg(n))?n.pop():void 0}function Pu(n){return function $B(n){return n&&Be(n.schedule)}(Gg(n))?n.pop():void 0}function Ed(n,e=0){return Ut((t,r)=>{t.subscribe(Mt(r,i=>ri(r,n,()=>r.next(i),e),()=>ri(r,n,()=>r.complete(),e),i=>ri(r,n,()=>r.error(i),e)))})}function Id(n,e=0){return Ut((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nC(n,e){if(!n)throw new Error("Iterable cannot be null");return new tt(t=>{ri(t,e,()=>{const r=n[Symbol.asyncIterator]();ri(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wt(n,e){return e?function QB(n,e){if(null!=n){if(qT(n))return function GB(n,e){return hr(n).pipe(Id(e),Ed(e))}(n,e);if(zT(n))return function WB(n,e){return new tt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(WT(n))return function zB(n,e){return hr(n).pipe(Id(e),Ed(e))}(n,e);if(KT(n))return nC(n,e);if(XT(n))return function qB(n,e){return new tt(t=>{let r;return ri(t,e,()=>{r=n[YT](),ri(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(n,e);if(ZT(n))return function KB(n,e){return nC(JT(n),e)}(n,e)}throw QT(n)}(n,e):hr(n)}function zg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Mu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function Wg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const XB=Le({__forward_ref__:Le});function je(n){return n.__forward_ref__=je,n.toString=function(){return Ue(this())},n}function te(n){return Kg(n)?n():n}function Kg(n){return"function"==typeof n&&n.hasOwnProperty(XB)&&n.__forward_ref__===je}function Qg(n){return n&&!!n.\u0275providers}const bd="https://g.co/ng/security#xss";class k extends Error{constructor(e,t){super(wd(e,t)),this.code=e}}function wd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Td(n,e){throw new k(-201,!1)}function er(n,e){null==n&&function Pe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cd(n){return iC(n,Dd)||iC(n,sC)}function iC(n,e){return n.hasOwnProperty(e)?n[e]:null}function oC(n){return n&&(n.hasOwnProperty(Yg)||n.hasOwnProperty(oU))?n[Yg]:null}const Dd=Le({\u0275prov:Le}),Yg=Le({\u0275inj:Le}),sC=Le({ngInjectableDef:Le}),oU=Le({ngInjectorDef:Le});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let Xg;function tr(n){const e=Xg;return Xg=n,e}function aC(n,e,t){const r=Cd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ne.Optional?null:void 0!==e?e:void Td(Ue(n))}const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ku={},Jg="__NG_DI_FLAG__",Ad="ngTempTokenPath",aU="ngTokenPath",uU=/\n/gm,cU="\u0275",uC="__source";let Nu;function xs(n){const e=Nu;return Nu=n,e}function lU(n,e=ne.Default){if(void 0===Nu)throw new k(-203,!1);return null===Nu?aC(n,void 0,e):Nu.get(n,e&ne.Optional?null:void 0,e)}function B(n,e=ne.Default){return(function sU(){return Xg}()||lU)(te(n),e)}function de(n,e=ne.Default){return B(n,Sd(e))}function Sd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zg(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],u=dU(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function Ou(n,e){return n[Jg]=e,n.prototype[Jg]=e,n}function dU(n){return n[Jg]}function ii(n){return{toString:n}.toString()}var Sr=(()=>((Sr=Sr||{})[Sr.OnPush=0]="OnPush",Sr[Sr.Default=1]="Default",Sr))(),xr=(()=>{return(n=xr||(xr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xr;var n})();const oi={},xe=[],xd=Le({\u0275cmp:Le}),em=Le({\u0275dir:Le}),tm=Le({\u0275pipe:Le}),lC=Le({\u0275mod:Le}),si=Le({\u0275fac:Le}),Fu=Le({__NG_ELEMENT_ID__:Le});let pU=0;function yn(n){return ii(()=>{const e=hC(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Sr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,id:"c"+pU++,styles:n.styles||xe,_:null,schemas:n.schemas||null,tView:null};fC(t);const r=n.dependencies;return t.directiveDefs=Rd(r,!1),t.pipeDefs=Rd(r,!0),t})}function mU(n){return ke(n)||sn(n)}function _U(n){return null!==n}function jt(n){return ii(()=>({type:n.type,bootstrap:n.bootstrap||xe,declarations:n.declarations||xe,imports:n.imports||xe,exports:n.exports||xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dC(n,e){if(null==n)return oi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ie(n){return ii(()=>{const e=hC(n);return fC(e),e})}function Sn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ke(n){return n[xd]||null}function sn(n){return n[em]||null}function xn(n){return n[tm]||null}function Un(n,e){const t=n[lC]||null;if(!t&&!0===e)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return t}function hC(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||xe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dC(n.inputs,e),outputs:dC(n.outputs)}}function fC(n){n.features?.forEach(e=>e(n))}function Rd(n,e){if(!n)return null;const t=e?xn:mU;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(_U)}const ai=0,j=1,pe=2,at=3,fr=4,Ro=5,an=6,Ms=7,ht=8,Md=9,Pd=10,me=11,nm=12,Vu=13,pC=14,Ps=15,un=16,Lu=17,ks=18,Rr=19,Bu=20,gC=21,We=22,rm=1,mC=2,kd=7,Nd=8,Ns=9,vn=10;function jn(n){return Array.isArray(n)&&"object"==typeof n[rm]}function pr(n){return Array.isArray(n)&&!0===n[rm]}function im(n){return 0!=(4&n.flags)}function Uu(n){return n.componentOffset>-1}function Od(n){return 1==(1&n.flags)}function gr(n){return!!n.template}function vU(n){return 0!=(256&n[pe])}function Mo(n,e){return n.hasOwnProperty(si)?n[si]:null}class bU{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function nr(){return vC}function vC(n){return n.type.prototype.ngOnChanges&&(n.setInput=TU),wU}function wU(){const n=IC(this),e=n?.current;if(e){const t=n.previous;if(t===oi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function TU(n,e,t,r){const i=this.declaredInputs[t],o=IC(n)||function CU(n,e){return n[EC]=e}(n,{previous:oi,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new bU(u&&u.currentValue,e,a===oi),n[r]=e}nr.ngInherit=!0;const EC="__ngSimpleChanges__";function IC(n){return n[EC]||null}const rr=function(n,e,t){},bC="svg";function Kt(n){for(;Array.isArray(n);)n=n[ai];return n}function Fd(n,e){return Kt(e[n])}function $n(n,e){return Kt(e[n.index])}function TC(n,e){return n.data[e]}function Rn(n,e){const t=e[n];return jn(t)?t:t[ai]}function Vd(n){return 64==(64&n[pe])}function Bi(n,e){return null==e?null:n[e]}function CC(n){n[ks]=0}function sm(n,e){n[Ro]+=e;let t=n,r=n[at];for(;null!==r&&(1===e&&1===t[Ro]||-1===e&&0===t[Ro]);)r[Ro]+=e,t=r,r=r[at]}const ce={lFrame:OC(null),bindingsEnabled:!0};function AC(){return ce.bindingsEnabled}function x(){return ce.lFrame.lView}function Te(){return ce.lFrame.tView}function Ae(n){return ce.lFrame.contextLView=n,n[ht]}function Se(n){return ce.lFrame.contextLView=null,n}function Qt(){let n=SC();for(;null!==n&&64===n.type;)n=n.parent;return n}function SC(){return ce.lFrame.currentTNode}function Mr(n,e){const t=ce.lFrame;t.currentTNode=n,t.isParent=e}function am(){return ce.lFrame.isParent}function um(){ce.lFrame.isParent=!1}function En(){const n=ce.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Fs(){return ce.lFrame.bindingIndex++}function ci(n){const e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function LU(n,e){const t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,cm(e)}function cm(n){ce.lFrame.currentDirectiveIndex=n}function dm(n){ce.lFrame.currentQueryIndex=n}function UU(n){const e=n[j];return 2===e.type?e.declTNode:1===e.type?n[an]:null}function kC(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ne.Host||(i=UU(o),null===i||(o=o[Ps],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ce.lFrame=NC();return r.currentTNode=e,r.lView=n,!0}function hm(n){const e=NC(),t=n[j];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function NC(){const n=ce.lFrame,e=null===n?null:n.child;return null===e?OC(n):e}function OC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function FC(){const n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const VC=FC;function fm(){const n=FC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function In(){return ce.lFrame.selectedIndex}function Po(n){ce.lFrame.selectedIndex=n}function nt(){const n=ce.lFrame;return TC(n.tView,n.selectedIndex)}function ft(){ce.lFrame.currentNamespace=bC}function Yt(){!function GU(){ce.lFrame.currentNamespace=null}()}function Ld(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(n.contentHooks??(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function Bd(n,e,t){LC(n,e,3,t)}function Ud(n,e,t,r){(3&n[pe])===t&&LC(n,e,t,r)}function pm(n,e){let t=n[pe];(3&t)===e&&(t&=2047,t+=1,n[pe]=t)}function LC(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[ks]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[ks]+=65536),(a<o||-1==o)&&(qU(n,t,e,u),n[ks]=(4294901760&n[ks])+u+2),u++}function qU(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[pe]>>11<n[ks]>>16&&(3&n[pe])===e){n[pe]+=2048,rr(4,a,o);try{o.call(a)}finally{rr(5,a,o)}}}else{rr(4,a,o);try{o.call(a)}finally{rr(5,a,o)}}}const Vs=-1;class $u{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function mm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];UC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function BC(n){return 3===n||4===n||6===n}function UC(n){return 64===n.charCodeAt(0)}function Hu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||jC(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function jC(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function $C(n){return n!==Vs}function jd(n){return 32767&n}function $d(n,e){let t=function XU(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ps],t--;return r}let _m=!0;function Hd(n){const e=_m;return _m=n,e}const HC=255,GC=5;let JU=0;const Pr={};function Gd(n,e){const t=zC(n,e);if(-1!==t)return t;const r=e[j];r.firstCreatePass&&(n.injectorIndex=e.length,ym(r.data,n),ym(e,null),ym(r.blueprint,null));const i=vm(n,e),o=n.injectorIndex;if($C(i)){const s=jd(i),a=$d(i,e),u=a[j].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ym(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function vm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=JC(i),null===r)return Vs;if(t++,i=i[Ps],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Vs}function Em(n,e,t){!function ZU(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fu)&&(r=t[Fu]),null==r&&(r=t[Fu]=JU++);const i=r&HC;e.data[n+(i>>GC)]|=1<<i}(n,e,t)}function WC(n,e,t){if(t&ne.Optional||void 0!==n)return n;Td()}function qC(n,e,t,r){if(t&ne.Optional&&void 0===r&&(r=null),!(t&(ne.Self|ne.Host))){const i=n[Md],o=tr(void 0);try{return i?i.get(e,r,t&ne.Optional):aC(e,r,t&ne.Optional)}finally{tr(o)}}return WC(r,0,t)}function KC(n,e,t,r=ne.Default,i){if(null!==n){if(1024&e[pe]){const s=function i4(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[pe]&&!(256&s[pe]);){const a=QC(o,s,t,r|ne.Self,Pr);if(a!==Pr)return a;let u=o.parent;if(!u){const c=s[gC];if(c){const l=c.get(t,Pr,r);if(l!==Pr)return l}u=JC(s),s=s[Ps]}o=u}return i}(n,e,t,r,Pr);if(s!==Pr)return s}const o=QC(n,e,t,r,Pr);if(o!==Pr)return o}return qC(e,t,r,i)}function QC(n,e,t,r,i){const o=function n4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fu)?n[Fu]:void 0;return"number"==typeof e?e>=0?e&HC:r4:e}(t);if("function"==typeof o){if(!kC(e,n,r))return r&ne.Host?WC(i,0,r):qC(e,t,r,i);try{const s=o(r);if(null!=s||r&ne.Optional)return s;Td()}finally{VC()}}else if("number"==typeof o){let s=null,a=zC(n,e),u=Vs,c=r&ne.Host?e[un][an]:null;for((-1===a||r&ne.SkipSelf)&&(u=-1===a?vm(n,e):e[a+8],u!==Vs&&XC(r,!1)?(s=e[j],a=jd(u),e=$d(u,e)):a=-1);-1!==a;){const l=e[j];if(YC(o,a,l.data)){const d=t4(a,e,t,s,r,c);if(d!==Pr)return d}u=e[a+8],u!==Vs&&XC(r,e[j].data[a+8]===c)&&YC(o,a,e)?(s=l,a=jd(u),e=$d(u,e)):a=-1}}return i}function t4(n,e,t,r,i,o){const s=e[j],a=s.data[n+8],l=function zd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,l=o>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=s[u];if(f&&gr(f)&&f.type===t)return u}return null}(a,s,t,null==r?Uu(a)&&_m:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==l?ko(e,s,l,a):Pr}function ko(n,e,t,r){let i=n[t];const o=e.data;if(function KU(n){return n instanceof $u}(i)){const s=i;s.resolving&&function JB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}(o[t]));const a=Hd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?tr(s.injectImpl):null;kC(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function WU(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=vC(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&tr(u),Hd(a),s.resolving=!1,VC()}}return i}function YC(n,e,t){return!!(t[e+(n>>GC)]&1<<n)}function XC(n,e){return!(n&ne.Self||n&ne.Host&&e)}class Ls{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return KC(this._tNode,this._lView,e,Sd(r),t)}}function r4(){return new Ls(Qt(),x())}function Xt(n){return ii(()=>{const e=n.prototype.constructor,t=e[si]||Im(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[si]||Im(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Im(n){return Kg(n)?()=>{const e=Im(te(n));return e&&e()}:Mo(n)}function JC(n){const e=n[j],t=e.type;return 2===t?e.declTNode:1===t?n[an]:null}const Us="__parameters__";function $s(n,e,t){return ii(()=>{const r=function bm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Us)?u[Us]:Object.defineProperty(u,Us,{value:[]})[Us];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class V{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function No(n,e){n.forEach(t=>Array.isArray(t)?No(t,e):e(t))}function eD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hn(n,e,t){let r=Hs(n,e);return r>=0?n[1|r]=t:(r=~r,function u4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Tm(n,e){const t=Hs(n,e);if(t>=0)return n[1|t]}function Hs(n,e){return function tD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const cn=Ou($s("Optional"),8),Gs=Ou($s("SkipSelf"),4);var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();const Rm=new Map;let R4=0;const Pm="__ngContext__";function ln(n,e){jn(e)?(n[Pm]=e[Bu],function P4(n){Rm.set(n[Bu],n)}(e)):n[Pm]=e}let km;function Nm(n,e){return km(n,e)}function Yu(n){const e=n[at];return pr(e)?e[at]:e}function Om(n){return ID(n[Vu])}function Fm(n){return ID(n[fr])}function ID(n){for(;null!==n&&!pr(n);)n=n[fr];return n}function Ws(n,e,t,r,i){if(null!=r){let o,s=!1;pr(r)?o=r:jn(r)&&(s=!0,r=r[ai]);const a=Kt(r);0===n&&null!==t?null==i?AD(e,t,a):Oo(e,t,a,i||null,!0):1===n&&null!==t?Oo(e,t,a,i||null,!0):2===n?function Hm(n,e,t){const r=Xd(n,e);r&&function J4(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function t3(n,e,t,r,i){const o=t[kd];o!==Kt(t)&&Ws(e,n,r,o,i);for(let a=vn;a<t.length;a++){const u=t[a];Xu(u[j],u,n,e,r,o)}}(e,n,o,t,i)}}function Lm(n,e,t){return n.createElement(e,t)}function wD(n,e){const t=n[Ns],r=t.indexOf(e),i=e[at];512&e[pe]&&(e[pe]&=-513,sm(i,-1)),t.splice(r,1)}function Bm(n,e){if(n.length<=vn)return;const t=vn+e,r=n[t];if(r){const i=r[Lu];null!==i&&i!==n&&wD(i,r),e>0&&(n[t-1][fr]=r[fr]);const o=qd(n,vn+e);!function G4(n,e){Xu(n,e,e[me],2,null,null),e[ai]=null,e[an]=null}(r[j],r);const s=o[Rr];null!==s&&s.detachView(o[j]),r[at]=null,r[fr]=null,r[pe]&=-65}return r}function TD(n,e){if(!(128&e[pe])){const t=e[me];t.destroyNode&&Xu(n,e,t,3,null,null),function q4(n){let e=n[Vu];if(!e)return Um(n[j],n);for(;e;){let t=null;if(jn(e))t=e[Vu];else{const r=e[vn];r&&(t=r)}if(!t){for(;e&&!e[fr]&&e!==n;)jn(e)&&Um(e[j],e),e=e[at];null===e&&(e=n),jn(e)&&Um(e[j],e),t=e&&e[fr]}e=t}}(e)}}function Um(n,e){if(!(128&e[pe])){e[pe]&=-65,e[pe]|=128,function X4(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof $u)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];rr(4,a,u);try{u.call(a)}finally{rr(5,a,u)}}else{rr(4,i,o);try{o.call(i)}finally{rr(5,i,o)}}}}}(n,e),function Y4(n,e){const t=n.cleanup,r=e[Ms];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[Ms]=null}}(n,e),1===e[j].type&&e[me].destroy();const t=e[Lu];if(null!==t&&pr(e[at])){t!==e[at]&&wD(t,e);const r=e[Rr];null!==r&&r.detachView(n)}!function k4(n){Rm.delete(n[Bu])}(e)}}function CD(n,e,t){return function DD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ai];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===xr.None||o===xr.Emulated)return null}return $n(r,t)}}(n,e.parent,t)}function Oo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AD(n,e,t){n.appendChild(e,t)}function SD(n,e,t,r,i){null!==r?Oo(n,e,t,r,i):AD(n,e,t)}function Xd(n,e){return n.parentNode(e)}let jm,Wm,th,MD=function RD(n,e,t){return 40&n.type?$n(n,t):null};function Jd(n,e,t,r){const i=CD(n,r,e),o=e[me],a=function xD(n,e,t){return MD(n,e,t)}(r.parent||e[an],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)SD(o,i,t[u],a,!1);else SD(o,i,t,a,!1);void 0!==jm&&jm(o,r,e,t,i)}function Zd(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return $m(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Zd(n,r);{const i=n[e.index];return pr(i)?$m(-1,i):Kt(i)}}if(32&t)return Nm(e,n)()||Kt(n[e.index]);{const r=kD(n,e);return null!==r?Array.isArray(r)?r[0]:Zd(Yu(n[un]),r):Zd(n,e.next)}}return null}function kD(n,e){return null!==e?n[un][an].projection[e.projection]:null}function $m(n,e){const t=vn+n+1;if(t<e.length){const r=e[t],i=r[j].firstChild;if(null!==i)return Zd(r,i)}return e[kd]}function Gm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&ln(Kt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Gm(n,e,t.child,r,i,o,!1),Ws(e,n,i,a,o);else if(32&u){const c=Nm(t,r);let l;for(;l=c();)Ws(e,n,i,l,o);Ws(e,n,i,a,o)}else 16&u?ND(n,e,r,t,i,o):Ws(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Xu(n,e,t,r,i,o){Gm(t,r,n.firstChild,e,i,o,!1)}function ND(n,e,t,r,i,o){const s=t[un],u=s[an].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ws(e,n,i,u[c],o);else Gm(n,e,u,s[at],i,o,!0)}function OD(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FD(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&mm(n,e,r),null!==i&&OD(n,e,i),null!==o&&function r3(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function UD(n){return function qm(){if(void 0===th&&(th=null,ze.trustedTypes))try{th=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return th}()?.createScriptURL(n)||n}class Fo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bd})`}}function Gn(n){return n instanceof Fo?n.changingThisBreaksApplicationSecurity:n}function kr(n,e){const t=function p3(n){return n instanceof Fo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${bd})`)}return t===e}const w3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Re=(()=>((Re=Re||{})[Re.NONE=0]="NONE",Re[Re.HTML=1]="HTML",Re[Re.STYLE=2]="STYLE",Re[Re.SCRIPT=3]="SCRIPT",Re[Re.URL=4]="URL",Re[Re.RESOURCE_URL=5]="RESOURCE_URL",Re))();function KD(n){const e=Zu();return e?e.sanitize(Re.URL,n)||"":kr(n,"URL")?Gn(n):function nh(n){return(n=String(n)).match(w3)?n:"unsafe:"+n}(ue(n))}function QD(n){const e=Zu();if(e)return UD(e.sanitize(Re.RESOURCE_URL,n)||"");if(kr(n,"ResourceURL"))return UD(Gn(n));throw new k(904,!1)}function Zu(){const n=x();return n&&n[nm]}const ih=new V("ENVIRONMENT_INITIALIZER"),XD=new V("INJECTOR",-1),JD=new V("INJECTOR_DEF_TYPES");class ZD{get(e,t=ku){if(t===ku){const r=new Error(`NullInjectorError: No provider for ${Ue(e)}!`);throw r.name="NullInjectorError",r}return t}}function F3(...n){return{\u0275providers:eA(0,n),\u0275fromNgModule:!0}}function eA(n,...e){const t=[],r=new Set;let i;return No(e,o=>{const s=o;Xm(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&tA(i,t),t}function tA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Jm(i,o=>{e.push(o)})}}function Xm(n,e,t,r){if(!(n=te(n)))return!1;let i=null,o=oC(n);const s=!o&&ke(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=oC(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Xm(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{No(o.imports,l=>{Xm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&tA(c,e)}if(!a){const c=Mo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:xe},{provide:JD,useValue:i,multi:!0},{provide:ih,useValue:()=>B(i),multi:!0})}const u=o.providers;null==u||a||Jm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Jm(n,e){for(let t of n)Qg(t)&&(t=t.\u0275providers),Array.isArray(t)?Jm(t,e):e(t)}const V3=Le({provide:String,useValue:Le});function Zm(n){return null!==n&&"object"==typeof n&&V3 in n}function Vo(n){return"function"==typeof n}const e_=new V("Set Injector scope."),oh={},B3={};let t_;function sh(){return void 0===t_&&(t_=new ZD),t_}class Nr{}class iA extends Nr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,r_(e,s=>this.processProvider(s)),this.records.set(XD,Ks(void 0,this)),i.has("environment")&&this.records.set(Nr,Ks(void 0,this));const o=this.records.get(e_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(JD.multi,xe,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=xs(this),r=tr(void 0);try{return e()}finally{xs(t),tr(r)}}get(e,t=ku,r=ne.Default){this.assertNotDestroyed(),r=Sd(r);const i=xs(this),o=tr(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function G3(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(e)&&Cd(e);a=u&&this.injectableDefInScope(u)?Ks(n_(e),oh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ne.Self?sh():this.parent).get(e,t=r&ne.Optional&&t===ku?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ad]=s[Ad]||[]).unshift(Ue(e)),i)throw s;return function hU(n,e,t,r){const i=n[Ad];throw e[uC]&&i.unshift(e[uC]),n.message=function fU(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==cU?n.slice(2):n;let i=Ue(e);if(Array.isArray(e))i=e.map(Ue).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ue(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uU,"\n  ")}`}("\n"+n.message,i,t,r),n[aU]=i,n[Ad]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{tr(o),xs(i)}}resolveInjectorInitializers(){const e=xs(this),t=tr(void 0);try{const r=this.get(ih.multi,xe,ne.Self);for(const i of r)i()}finally{xs(e),tr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ue(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=Vo(e=te(e))?e:te(e&&e.provide);const r=function j3(n){return Zm(n)?Ks(void 0,n.useValue):Ks(oA(n),oh)}(e);if(Vo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ks(void 0,oh,!0),i.factory=()=>Zg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===oh&&(t.value=B3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function H3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function n_(n){const e=Cd(n),t=null!==e?e.factory:Mo(n);if(null!==t)return t;if(n instanceof V)throw new k(204,!1);if(n instanceof Function)return function U3(n){const e=n.length;if(e>0)throw function Wu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new k(204,!1);const t=function iU(n){return n&&(n[Dd]||n[sC])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function oA(n,e,t){let r;if(Vo(n)){const i=te(n);return Mo(i)||n_(i)}if(Zm(n))r=()=>te(n.useValue);else if(function rA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Zg(n.deps||[]));else if(function nA(n){return!(!n||!n.useExisting)}(n))r=()=>B(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function $3(n){return!!n.deps}(n))return Mo(i)||n_(i);r=()=>new i(...Zg(n.deps))}return r}function Ks(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function r_(n,e){for(const t of n)Array.isArray(t)?r_(t,e):t&&Qg(t)?r_(t.\u0275providers,e):e(t)}class z3{}class sA{}class q3{resolveComponentFactory(e){throw function W3(n){const e=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ec=(()=>{class n{}return n.NULL=new q3,n})();function K3(){return Qs(Qt(),x())}function Qs(n,e){return new zn($n(n,e))}let zn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=K3,n})();class uA{}let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Y3(){const n=x(),t=Rn(Qt().index,n);return(jn(t)?t:n)[me]}(),n})(),X3=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class Ui{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cA=new Ui("15.2.10"),i_={},o_="ngOriginalError";function s_(n){return n[o_]}class ji{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&s_(e);for(;t&&s_(t);)t=s_(t);return t||null}}function hi(n){return n instanceof Function?n():n}function dA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const hA="ng-template";function uj(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==dA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function fA(n){return 4===n.type&&n.value!==hA}function cj(n,e,t){return e===(4!==n.type||t?n.value:hA)}function lj(n,e,t){let r=4;const i=n.attrs||[],o=function fj(n){for(let e=0;e<n.length;e++)if(BC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!cj(n,u,t)||""===u&&1===e.length){if(mr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!uj(n.attrs,c,t)){if(mr(r))return!1;s=!0}continue}const d=dj(8&r?"class":u,i,fA(n),t);if(-1===d){if(mr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==dA(f,c,0)||2&r&&c!==h){if(mr(r))return!1;s=!0}}}}else{if(!s&&!mr(r)&&!mr(u))return!1;if(s&&mr(u))continue;s=!1,r=u|1&r}}return mr(r)||s}function mr(n){return 0==(1&n)}function dj(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function pj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function pA(n,e,t=!1){for(let r=0;r<e.length;r++)if(lj(n,e[r],t))return!0;return!1}function gA(n,e){return n?":not("+e.trim()+")":e}function mj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!mr(s)&&(e+=gA(o,i),i=""),r=s,o=o||!mr(r);t++}return""!==i&&(e+=gA(o,i)),e}const le={};function D(n){mA(Te(),x(),In()+n,!1)}function mA(n,e,t,r){if(!r)if(3==(3&e[pe])){const o=n.preOrderCheckHooks;null!==o&&Bd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Ud(e,o,0,t)}Po(t)}function EA(n,e=null,t=null,r){const i=IA(n,e,t,r);return i.resolveInjectorInitializers(),i}function IA(n,e=null,t=null,r,i=new Set){const o=[t||xe,F3(n)];return r=r||("object"==typeof n?void 0:Ue(n)),new iA(o,e||sh(),r||null,i)}let Wn=(()=>{class n{static create(t,r){if(Array.isArray(t))return EA({name:""},r,t,"");{const i=t.name??"";return EA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ku,n.NULL=new ZD,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>B(XD)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=ne.Default){const t=x();return null===t?B(n,e):KC(Qt(),t,te(n),e)}function xA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];dm(t[r]),s.contentQueries(2,e[o],o)}}}function uh(n,e,t,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[ai]=i,d[pe]=76|r,(null!==l||n&&1024&n[pe])&&(d[pe]|=1024),CC(d),d[at]=d[Ps]=n,d[ht]=t,d[Pd]=s||n&&n[Pd],d[me]=a||n&&n[me],d[nm]=u||n&&n[nm]||null,d[Md]=c||n&&n[Md]||null,d[an]=o,d[Bu]=function M4(){return R4++}(),d[gC]=l,d[un]=2==e.type?n[un]:d,d}function Js(n,e,t,r,i){let o=n.data[e];if(null===o)o=function d_(n,e,t,r,i){const o=SC(),s=am(),u=n.data[e]=function $j(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function VU(){return ce.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ju(){const n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mr(o,!0),o}function tc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function h_(n,e,t){hm(e);try{const r=n.viewQuery;null!==r&&I_(1,r,t);const i=n.template;null!==i&&RA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xA(n,e),n.staticViewQueries&&I_(2,n.viewQuery,t);const o=n.components;null!==o&&function Bj(n,e){for(let t=0;t<e.length;t++)u$(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,fm()}}function ch(n,e,t,r){const i=e[pe];if(128!=(128&i)){hm(e);try{CC(e),function RC(n){return ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&RA(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Bd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ud(e,c,0,null),pm(e,0)}if(function s$(n){for(let e=Om(n);null!==e;e=Fm(e)){if(!e[mC])continue;const t=e[Ns];for(let r=0;r<t.length;r++){const i=t[r];512&i[pe]||sm(i[at],1),i[pe]|=512}}}(e),function o$(n){for(let e=Om(n);null!==e;e=Fm(e))for(let t=vn;t<e.length;t++){const r=e[t],i=r[j];Vd(r)&&ch(i,r,i.template,r[ht])}}(e),null!==n.contentQueries&&xA(n,e),s){const c=n.contentCheckHooks;null!==c&&Bd(e,c)}else{const c=n.contentHooks;null!==c&&Ud(e,c,1),pm(e,1)}!function Vj(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Po(~i);else{const o=i,s=t[++r],a=t[++r];LU(s,o),a(2,e[o])}}}finally{Po(-1)}}(n,e);const a=n.components;null!==a&&function Lj(n,e){for(let t=0;t<e.length;t++)a$(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&I_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Bd(e,c)}else{const c=n.viewHooks;null!==c&&Ud(e,c,2),pm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[pe]&=-41,512&e[pe]&&(e[pe]&=-513,sm(e[at],-1))}finally{fm()}}}function RA(n,e,t,r,i){const o=In(),s=2&r;try{Po(-1),s&&e.length>We&&mA(n,e,We,!1),rr(s?2:0,i),t(r,i)}finally{Po(o),rr(s?3:1,i)}}function f_(n,e,t){if(im(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function p_(n,e,t){AC()&&(function Qj(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Uu(t)&&function n$(n,e,t){const r=$n(e,n),i=MA(t),o=n[Pd],s=lh(n,uh(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Gd(t,e),ln(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=ko(e,n,a,t);ln(c,e),null!==s&&r$(0,a-i,c,u,0,s),gr(u)&&(Rn(t.index,e)[ht]=ko(e,n,a,t))}}(n,e,t,$n(t,e)),64==(64&t.flags)&&FA(n,e,t))}function g_(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function MA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=m_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function m_(n,e,t,r,i,o,s,a,u,c){const l=We+r,d=l+i,h=function Uj(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(l,d),f="function"==typeof c?c():c;return h[j]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function kA(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?NA(t,e,i,o):r.hasOwnProperty(i)&&NA(t,e,r[i],o)}return t}function NA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function __(n,e,t,r){if(AC()){const i=null===r?null:{"":-1},o=function Xj(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(pA(e,s.selectors,!1))if(r||(r=[]),gr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),y_(n,e,a.length)}else r.unshift(s),y_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&OA(n,e,t,s,i,a),i&&function Jj(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new k(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Hu(t.mergedAttrs,t.attrs)}function OA(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Em(Gd(t,e),n,r[c].type);!function e$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=tc(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Hu(t.mergedAttrs,l.hostAttrs),t$(n,t,e,u,l),Zj(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function Hj(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=t?t.get(d):null,p=h?h.outputs:null;u=kA(d.inputs,l,u,h?h.inputs:null),c=kA(d.outputs,l,c,p);const _=null===u||null===s||fA(e)?null:i$(u,l,s);a.push(_)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function FA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function BU(){return ce.lFrame.currentDirectiveIndex}();try{Po(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];cm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Yj(u,c)}}finally{Po(-1),cm(s)}}function Yj(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function y_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function Zj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gr(e)&&(t[""]=n)}}function t$(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Mo(i.type)),s=new $u(o,gr(i),S);n.blueprint[r]=s,t[r]=s,function qj(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Kj(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,tc(n,t,i.hostVars,le),i)}function Or(n,e,t,r,i,o){const s=$n(n,e);!function v_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ue(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[me],s,o,n.value,t,r,i)}function r$(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],d=s[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function i$(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function VA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function a$(n,e){const t=Rn(e,n);if(Vd(t)){const r=t[j];48&t[pe]?ch(r,t,r.template,t[ht]):t[Ro]>0&&E_(t)}}function E_(n){for(let r=Om(n);null!==r;r=Fm(r))for(let i=vn;i<r.length;i++){const o=r[i];if(Vd(o))if(512&o[pe]){const s=o[j];ch(s,o,s.template,o[ht])}else o[Ro]>0&&E_(o)}const t=n[j].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Rn(t[r],n);Vd(i)&&i[Ro]>0&&E_(i)}}function u$(n,e){const t=Rn(e,n),r=t[j];(function c$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),h_(r,t,t[ht])}function lh(n,e){return n[Vu]?n[pC][fr]=e:n[Vu]=e,n[pC]=e,e}function dh(n){for(;n;){n[pe]|=32;const e=Yu(n);if(vU(n)&&!e)return n;n=e}return null}function hh(n,e,t,r=!0){const i=e[Pd];i.begin&&i.begin();try{ch(n,e,n.template,t)}catch(s){throw r&&jA(e,s),s}finally{i.end&&i.end()}}function I_(n,e,t){dm(0),e(n,t)}function LA(n){return n[Ms]||(n[Ms]=[])}function BA(n){return n.cleanup||(n.cleanup=[])}function jA(n,e){const t=n[Md],r=t?t.get(ji,null):null;r&&r.handleError(e)}function b_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function fi(n,e,t){const r=Fd(e,n);!function bD(n,e,t){n.setValue(e,t)}(n[me],r,t)}function fh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=qg(i,a):2==o&&(r=qg(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ph(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Kt(o)),pr(o))for(let a=vn;a<o.length;a++){const u=o[a],c=u[j].firstChild;null!==c&&ph(u[j],u,c,r)}const s=t.type;if(8&s)ph(n,e,t.child,r);else if(32&s){const a=Nm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=kD(e,t);if(Array.isArray(a))r.push(...a);else{const u=Yu(e[un]);ph(u[j],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class nc{get rootNodes(){const e=this._lView,t=e[j];return ph(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return 128==(128&this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[at];if(pr(e)){const t=e[Nd],r=t?t.indexOf(this):-1;r>-1&&(Bm(e,r),qd(t,r))}this._attachedToViewContainer=!1}TD(this._lView[j],this._lView)}onDestroy(e){!function PA(n,e,t,r){const i=LA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&BA(n).push(r,i.length-1))}(this._lView[j],this._lView,null,e)}markForCheck(){dh(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-65}reattach(){this._lView[pe]|=64}detectChanges(){hh(this._lView[j],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W4(n,e){Xu(n,e,e[me],2,null,null)}(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class l$ extends nc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hh(e[j],e,e[ht],!1)}checkNoChanges(){}get context(){return null}}class $A extends ec{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ke(e);return new rc(t,this.ngModule)}}function HA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class h${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Sd(r);const i=this.injector.get(e,i_,r);return i!==i_||t===i_?i:this.parentInjector.get(e,t,r)}}class rc extends sA{get inputs(){return HA(this.componentDef.inputs)}get outputs(){return HA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _j(n){return n.map(mj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Nr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new h$(e,o):e,a=s.get(uA,null);if(null===a)throw new k(407,!1);const u=s.get(X3,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function jj(n,e,t){return n.selectRootElement(e,t===xr.ShadowDom)}(c,r,this.componentDef.encapsulation):Lm(c,l,function d$(n){const e=n.toLowerCase();return"svg"===e?bC:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=m_(0,null,null,1,0,null,null,null,null,null),p=uh(null,f,null,h,null,null,a,c,u,s,null);let _,y;hm(p);try{const b=this.componentDef;let C,E=null;b.findHostDirectiveDefs?(C=[],E=new Map,b.findHostDirectiveDefs(b,C,E),C.push(b)):C=[b];const P=function p$(n,e){const t=n[j],r=We;return n[r]=e,Js(t,r,2,"#host",null)}(p,d),G=function g$(n,e,t,r,i,o,s,a){const u=i[j];!function m$(n,e,t,r){for(const i of n)e.mergedAttrs=Hu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(fh(e,e.mergedAttrs,!0),null!==t&&FD(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),l=uh(i,MA(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return u.firstCreatePass&&y_(u,n,r.length-1),lh(i,l),i[n.index]=l}(P,d,b,C,p,a,c);y=TC(f,We),d&&function y$(n,e,t,r){if(r)mm(n,t,["ng-version",cA.full]);else{const{attrs:i,classes:o}=function yj(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!mr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&mm(n,t,i),o&&o.length>0&&OD(n,t,o.join(" "))}}(c,b,d,r),void 0!==t&&function v$(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(y,this.ngContentSelectors,t),_=function _$(n,e,t,r,i,o){const s=Qt(),a=i[j],u=$n(s,i);OA(a,i,s,t,null,r);for(let l=0;l<t.length;l++)ln(ko(i,a,s.directiveStart+l,s),i);FA(a,i,s),u&&ln(u,i);const c=ko(i,a,s.directiveStart+s.componentOffset,s);if(n[ht]=i[ht]=c,null!==o)for(const l of o)l(c,e);return f_(a,s,n),c}(G,b,C,E,p,[E$]),h_(f,p,null)}finally{fm()}return new f$(this.componentType,_,Qs(y,p),p,y)}}class f$ extends z3{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new l$(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;b_(o[j],o,i,e,t),dh(Rn(this._tNode.index,o))}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function E$(){const n=Qt();Ld(x()[j],n)}function Ne(n){let e=function GA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(gr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=w_(n.inputs),s.declaredInputs=w_(n.declaredInputs),s.outputs=w_(n.outputs);const a=i.hostBindings;a&&T$(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&b$(n,u),c&&w$(n,c),Wg(n.inputs,i.inputs),Wg(n.declaredInputs,i.declaredInputs),Wg(n.outputs,i.outputs),gr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ne&&(t=!1)}}e=Object.getPrototypeOf(e)}!function I$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hu(i.hostAttrs,t=Hu(t,i.hostAttrs))}}(r)}function w_(n){return n===oi?{}:n===xe?[]:n}function b$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function w$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function T$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function gh(n){return!!function T_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Fr(n,e,t){return n[e]=t}function dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Lo(n,e,t,r){const i=dn(n,e,t);return dn(n,e+1,r)||i}function Vr(n,e,t,r){const i=x();return dn(i,Fs(),e)&&(Te(),Or(nt(),i,n,e,t,r)),Vr}function ea(n,e,t,r){return dn(n,Fs(),t)?e+ue(t)+r:le}function na(n,e,t,r,i,o,s,a){const c=function mh(n,e,t,r,i){const o=Lo(n,e,t,r);return dn(n,e+2,i)||o}(n,function ui(){return ce.lFrame.bindingIndex}(),t,i,s);return ci(3),c?e+ue(t)+r+ue(i)+o+ue(s)+a:le}function we(n,e,t,r,i,o,s,a){const u=x(),c=Te(),l=n+We,d=c.firstCreatePass?function N$(n,e,t,r,i,o,s,a,u){const c=e.consts,l=Js(e,n,4,s||null,Bi(c,a));__(e,t,l,Bi(c,u)),Ld(e,l);const d=l.tView=m_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,o,s):c.data[l];Mr(d,!1);const h=u[me].createComment("");Jd(c,u,h,d),ln(h,u),lh(u,u[l]=VA(h,u,h,d)),Od(d)&&p_(c,u,d),null!=s&&g_(u,d,a)}function Q(n,e,t){const r=x();return dn(r,Fs(),e)&&function qn(n,e,t,r,i,o,s,a){const u=$n(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(b_(n,t,l,r,i),Uu(e)&&function zj(n,e){const t=Rn(e,n);16&t[pe]||(t[pe]|=32)}(t,e.index)):3&e.type&&(r=function Gj(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Te(),nt(),r,n,e,r[me],t,!1),Q}function C_(n,e,t,r,i){const s=i?"class":"style";b_(n,t,e.inputs[s],s,r)}function g(n,e,t,r){const i=x(),o=Te(),s=We+n,a=i[me],u=o.firstCreatePass?function V$(n,e,t,r,i,o){const s=e.consts,u=Js(e,n,2,r,Bi(s,i));return __(e,t,u,Bi(s,o)),null!==u.attrs&&fh(u,u.attrs,!1),null!==u.mergedAttrs&&fh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=i[s]=Lm(a,e,function zU(){return ce.lFrame.currentNamespace}()),l=Od(u);return Mr(u,!0),FD(a,c,u),32!=(32&u.flags)&&Jd(o,i,c,u),0===function MU(){return ce.lFrame.elementDepthCount}()&&ln(c,i),function PU(){ce.lFrame.elementDepthCount++}(),l&&(p_(o,i,u),f_(o,u,i)),null!==r&&g_(i,u),g}function m(){let n=Qt();am()?um():(n=n.parent,Mr(n,!1));const e=n;!function kU(){ce.lFrame.elementDepthCount--}();const t=Te();return t.firstCreatePass&&(Ld(t,n),im(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function QU(n){return 0!=(8&n.flags)}(e)&&C_(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YU(n){return 0!=(16&n.flags)}(e)&&C_(t,e,x(),e.stylesWithoutHost,!1),m}function _e(n,e,t,r){return g(n,e,t,r),m(),_e}function Nt(n,e,t){const r=x(),i=Te(),o=n+We,s=i.firstCreatePass?function L$(n,e,t,r,i){const o=e.consts,s=Bi(o,r),a=Js(e,n,8,"ng-container",s);return null!==s&&fh(a,s,!0),__(e,t,a,Bi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Mr(s,!0);const a=r[o]=r[me].createComment("");return Jd(i,r,a,s),ln(a,r),Od(s)&&(p_(i,r,s),f_(i,s,r)),null!=t&&g_(r,s),Nt}function Ot(){let n=Qt();const e=Te();return am()?um():(n=n.parent,Mr(n,!1)),e.firstCreatePass&&(Ld(e,n),im(n)&&e.queries.elementEnd(n)),Ot}function bn(){return x()}function oc(n){return!!n&&"function"==typeof n.then}const D_=function iS(n){return!!n&&"function"==typeof n.subscribe};function X(n,e,t,r){const i=x(),o=Te(),s=Qt();return function sS(n,e,t,r,i,o,s){const a=Od(r),c=n.firstCreatePass&&BA(n),l=e[ht],d=LA(e);let h=!0;if(3&r.type||s){const _=$n(r,e),y=s?s(_):_,b=d.length,C=s?P=>s(Kt(P[r.index])):r.index;let E=null;if(!s&&a&&(E=function B$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Ms],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=uS(r,e,l,o,!1);const P=t.listen(y,i,o);d.push(o,P),c&&c.push(i,C,b,b+1)}}else o=uS(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const _=p.length;if(_)for(let y=0;y<_;y+=2){const G=e[p[y]][p[y+1]].subscribe(o),Y=d.length;d.push(o,G),c&&c.push(i,r.index,Y,-(Y+1))}}}(o,i,i[me],s,n,e,r),X}function aS(n,e,t,r){try{return rr(6,e,t),!1!==t(r)}catch(i){return jA(n,i),!1}finally{rr(7,e,t)}}function uS(n,e,t,r,i){return function o(s){if(s===Function)return r;dh(n.componentOffset>-1?Rn(n.index,e):e);let u=aS(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=aS(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function H(n=1){return function jU(n){return(ce.lFrame.contextLView=function $U(n,e){for(;n>0;)e=e[Ps],n--;return e}(n,ce.lFrame.contextLView))[ht]}(n)}function _h(n,e){return n<<17|e<<2}function $i(n){return n>>17&32767}function S_(n){return 2|n}function Bo(n){return(131068&n)>>2}function x_(n,e){return-131069&n|e<<2}function R_(n){return 1|n}function yS(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?$i(o):Bo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=n[a+1];K$(n[a],e)&&(u=!0,n[a+1]=r?R_(l):S_(l)),a=r?$i(l):Bo(l)}u&&(n[t+1]=r?S_(o):R_(o))}function K$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Hs(n,e)>=0}const Ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vS(n){return n.substring(Ft.key,Ft.keyEnd)}function ES(n,e){const t=Ft.textEnd;return t===e?-1:(e=Ft.keyEnd=function J$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ft.key=e,t),ua(n,e,t))}function ua(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function yh(n,e){return function _r(n,e,t,r){const i=x(),o=Te(),s=ci(2);o.firstUpdatePass&&AS(o,n,s,r),e!==le&&dn(i,s,e)&&xS(o,o.data[In()],i,i[me],n,i[s+1]=function l5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ue(Gn(n)))),n}(e,t),r,s)}(n,e,null,!0),yh}function Br(n,e){for(let t=function Y$(n){return function bS(n){Ft.key=0,Ft.keyEnd=0,Ft.value=0,Ft.valueEnd=0,Ft.textEnd=n.length}(n),ES(n,ua(n,0,Ft.textEnd))}(e);t>=0;t=ES(e,t))Hn(n,vS(e),!0)}function DS(n,e){return e>=n.expandoStartIndex}function AS(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[In()],s=DS(n,t);MS(o,r)&&null===e&&!s&&(e=!1),e=function r5(n,e,t,r){const i=function lm(n){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=sc(t=M_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=M_(i,n,e,t,r),null===o){let u=function i5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Bo(r))return n[$i(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=M_(null,n,e,u[1],r),u=sc(u,e.attrs,r),function o5(n,e,t,r){n[$i(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function s5(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=sc(r,n[o].hostAttrs,t);return sc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function W$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$i(s),u=Bo(s);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Hs(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=$i(n[a+1]);n[r+1]=_h(h,a),0!==h&&(n[h+1]=x_(n[h+1],r)),n[a+1]=function G$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=_h(a,0),0!==a&&(n[a+1]=x_(n[a+1],r)),a=r;else n[r+1]=_h(u,0),0===a?a=r:n[u+1]=x_(n[u+1],r),u=r;c&&(n[r+1]=S_(n[r+1])),yS(n,l,r,!0),yS(n,l,r,!1),function q$(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Hs(o,e)>=0&&(t[r+1]=R_(t[r+1]))}(e,l,n,r,o),s=_h(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function M_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=sc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function sc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hn(n,s,!!t||e[++o]))}return void 0===n?null:n}function xS(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function z$(n){return 1==(1&n)}(c)?RS(u,e,t,i,Bo(c),s):void 0;vh(l)||(vh(o)||function H$(n){return 2==(2&n)}(c)&&(o=RS(u,null,t,i,a,s)),function n3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Mn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),n.setStyle(t,r,i,o))}}(r,s,Fd(In(),t),i,o))}function RS(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===le&&(h=d?xe:void 0);let f=d?Tm(h,r):l===r?h:void 0;if(c&&!vh(f)&&(f=Tm(u,r)),vh(f)&&(a=f,s))return a;const p=n[i+1];i=s?$i(p):Bo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Tm(u,r))}return a}function vh(n){return void 0!==n}function MS(n,e){return 0!=(n.flags&(e?8:16))}function v(n,e=""){const t=x(),r=Te(),i=n+We,o=r.firstCreatePass?Js(r,i,1,e,null):r.data[i],s=t[i]=function Vm(n,e){return n.createText(e)}(t[me],e);Jd(r,t,s,o),Mr(o,!1)}function pt(n){return J("",n,""),pt}function J(n,e,t){const r=x(),i=ea(r,n,e,t);return i!==le&&fi(r,In(),i),J}function P_(n,e,t,r,i,o,s){const a=x(),u=na(a,n,e,t,r,i,o,s);return u!==le&&fi(a,In(),u),P_}function ca(n,e,t){!function yr(n,e,t,r){const i=Te(),o=ci(2);i.firstUpdatePass&&AS(i,null,o,r);const s=x();if(t!==le&&dn(s,o,t)){const a=i.data[In()];if(MS(a,r)&&!DS(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=qg(u,t||"")),C_(i,a,s,t,r)}else!function c5(n,e,t,r,i,o,s,a){i===le&&(i=xe);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let _,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,_=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,_=f),null!==p&&xS(n,e,t,r,p,_,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[me],s[o+1],s[o+1]=function a5(n,e,t){if(null==t||""===t)return xe;const r=[],i=Gn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Hn,Br,ea(x(),n,e,t),!0)}const Uo=void 0;var x5=["en",[["a","p"],["AM","PM"],Uo],[["AM","PM"],Uo,Uo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uo,"{1} 'at' {0}",Uo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function S5(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let la={};function wn(n){const e=function R5(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=XS(e);if(t)return t;const r=e.split("-")[0];if(t=XS(r),t)return t;if("en"===r)return x5;throw new k(701,!1)}function XS(n){return n in la||(la[n]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[n]),la[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const da="en-US";let JS=da;function O_(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let o=0;o<n.length;o++)O_(n[o],e,t,r,i);else{const o=Te(),s=x();let a=Vo(n)?n:te(n.provide),u=oA(n);const c=Qt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Vo(n)||!n.multi){const f=new $u(u,i,S),p=V_(a,e,i?l:l+h,d);-1===p?(Em(Gd(c,s),o,a),F_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=V_(a,e,l+h,d),p=V_(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){Em(Gd(c,s),o,a);const b=function AH(n,e,t,r,i){const o=new $u(n,t,S);return o.multi=[],o.index=e,o.componentProviders=0,wx(o,i,r&&!t),o}(i?DH:CH,t.length,i,r,u);!i&&y&&(t[p].providerFactory=b),F_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),s.push(b)}else F_(o,n,f>-1?f:p,wx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function F_(n,e,t,r){const i=Vo(e),o=function L3(n){return!!n.useClass}(e);if(i||o){const u=(o?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function wx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function V_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function CH(n,e,t,r){return L_(this.multi,[])}function DH(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ko(t,t[j],this.providerFactory.index,r);o=a.slice(0,s),L_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],L_(i,o);return o}function L_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Xe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function TH(n,e,t){const r=Te();if(r.firstCreatePass){const i=gr(n);O_(t,r.data,r.blueprint,i,!0),O_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ha{}class Tx{}class Cx extends ha{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $A(this);const r=Un(e);this._bootstrapComponents=hi(r.bootstrap),this._r3Injector=IA(e,t,[{provide:ha,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],Ue(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class B_ extends Tx{constructor(e){super(),this.moduleType=e}create(e){return new Cx(this.moduleType,e)}}class xH extends ha{constructor(e,t,r){super(),this.componentFactoryResolver=new $A(this),this.instance=null;const i=new iA([...e,{provide:ha,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],t||sh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Th(n,e,t=null){return new xH(n,e,t).injector}let RH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=eA(0,t.type),i=r.length>0?Th([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(B(Nr))}),n})();function Dx(n){n.getStandaloneInjector=e=>e.get(RH).getOrCreateStandaloneInjector(n)}function Ch(n,e,t){const r=En()+n,i=x();return i[r]===le?Fr(i,r,t?e.call(t):e()):function ic(n,e){return n[e]}(i,r)}function Nx(n,e,t,r,i,o,s){const a=e+t;return Lo(n,a,i,o)?Fr(n,a+2,s?r.call(s,i,o):r(i,o)):function hc(n,e){const t=n[e];return t===le?void 0:t}(n,a+2)}function j_(n,e){const t=Te();let r;const i=n+We;t.firstCreatePass?(r=function KH(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Mo(r.type)),s=tr(S);try{const a=Hd(!1),u=o();return Hd(a),function O$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,x(),i,u),u}finally{tr(s)}}function $_(n,e,t,r){const i=n+We,o=x(),s=function Os(n,e){return n[e]}(o,i);return function fc(n,e){return n[j].data[e].pure}(o,i)?Nx(o,En(),e,s.transform,t,r,s):s.transform(t,r)}function H_(n){return e=>{setTimeout(n,void 0,e)}}const ct=class ZH extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=H_(o),i&&(i=H_(i)),s&&(s=H_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ln&&e.add(a),a}};let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=r6,n})();const t6=pi,n6=class extends t6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=uh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Lu]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Rr];return null!==s&&(i[Rr]=s.createEmbeddedView(r)),h_(r,i,e),new nc(i)}};function r6(){return function Dh(n,e){return 4&n.type?new n6(e,n,Qs(n,e)):null}(Qt(),x())}let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=i6,n})();function i6(){return function Ux(n,e){let t;const r=e[n.index];if(pr(r))t=r;else{let i;if(8&n.type)i=Kt(r);else{const o=e[me];i=o.createComment("");const s=$n(n,e);Oo(o,Xd(o,s),i,function Z4(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=VA(r,e,i,n),lh(e,t)}return new Lx(t,n,e)}(Qt(),x())}const o6=vr,Lx=class extends o6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const e=vm(this._hostTNode,this._hostLView);if($C(e)){const t=$d(e,this._hostLView),r=jd(e);return new Ls(t[j].data[r+8],t)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Bx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function zu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new rc(ke(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?c:this.parentInjector).get(Nr,null);h&&(o=h)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[j];if(function RU(n){return pr(n[at])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[at],h=new Lx(d,d[an],d[at]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function K4(n,e,t,r){const i=vn+r,o=t.length;r>0&&(t[i-1][fr]=e),r<o-vn?(e[fr]=t[i],eD(t,vn+r,e)):(t.push(e),e[fr]=null),e[at]=t;const s=e[Lu];null!==s&&t!==s&&function Q4(n,e){const t=n[Ns];e[un]!==e[at][at][un]&&(n[mC]=!0),null===t?n[Ns]=[e]:t.push(e)}(s,e);const a=e[Rr];null!==a&&a.insertView(n),e[pe]|=64}(i,r,s,o);const a=$m(o,s),u=r[me],c=Xd(u,s[kd]);return null!==c&&function z4(n,e,t,r,i,o){r[ai]=i,r[an]=e,Xu(n,r,t,1,i,o)}(i,s[an],u,r,c,a),e.attachToViewContainerRef(),eD(z_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Bx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Bm(this._lContainer,t);r&&(qd(z_(this._lContainer),t),TD(r[j],r))}detach(e){const t=this._adjustIndex(e,-1),r=Bm(this._lContainer,t);return r&&null!=qd(z_(this._lContainer),t)?new nc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Bx(n){return n[Nd]}function z_(n){return n[Nd]||(n[Nd]=[])}function Sh(...n){}const xh=new V("Application Initializer");let Rh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Sh,this.reject=Sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(oc(o))t.push(o);else if(D_(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(B(xh,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gc=new V("AppId",{providedIn:"root",factory:function hR(){return`${ny()}${ny()}${ny()}`}});function ny(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fR=new V("Platform Initializer"),mc=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let k6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ur=new V("LocaleId",{providedIn:"root",factory:()=>de(Ur,ne.Optional|ne.SkipSelf)||function N6(){return typeof $localize<"u"&&$localize.locale||da}()});class F6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let pR=(()=>{class n{compileModuleSync(t){return new B_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=hi(Un(t).declarations).reduce((s,a)=>{const u=ke(a);return u&&s.push(new rc(u)),s},[]);return new F6(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B6=(()=>Promise.resolve(0))();function ry(n){typeof Zone>"u"?B6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U6(){let n=ze.requestAnimationFrame,e=ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H6(n){const e=()=>{!function $6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,oy(n),n.isCheckStableRunning=!0,iy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),oy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return _R(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),yR(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return _R(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),yR(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,oy(n),iy(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,j6,Sh,Sh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const j6={};function iy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _R(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yR(n){n._nesting--,iy(n)}class G6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const vR=new V(""),Mh=new V("");let uy,sy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uy||(function z6(n){uy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ry(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(B(Je),B(ay),B(Mh))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),ay=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return uy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const gi=!1;let Hi=null;const ER=new V("AllowMultipleToken"),cy=new V("PlatformDestroyListeners"),IR=new V("appBootstrapListener");class bR{constructor(e,t){this.name=e,this.token=t}}function TR(n,e,t=[]){const r=`Platform: ${e}`,i=new V(r);return(o=[])=>{let s=ly();if(!s||s.injector.get(ER,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function K6(n){if(Hi&&!Hi.get(ER,!1))throw new k(400,!1);Hi=n;const e=n.get(DR);(function wR(n){const e=n.get(fR,null);e&&e.forEach(t=>t())})(n)}(function CR(n=[],e){return Wn.create({name:e,providers:[{provide:e_,useValue:"platform"},{provide:cy,useValue:new Set([()=>Hi=null])},...n]})}(a,r))}return function Y6(n){const e=ly();if(!e)throw new k(401,!1);return e}()}}function ly(){return Hi?.get(DR)??null}let DR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function SR(n,e){let t;return t="noop"===n?new G6:("zone.js"===n?void 0:n)||new Je(e),t}(r?.ngZone,function AR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Je,useValue:i}];return i.run(()=>{const s=Wn.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(ji,null);if(!u)throw new k(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{kh(this._modules,a),c.unsubscribe()})}),function xR(n,e,t){try{const r=t();return oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Rh);return c.runInitializers(),c.donePromise.then(()=>(function ZS(n){er(n,"Expected localeId to be defined"),"string"==typeof n&&(JS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ur,da)||da),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=RR({},r);return function W6(n,e,t){const r=new B_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ph);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(cy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(B(Wn))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function RR(n,e){return Array.isArray(e)?e.reduce(RR,n):{...n,...e}}let Ph=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new tt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new tt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function YB(...n){const e=Pu(n),t=function HB(n,e){return"number"==typeof Gg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?hr(r[0]):Ss(t)(wt(r,e)):Ar}(o,s.pipe(function rC(n={}){const{connector:e=(()=>new ni),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const _=s;f(),_?.unsubscribe()};return Ut((_,y)=>{c++,!d&&!l&&h();const b=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=zg(p,i))}),b.subscribe(y),!s&&c>0&&(s=new Mu({next:C=>b.next(C),error:C=>{d=!0,h(),a=zg(f,t,C),b.error(C)},complete:()=>{l=!0,h(),a=zg(f,r),b.complete()}}),hr(_).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof sA;if(!this._injector.get(Rh).done){!i&&function Rs(n){const e=ke(n)||sn(n)||xn(n);return null!==e&&e.standalone}(t);throw new k(405,gi)}let s;s=i?t:this._injector.get(ec).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function q6(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ha),c=s.create(Wn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(vR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),kh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;kh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(IR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>kh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(B(Je),B(Nr),B(ji))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Nh=(()=>{class n{}return n.__NG_ELEMENT_ID__=J6,n})();function J6(n){return function Z6(n,e,t){if(Uu(n)&&!t){const r=Rn(n.index,e);return new nc(r,r)}return 47&n.type?new nc(e[un],e):null}(Qt(),x(),16==(16&n))}class OR{constructor(){}supports(e){return gh(e)}create(e){return new oG(e)}}const iG=(n,e)=>e;class oG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<VR(r,i,o)?t:r,a=VR(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gh(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function M$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sG(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new FR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class FR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new aG,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function BR(){return new Vh([new OR])}let Vh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BR()),deps:[[n,new Gs,new cn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:BR}),n})();const hG=TR(null,"core",[]);let fG=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(B(Ph))},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({}),n})();function ga(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let gy=null;function mi(){return gy}class mG{}const rt=new V("DocumentToken");let my=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function _G(){return B(jR)}()},providedIn:"platform"}),n})();const yG=new V("Location Initialized");let jR=(()=>{class n extends my{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(t){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$R()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$R()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(B(rt))},n.\u0275prov=W({token:n,factory:function(){return function vG(){return new jR(B(rt))}()},providedIn:"platform"}),n})();function $R(){return!!window.history.pushState}function _y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function HR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _i(n){return n&&"?"!==n[0]?"?"+n:n}let $o=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return de(zR)},providedIn:"root"}),n})();const GR=new V("appBaseHref");let zR=(()=>{class n extends $o{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+_i(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+_i(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(B(my),B(GR,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EG=(()=>{class n extends $o{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=_y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(B(my),B(GR,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),yy=(()=>{class n{constructor(t){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function wG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(HR(WR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(function bG(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,WR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_i,n.joinWithSlash=_y,n.stripTrailingSlash=HR,n.\u0275fac=function(t){return new(t||n)(B($o))},n.\u0275prov=W({token:n,factory:function(){return function IG(){return new yy(B($o))}()},providedIn:"root"}),n})();function WR(n){return n.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Format=0]="Format",gt[gt.Standalone=1]="Standalone",gt))(),ve=(()=>((ve=ve||{})[ve.Narrow=0]="Narrow",ve[ve.Abbreviated=1]="Abbreviated",ve[ve.Wide=2]="Wide",ve[ve.Short=3]="Short",ve))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Lh(n,e){return ar(wn(n)[U.DateFormat],e)}function Bh(n,e){return ar(wn(n)[U.TimeFormat],e)}function Uh(n,e){return ar(wn(n)[U.DateTimeFormat],e)}function sr(n,e){const t=wn(n),r=t[U.NumberSymbols][e];if(typeof r>"u"){if(e===ee.CurrencyDecimal)return t[U.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[U.NumberSymbols][ee.Group]}return r}function KR(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ar(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ey(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const FG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},VG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),re=(()=>((re=re||{})[re.FullYear=0]="FullYear",re[re.Month=1]="Month",re[re.Date=2]="Date",re[re.Hours=3]="Hours",re[re.Minutes=4]="Minutes",re[re.Seconds=5]="Seconds",re[re.FractionalSeconds=6]="FractionalSeconds",re[re.Day=7]="Day",re))(),ge=(()=>((ge=ge||{})[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge))();function LG(n,e,t,r){let i=function qG(n){if(XR(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return jh(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(FG))return function KG(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,u,c),e}(r)}const e=new Date(n);if(!XR(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=yi(t,e)||e;let a,s=[];for(;e;){if(a=VG.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=YR(r,u),i=function WG(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function zG(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(YR(e,i)-i))}(i,r,!0));let c="";return s.forEach(l=>{const d=function GG(n){if(by[n])return by[n];let e;switch(n){case"G":case"GG":case"GGG":e=$e(ge.Eras,ve.Abbreviated);break;case"GGGG":e=$e(ge.Eras,ve.Wide);break;case"GGGGG":e=$e(ge.Eras,ve.Narrow);break;case"y":e=Ct(re.FullYear,1,0,!1,!0);break;case"yy":e=Ct(re.FullYear,2,0,!0,!0);break;case"yyy":e=Ct(re.FullYear,3,0,!1,!0);break;case"yyyy":e=Ct(re.FullYear,4,0,!1,!0);break;case"Y":e=zh(1);break;case"YY":e=zh(2,!0);break;case"YYY":e=zh(3);break;case"YYYY":e=zh(4);break;case"M":case"L":e=Ct(re.Month,1,1);break;case"MM":case"LL":e=Ct(re.Month,2,1);break;case"MMM":e=$e(ge.Months,ve.Abbreviated);break;case"MMMM":e=$e(ge.Months,ve.Wide);break;case"MMMMM":e=$e(ge.Months,ve.Narrow);break;case"LLL":e=$e(ge.Months,ve.Abbreviated,gt.Standalone);break;case"LLLL":e=$e(ge.Months,ve.Wide,gt.Standalone);break;case"LLLLL":e=$e(ge.Months,ve.Narrow,gt.Standalone);break;case"w":e=Iy(1);break;case"ww":e=Iy(2);break;case"W":e=Iy(1,!0);break;case"d":e=Ct(re.Date,1);break;case"dd":e=Ct(re.Date,2);break;case"c":case"cc":e=Ct(re.Day,1);break;case"ccc":e=$e(ge.Days,ve.Abbreviated,gt.Standalone);break;case"cccc":e=$e(ge.Days,ve.Wide,gt.Standalone);break;case"ccccc":e=$e(ge.Days,ve.Narrow,gt.Standalone);break;case"cccccc":e=$e(ge.Days,ve.Short,gt.Standalone);break;case"E":case"EE":case"EEE":e=$e(ge.Days,ve.Abbreviated);break;case"EEEE":e=$e(ge.Days,ve.Wide);break;case"EEEEE":e=$e(ge.Days,ve.Narrow);break;case"EEEEEE":e=$e(ge.Days,ve.Short);break;case"a":case"aa":case"aaa":e=$e(ge.DayPeriods,ve.Abbreviated);break;case"aaaa":e=$e(ge.DayPeriods,ve.Wide);break;case"aaaaa":e=$e(ge.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":e=$e(ge.DayPeriods,ve.Abbreviated,gt.Standalone,!0);break;case"bbbb":e=$e(ge.DayPeriods,ve.Wide,gt.Standalone,!0);break;case"bbbbb":e=$e(ge.DayPeriods,ve.Narrow,gt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(ge.DayPeriods,ve.Abbreviated,gt.Format,!0);break;case"BBBB":e=$e(ge.DayPeriods,ve.Wide,gt.Format,!0);break;case"BBBBB":e=$e(ge.DayPeriods,ve.Narrow,gt.Format,!0);break;case"h":e=Ct(re.Hours,1,-12);break;case"hh":e=Ct(re.Hours,2,-12);break;case"H":e=Ct(re.Hours,1);break;case"HH":e=Ct(re.Hours,2);break;case"m":e=Ct(re.Minutes,1);break;case"mm":e=Ct(re.Minutes,2);break;case"s":e=Ct(re.Seconds,1);break;case"ss":e=Ct(re.Seconds,2);break;case"S":e=Ct(re.FractionalSeconds,1);break;case"SS":e=Ct(re.FractionalSeconds,2);break;case"SSS":e=Ct(re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hh(Vt.Short);break;case"ZZZZZ":e=Hh(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hh(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hh(Vt.Long);break;default:return null}return by[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function jh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function yi(n,e){const t=function TG(n){return wn(n)[U.LocaleId]}(n);if(yc[t]=yc[t]||{},yc[t][e])return yc[t][e];let r="";switch(e){case"shortDate":r=Lh(n,it.Short);break;case"mediumDate":r=Lh(n,it.Medium);break;case"longDate":r=Lh(n,it.Long);break;case"fullDate":r=Lh(n,it.Full);break;case"shortTime":r=Bh(n,it.Short);break;case"mediumTime":r=Bh(n,it.Medium);break;case"longTime":r=Bh(n,it.Long);break;case"fullTime":r=Bh(n,it.Full);break;case"short":const i=yi(n,"shortTime"),o=yi(n,"shortDate");r=$h(Uh(n,it.Short),[i,o]);break;case"medium":const s=yi(n,"mediumTime"),a=yi(n,"mediumDate");r=$h(Uh(n,it.Medium),[s,a]);break;case"long":const u=yi(n,"longTime"),c=yi(n,"longDate");r=$h(Uh(n,it.Long),[u,c]);break;case"full":const l=yi(n,"fullTime"),d=yi(n,"fullDate");r=$h(Uh(n,it.Full),[l,d])}return r&&(yc[t][e]=r),r}function $h(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Ir(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Ct(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function UG(n,e){switch(n){case re.FullYear:return e.getFullYear();case re.Month:return e.getMonth();case re.Date:return e.getDate();case re.Hours:return e.getHours();case re.Minutes:return e.getMinutes();case re.Seconds:return e.getSeconds();case re.FractionalSeconds:return e.getMilliseconds();case re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===re.Hours)0===a&&-12===t&&(a=12);else if(n===re.FractionalSeconds)return function BG(n,e){return Ir(n,3).substring(0,e)}(a,e);const u=sr(s,ee.MinusSign);return Ir(a,e,u,r,i)}}function $e(n,e,t=gt.Format,r=!1){return function(i,o){return function jG(n,e,t,r,i,o){switch(t){case ge.Months:return function AG(n,e,t){const r=wn(n),o=ar([r[U.MonthsFormat],r[U.MonthsStandalone]],e);return ar(o,t)}(e,i,r)[n.getMonth()];case ge.Days:return function DG(n,e,t){const r=wn(n),o=ar([r[U.DaysFormat],r[U.DaysStandalone]],e);return ar(o,t)}(e,i,r)[n.getDay()];case ge.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function MG(n){const e=wn(n);return KR(e),(e[U.ExtraData][2]||[]).map(r=>"string"==typeof r?Ey(r):[Ey(r[0]),Ey(r[1])])}(e),l=function PG(n,e,t){const r=wn(n);KR(r);const o=ar([r[U.ExtraData][0],r[U.ExtraData][1]],e)||[];return ar(o,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=s>=f.hours&&a>=f.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&y)return!0}else if(_||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function CG(n,e,t){const r=wn(n),o=ar([r[U.DayPeriodsFormat],r[U.DayPeriodsStandalone]],e);return ar(o,t)}(e,i,r)[s<12?0:1];case ge.Eras:return function SG(n,e){return ar(wn(n)[U.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Hh(n){return function(e,t,r){const i=-1*r,o=sr(t,ee.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Vt.Short:return(i>=0?"+":"")+Ir(s,2,o)+Ir(Math.abs(i%60),2,o);case Vt.ShortGMT:return"GMT"+(i>=0?"+":"")+Ir(s,1,o);case Vt.Long:return"GMT"+(i>=0?"+":"")+Ir(s,2,o)+":"+Ir(Math.abs(i%60),2,o);case Vt.Extended:return 0===r?"Z":(i>=0?"+":"")+Ir(s,2,o)+":"+Ir(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const $G=0,Gh=4;function QR(n){return jh(n.getFullYear(),n.getMonth(),n.getDate()+(Gh-n.getDay()))}function Iy(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=QR(t),s=function HG(n){const e=jh(n,$G,1).getDay();return jh(n,0,1+(e<=Gh?Gh:Gh+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ir(i,n,sr(r,ee.MinusSign))}}function zh(n,e=!1){return function(t,r){return Ir(QR(t).getFullYear(),n,sr(r,ee.MinusSign),e)}}const by={};function YR(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function XR(n){return n instanceof Date&&!isNaN(n.valueOf())}function t1(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class uz{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new uz(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),s1(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{s1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(vr),S(pi),S(Vh))},n.\u0275dir=ie({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function s1(n,e){n.context.$implicit=e.item}let ma=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new lz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){a1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){a1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(vr),S(pi))},n.\u0275dir=ie({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class lz{constructor(){this.$implicit=null,this.ngIf=null}}function a1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ue(e)}'.`)}const wz=new V("DATE_PIPE_DEFAULT_TIMEZONE"),Tz=new V("DATE_PIPE_DEFAULT_OPTIONS");let My=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return LG(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function br(n,e){return new k(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(S(Ur,16),S(wz,24),S(Tz,24))},n.\u0275pipe=Sn({name:"date",type:n,pure:!0,standalone:!0}),n})(),Nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({}),n})();const l1="browser";let Bz=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new Uz(B(rt),window)}),n})();class Uz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=d1(this.window.history)||d1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function d1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class h1{}class p9 extends mG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fy extends p9{static makeCurrent(){!function gG(n){gy||(gy=n)}(new Fy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function g9(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==t?null:function m9(n){Qh=Qh||document.createElement("a"),Qh.setAttribute("href",n);const e=Qh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return t1(document.cookie,e)}}let Qh,Ic=null;const _1=new V("TRANSITION_ID"),y9=[{provide:xh,useFactory:function _9(n,e,t){return()=>{t.get(Rh).donePromise.then(()=>{const r=mi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[_1,rt,Wn],multi:!0}];let E9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Yh=new V("EventManagerPlugins");let Xh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(B(Yh),B(Je))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class y1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=mi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let v1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),bc=(()=>{class n extends v1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(B(rt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ly=/%COMP%/g,b1=new V("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function w1(n,e){return e.flat(100).map(t=>t.replace(Ly,n))}function T1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let By=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof A1?i.applyToHost(t):i instanceof jy&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case xr.Emulated:o=new A1(s,a,r,this.appId,u);break;case xr.ShadowDom:return new A9(s,a,t,r);default:o=new jy(s,a,r,u)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(B(Xh),B(bc),B(gc),B(b1))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class Uy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Vy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(D1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(D1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Vy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,i&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,T1(r)):this.eventManager.addEventListener(e,t,T1(r))}}function D1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class A9 extends Uy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=w1(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jy extends Uy{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=w1(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class A1 extends jy{constructor(e,t,r,i,o){const s=i+"-"+r.id;super(e,t,r,o,s),this.contentAttr=function T9(n){return"_ngcontent-%COMP%".replace(Ly,n)}(s),this.hostAttr=function C9(n){return"_nghost-%COMP%".replace(Ly,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let S9=(()=>{class n extends y1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(B(rt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const S1=["alt","control","meta","shift"],x9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M9=(()=>{class n extends y1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),S1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=x9[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),S1.forEach(s=>{s!==i&&(0,R9[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(B(rt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const R1=[{provide:mc,useValue:l1},{provide:fR,useValue:function P9(){Fy.makeCurrent()},multi:!0},{provide:rt,useFactory:function N9(){return function u3(n){Wm=n}(document),document},deps:[]}],O9=TR(hG,"browser",R1),M1=new V(""),P1=[{provide:Mh,useClass:class v9{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?mi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:vR,useClass:sy,deps:[Je,ay,Mh]},{provide:sy,useClass:sy,deps:[Je,ay,Mh]}],k1=[{provide:e_,useValue:"root"},{provide:ji,useFactory:function k9(){return new ji},deps:[]},{provide:Yh,useClass:S9,multi:!0,deps:[rt,Je,mc]},{provide:Yh,useClass:M9,multi:!0,deps:[rt]},{provide:By,useClass:By,deps:[Xh,bc,gc,b1]},{provide:uA,useExisting:By},{provide:v1,useExisting:bc},{provide:bc,useClass:bc,deps:[rt]},{provide:Xh,useClass:Xh,deps:[Yh,Je]},{provide:h1,useClass:E9,deps:[]},[]];let zy,F9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:gc,useValue:t.appId},{provide:_1,useExisting:gc},y9]}}}return n.\u0275fac=function(t){return new(t||n)(B(M1,12))},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({providers:[...k1,...P1],imports:[Nz,fG]}),n})(),N1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(B(rt))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function L9(){return new N1(B(rt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{zy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zy=!1}let G9=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Lz(n){return n===l1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(B(mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $1="cdk-high-contrast-black-on-white",H1="cdk-high-contrast-white-on-black",Ky="cdk-high-contrast-active";let a8=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ky),t.remove($1),t.remove(H1),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Ky),t.add($1)):2===r&&(t.add(Ky),t.add(H1))}}}return n.\u0275fac=function(t){return new(t||n)(B(G9),B(rt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({}),n})();const d8=new V("mat-sanity-checks",{providedIn:"root",factory:function l8(){return!0}});let ya=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function q9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(B(a8),B(d8,8),B(rt))},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[[G1],G1]}),n})(),_8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[[ya],ya]}),n})();function K(...n){return wt(n,Pu(n))}function va(n,e){const t=Be(n)?n:()=>n,r=i=>i.error(t());return new tt(e?i=>e.schedule(r,0,i):r)}const{isArray:y8}=Array,{getPrototypeOf:v8,prototype:E8,keys:I8}=Object;function Y1(n){if(1===n.length){const e=n[0];if(y8(e))return{args:e,keys:null};if(function b8(n){return n&&"object"==typeof n&&v8(n)===E8}(e)){const t=I8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:w8}=Array;function X1(n){return se(e=>function T8(n,e){return w8(e)?n(...e):n(e)}(n,e))}function J1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Dt(n,e,t){const r=Be(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ut((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Mt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xo}function vi(n){return Ut((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Mt(t,void 0,void 0,s=>{o=hr(n(s,vi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Zh(n){return Ut((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wi(n,e){return Be(e)?qt(n,e,1):qt(n,1)}function Ei(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Mt(r,o=>n.call(e,o,i++)&&r.next(o)))})}class ef{}class Yy{}class Ii{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ii?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ii;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ii?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class C8{encodeKey(e){return eM(e)}encodeValue(e){return eM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const A8=/%(\d[a-f0-9])/gi,S8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eM(n){return encodeURIComponent(n).replace(A8,(e,t)=>S8[t]??e)}function tf(n){return`${n}`}class qi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new C8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(tf):[tf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(tf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class x8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nM(n){return typeof Blob<"u"&&n instanceof Blob}function rM(n){return typeof FormData<"u"&&n instanceof FormData}class Cc{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function R8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ii),this.context||(this.context=new x8),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new qi,this.urlWithParams=t}serializeBody(){return null===this.body?null:tM(this.body)||nM(this.body)||rM(this.body)||function M8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rM(this.body)?null:nM(this.body)?this.body.type||null:tM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Cc(t,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var At=(()=>((At=At||{})[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User",At))();class Xy{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ii,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jy extends Xy{constructor(e={}){super(e),this.type=At.ResponseHeader}clone(e={}){return new Jy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nf extends Xy{constructor(e={}){super(e),this.type=At.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class iM extends Xy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Zy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ev=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Cc)o=t;else{let u,c;u=i.headers instanceof Ii?i.headers:new Ii(i.headers),i.params&&(c=i.params instanceof qi?i.params:new qi({fromObject:i.params})),o=new Cc(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=K(o).pipe(Wi(u=>this.handler.handle(u)));if(t instanceof Cc||"events"===i.observe)return s;const a=s.pipe(Ei(u=>u instanceof nf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(se(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(se(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(se(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Zy(i,r))}post(t,r,i={}){return this.request("POST",t,Zy(i,r))}put(t,r,i={}){return this.request("PUT",t,Zy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(B(ef))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function oM(n,e){return e(n)}function P8(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const N8=new V("HTTP_INTERCEPTORS"),Dc=new V("HTTP_INTERCEPTOR_FNS");function O8(){let n=null;return(e,t)=>(null===n&&(n=(de(N8,{optional:!0})??[]).reduceRight(P8,oM)),n(e,t))}let sM=(()=>{class n extends ef{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Dc)));this.chain=r.reduceRight((i,o)=>function k8(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),oM)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(B(Yy),B(Nr))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const B8=/^\)\]\}',?\n/;let uM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new Ii(i.getAllResponseHeaders()),_=function U8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Jy({headers:p,status:i.status,statusText:f,url:_}),s},u=()=>{let{headers:f,status:p,statusText:_,url:y}=a(),b=null;204!==p&&(b=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=b?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const E=b;b=b.replace(B8,"");try{b=""!==b?JSON.parse(b):null}catch(P){b=E,C&&(C=!1,b={error:P,text:b})}}C?(r.next(new nf({body:b,headers:f,status:p,statusText:_,url:y||void 0})),r.complete()):r.error(new iM({error:b,headers:f,status:p,statusText:_,url:y||void 0}))},c=f=>{const{url:p}=a(),_=new iM({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:At.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:At.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:At.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(B(h1))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const tv=new V("XSRF_ENABLED"),cM=new V("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lM=new V("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dM{}let H8=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=t1(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(B(rt),B(mc),B(cM))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function G8(n,e){const t=n.url.toLowerCase();if(!de(tv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=de(dM).getToken(),i=de(lM);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var _t=(()=>((_t=_t||{})[_t.Interceptors=0]="Interceptors",_t[_t.LegacyInterceptors=1]="LegacyInterceptors",_t[_t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_t[_t.NoXsrfProtection=3]="NoXsrfProtection",_t[_t.JsonpSupport=4]="JsonpSupport",_t[_t.RequestsMadeViaParent=5]="RequestsMadeViaParent",_t))();function Ea(n,e){return{\u0275kind:n,\u0275providers:e}}function z8(...n){const e=[ev,uM,sM,{provide:ef,useExisting:sM},{provide:Yy,useExisting:uM},{provide:Dc,useValue:G8,multi:!0},{provide:tv,useValue:!0},{provide:dM,useClass:H8}];for(const t of n)e.push(...t.\u0275providers);return function O3(n){return{\u0275providers:n}}(e)}const hM=new V("LEGACY_INTERCEPTOR_FN");let q8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({providers:[z8(Ea(_t.LegacyInterceptors,[{provide:hM,useFactory:O8},{provide:Dc,useExisting:hM,multi:!0}]))]}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[[ya],ya]}),n})(),eW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[[_8,ya],ya]}),n})(),_M=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(di),S(zn))},n.\u0275dir=ie({type:n}),n})(),zo=(()=>{class n extends _M{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ie({type:n,features:[Ne]}),n})();const jr=new V("NgValueAccessor"),nW={provide:jr,useExisting:je(()=>Sc),multi:!0},iW=new V("CompositionEventMode");let Sc=(()=>{class n extends _M{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rW(){const n=mi()?mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(di),S(zn),S(iW,8))},n.\u0275dir=ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&X("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Xe([nW]),Ne]}),n})();const oW=!1;const hn=new V("NgValidators"),Qi=new V("NgAsyncValidators");function bM(n){return function Ki(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function af(n){return null}function SM(n){return null!=n}function xM(n){const e=oc(n)?wt(n):n;if(oW&&!D_(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new k(-1101,t)}return e}function RM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function MM(n,e){return e.map(t=>t(n))}function PM(n){return n.map(e=>function aW(n){return!n.validate}(e)?e:t=>e.validate(t))}function rv(n){return null!=n?function kM(n){if(!n)return null;const e=n.filter(SM);return 0==e.length?null:function(t){return RM(MM(t,e))}}(PM(n)):null}function NM(n){if(!n)return null;const e=n.filter(SM);return 0==e.length?null:function(t){return function Z1(...n){const e=tC(n),{args:t,keys:r}=Y1(n),i=new tt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;hr(t[l]).subscribe(Mt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?J1(r,a):a),o.complete())}))}});return e?i.pipe(X1(e)):i}(MM(t,e).map(xM)).pipe(se(RM))}}function iv(n){return null!=n?NM(PM(n)):null}function OM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ov(n){return n?Array.isArray(n)?n:[n]:[]}function uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function LM(n,e){const t=ov(e);return ov(n).forEach(i=>{uf(t,i)||t.push(i)}),t}function BM(n,e){return ov(e).filter(t=>!uf(n,t))}class UM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cn extends UM{get formDirective(){return null}get path(){return null}}class Yi extends UM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sv=(()=>{class n extends jM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Yi,2))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&yh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ne]}),n})();const xc="VALID",lf="INVALID",Ia="PENDING",Rc="DISABLED";function df(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xc}get invalid(){return this.status===lf}get pending(){return this.status==Ia}get disabled(){return this.status===Rc}get enabled(){return this.status!==Rc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BM(e,this._rawAsyncValidators))}hasValidator(e){return uf(this._rawValidators,e)}hasAsyncValidator(e){return uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ia,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xc||this.status===Ia)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rc:xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator=!0;const t=xM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?Rc:this.errors?lf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(lf)?lf:xc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){df(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gW(n){return Array.isArray(n)?rv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mW(n){return Array.isArray(n)?iv(n):n||null}(this._rawAsyncValidators)}}const ba=new V("CallSetDisabledState",{providedIn:"root",factory:()=>hf}),hf="always";function Mc(n,e,t=hf){(function fv(n,e){const t=function FM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(OM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function VM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(OM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();gf(e._rawValidators,i),gf(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&WM(n,e)})}(n,e),function IW(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function EW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&WM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yW(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function YM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const XM=class extends zM{constructor(e=null,t,r){super(function lv(n){return(df(n)?n.validators:n)||null}(t),function dv(n,e){return(df(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=YM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},xW={provide:Yi,useExisting:je(()=>_f)},eP=(()=>Promise.resolve())();let _f=(()=>{class n extends Yi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new XM,this._registered=!1,this.update=new ct,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Sc?t=o:function TW(n){return Object.getPrototypeOf(n.constructor)===zo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function gv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){eP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ga(r);eP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ff(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(S(Cn,9),S(hn,10),S(Qi,10),S(jr,10),S(Nh,8),S(ba,8))},n.\u0275dir=ie({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xe([xW]),Ne,nr]}),n})();const MW={provide:jr,useExisting:je(()=>yv),multi:!0};let yv=(()=>{class n extends zo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&X("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Xe([MW]),Ne]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({}),n})(),Wo=(()=>{class n{constructor(){this._validator=af}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):af,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ie({type:n,features:[nr]}),n})();const KW={provide:hn,useExisting:je(()=>yf),multi:!0};let yf=(()=>{class n extends Wo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ga,this.createValidator=t=>bM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Vr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xe([KW]),Ne]}),n})(),eq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[tP]}),n})(),nq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ba,useValue:t.callSetDisabledState??hf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[eq]}),n})();class wr extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vf=Ru(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vP(...n){const e=Pu(n),t=tC(n),{args:r,keys:i}=Y1(n);if(0===r.length)return wt([],e);const o=new tt(function rq(n,e,t=xo){return r=>{EP(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)EP(e,()=>{const c=wt(n[u],e);let l=!1;c.subscribe(Mt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>J1(i,s):xo));return t?o.pipe(X1(t)):o}function EP(n,e,t){n?ri(t,n,e):e()}function Tv(...n){return function iq(){return Ss(1)}()(wt(n,Pu(n)))}function IP(n){return new tt(e=>{hr(n()).subscribe(e)})}function Cv(){return Ut((n,e)=>{let t=null;n._refCount++;const r=Mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bP extends tt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,UT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const t=this.getSubject();e.add(this.source.subscribe(Mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return Cv()(this)}}function $r(n,e){return Ut((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Mt(r,u=>{i?.unsubscribe();let c=0;const l=o++;hr(n(u,l)).subscribe(i=Mt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wa(n){return n<=0?()=>Ar:Ut((e,t)=>{let r=0;e.subscribe(Mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ef(n){return Ut((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wP(n=sq){return Ut((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sq(){return new vf}function Xi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((i,o)=>n(i,o,r)):xo,wa(1),t?Ef(e):wP(()=>new vf))}function TP(n,e){return Ut(function aq(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Mt(s,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}function Dv(n){return n<=0?()=>Ar:Ut((e,t)=>{let r=[];e.subscribe(Mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function CP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((i,o)=>n(i,o,r)):xo,Dv(1),t?Ef(e):wP(()=>new vf))}const he="primary",kc=Symbol("RouteTitle");class lq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ta(n){return new lq(n)}function dq(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!DP(n[i],e[i]))return!1;return!0}function DP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function AP(n){return Array.prototype.concat.apply([],n)}function SP(n){return n.length>0?n[n.length-1]:null}function Jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ji(n){return D_(n)?n:oc(n)?wt(Promise.resolve(n)):K(n)}const If=!1,fq={exact:function MP(n,e,t){if(!qo(n.segments,e.segments)||!bf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!MP(n.children[r],e.children[r],t))return!1;return!0},subset:PP},xP={exact:function pq(n,e){return Hr(n,e)},subset:function gq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DP(n[t],e[t]))},ignored:()=>!0};function RP(n,e,t){return fq[t.paths](n.root,e.root,t.matrixParams)&&xP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PP(n,e,t){return kP(n,e,e.segments,t)}function kP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!bf(i,t,r))}if(n.segments.length===t.length){if(!qo(n.segments,t)||!bf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!PP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(qo(n.segments,i)&&bf(n.segments,i,r)&&n.children[he])&&kP(n.children[he],e,o,r)}}function bf(n,e,t){return e.every((r,i)=>xP[t](n[i].parameters,r.parameters))}class Zi{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return yq.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wf(this)}}class Nc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ta(this.parameters)),this._parameterMap}toString(){return FP(this)}}function qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Oc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return new Av},providedIn:"root"}),n})();class Av{parse(e){const t=new Aq(e);return new Zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fc(e.root,!0)}`,r=function Iq(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Tf(t)}=${Tf(i)}`).join("&"):`${Tf(t)}=${Tf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function vq(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yq=new Av;function wf(n){return n.segments.map(e=>FP(e)).join("/")}function Fc(n,e){if(!n.hasChildren())return wf(n);if(e){const t=n.children[he]?Fc(n.children[he],!1):"",r=[];return Jt(n.children,(i,o)=>{o!==he&&r.push(`${o}:${Fc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _q(n,e){let t=[];return Jt(n.children,(r,i)=>{i===he&&(t=t.concat(e(r,i)))}),Jt(n.children,(r,i)=>{i!==he&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===he?[Fc(n.children[he],!1)]:[`${i}:${Fc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${wf(n)}/${t[0]}`:`${wf(n)}/(${t.join("//")})`}}function NP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tf(n){return NP(n).replace(/%3B/gi,";")}function Sv(n){return NP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(n){return decodeURIComponent(n)}function OP(n){return Cf(n.replace(/\+/g,"%20"))}function FP(n){return`${Sv(n.path)}${function Eq(n){return Object.keys(n).map(e=>`;${Sv(e)}=${Sv(n[e])}`).join("")}(n.parameters)}`}const bq=/^[^\/()?;=#]+/;function Df(n){const e=n.match(bq);return e?e[0]:""}const wq=/^[^=?&#]+/,Cq=/^[^&#]+/;class Aq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new ye(e,t)),r}parseSegment(){const e=Df(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,If);return this.capture(e),new Nc(Cf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Df(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Df(this.remaining);i&&(r=i,this.capture(r))}e[Cf(t)]=Cf(r)}parseQueryParam(e){const t=function Tq(n){const e=n.match(wq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Dq(n){const e=n.match(Cq);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=OP(t),o=OP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Df(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,If);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[he]:new ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,If)}}function xv(n){return n.segments.length>0?new ye([],{[he]:n}):n}function Af(n){const e={};for(const r of Object.keys(n.children)){const o=Af(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Sq(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}function Ko(n){return n instanceof Zi}const Rv=!1;function xq(n,e,t,r,i){if(0===t.length)return Ca(e.root,e.root,e.root,r,i);const o=function jP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Jt(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new UP(t,e,r)}(t);return o.toRoot()?Ca(e.root,e.root,new ye([],{}),r,i):function s(u){const c=function Mq(n,e,t,r){if(n.isAbsolute)return new Da(e.root,!0,0);if(-1===r)return new Da(t,t===e.root,0);return function $P(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,Rv&&"Invalid number of '../'");i=r.segments.length}return new Da(r,!1,i-o)}(t,r+(Vc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,u),l=c.processChildren?Aa(c.segmentGroup,c.index,o.commands):Mv(c.segmentGroup,c.index,o.commands);return Ca(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Vc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ca(n,e,t,r,i){let s,o={};r&&Jt(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:BP(n,e,t);const a=xv(Af(s));return new Zi(a,o,i)}function BP(n,e,t){const r={};return Jt(n.children,(i,o)=>{r[o]=i===e?t:BP(i,e,t)}),new ye(n.segments,r)}class UP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vc(r[0]))throw new k(4003,Rv&&"Root segment cannot have matrix parameters");const i=r.find(Lc);if(i&&i!==SP(r))throw new k(4004,Rv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Da{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Mv(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Aa(n,e,t);const r=function kq(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Lc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!GP(u,c,s))return o;r+=2}else{if(!GP(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ye(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new ye(n.segments.slice(r.pathIndex),n.children),Aa(o,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?Pv(n,e,t):r.match?Aa(n,0,i):Pv(n,e,t)}function Aa(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function Pq(n){return Lc(n[0])?n[0].outlets:{[he]:n}}(t),i={};if(!r[he]&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const o=Aa(n.children[he],e,t);return new ye(n.segments,o.children)}return Jt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Mv(n.children[s],e,o))}),Jt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ye(n.segments,i)}}function Pv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Lc(o)){const u=Nq(o.outlets);return new ye(r,u)}if(0===i&&Vc(t[0])){r.push(new Nc(n.segments[e].path,HP(t[0]))),i++;continue}const s=Lc(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Vc(a)?(r.push(new Nc(s,HP(a))),i+=2):(r.push(new Nc(s,{})),i++)}return new ye(r,{})}function Nq(n){const e={};return Jt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Pv(new ye([],{}),0,t))}),e}function HP(n){const e={};return Jt(n,(t,r)=>e[r]=`${t}`),e}function GP(n,e,t){return n==t.path&&Hr(e,t.parameters)}const Bc="imperative";class Gr{constructor(e,t){this.id=e,this.url=t}}class kv extends Gr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qo extends Gr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends Gr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xf extends Gr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Nv extends Gr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oq extends Gr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fq extends Gr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vq extends Gr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lq extends Gr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bq extends Gr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $q{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Kq=(()=>{class n{createUrlTree(t,r,i,o,s,a){return xq(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(e){return Kq.\u0275fac(e)},providedIn:"root"}),n})();class WP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ov(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ov(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fv(e,this._root).map(t=>t.value)}}function Ov(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ov(n,t);if(r)return r}return null}function Fv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fv(n,t);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qP extends WP{constructor(e,t){super(e),this.snapshot=t,Vv(this,e)}toString(){return this.snapshot.toString()}}function KP(n,e){const t=function Xq(n,e){const s=new Rf([],{},{},"",{},he,e,null,n.root,-1,{});return new YP("",new bi(s,[]))}(n,e),r=new wr([new Nc("",{})]),i=new wr({}),o=new wr({}),s=new wr({}),a=new wr(""),u=new eo(r,i,s,a,o,he,e,t.root);return u.snapshot=t.root,new qP(new bi(u,[]),t)}class eo{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(se(c=>c[kc]))??K(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Ta(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Ta(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Jq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Rf{get title(){return this.data?.[kc]}constructor(e,t,r,i,o,s,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YP extends WP{constructor(e,t){super(t),this.url=e,Vv(this,t)}toString(){return XP(this._root)}}function Vv(n,e){e.value._routerState=n,e.children.forEach(t=>Vv(n,t))}function XP(n){const e=n.children.length>0?` { ${n.children.map(XP).join(", ")} } `:"";return`${n.value}${e}`}function Lv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hr(e.params,t.params)||n.params.next(t.params),function hq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bv(n,e){const t=Hr(n.params,e.params)&&function mq(n,e){return qo(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bv(n.parent,e.parent))}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function e7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}(n,e,t);return new bi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uc(n,a)),s}}const r=function t7(n){return new eo(new wr(n.url),new wr(n.params),new wr(n.queryParams),new wr(n.fragment),new wr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Uc(n,o));return new bi(r,i)}}const Uv="ngNavigationCancelingError";function JP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ZP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Uv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ek(n){return tk(n)&&Ko(n.url)}function tk(n){return n&&n[Uv]}class n7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jc,this.attachRef=null}}let jc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new n7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mf=!1;let jv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=de(jc),this.location=de(vr),this.changeDetector=de(Nh),this.environmentInjector=de(Nr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,Mf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,Mf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,Mf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,Mf);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new r7(t,a,i.injector);if(r&&function i7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ie({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]}),n})();class r7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===eo?this.route:e===jc?this.childContexts:this.parent.get(e,t)}}let $v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Dx],decls:1,vars:0,template:function(t,r){1&t&&_e(0,"router-outlet")},dependencies:[jv],encapsulation:2}),n})();function nk(n,e){return n.providers&&!n._injector&&(n._injector=Th(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gv(n){const e=n.children&&n.children.map(Gv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=$v),t}function ur(n){return n.outlet||he}function rk(n,e){const t=n.filter(r=>ur(r)===e);return t.push(...n.filter(r=>ur(r)!==e)),t}function $c(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class c7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Jt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Hq(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Lv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=$c(i.snapshot),u=a?.get(ec)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class ik{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pf{constructor(e,t){this.component=e,this.route=t}}function l7(n,e,t){const r=n._root;return Hc(r,e?e._root:null,t,[r.value])}function xa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function rU(n){return null!==Cd(n)}(n)?e.get(n):n:r}function Hc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sa(e);return n.children.forEach(s=>{(function h7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function f7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bv(n,e)||!Hr(n.queryParams,e.queryParams);default:return!Bv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ik(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Hc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pf(a.outlet.component,s))}else s&&Gc(e,a,i),i.canActivateChecks.push(new ik(r)),Hc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Jt(o,(s,a)=>Gc(s,t.getContext(a),i)),i}function Gc(n,e,t){const r=Sa(n),i=n.value;Jt(r,(o,s)=>{Gc(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Pf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zc(n){return"function"==typeof n}function zv(n){return n instanceof vf||"EmptyError"===n?.name}const kf=Symbol("INITIAL_VALUE");function Ra(){return $r(n=>vP(n.map(e=>e.pipe(wa(1),function oq(...n){const e=Pu(n);return Ut((t,r)=>{(e?Tv(n,t,e):Tv(n,t)).subscribe(r)})}(kf)))).pipe(se(e=>{for(const t of e)if(!0!==t){if(t===kf)return kf;if(!1===t||t instanceof Zi)return t}return!0}),Ei(e=>e!==kf),wa(1)))}function ok(n){return function uB(...n){return VT(n)}(Dt(e=>{if(Ko(e))throw JP(0,e)}),se(e=>!0===e))}const Wv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sk(n,e,t,r,i){const o=qv(n,e,t);return o.matched?function R7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(s=>{const a=xa(s,n);return Ji(function v7(n){return n&&zc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),ok()):K(!0)}(r=nk(e,r),e,t).pipe(se(s=>!0===s?o:{...Wv})):K(o)}function qv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Wv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dq)(t,n,e);if(!i)return{...Wv};const o={};Jt(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Nf(n,e,t,r){if(t.length>0&&function k7(n,e,t){return t.some(r=>Of(n,e,r)&&ur(r)!==he)}(n,t,r)){const o=new ye(e,function P7(n,e,t,r){const i={};i[he]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ur(o)!==he){const s=new ye([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[ur(o)]=s}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function N7(n,e,t){return t.some(r=>Of(n,e,r))}(n,t,r)){const o=new ye(n.segments,function M7(n,e,t,r,i){const o={};for(const s of r)if(Of(n,t,s)&&!i[ur(s)]){const a=new ye([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[ur(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new ye(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Of(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ak(n,e,t,r){return!!(ur(n)===r||r!==he&&Of(e,t,n))&&("**"===n.path||qv(e,n,t).matched)}function uk(n,e,t){return 0===e.length&&!n.children[t]}const Ff=!1;class Vf{constructor(e){this.segmentGroup=e||null}}class ck{constructor(e){this.urlTree=e}}function Wc(n){return va(new Vf(n))}function lk(n){return va(new ck(n))}class L7{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Nf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,he).pipe(se(o=>this.createUrlTree(Af(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(o=>{if(o instanceof ck)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Vf?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,he).pipe(se(i=>this.createUrlTree(Af(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof Vf?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,Ff)}createUrlTree(e,t,r){const i=xv(e);return new Zi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(se(o=>new ye([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return wt(i).pipe(Wi(o=>{const s=r.children[o],a=rk(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(se(u=>({segment:u,outlet:o})))}),TP((o,s)=>(o[s.outlet]=s.segment,o),{}),CP())}expandSegment(e,t,r,i,o,s){return wt(r).pipe(Wi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(vi(c=>{if(c instanceof Vf)return K(null);throw c}))),Xi(a=>!!a),vi((a,u)=>{if(zv(a))return uk(t,i,o)?K(new ye([],{})):Wc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return ak(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Wc(t):Wc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lk(o):this.lineralizeSegments(r,o).pipe(qt(s=>{const a=new ye(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=qv(t,i,o);if(!a)return Wc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?lk(d):this.lineralizeSegments(i,d).pipe(qt(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=nk(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ye(i,{})))):K(new ye(i,{}))):sk(t,r,i,e).pipe($r(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(qt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Nf(t,a,u,h),_=new ye(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(se(E=>new ye(a,E)));if(0===h.length&&0===p.length)return K(new ye(a,{}));const y=ur(r)===o;return this.expandSegment(d,_,h,p,y?he:o,!0).pipe(se(C=>new ye(a.concat(C.segments),C.children)))})):Wc(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function x7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(s=>{const a=xa(s,n);return Ji(function g7(n){return n&&zc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),ok())}(e,t,r).pipe(qt(i=>i?this.configLoader.loadChildren(e,t).pipe(Dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function F7(n){return va(ZP(Ff,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[he])return e.redirectTo,va(new k(4e3,Ff));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Zi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Jt(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,Ff);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class U7{}class H7{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Nf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(se(t=>{if(null===t)return null;const r=new Rf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bi(r,t),o=new YP(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=QP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return wt(Object.keys(r.children)).pipe(Wi(i=>{const o=r.children[i],s=rk(t,i);return this.processSegmentGroup(e,s,o,i)}),TP((i,o)=>i&&o?(i.push(...o),i):null),function uq(n,e=!1){return Ut((t,r)=>{let i=0;t.subscribe(Mt(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Ef(null),CP(),se(i=>{if(null===i)return null;const o=hk(i);return function G7(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return wt(t).pipe(Wi(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Xi(s=>!!s),vi(s=>{if(zv(s))return uk(r,i,o)?K([]):K(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!ak(t,r,i,o))return K(null);let s;if("**"===t.path){const a=i.length>0?SP(i).parameters:{},u=pk(r)+i.length;s=K({snapshot:new Rf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(t),ur(t),t.component??t._loadedComponent??null,t,fk(r),u,mk(t)),consumedSegments:[],remainingSegments:[]})}else s=sk(r,t,i,e).pipe(se(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=pk(r)+u.length;return{snapshot:new Rf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(t),ur(t),t.component??t._loadedComponent??null,t,fk(r),d,mk(t)),consumedSegments:u,remainingSegments:c}}));return s.pipe($r(a=>{if(null===a)return K(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function z7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Nf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(y=>null===y?null:[new bi(u,y)]));if(0===h.length&&0===p.length)return K([new bi(u,[])]);const _=ur(t)===o;return this.processSegment(d,h,f,p,_?he:o).pipe(se(y=>null===y?null:[new bi(u,y)]))}))}}function W7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hk(n){const e=[],t=new Set;for(const r of n){if(!W7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hk(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!t.has(r))}function fk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function gk(n){return n.data||{}}function mk(n){return n.resolve||{}}function _k(n){return"string"==typeof n.title||null===n.title}function Kv(n){return $r(e=>{const t=n(e);return t?wt(t).pipe(se(()=>e)):K(e)})}const Ma=new V("ROUTES");let Qv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(pR)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ji(t.loadComponent()).pipe(se(vk),Dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zh(()=>{this.componentLoaders.delete(t)})),i=new bP(r,()=>new ni).pipe(Cv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=AP(u.get(Ma,[],ne.Self|ne.Optional)));return{routes:c.map(Gv),injector:u}}),Zh(()=>{this.childrenLoaders.delete(r)})),s=new bP(o,()=>new ni).pipe(Cv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Ji(t()).pipe(se(vk),qt(r=>r instanceof Tx||Array.isArray(r)?K(r):wt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vk(n){return function eK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.configLoader=de(Qv),this.environmentInjector=de(Nr),this.urlSerializer=de(Oc),this.rootContexts=de(jc),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Uq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(r=>0!==r.id),se(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),$r(r=>{let i=!1,o=!1;return K(r).pipe(Dt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$r(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new xf(s.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Ar}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ek(s.source)&&(t.browserUrlTree=s.extractedUrl),K(s).pipe($r(l=>{const d=this.transitions?.getValue();return this.events.next(new kv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Ar:Promise.resolve(l)}),function B7(n,e,t,r){return $r(i=>function V7(n,e,t,r,i){return new L7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(se(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Dt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function K7(n,e,t,r,i){return qt(o=>function $7(n,e,t,r,i,o,s="emptyOnly"){return new H7(n,e,t,r,i,s,o).recognize().pipe($r(a=>null===a?function j7(n){return new tt(e=>e.error(n))}(new U7):K(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(se(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Dt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new Oq(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,_=new kv(l,this.urlSerializer.serialize(d),h,f);this.events.next(_);const y=KP(d,this.rootComponentType).snapshot;return K(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new xf(s.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Ar}}),Dt(s=>{const a=new Fq(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>r={...s,guards:l7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function I7(n,e){return qt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?K({...t,guardsResult:!0}):function b7(n,e,t,r){return wt(n).pipe(qt(i=>function S7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?K(o.map(a=>{const u=$c(e)??i,c=xa(a,u);return Ji(function y7(n){return n&&zc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Xi())})).pipe(Ra()):K(!0)}(i.component,i.route,t,e,r)),Xi(i=>!0!==i,!0))}(s,r,i,n).pipe(qt(a=>a&&function p7(n){return"boolean"==typeof n}(a)?function w7(n,e,t,r){return wt(e).pipe(Wi(i=>Tv(function C7(n,e){return null!==n&&e&&e(new $q(n)),K(!0)}(i.route.parent,r),function T7(n,e){return null!==n&&e&&e(new Gq(n)),K(!0)}(i.route,r),function A7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function d7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>IP(()=>K(s.guards.map(u=>{const c=$c(s.node)??t,l=xa(u,c);return Ji(function _7(n){return n&&zc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Xi())})).pipe(Ra())));return K(o).pipe(Ra())}(n,i.path,t),function D7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(o=>IP(()=>{const s=$c(e)??t,a=xa(o,s);return Ji(function m7(n){return n&&zc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Xi())}));return K(i).pipe(Ra())}(n,i.route,t))),Xi(i=>!0!==i,!0))}(r,o,n,e):K(a)),se(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Dt(s=>{if(r.guardsResult=s.guardsResult,Ko(s.guardsResult))throw JP(0,s.guardsResult);const a=new Vq(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ei(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Kv(s=>{if(s.guards.canActivateChecks.length)return K(s).pipe(Dt(a=>{const u=new Lq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),$r(a=>{let u=!1;return K(a).pipe(function Q7(n,e){return qt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=0;return wt(i).pipe(Wi(s=>function Y7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!_k(i)&&(o[kc]=i.title),function X7(n,e,t,r){const i=function J7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return K({});const o={};return wt(i).pipe(qt(s=>function Z7(n,e,t,r){const i=$c(e)??r,o=xa(n,i);return Ji(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Xi(),Dt(a=>{o[s]=a}))),Dv(1),function cq(n){return se(()=>n)}(o),vi(s=>zv(s)?Ar:va(s)))}(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=QP(n,t).resolve,i&&_k(i)&&(n.data[kc]=i.title),null)))}(s.route,r,n,e)),Dt(()=>o++),Dv(1),qt(s=>o===i.length?K(t):Ar))})}(t.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Dt(a=>{const u=new Bq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Kv(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Dt(l=>{u.component=l}),se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return vP(a(s.targetSnapshot.root)).pipe(Ef(),wa(1))}),Kv(()=>this.afterPreactivation()),se(s=>{const a=function Zq(n,e,t){const r=Uc(n,e._root,t?t._root:void 0);return new qP(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Dt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>se(r=>(new c7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),wa(1),Dt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vi(s=>{if(o=!0,tk(s)){ek(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Sf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),ek(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Ek(r.source)};t.scheduleNavigation(u,Bc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Nv(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Ar}))}))}cancelNavigationTransition(t,r,i){const o=new Sf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ek(n){return n!==Bc}let Ik=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[kc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return de(tK)},providedIn:"root"}),n})(),tK=(()=>{class n extends Ik{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(B(N1))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return de(iK)},providedIn:"root"}),n})();class rK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let iK=(()=>{class n extends rK{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uf=new V("",{providedIn:"root",factory:()=>({})});let sK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return de(aK)},providedIn:"root"}),n})(),aK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uK(n){throw n}function cK(n,e,t){return e.parse("/")}const lK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let St=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(k6),this.isNgZoneEnabled=!1,this.options=de(Uf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(sK),this.routeReuseStrategy=de(nK),this.urlCreationStrategy=de(Yq),this.titleStrategy=de(Ik),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=AP(de(Ma,{optional:!0})??[]),this.navigationTransitions=de(Bf),this.urlSerializer=de(Oc),this.location=de(yy),this.isNgZoneEnabled=de(Je)instanceof Je&&Je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Gv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ko(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bc,null,r)}navigate(t,r={skipLocationChange:!1}){return function hK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new k(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lK}:!1===r?{...dK}:r,Ko(t))return RP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return RP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jf=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ni;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ga(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ga(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ga(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function YD(n,e,t){return function N3(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?QD:KD}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(S(St),S(eo),function Wd(n){return function e4(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(BC(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Qt(),n)}("tabindex"),S(di),S(zn),S($o))},n.\u0275dir=ie({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&X("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Vr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[nr]}),n})();class bk{}let gK=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(t=>t instanceof Qo),Wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Th(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return wt(i).pipe(Ss())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):K(null);const o=i.pipe(qt(s=>null===s?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?wt([o,this.loader.loadComponent(r)]).pipe(Ss()):o})}}return n.\u0275fac=function(t){return new(t||n)(B(St),B(pR),B(Nr),B(bk),B(Qv))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xv=new V("");let wk=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function SA(){throw new Error("invalid")}()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();var Kn=(()=>((Kn=Kn||{})[Kn.COMPLETE=0]="COMPLETE",Kn[Kn.FAILED=1]="FAILED",Kn[Kn.REDIRECTING=2]="REDIRECTING",Kn))();const Pa=!1;function to(n,e){return{\u0275kind:n,\u0275providers:e}}const Jv=new V("",{providedIn:"root",factory:()=>!1});function Ck(){const n=de(Wn);return e=>{const t=n.get(Ph);if(e!==t.components[0])return;const r=n.get(St),i=n.get(Dk);1===n.get(Zv)&&r.initialNavigation(),n.get(Ak,null,ne.Optional)?.setUpPreloading(),n.get(Xv,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Dk=new V(Pa?"bootstrap done indicator":"",{factory:()=>new ni}),Zv=new V(Pa?"initial navigation":"",{providedIn:"root",factory:()=>1});function EK(){let n=[];return n=Pa?[{provide:ih,multi:!0,useFactory:()=>{const e=de(St);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Wq(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],to(1,n)}const Ak=new V(Pa?"router preloader":"");function IK(n){return to(0,[{provide:Ak,useExisting:gK},{provide:bk,useExisting:n}])}const qc=!1,Sk=new V(qc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),bK=[yy,{provide:Oc,useClass:Av},St,jc,{provide:eo,useFactory:function Tk(n){return n.routerState.root},deps:[St]},Qv,qc?{provide:Jv,useValue:!0}:[]];function wK(){return new bR("Router",St)}let xk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[bK,qc&&r?.enableTracing?EK().\u0275providers:[],{provide:Ma,multi:!0,useValue:t},{provide:Sk,useFactory:AK,deps:[[St,new cn,new Gs]]},{provide:Uf,useValue:r||{}},r?.useHash?{provide:$o,useClass:EG}:{provide:$o,useClass:zR},{provide:Xv,useFactory:()=>{const n=de(Bz),e=de(Je),t=de(Uf),r=de(Bf),i=de(Oc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wk(i,r,n,e,t)}},r?.preloadingStrategy?IK(r.preloadingStrategy).\u0275providers:[],{provide:bR,multi:!0,useFactory:wK},r?.initialNavigation?SK(r):[],[{provide:Rk,useFactory:Ck},{provide:IR,multi:!0,useExisting:Rk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ma,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(B(Sk,8))},n.\u0275mod=jt({type:n}),n.\u0275inj=Pt({imports:[$v]}),n})();function AK(n){if(qc&&n)throw new k(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function SK(n){return["disabled"===n.initialNavigation?to(3,[{provide:xh,multi:!0,useFactory:()=>{const e=de(St);return()=>{e.setUpLocationChangeListener()}}},{provide:Zv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?to(2,[{provide:Zv,useValue:0},{provide:xh,multi:!0,deps:[Wn],useFactory:e=>{const t=e.get(yG,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(St),o=e.get(Dk);(function mK(n,e){n.events.pipe(Ei(t=>t instanceof Qo||t instanceof Sf||t instanceof Nv||t instanceof xf),se(t=>t instanceof Qo||t instanceof xf?Kn.COMPLETE:t instanceof Sf&&(0===t.code||1===t.code)?Kn.REDIRECTING:Kn.FAILED),Ei(t=>t!==Kn.REDIRECTING),wa(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Bf).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Rk=new V(qc?"Router Initializer":""),RK=function(){return["/facture-create"]},MK=function(){return["/caisse"]},PK=function(){return["/bons"]};let kK=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-home"]],decls:46,vars:6,consts:[[1,"mt-10","w-3/4","mx-auto"],[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"overflow-hidden","cursor-pointer",3,"routerLink"],[1,"relative","rounded-2xl","group","overflow-hidden"],[1,"overflow-hidden"],["src","assets/facture1.webp","alt","",1,"h-60","scale-[1.5]","mx-auto","group-hover:scale-[1.3]","transition-all","duration-500"],[1,"bg-gray-50","p-3","pb-5"],[1,"text-base","font-normal"],[1,"text-xl","font-semibold"],["href","aboutUs.html"],["src","assets/caisse.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","mx-auto","transition-all","duration-500"],["href","#"],["src","assets/client.jpg","alt","",1,"h-60","scale-[1.5]","group-hover:scale-[1.3]","transition-all","duration-500"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),v(2,"Transit Operation"),m(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),_e(8,"img",6),m(),g(9,"div",7)(10,"span",8),v(11,"total : 11"),m(),g(12,"h3",9),v(13,"Create Facture"),m(),g(14,"p"),v(15,"by "),g(16,"a",10),v(17,"Transit Operation"),m()()()()()(),g(18,"div",3)(19,"div",4)(20,"div")(21,"div",5),_e(22,"img",11),m(),g(23,"div",7)(24,"span",8),v(25,"Montant :"),m(),g(26,"h3",9),v(27,"Caisse"),m(),g(28,"p"),v(29,"by "),g(30,"a",12),v(31,"Transit Operation"),m()()()()()(),g(32,"div",3)(33,"div",4)(34,"div")(35,"div",5),_e(36,"img",13),m(),g(37,"div",7)(38,"span",8),v(39,"total :"),m(),g(40,"h3",9),v(41,"Create Bons"),m(),g(42,"p"),v(43,"by "),g(44,"a",12),v(45,"Transit Operation"),m()()()()()()()()),2&r&&(D(4),Q("routerLink",Ch(3,RK)),D(14),Q("routerLink",Ch(4,MK)),D(14),Q("routerLink",Ch(5,PK)))},dependencies:[jf],styles:["button[_ngcontent-%COMP%]{background-color:var(--secondary-color-1);color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-2)}"]})}return n})();function Mk(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function T(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Mk(o,r,i,s,a,"next",u)}function a(u){Mk(o,r,i,s,a,"throw",u)}s(void 0)})}}const Pk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new VK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $f=function(n){return function(n){const e=Pk(n);return kk.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Hf=function(n){try{return kk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Gf=()=>{try{return function UK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},zK=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Gf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ok=()=>{var n;return null===(n=Gf())||void 0===n?void 0:n.config};class Fk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class no extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function tQ(n,e){return n.replace(nQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new no(i,`${this.serviceName}: ${s} (${i}).`,r)}}const nQ=/\{\$([^}]+)}/g;function tE(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(Lk(o)&&Lk(s)){if(!tE(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Lk(n){return null!==n&&"object"==typeof n}function Bk(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class iQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function oQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=nE),void 0===i.error&&(i.error=nE),void 0===i.complete&&(i.complete=nE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nE(){}function zr(n){return n&&n._delegate?n._delegate:n}class Yo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xo="[DEFAULT]";class dQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Fk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return T(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Xo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const iE=[];var Ee=(()=>{return(n=Ee||(Ee={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ee;var n})();const Uk={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},gQ=Ee.INFO,mQ={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},_Q=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=mQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class oE{constructor(e){this.name=e,this._logLevel=gQ,this._logHandler=_Q,this._userLogHandler=null,iE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const yQ=(n,e)=>e.some(t=>n instanceof t);let jk,$k;const Hk=new WeakMap,sE=new WeakMap,Gk=new WeakMap,aE=new WeakMap,uE=new WeakMap;let cE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return sE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Gk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function CQ(n){return"function"==typeof n?function TQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function EQ(){return $k||($k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lE(this),e),ro(Hk.get(this))}:function(...e){return ro(n.apply(lE(this),e))}:function(e,...t){const r=n.call(lE(this),e,...t);return Gk.set(r,e.sort?e.sort():[e]),ro(r)}}(n):(n instanceof IDBTransaction&&function bQ(n){if(sE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});sE.set(n,e)}(n),yQ(n,function vQ(){return jk||(jk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,cE):n)}function ro(n){if(n instanceof IDBRequest)return function IQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ro(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Hk.set(t,n)}).catch(()=>{}),uE.set(e,n),e}(n);if(aE.has(n))return aE.get(n);const e=CQ(n);return e!==n&&(aE.set(n,e),uE.set(e,n)),e}const lE=n=>uE.get(n),AQ=["get","getKey","getAll","getAllKeys","count"],SQ=["put","add","delete","clear"],dE=new Map;function zk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(dE.get(e))return dE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=SQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!AQ.includes(t))return;const o=function(){var s=T(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return dE.set(e,o),o}!function wQ(n){cE=n(cE)}(n=>({...n,get:(e,t,r)=>zk(e,t)||n.get(e,t,r),has:(e,t)=>!!zk(e,t)||n.has(e,t)}));class xQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function RQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const hE="@firebase/app",Jo=new oE("@firebase/app"),Wf="[DEFAULT]",nY={[hE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zo=new Map,qf=new Map;function rY(n,e){try{n.container.addComponent(e)}catch(t){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ka(n){const e=n.name;if(qf.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,n);for(const t of Zo.values())rY(t,n);return!0}const wi=new Kc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const Kf="10.7.1";function Kk(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});if(t||(t=Ok()),!t)throw wi.create("no-options");const o=Zo.get(i);if(o){if(tE(t,o.options)&&tE(r,o.config))return o;throw wi.create("duplicate-app",{appName:i})}const s=new pQ(i);for(const u of qf.values())s.addComponent(u);const a=new oY(t,r,s);return Zo.set(i,a),a}function Qk(n=Wf){const e=Zo.get(n);if(!e&&n===Wf&&Ok())return Kk();if(!e)throw wi.create("no-app",{appName:n});return e}function Yk(){return Array.from(Zo.values())}function cr(n,e,t){var r;let i=null!==(r=nY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Jo.warn(a.join(" "))}ka(new Yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sY="firebase-heartbeat-database",aY=1,Qc="firebase-heartbeat-store";let pE=null;function Xk(){return pE||(pE=function DQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=ro(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ro(s.result),u.oldVersion,u.newVersion,ro(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(sY,aY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Qc)}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),pE}function gE(){return(gE=T(function*(n){try{return yield(yield Xk()).transaction(Qc).objectStore(Qc).get(Zk(n))}catch(e){if(e instanceof no)Jo.warn(e.message);else{const t=wi.create("idb-get",{originalErrorMessage:e?.message});Jo.warn(t.message)}}})).apply(this,arguments)}function Jk(n,e){return mE.apply(this,arguments)}function mE(){return(mE=T(function*(n,e){try{const r=(yield Xk()).transaction(Qc,"readwrite");yield r.objectStore(Qc).put(e,Zk(n)),yield r.done}catch(t){if(t instanceof no)Jo.warn(t.message);else{const r=wi.create("idb-set",{originalErrorMessage:t?.message});Jo.warn(r.message)}}})).apply(this,arguments)}function Zk(n){return`${n.name}!${n.options.appId}`}class dY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return T(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eN();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return T(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=eN(),{heartbeatsToSend:i,unsentEntries:o}=function hY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=$f(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eN(){return(new Date).toISOString().substring(0,10)}class fY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(function*(){return!!function JK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function ZK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return T(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function uY(n){return gE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Jk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return T(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Jk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function tN(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}!function pY(n){ka(new Yo("platform-logger",e=>new xQ(e),"PRIVATE")),ka(new Yo("heartbeat",e=>new dY(e),"PRIVATE")),cr(hE,"0.9.25",n),cr(hE,"0.9.25","esm2017"),cr("fire-js","")}("");class _Y extends Ln{constructor(e,t){super()}schedule(e,t=0){return this}}const Qf={setInterval(n,e,...t){const{delegate:r}=Qf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Qf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class nN extends _Y{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Qf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Qf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,As(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const rN={now:()=>(rN.delegate||Date).now(),delegate:void 0};class Yc{constructor(e,t=Yc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Yc.now=rN.now;class iN extends Yc{constructor(e,t=Yc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const EY=new class vY extends iN{}(class yY extends nN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),IY=new iN(nN),_E=new Ui("ANGULARFIRE2_VERSION");const yE=(n,e)=>{const t=e?[e]:Yk(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class bY{constructor(){return yE(wY)}}const wY="app-check";function Na(){}class sN{zone;delegate;constructor(e,t=EY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class TY{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Na,{},Na,Na)),t.pipe(Dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let aN=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new sN(Zone.current)),this.insideAngular=t.run(()=>new sN(Zone.current,IY)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(Je))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function es(n){return Oa().ngZone.run(()=>n())}function DY(n){return function AY(n){return function(t){return(t=t.lift(new TY(n.ngZone))).pipe(Id(n.outsideAngular),Ed(n.insideAngular))}}(Oa())(n)}const SY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),es(()=>n.apply(void 0,r))},Ti=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Na,{},Na,Na))),r[o]=SY(r[o],t));const i=function CY(n){return Oa().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof tt){const o=Oa();return i.pipe(Id(o.outsideAngular),Ed(o.insideAngular))}return es(()=>i)}return i instanceof tt?i.pipe(DY):i instanceof Promise?es(()=>new Promise((o,s)=>i.then(a=>es(()=>o(a)),a=>es(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:es(()=>i)};class Xc{constructor(e){return e}}class uN{constructor(){return Yk()}}const vE=new V("angularfire2._apps"),RY={provide:Xc,useFactory:function xY(n){return n&&1===n.length?n[0]:new Xc(Qk())},deps:[[new cn,vE]]},MY={provide:uN,deps:[[new cn,vE]]};function PY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xc(r)}}let kY=(()=>{class n{constructor(t){cr("angularfire",_E.full,"core"),cr("angularfire",_E.full,"app"),cr("angular",cA.full,t.toString())}static \u0275fac=function(r){return new(r||n)(B(mc))};static \u0275mod=jt({type:n});static \u0275inj=Pt({providers:[RY,MY]})}return n})();function NY(n,...e){return{ngModule:kY,providers:[{provide:vE,useFactory:PY(n),multi:!0,deps:[Je,Wn,aN,...e]}]}}const OY=Ti(Kk,!0);const FY=function cN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lN=new Kc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yf=new oE("@firebase/auth");function Xf(n,...e){Yf.logLevel<=Ee.ERROR&&Yf.error(`Auth (${Kf}): ${n}`,...e)}function Nn(n,...e){throw EE(n,...e)}function Wr(n,...e){return EE(n,...e)}function EE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lN.create(n,...e)}function N(n,e,...t){if(!n)throw EE(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function io(n,e){n||qr(e)}function hN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function LY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function IE(){return"http:"===hN()||"https:"===hN()}()||function YK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=function KK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}()||function XK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return LY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class fN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jY=new Zc(3e4,6e4);function qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ke(n,e,t,r){return wE.apply(this,arguments)}function wE(){return(wE=T(function*(n,e,t,r,i={}){return pN(n,i,T(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Bk(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),fN.fetch()(gN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function pN(n,e,t){return TE.apply(this,arguments)}function TE(){return(TE=T(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},UY),e);try{const i=new HY(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw el(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw el(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw el(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw el(n,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function dN(n,e,t){const r=Object.assign(Object.assign({},FY()),{[e]:t});return new Kc("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);Nn(n,l)}}catch(i){if(i instanceof no)throw i;Nn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function gN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function bE(n,e){io(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class HY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),jY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function el(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Wr(n,e,r);return i.customData._tokenResponse=t,i}function SE(){return(SE=T(function*(n,e){return Ke(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function RE(){return(RE=T(function*(n,e){return Ke(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ME(){return(ME=T(function*(n,e=!1){const t=zr(n),r=yield t.getIdToken(e),i=Jf(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:tl(PE(i.auth_time)),issuedAtTime:tl(PE(i.iat)),expirationTime:tl(PE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function PE(n){return 1e3*Number(n)}function Jf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hf(t);return i?JSON.parse(i):(Xf("Failed to decode base64 JWT payload"),null)}catch(i){return Xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Di(n,e){return kE.apply(this,arguments)}function kE(){return(kE=T(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof no&&function YY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class XY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(T(function*(){yield t.iteration()}),r)}iteration(){var e=this;return T(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class EN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nl(n){return NE.apply(this,arguments)}function NE(){return NE=T(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Di(n,function qY(n,e){return RE.apply(this,arguments)}(t,{idToken:r}));N(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function eX(n){return n.map(e=>{var{providerId:t}=e,r=jg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function ZY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),l=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new EN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),NE.apply(this,arguments)}function OE(){return(OE=T(function*(n){const e=zr(n);yield nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function FE(){return(FE=T(function*(n,e){const t=yield pN(n,{},T(function*(){const r=Bk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=gN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function VE(){return(VE=T(function*(n,e){return Ke(n,"POST","/v2/accounts:revokeToken",qe(n,e))})).apply(this,arguments)}class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function QY(n){const e=Jf(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return T(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return T(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function tX(n,e){return FE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new rl;return r&&(N("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(N("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return qr("not implemented")}}function oo(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new EN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return T(function*(){const r=yield Di(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function KY(n){return ME.apply(this,arguments)}(this,e)}reload(){return function JY(n){return OE.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return T(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield nl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return T(function*(){const t=yield e.getIdToken();return yield Di(e,function zY(n,e){return SE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:P,isAnonymous:G,providerData:Y,stsTokenManager:st}=t;N(E&&st,e,"internal-error");const Vn=rl.fromJSON(this.name,st);N("string"==typeof E,e,"internal-error"),oo(d,e.name),oo(h,e.name),N("boolean"==typeof P,e,"internal-error"),N("boolean"==typeof G,e,"internal-error"),oo(f,e.name),oo(p,e.name),oo(_,e.name),oo(y,e.name),oo(b,e.name),oo(C,e.name);const gd=new ts({uid:E,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:Vn,createdAt:b,lastLoginAt:C});return Y&&Array.isArray(Y)&&(gd.providerData=Y.map(kg=>Object.assign({},kg))),y&&(gd._redirectEventId=y),gd}static _fromIdTokenResponse(e,t,r=!1){return T(function*(){const i=new rl;i.updateFromServerResponse(t);const o=new ts({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nl(o),o})()}}const IN=new Map;function Ai(n){io(n instanceof Function,"Expected a class definition");let e=IN.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IN.set(n,e),e)}const bN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(function*(){return!0})()}_set(t,r){var i=this;return T(function*(){i.storage[t]=r})()}_get(t){var r=this;return T(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return T(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Va{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return T(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ts._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return T(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(function*(){if(!t.length)return new Va(Ai(bN),e,r);const i=(yield Promise.all(t.map(function(){var c=T(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Ai(bN);const s=Zf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(s);if(l){const d=ts._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=T(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Va(o,e,r)):new Va(o,e,r)})()}}function wN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function DN(n=Qn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function TN(n=Qn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function SN(n=Qn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function xN(n=Qn()){return/webos/i.test(n)}(e))return"Webos";if(function LE(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function CN(n=Qn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function AN(n=Qn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function RN(n,e=[]){let t;switch(n){case"Browser":t=wN(Qn());break;case"Worker":t=`${wN(Qn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kf}/${r}`}class oX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return T(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function BE(){return(BE=T(function*(n,e={}){return Ke(n,"GET","/v2/passwordPolicy",qe(n,e))})).apply(this,arguments)}class uX{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class cX{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MN(this),this.idTokenSubscription=new MN(this),this.beforeStateQueue=new oX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(T(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Va.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return T(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return T(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return T(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return T(function*(){try{yield nl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function BY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return T(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return T(function*(){const r=e?zr(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return T(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(T(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return T(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(T(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return T(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return T(function*(){const t=yield function sX(n){return BE.apply(this,arguments)}(e),r=new uX(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return T(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function nX(n,e){return VE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return T(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return T(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield Va.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return T(function*(){var r,i;return t._isInitialized&&(yield t.queue(T(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return T(function*(){if(e===t.currentUser)return t.queue(T(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return T(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return T(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return T(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function VY(n,...e){Yf.logLevel<=Ee.WARN&&Yf.warn(`Auth (${Kf}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class MN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function rQ(n,e){const t=new iQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function PN(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Zc(3e4,6e4),new Zc(2e3,1e4),new Zc(3e4,6e4),new Zc(5e3,15e3),encodeURIComponent("fac");var cO="@firebase/auth";class dZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return T(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Gf(),function fZ(n){ka(new Yo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;N(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RN(n)},c=new cX(r,i,o,u);return function mX(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ka(new Yo("auth-internal",e=>{const t=function yt(n){return zr(n)}(e.getProvider("auth").getImmediate());return new dZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(cO,"1.5.1",function hZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),cr(cO,"1.5.1","esm2017")}("Browser");class fO{constructor(){return yE("auth")}}var L,EZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={},P0=P0||{},ae=EZ||self;function hp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var k0="closure_uid_"+(1e9*Math.random()>>>0),bZ=0;function wZ(n,e,t){return n.call.apply(n.bind,arguments)}function TZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fn(n,e,t){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wZ:TZ).apply(null,arguments)}function fp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $t(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function so(){this.s=this.s,this.o=this.o}so.prototype.s=!1,so.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function IZ(n){Object.prototype.hasOwnProperty.call(n,k0)&&n[k0]||(n[k0]=++bZ)}(this)},so.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function N0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(hp(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function pn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var DZ=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};ae.addEventListener("test",t,e),ae.removeEventListener("test",t,e)}catch{}return n}();function ll(n){return/^[\s\xa0]*$/.test(n)}function pp(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=pp().indexOf(n)}function O0(n){return O0[" "](n),n}O0[" "]=function(){};var V0,SZ=Kr("Opera"),La=Kr("Trident")||Kr("MSIE"),mO=Kr("Edge"),F0=mO||La,_O=Kr("Gecko")&&!(-1!=pp().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),xZ=-1!=pp().toLowerCase().indexOf("webkit")&&!Kr("Edge");function yO(){var n=ae.document;return n?n.documentMode:void 0}e:{var L0="",B0=function(){var n=pp();return _O?/rv:([^\);]+)(\)|;)/.exec(n):mO?/Edge\/([\d\.]+)/.exec(n):La?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xZ?/WebKit\/(\S+)/.exec(n):SZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(B0&&(L0=B0?B0[1]:""),La){var U0=yO();if(null!=U0&&U0>parseFloat(L0)){V0=String(U0);break e}}V0=L0}var RZ=ae.document&&La&&(yO()||parseInt(V0,10))||void 0;function dl(n,e){if(pn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_O){e:{try{O0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:MZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dl.$.h.call(this)}}$t(dl,pn);var MZ={2:"touch",3:"pen",4:"mouse"};dl.prototype.h=function(){dl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),PZ=0;function kZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++PZ,this.fa=this.ia=!1}function gp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function $0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function EO(n){const e={};for(const t in n)e[t]=n[t];return e}const IO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<IO.length;o++)t=IO[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mp(n){this.src=n,this.g={},this.h=0}function H0(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=pO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(gp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G0(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}mp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=G0(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new kZ(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var z0="closure_lm_"+(1e6*Math.random()|0),W0={};function wO(n,e,t,r,i){if(r&&r.once)return CO(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wO(n,e[o],t,r,i);return null}return t=Y0(t),n&&n[hl]?n.O(e,t,cl(r)?!!r.capture:!!r,i):TO(n,e,t,!1,r,i)}function TO(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=cl(i)?!!i.capture:!!i,a=K0(n);if(a||(n[z0]=a=new mp(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function OZ(){const e=FZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)DZ||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(AO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CO(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)CO(n,e[o],t,r,i);return null}return t=Y0(t),n&&n[hl]?n.P(e,t,cl(r)?!!r.capture:!!r,i):TO(n,e,t,!0,r,i)}function DO(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)DO(n,e[o],t,r,i);else r=cl(r)?!!r.capture:!!r,t=Y0(t),n&&n[hl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G0(o=n.g[e],t,r,i))&&(gp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=K0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G0(e,t,r,i)),(t=-1<n?e[n]:null)&&q0(t))}function q0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[hl])H0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(AO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=K0(e))?(H0(t,n),0==t.h&&(t.src=null,e[z0]=null)):gp(n)}}}function AO(n){return n in W0?W0[n]:W0[n]="on"+n}function FZ(n,e){if(n.fa)n=!0;else{e=new dl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&q0(n),n=t.call(r,e)}return n}function K0(n){return(n=n[z0])instanceof mp?n:null}var Q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y0(n){return"function"==typeof n?n:(n[Q0]||(n[Q0]=function(e){return n.handleEvent(e)}),n[Q0])}function Ht(){so.call(this),this.i=new mp(this),this.S=this,this.J=null}function Zt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new pn(e,n);else if(e instanceof pn)e.target=e.target||n;else{var i=e;bO(e=new pn(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=_p(s,r,!0,e)&&i}if(i=_p(s=e.g=n,r,!0,e)&&i,i=_p(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=_p(s=e.g=t[o],r,!1,e)&&i}function _p(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,u=s.la||s.src;s.ia&&H0(n.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$t(Ht,so),Ht.prototype[hl]=!0,Ht.prototype.removeEventListener=function(n,e,t,r){DO(this,n,e,t,r)},Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gp(t[r]);delete n.g[e],n.h--}}this.J=null},Ht.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ht.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var X0=ae.JSON.stringify;function LZ(){var n=J0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SO=new class VZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new UZ,n=>n.reset());class UZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function $Z(n){ae.setTimeout(()=>{throw n},0)}let fl,pl=!1,J0=new class BZ{constructor(){this.h=this.g=null}add(e,t){const r=SO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},xO=()=>{const n=ae.Promise.resolve(void 0);fl=()=>{n.then(HZ)}};var HZ=()=>{for(var n;n=LZ();){try{n.h.call(n.g)}catch(t){$Z(t)}var e=SO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}pl=!1};function yp(n,e){Ht.call(this),this.h=n||1,this.g=e||ae,this.j=fn(this.qb,this),this.l=Date.now()}function Z0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function eb(n,e,t){if("function"==typeof n)t&&(n=fn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function RO(n){n.g=eb(()=>{n.g=null,n.i&&(n.i=!1,RO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$t(yp,Ht),(L=yp.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(Z0(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){yp.$.N.call(this),Z0(this),delete this.g};class GZ extends so{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RO(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(n){so.call(this),this.h=n,this.g={}}$t(gl,so);var MO=[];function PO(n,e,t,r){Array.isArray(t)||(t&&(MO[0]=t.toString()),t=MO);for(var i=0;i<t.length;i++){var o=wO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function kO(n){$0(n.g,function(e,t){this.g.hasOwnProperty(t)&&q0(e)},n),n.g={}}function vp(){this.g=!0}function Ba(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function KZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return X0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}gl.prototype.N=function(){gl.$.N.call(this),kO(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vp.prototype.Ea=function(){this.g=!1},vp.prototype.info=function(){};var os={},NO=null;function Ep(){return NO=NO||new Ht}function OO(n){pn.call(this,os.Ta,n)}function ml(n){const e=Ep();Zt(e,new OO(e))}function FO(n,e){pn.call(this,os.STAT_EVENT,n),this.stat=e}function Dn(n){const e=Ep();Zt(e,new FO(e,n))}function VO(n,e){pn.call(this,os.Ua,n),this.size=e}function _l(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}os.Ta="serverreachability",$t(OO,pn),os.STAT_EVENT="statevent",$t(FO,pn),os.Ua="timingevent",$t(VO,pn);var Ip={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tb(){}function UO(){}tb.prototype.h=null;var ib,yl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nb(){pn.call(this,"d")}function rb(){pn.call(this,"c")}function bp(){}function vl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new gl(this),this.P=QZ,this.V=new yp(n=F0?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jO}function jO(){this.i=null,this.g="",this.h=!1}$t(nb,pn),$t(rb,pn),$t(bp,tb),bp.prototype.g=function(){return new XMLHttpRequest},bp.prototype.i=function(){return{}},ib=new bp;var QZ=45e3,$O={},ob={};function sb(n,e,t){n.L=1,n.A=Dp(xi(e)),n.u=t,n.S=!0,HO(n,null)}function HO(n,e){n.G=Date.now(),El(n),n.B=xi(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),ZO(t.i,"t",r),n.o=0,t=n.l.J,n.h=new jO,n.g=wF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new GZ(fn(n.Pa,n,n.g),n.O)),PO(n.U,n.g,"readystatechange",n.nb),e=n.I?EO(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ml(),function zZ(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function GO(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function zO(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=YZ(n,t),i==ob){4==e&&(n.s=4,Dn(14),r=!1),Ba(n.j,n.m,null,"[Incomplete Response]");break}if(i==$O){n.s=4,Dn(15),Ba(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ba(n.j,n.m,i,null),ab(n,i)}GO(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Dn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),pb(e),e.M=!0,Dn(11))):(Ba(n.j,n.m,t,"[Invalid Chunked Response]"),ss(n),Il(n))}function YZ(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?ob:(t=Number(e.substring(t,r)),isNaN(t)?$O:(r+=1)+t>e.length?ob:(e=e.slice(r,r+t),n.o=r+t,e))}function El(n){n.Y=Date.now()+n.P,WO(n,n.P)}function WO(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=_l(fn(n.lb,n),e)}function wp(n){n.C&&(ae.clearTimeout(n.C),n.C=null)}function Il(n){0==n.l.H||n.J||vF(n.l,n)}function ss(n){wp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Z0(n.V),kO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ab(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ub(t.i,n)))if(!n.K&&ub(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Pp(t),Rp(t)}fb(t),Dn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=_l(fn(t.ib,t),6e3));if(1>=nF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else us(t,11)}else if((n.K||t.g==n)&&Pp(t),!ll(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(cb(o,o.h),o.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Qe(r.I,r.F,_))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=bF(r,r.J?r.pa:null,r.Y),s.K){rF(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(wp(a),El(a)),r.g=s}else _F(r);0<t.j.length&&Mp(t)}else"stop"!=c[0]&&"close"!=c[0]||us(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?us(t,7):hb(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}ml()}catch{}}function qO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function JZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function XZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(L=vl.prototype).setTimeout=function(n){this.P=n},L.nb=function(n){n=n.target;const e=this.M;e&&3==Qr(n)?e.l():this.Pa(n)},L.Pa=function(n){try{if(n==this.g)e:{const l=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||F0||this.g&&(this.h.h||this.g.ja()||dF(this.g)))){this.J||4!=l||7==e||ml(),wp(this);var t=this.g.da();this.ca=t;t:if(GO(this)){var r=dF(this.g);n="";var i=r.length,o=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Il(this);var s="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function WZ(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ll(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,Dn(12),ss(this),Il(this);break e}Ba(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ab(this,t)}this.S?(zO(this,l,s),F0&&this.i&&3==l&&(PO(this.U,this.V,"tick",this.mb),this.V.start())):(Ba(this.j,this.m,s,null),ab(this,s)),4==l&&ss(this),this.i&&!this.J&&(4==l?vF(this.l,this):(this.i=!1,El(this)))}else(function mee(n){const e={};n=(n.g&&2<=Qr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ll(n[r]))continue;var t=jZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function NZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,Dn(12)):(this.s=0,Dn(13)),ss(this),Il(this)}}}catch{}},L.mb=function(){if(this.g){var n=Qr(this.g),e=this.g.ja();this.o<e.length&&(wp(this),zO(this,n,e),this.i&&4!=n&&El(this))}},L.cancel=function(){this.J=!0,ss(this)},L.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function qZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ml(),Dn(17)),ss(this),this.s=2,Il(this)):WO(this,this.Y-n)};var KO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof as){this.h=n.h,Tp(this,n.j),this.s=n.s,this.g=n.g,Cp(this,n.m),this.l=n.l;var e=n.i,t=new Tl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),QO(this,t),this.o=n.o}else n&&(e=String(n).match(KO))?(this.h=!1,Tp(this,e[1]||"",!0),this.s=bl(e[2]||""),this.g=bl(e[3]||"",!0),Cp(this,e[4]),this.l=bl(e[5]||"",!0),QO(this,e[6]||"",!0),this.o=bl(e[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}function xi(n){return new as(n)}function Tp(n,e,t){n.j=t?bl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function QO(n,e,t){e instanceof Tl?(n.i=e,function oee(n,e){e&&!n.j&&(ao(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(XO(this,r),ZO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wl(e,ree)),n.i=new Tl(e,n.h))}function Qe(n,e,t){n.i.set(e,t)}function Dp(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,eee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}as.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wl(e,YO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wl(e,YO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wl(t,"/"==t.charAt(0)?nee:tee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wl(t,iee)),n.join("")};var YO=/[#\/\?@]/g,tee=/[#\?:]/g,nee=/[#\?]/g,ree=/[#\?@]/g,iee=/#/g;function Tl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ao(n){n.g||(n.g=new Map,n.h=0,n.i&&function ZZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XO(n,e){ao(n),e=Ua(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function JO(n,e){return ao(n),e=Ua(n,e),n.g.has(e)}function ZO(n,e,t){XO(n,e),0<t.length&&(n.i=null,n.g.set(Ua(n,e),N0(t)),n.h+=t.length)}function Ua(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eF(n){this.l=n||aee,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Tl.prototype).add=function(n,e){ao(this),this.i=null,n=Ua(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},L.forEach=function(n,e){ao(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},L.ta=function(){ao(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},L.Z=function(n){ao(this);let e=[];if("string"==typeof n)JO(this,n)&&(e=e.concat(this.g.get(Ua(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},L.set=function(n,e){return ao(this),this.i=null,JO(this,n=Ua(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},L.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var aee=10;function tF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nF(n){return n.h?1:n.g?n.g.size:0}function ub(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cb(n,e){n.g?n.g.add(e):n.h=e}function rF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return N0(n.i)}eF.prototype.cancel=function(){if(this.i=iF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var uee=class{stringify(n){return ae.JSON.stringify(n,void 0)}parse(n){return ae.JSON.parse(n,void 0)}};function cee(){this.g=new uee}function lee(n,e,t){const r=t||"";try{qO(n,function(i,o){let s=i;cl(i)&&(s=X0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ap(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cl(n){this.l=n.ec||null,this.j=n.ob||!1}function Sp(n,e){Ht.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=lb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(Cl,tb),Cl.prototype.g=function(){return new Sp(this.l,this.j)},Cl.prototype.i=function(n){return function(){return n}}({}),$t(Sp,Ht);var lb=0;function oF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Dl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Al(n)}function Al(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(L=Sp.prototype).open=function(n,e){if(this.readyState!=lb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Al(this)},L.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dl(this)),this.readyState=lb},L.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dl(this):Al(this),3==this.readyState&&oF(this)}},L.Za=function(n){this.g&&(this.response=this.responseText=n,Dl(this))},L.Ya=function(n){this.g&&(this.response=n,Dl(this))},L.ka=function(){this.g&&Dl(this)},L.setRequestHeader=function(n,e){this.v.append(n,e)},L.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hee=ae.JSON.parse;function lt(n){Ht.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sF,this.L=this.M=!1}$t(lt,Ht);var sF="",fee=/^https?$/i,pee=["POST","PUT"];function aF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uF(n),xp(n)}function uF(n){n.F||(n.F=!0,Zt(n,"complete"),Zt(n,"error"))}function cF(n){if(n.h&&typeof P0<"u"&&(!n.C[1]||4!=Qr(n)||2!=n.da()))if(n.v&&4==Qr(n))eb(n.La,0,n);else if(Zt(n,"readystatechange"),4==Qr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(KO)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!fee.test(i?i.toLowerCase():"")}t=r}if(t)Zt(n,"complete"),Zt(n,"success");else{n.m=6;try{var o=2<Qr(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",uF(n)}}finally{xp(n)}}}function xp(n,e){if(n.g){lF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zt(n,"ready");try{t.onreadystatechange=r}catch{}}}function lF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function Qr(n){return n.g?n.g.readyState:0}function dF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hF(n){let e="";return $0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function db(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function Sl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fF(n){this.Ga=0,this.j=[],this.l=new vp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sl("baseRetryDelayMs",5e3,n),this.hb=Sl("retryDelaySeedMs",1e4,n),this.eb=Sl("forwardChannelMaxRetries",2,n),this.xa=Sl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eF(n&&n.concurrentRequestLimit),this.Ja=new cee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hb(n){if(pF(n),3==n.H){var e=n.W++,t=xi(n.I);if(Qe(t,"SID",n.K),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),xl(n,t),(e=new vl(n,n.l,e)).L=2,e.A=Dp(xi(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.A,t=!0),t||(e.g=wF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),El(e)}IF(n)}function Rp(n){n.g&&(pb(n),n.g.cancel(),n.g=null)}function pF(n){Rp(n),n.u&&(ae.clearTimeout(n.u),n.u=null),Pp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function Mp(n){if(!tF(n.i)&&!n.m){n.m=!0;var e=n.Na;fl||xO(),pl||(fl(),pl=!0),J0.add(e,n),n.C=0}}function gF(n,e){var t;t=e?e.m:n.W++;const r=xi(n.I);Qe(r,"SID",n.K),Qe(r,"RID",t),Qe(r,"AID",n.V),xl(n,r),n.o&&n.s&&db(r,n.o,n.s),t=new vl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=mF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cb(n.i,t),sb(t,r,e)}function xl(n,e){n.na&&$0(n.na,function(t,r){Qe(e,r,t)}),n.h&&qO({},function(t,r){Qe(e,r,t)})}function mF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?fn(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{lee(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function _F(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;fl||xO(),pl||(fl(),pl=!0),J0.add(e,n),n.A=0}}function fb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=_l(fn(n.Ma,n),EF(n,n.A)),n.A++,0))}function pb(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function yF(n){n.g=new vl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=xi(n.wa);Qe(e,"RID","rpc"),Qe(e,"SID",n.K),Qe(e,"AID",n.V),Qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qe(e,"TO",n.qa),Qe(e,"TYPE","xmlhttp"),xl(n,e),n.o&&n.s&&db(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Dp(xi(e)),t.u=null,t.S=!0,HO(t,n)}function Pp(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function vF(n,e){var t=null;if(n.g==e){Pp(n),pb(n),n.g=null;var r=2}else{if(!ub(n.i,e))return;t=e.F,rF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Zt(r=Ep(),new VO(r,t)),Mp(n)}else _F(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function _ee(n,e){return!(nF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=_l(fn(n.Na,n,e),EF(n,n.C)),n.C++,0)))}(n,e)||2==r&&fb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:us(n,5);break;case 4:us(n,10);break;case 3:us(n,6);break;default:us(n,2)}}function EF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function us(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=fn(n.pb,n);t||(t=new as("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Tp(t,"https"),Dp(t)),function dee(n,e){const t=new vp;if(ae.Image){const r=new Image;r.onload=fp(Ap,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fp(Ap,t,r,"TestLoadImage: error",!1,e),r.onabort=fp(Ap,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fp(Ap,t,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Dn(2);n.H=0,n.h&&n.h.za(e),IF(n),pF(n)}function IF(n){if(n.H=0,n.ma=[],n.h){const e=iF(n.i);(0!=e.length||0!=n.j.length)&&(gO(n.ma,e),gO(n.ma,n.j),n.i.i.length=0,N0(n.j),n.j.length=0),n.h.ya()}}function bF(n,e,t){var r=t instanceof as?xi(t):new as(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Cp(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new as(null);r&&Tp(o,r),e&&(o.g=e),i&&Cp(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Qe(r,t,e),Qe(r,"VER",n.ra),xl(n,r),r}function wF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(n.Ha&&!n.va?new Cl({ob:t}):n.va)).Oa(n.J),e}function TF(){}function kp(){if(La&&!(10<=Number(RZ)))throw Error("Environmental error: no available transport.")}function Yn(n,e){Ht.call(this),this.g=new fF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ll(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ll(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ja(this)}function CF(n){nb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function DF(){rb.call(this),this.status=1}function ja(n){this.g=n}function Cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gb(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Oe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(L=lt.prototype).Oa=function(n){this.M=n},L.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ib.g(),this.C=function BO(n){return n.h||(n.h=n.i())}(this.u?this.u:ib),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void aF(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=ae.FormData&&n instanceof ae.FormData,!(0<=pO(pee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lF(this),0<this.B&&((this.L=function gee(n){return La&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=eb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){aF(this,o)}},L.ua=function(){typeof P0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},L.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zt(this,"complete"),Zt(this,"abort"),xp(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xp(this,!0)),lt.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?cF(this):this.kb())},L.kb=function(){cF(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hee(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=fF.prototype).ra=8,L.H=1,L.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new vl(this,this.l,n);let o=this.s;if(this.U&&(o?(o=EO(o),bO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mF(this,i,e),Qe(t=xi(this.I),"RID",n),Qe(t,"CVER",22),this.F&&Qe(t,"X-HTTP-Session-Id",this.F),xl(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(hF(o)))+"&"+e:this.o&&db(t,this.o,o)),cb(this.i,i),this.bb&&Qe(t,"TYPE","init"),this.P?(Qe(t,"$req",e),Qe(t,"SID","null"),i.aa=!0,sb(i,t,null)):sb(i,t,e),this.H=2}}else 3==this.H&&(n?gF(this,n):0==this.j.length||tF(this.i)||gF(this))},L.Ma=function(){if(this.u=null,yF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=_l(fn(this.jb,this),n)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dn(10),Rp(this),yF(this))},L.ib=function(){null!=this.v&&(this.v=null,Rp(this),fb(this),Dn(19))},L.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Dn(2)):(this.l.info("Failed to ping google.com"),Dn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=TF.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},kp.prototype.g=function(n,e){return new Yn(n,e)},$t(Yn,Ht),Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Dn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=bF(n,null,n.Y),Mp(n)},Yn.prototype.close=function(){hb(this.g)},Yn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=X0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Mp(e)},Yn.prototype.N=function(){this.g.h=null,delete this.j,hb(this.g),delete this.g,Yn.$.N.call(this)},$t(CF,nb),$t(DF,rb),$t(ja,TF),ja.prototype.Ba=function(){Zt(this.g,"a")},ja.prototype.Aa=function(n){Zt(this.g,new CF(n))},ja.prototype.za=function(n){Zt(this.g,new DF)},ja.prototype.ya=function(){Zt(this.g,"b")},$t(Cr,function yee(){this.blockSize=-1}),Cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)gb(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){gb(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){gb(this,r),i=0;break}}this.h=i,this.i+=e},Cr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var vee={};function mb(n){return-128<=n&&128>n?function AZ(n,e){var t=vee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Oe([0|e],0>e?-1:0)}):new Oe([0|n],0>n?-1:0)}function Yr(n){if(isNaN(n)||!isFinite(n))return $a;if(0>n)return en(Yr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=_b;return new Oe(e,0)}var _b=4294967296,$a=mb(0),yb=mb(1),SF=mb(16777216);function Ri(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function dr(n){return-1==n.h}function en(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Oe(t,~n.h).add(yb)}function Np(n,e){return n.add(en(e))}function Op(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rl(n,e){this.g=n,this.h=e}function Fp(n,e){if(Ri(e))throw Error("division by zero");if(Ri(n))return new Rl($a,$a);if(dr(n))return e=Fp(en(n),e),new Rl(en(e.g),en(e.h));if(dr(e))return e=Fp(n,en(e)),new Rl(en(e.g),e.h);if(30<n.g.length){if(dr(n)||dr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=yb,r=e;0>=r.X(n);)t=xF(t),r=xF(r);var i=Ha(t,1),o=Ha(r,1);for(r=Ha(r,2),t=Ha(t,2);!Ri(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Ha(r,1),t=Ha(t,1)}return e=Np(n,i.R(e)),new Rl(i,e)}for(i=$a;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Yr(t)).R(e);dr(s)||0<s.X(n);)s=(o=Yr(t-=r)).R(e);Ri(o)&&(o=yb),i=i.add(o),n=Np(n,s)}return new Rl(i,n)}function xF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Oe(t,n.h)}function Ha(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Oe(i,n.h)}(L=Oe.prototype).ea=function(){if(dr(this))return-en(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:_b+r)*e,e*=_b}return n},L.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ri(this))return"0";if(dr(this))return"-"+en(this).toString(n);for(var e=Yr(Math.pow(n,6)),t=this,r="";;){var i=Fp(t,e).g,o=((0<(t=Np(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ri(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},L.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},L.X=function(n){return dr(n=Np(this,n))?-1:Ri(n)?0:1},L.abs=function(){return dr(this)?en(this):this},L.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Oe(t,-2147483648&t[t.length-1]?-1:0)},L.R=function(n){if(Ri(this)||Ri(n))return $a;if(dr(this))return dr(n)?en(this).R(en(n)):en(en(this).R(n));if(dr(n))return en(this.R(en(n)));if(0>this.X(SF)&&0>n.X(SF))return Yr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=s*u,Op(t,2*r+2*i),t[2*r+2*i+1]+=o*u,Op(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,Op(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,Op(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Oe(t,0)},L.gb=function(n){return Fp(this,n).h},L.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Oe(t,this.h&n.h)},L.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Oe(t,this.h|n.h)},L.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Oe(t,this.h^n.h)},kp.prototype.createWebChannel=kp.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Ip.NO_ERROR=0,Ip.TIMEOUT=8,Ip.HTTP_ERROR=6,LO.COMPLETE="complete",UO.EventType=yl,yl.OPEN="a",yl.CLOSE="b",yl.ERROR="c",yl.MESSAGE="d",Ht.prototype.listen=Ht.prototype.O,lt.prototype.listenOnce=lt.prototype.P,lt.prototype.getLastError=lt.prototype.Sa,lt.prototype.getLastErrorCode=lt.prototype.Ia,lt.prototype.getStatus=lt.prototype.da,lt.prototype.getResponseJson=lt.prototype.Wa,lt.prototype.getResponseText=lt.prototype.ja,lt.prototype.send=lt.prototype.ha,lt.prototype.setWithCredentials=lt.prototype.Oa,Cr.prototype.digest=Cr.prototype.l,Cr.prototype.reset=Cr.prototype.reset,Cr.prototype.update=Cr.prototype.j,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.R,Oe.prototype.modulo=Oe.prototype.gb,Oe.prototype.compare=Oe.prototype.X,Oe.prototype.toNumber=Oe.prototype.ea,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.D,Oe.fromNumber=Yr,Oe.fromString=function AF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return en(AF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yr(Math.pow(e,8)),r=$a,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Yr(Math.pow(e,o)),r=r.R(o).add(Yr(s))):r=(r=r.R(t)).add(Yr(s))}return r};var Eee=Tr.createWebChannelTransport=function(){return new kp},Iee=Tr.getStatEventTarget=function(){return Ep()},vb=Tr.ErrorCode=Ip,bee=Tr.EventType=LO,wee=Tr.Event=os,RF=Tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vp=(Tr.FetchXmlHttpFactory=Cl,Tr.WebChannel=UO),Tee=Tr.XhrIo=lt,Cee=Tr.Md5=Cr,Ga=Tr.Integer=Oe;const MF="@firebase/firestore";class Gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let za="10.7.0";const uo=new oE("@firebase/firestore");function Wa(){return uo.logLevel}function R(n,...e){if(uo.logLevel<=Ee.DEBUG){const t=e.map(Eb);uo.debug(`Firestore (${za}): ${n}`,...t)}}function vt(n,...e){if(uo.logLevel<=Ee.ERROR){const t=e.map(Eb);uo.error(`Firestore (${za}): ${n}`,...t)}}function Xn(n,...e){if(uo.logLevel<=Ee.WARN){const t=e.map(Eb);uo.warn(`Firestore (${za}): ${n}`,...t)}}function Eb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: `+n;throw vt(e),new Error(e)}function z(n,e){n||$()}function O(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends no{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class PF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class Aee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class See{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(T(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z("string"==typeof r.accessToken),new PF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(null===e||"string"==typeof e),new Gt(e)}}class xee{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ree{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xee(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(z("string"==typeof t.token),this.R=t.token,new kF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class NF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function oe(n,e){return n<e?-1:n>e?1:0}function qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ot(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new ot(0,0))}static max(){return new q(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ml{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ml.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ml?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends Ml{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const kee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ml{construct(e,t,r){return new Ze(e,t,r)}static isValidIdentifier(e){return kee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new M(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new M(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(t)}static emptyPath(){return new Ze([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(Ce.fromString(e))}static fromName(e){return new F(Ce.fromString(e).popFirst(5))}static empty(){return new F(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Ce(e.slice()))}}function VF(n){return new Jn(n.readTime,n.key,-1)}class Jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jn(q.min(),F.empty(),-1)}static max(){return new Jn(q.max(),F.empty(),-1)}}function bb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:oe(n.largestBatchId,e.largestBatchId))}const LF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function co(n){return wb.apply(this,arguments)}function wb(){return wb=T(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==LF)throw n;R("LocalStore","Unexpectedly lost primary lease")}),wb.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,t){return new I((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function lo(n){return"IndexedDbTransactionError"===n.name}let Zn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function kl(n){return null==n}function Nl(n){return 0===n&&1/n==-1/0}function qF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class He{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Up(this.root,e,this.comparator,!1)}getReverseIterator(){return new Up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Up(this.root,e,this.comparator,!0)}}class Up{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new tn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,o){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QF(this.data.getIterator())}getIteratorFrom(e){return new QF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ve(this.comparator);return t.data=e,t}}class QF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new On([])}unionWith(e){let t=new Ve(Ze.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YF("Invalid base64 string: "+o):o}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const ote=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(n){if(z(!!n),"string"==typeof n){let e=0;const t=ote.exec(n);if(z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mi(n){return"string"==typeof n?Bt.fromBase64String(n):Bt.fromUint8Array(n)}function jp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $p(n){const e=n.mapValue.fields.__previous_value__;return jp(e)?$p(e):e}function Ol(n){const e=fo(n.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}class ste{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class hs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hs&&e.projectId===this.projectId&&e.database===this.database}}const po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:eV(n)?9007199254740991:10:$()}function Jr(n,e){if(n===e)return!0;const t=go(n);if(t!==go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fo(i.timestampValue),a=fo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Mi(n.bytesValue).isEqual(Mi(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return dt(i.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dt(i.integerValue)===dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=dt(i.doubleValue),a=dt(o.doubleValue);return s===a?Nl(s)===Nl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return qa(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qF(s)!==qF(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Jr(s[u],a[u])))return!1;return!0}(n,e);default:return $()}var o}function Fl(n,e){return void 0!==(n.values||[]).find(t=>Jr(t,e))}function mo(n,e){if(n===e)return 0;const t=go(n),r=go(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=dt(o.integerValue||o.doubleValue),u=dt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return XF(n.timestampValue,e.timestampValue);case 4:return XF(Ol(n),Ol(e));case 5:return oe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Mi(o),u=Mi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=oe(a[c],u[c]);if(0!==l)return l}return oe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=oe(dt(o.latitude),dt(s.latitude));return 0!==a?a:oe(dt(o.longitude),dt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=mo(a[c],u[c]);if(l)return l}return oe(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===po.mapValue&&s===po.mapValue)return 0;if(o===po.mapValue)return 1;if(s===po.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=oe(u[d],l[d]);if(0!==h)return h;const f=mo(a[u[d]],c[l[d]]);if(0!==f)return f}return oe(u.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function XF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return oe(n,e);const t=fo(n),r=fo(e),i=oe(t.seconds,r.seconds);return 0!==i?i:oe(t.nanos,r.nanos)}function Xa(n){return Db(n)}function Db(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=fo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mi(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Db(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Db(t.fields[s])}`;return i+"}"}(n.mapValue):$()}function fs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ab(n){return!!n&&"integerValue"in n}function Vl(n){return!!n&&"arrayValue"in n}function JF(n){return!!n&&"nullValue"in n}function ZF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zp(n){return!!n&&"mapValue"in n}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ll(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=Ze.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ll(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ho(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(Ll(this.value))}}function rV(n){const e=[];return ho(n.fields,(t,r)=>{const i=new Ze([t]);if(zp(r)){const o=rV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}class Ye{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ye(e,0,q.min(),q.min(),q.min(),nn.empty(),0)}static newFoundDocument(e,t,r,i){return new Ye(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new Ye(e,2,t,q.min(),q.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new Ye(e,3,t,q.min(),q.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _o{constructor(e,t){this.position=e,this.inclusive=t}}function iV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?F.comparator(F.fromName(s.referenceValue),t.key):mo(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function oV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}class Bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function cte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class sV{}class Ie extends sV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lte(e,t,r):"array-contains"===t?new fte(e,r):"in"===t?new hV(e,r):"not-in"===t?new pte(e,r):"array-contains-any"===t?new gte(e,r):new Ie(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new dte(e,r):new hte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mo(t,this.value)):null!==t&&go(this.value)===go(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends sV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Fe(e,t)}matches(e){return Ja(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ja(n){return"and"===n.op}function xb(n){return function aV(n){for(const e of n.filters)if(e instanceof Fe)return!1;return!0}(n)&&Ja(n)}function Rb(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(xb(n))return n.filters.map(e=>Rb(e)).join(",");{const e=n.filters.map(t=>Rb(t)).join(",");return`${n.op}(${e})`}}function uV(n,e){return n instanceof Ie?(r=n,(i=e)instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)):n instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&uV(s,i.filters[a]),!0)}(n,e):void $();var r,i}function lV(n){return n instanceof Ie?`${(t=n).field.canonicalString()} ${t.op} ${Xa(t.value)}`:n instanceof Fe?function(t){return t.op.toString()+" {"+t.getFilters().map(lV).join(" ,")+"}"}(n):"Filter";var t}class lte extends Ie{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class dte extends Ie{constructor(e,t){super(e,"in",t),this.keys=dV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hte extends Ie{constructor(e,t){super(e,"not-in",t),this.keys=dV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class fte extends Ie{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vl(t)&&Fl(t.arrayValue,this.value)}}class hV extends Ie{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fl(this.value.arrayValue,t)}}class pte extends Ie{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fl(this.value.arrayValue,t)}}class gte extends Ie{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}class mte{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Mb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new mte(n,e,t,r,i,o,s)}function ps(n){const e=O(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),kl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xa(r)).join(",")),e.ce=t}return e.ce}function Ul(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oV(n.startAt,e.startAt)&&oV(n.endAt,e.endAt)}function Wp(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Za(n){return new Pi(n)}function mV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pb(n){return null!==n.collectionGroup}function eu(n){const e=O(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ve(Ze.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Bl(o,r))}),t.has(Ze.keyField().canonicalString())||e.le.push(new Bl(Ze.keyField(),r))}return e.le}function An(n){const e=O(n);return e.he||(e.he=function _V(n,e){if("F"===n.limitType)return Mb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Bl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new _o(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _o(n.startAt.position,n.startAt.inclusive):null;return Mb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,eu(n))),e.he}function kb(n,e){const t=n.filters.concat([e]);return new Pi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kp(n,e,t){return new Pi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jl(n,e){return Ul(An(n),An(e))&&n.limitType===e.limitType}function yV(n){return`${ps(An(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lV(i)).join(", ")}]`),kl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Xa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Xa(i)).join(",")),`Target(${r})`}(An(n))}; limitType=${n.limitType})`}function $l(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):F.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of eu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=iV(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,eu(r),i)||r.endAt&&!function(s,a,u){const c=iV(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,eu(r),i)));var r,i}function EV(n){return(e,t)=>{let r=!1;for(const i of eu(n)){const o=_te(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function _te(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?mo(u,c):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class ki{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KF(this.inner)}size(){return this.innerSize}}const yte=new He(F.comparator);function Fn(){return yte}const IV=new He(F.comparator);function Hl(...n){let e=IV;for(const t of n)e=e.insert(t.key,t);return e}function bV(n){let e=IV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zr(){return Gl()}function wV(){return Gl()}function Gl(){return new ki(n=>n.toString(),(n,e)=>n.isEqual(e))}const vte=new He(F.comparator),Ete=new Ve(F.comparator);function fe(...n){let e=Ete;for(const t of n)e=e.add(t);return e}const Ite=new Ve(oe);function TV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function CV(n){return{integerValue:""+n}}function DV(n,e){return function UF(n){return"number"==typeof n&&Number.isInteger(n)&&!Nl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?CV(e):TV(n,e)}class Qp{constructor(){this._=void 0}}function bte(n,e,t){return n instanceof nu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jp(o)&&(o=$p(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof gs?SV(n,e):n instanceof ms?xV(n,e):function(i,o){const s=AV(i,o),a=RV(s)+RV(i.Ie);return Ab(s)&&Ab(i.Ie)?CV(a):TV(i.serializer,a)}(n,e)}function wte(n,e,t){return n instanceof gs?SV(n,e):n instanceof ms?xV(n,e):t}function AV(n,e){return n instanceof ru?Ab(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class nu extends Qp{}class gs extends Qp{constructor(e){super(),this.elements=e}}function SV(n,e){const t=MV(e);for(const r of n.elements)t.some(i=>Jr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ms extends Qp{constructor(e){super(),this.elements=e}}function xV(n,e){let t=MV(e);for(const r of n.elements)t=t.filter(i=>!Jr(i,r));return{arrayValue:{values:t}}}class ru extends Qp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function RV(n){return dt(n.integerValue||n.doubleValue)}function MV(n){return Vl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cte{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xp{}function PV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ou(n.key,et.none()):new iu(n.key,n.data,et.none());{const t=n.data,r=nn.empty();let i=new Ve(Ze.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ni(n.key,r,new On(i.toArray()),et.none())}}function Dte(n,e,t){n instanceof iu?function(i,o,s){const a=i.value.clone(),u=OV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ni?function(i,o,s){if(!Yp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=OV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wl(n,e,t,r){return n instanceof iu?function(o,s,a,u){if(!Yp(o.precondition,s))return a;const c=o.value.clone(),l=FV(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ni?function(o,s,a,u){if(!Yp(o.precondition,s))return a;const c=FV(o.fieldTransforms,u,s),l=s.data;return l.setAll(NV(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Yp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Ate(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=AV(r.transform,i||null);null!=o&&(null===t&&(t=nn.empty()),t.set(r.field,o))}return t||null}function kV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&qa(r,i,(o,s)=>function Tte(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof gs&&i instanceof gs||r instanceof ms&&i instanceof ms?qa(r.elements,i.elements,Jr):r instanceof ru&&i instanceof ru?Jr(r.Ie,i.Ie):r instanceof nu&&i instanceof nu);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class iu extends Xp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Xp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OV(n,e,t){const r=new Map;z(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wte(s,a,t[i]))}return r}function FV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,bte(o,s,e))}return r}class ou extends Xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ob extends Xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Dte(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=PV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(t,r)=>kV(t,r))&&qa(this.baseMutations,e.baseMutations,(t,r)=>kV(t,r))}}class Vb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){z(e.mutations.length===r.length);let i=vte;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Vb(e,t,r,i)}}class Lb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xte{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rt,De;function LV(n){if(void 0===n)return vt("GRPC error has no .code"),w.UNKNOWN;switch(n){case Rt.OK:return w.OK;case Rt.CANCELLED:return w.CANCELLED;case Rt.UNKNOWN:return w.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return w.INTERNAL;case Rt.UNAVAILABLE:return w.UNAVAILABLE;case Rt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Rt.NOT_FOUND:return w.NOT_FOUND;case Rt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Rt.ABORTED:return w.ABORTED;case Rt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Rt.DATA_LOSS:return w.DATA_LOSS;default:return $()}}(De=Rt||(Rt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";const Rte=new Ga([4294967295,4294967295],0);function UV(n){const e=function BV(){return new TextEncoder}().encode(n),t=new Cee;return t.update(e),new Uint8Array(t.digest())}function jV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ga([t,r],0),new Ga([i,o],0)]}class Bb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ql(`Invalid padding: ${t}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ql(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ql(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ga.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ga.fromNumber(r)));return 1===i.compare(Rte)&&(i=new Ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=UV(e),[r,i]=jV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Bb(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=UV(e),[r,i]=jV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kl{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kl(q.min(),i,new He(oe),Fn(),fe())}}class Ql{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ql(r,t,fe(),fe(),fe())}}class Zp{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class $V{constructor(e,t){this.targetId=e,this.fe=t}}class HV{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class GV{constructor(){this.ge=0,this.pe=WV(),this.ye=Bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fe(),t=fe(),r=fe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Ql(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=WV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,z(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Mte{constructor(e){this.Le=e,this.ke=new Map,this.qe=Fn(),this.Qe=zV(),this.Ke=new He(oe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const o=i.target;if(Wp(o))if(0===r){const s=new F(o.path);this.We(t,s,Ye.newNoDocument(s,q.min()))}else z(1===r);else{const s=this.Ze(t);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Mi(r).toUint8Array()}catch(u){if(u instanceof YF)return Xn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bb(s,i,o)}catch(u){return Xn(u instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Wp(a.target)){const u=new F(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,Ye.newNoDocument(u,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let r=fe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Kl(e,t,this.Ke,this.qe,r);return this.qe=Fn(),this.Qe=zV(),this.Ke=new He(oe),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new GV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ve(oe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new GV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zV(){return new He(F.comparator)}function WV(){return new He(F.comparator)}const Pte={asc:"ASCENDING",desc:"DESCENDING"},kte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nte={and:"AND",or:"OR"};class Ote{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ub(n,e){return n.useProto3Json||kl(e)?e:{value:e}}function su(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Fte(n,e){return su(n,e.toTimestamp())}function Et(n){return z(!!n),q.fromTimestamp(function(t){const r=fo(t);return new ot(r.seconds,r.nanos)}(n))}function jb(n,e){return(r=n,new Ce(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function KV(n){const e=Ce.fromString(n);return z(r2(e)),e}function Yl(n,e){return jb(n.databaseId,e.path)}function ei(n,e){const t=KV(e);if(t.get(1)!==n.databaseId.projectId)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(YV(t))}function $b(n,e){return jb(n.databaseId,e)}function Xl(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YV(n){return z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XV(n,e,t){return{name:Yl(n,e),fields:t.value.mapValue.fields}}function ZV(n,e){return{documents:[$b(n,e.path)]}}function Gb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=$b(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$b(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return n2(Fe.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:yo((d=c).field),direction:jte(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=Ub(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function e2(n){let e=function QV(n){const e=KV(n);return 4===e.length?Ce.emptyPath():YV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){z(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];t.where&&(o=function(d){const h=t2(d);return h instanceof Fe&&xb(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new Bl(au((p=h).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,kl(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new _o((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new _o(d.values||[],!d.before)}(t.endAt)),function gV(n,e,t,r,i,o,s,a){return new Pi(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function t2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=au(t.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(t.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=au(t.unaryFilter.field);return Ie.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=au(t.unaryFilter.field);return Ie.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ie.create(au((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Fe.create(t.compositeFilter.filters.map(r=>t2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function jte(n){return Pte[n]}function $te(n){return kte[n]}function Hte(n){return Nte[n]}function yo(n){return{fieldPath:n.canonicalString()}}function au(n){return Ze.fromServerFormat(n.fieldPath)}function n2(n){return n instanceof Ie?function(t){if("=="===t.op){if(ZF(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(JF(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ZF(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(JF(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:$te(t.op),value:t.value}}}(n):n instanceof Fe?function(t){const r=t.getFilters().map(i=>n2(i));return 1===r.length?r[0]:{compositeFilter:{op:Hte(t.op),filters:r}}}(n):$()}function Gte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function r2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oi{constructor(e,t,r,i,o=q.min(),s=q.min(),a=Bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o2{constructor(e){this.ut=e}}function zb(n){const e=e2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kp(e,e.limit,"L"):e}class Es{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Nl(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Mi(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?eV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):$()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),F.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Es.St=new Es;class Jte{constructor(){this.on=new Xb}addToCollectionParentIndex(e,t){return this.on.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(Jn.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class Xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ve(Ce.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ce.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class bs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new bs(0)}static Nn(){return new bs(-1)}}class ine{constructor(){this.changes=new ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ane{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Wl(r.mutation,i,On.empty(),ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){const i=Zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Hl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Fn();const s=Gl(),a=Gl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Wl(l.mutation,c,l.mutation.getFieldMask(),ot.now())):s.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new ane(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Gl();let i=new He((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||On.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=wV();l.forEach(h=>{if(!o.has(h)){const f=PV(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return F.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):I.resolve(Zr());let a=-1,u=o;return s.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,fe())).next(l=>({batchId:a,changes:bV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=Hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Hl();return this.indexManager.getCollectionParents(e,o).next(a=>I.forEach(a,u=>{const c=(d=t,h=u.child(o),new Pi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Ye.newInvalidDocument(l)))});let a=Hl();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Wl(l.mutation,c,On.empty(),ot.now()),$l(t,c)&&(a=a.insert(u,c))}),a})}}class une{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return I.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Et(i.createTime)}),I.resolve();var i}getNamedQuery(e,t){return I.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:zb(i.bundledQuery),readTime:Et(i.readTime)}),I.resolve();var i}}class cne{constructor(){this.overlays=new He(F.comparator),this.lr=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zr();return I.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.lt(e,t,o)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=Zr(),o=t.length+1,s=new F(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Zr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Zr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Lb(t,r));let o=this.lr.get(t);void 0===o&&(o=fe(),this.lr.set(t,o)),this.lr.set(t,o.add(r.key))}}class Jb{constructor(){this.hr=new Ve(Wt.Pr),this.Ir=new Ve(Wt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Wt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new F(new Ce([])),r=new Wt(t,e),i=new Wt(t,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new F(new Ce([])),r=new Wt(t,e),i=new Wt(t,e+1);let o=fe();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Wt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return F.comparator(e.key,t.key)||oe(e.gr,t.gr)}static Tr(e,t){return oe(e.gr,t.gr)||F.comparator(e.key,t.key)}}class lne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ve(Wt.Pr)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.pr;this.pr++;const s=new Fb(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(s)}lookupMutationBatch(e,t){return I.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),o=i<0?0:i;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),i=new Wt(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(oe);return t.forEach(i=>{const o=new Wt(i,0),s=new Wt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Wt(new F(o),0);let a=new Ve(oe);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),I.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){z(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return I.forEach(t.mutations,i=>{const o=new Wt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Wt(t,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dne{constructor(e){this.Cr=e,this.docs=new He(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(t))}getEntries(e,t){let r=Fn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ye.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Fn();const s=t.path,a=new F(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||bb(VF(l),r)<=0||(i.has(l.key)||$l(t,l))&&(o=o.insert(l.key,l.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$()}vr(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hne(this)}getSize(e){return I.resolve(this.size)}}class hne extends ine{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class fne{constructor(e){this.persistence=e,this.Fr=new ki(t=>ps(t),Ul),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Jb,this.targetCount=0,this.Nr=bs.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),I.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new bs(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.kn(t),I.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(o).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Or.containsKey(t))}}class Zb{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Zn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new fne(this),this.indexManager=new Jte,this.remoteDocumentCache=new dne(r=>this.referenceDelegate.Qr(r)),this.serializer=new o2(t),this.Kr=new une(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new lne(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new pne(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,t){return I.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class pne extends Fee{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Gr=new Jb,this.zr=null}static jr(e){return new ag(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),I.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{const i=F.fromPath(r);return this.Jr(e,i).next(o=>{o||t.removeEntry(i,q.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return I.or([()=>I.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class rw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=fe(),i=fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rw(e,t.fromCache,r,i)}}class mne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new mne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Wa()<=Ee.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(Wa()<=Ee.DEBUG&&R("QueryEngine","Query:",tu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Wa()<=Ee.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):I.resolve())}zi(e,t){if(mV(t))return I.resolve(null);let r=An(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Kp(t,null,"F"),r=An(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,s,u.readTime)?this.zi(e,Kp(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return mV(t)||i.isEqual(q.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,r,i)?I.resolve(null):(Wa()<=Ee.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(t)),this.Xi(e,s,t,function FF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new ot(t+1,0):new ot(t,r));return new Jn(i,F.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new Ve(EV(e));return t.forEach((i,o)=>{$l(e,o)&&(r=r.add(o))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,t,r){return Wa()<=Ee.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",tu(t)),this.Gi.getDocumentsMatchingQuery(e,t,Jn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class _ne{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new He(oe),this.ns=new ki(o=>ps(o),Ul),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function F2(n,e){return iw.apply(this,arguments)}function iw(){return iw=T(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=fe();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),iw.apply(this,arguments)}function V2(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Ene(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fu(n,e,t){return ow.apply(this,arguments)}function ow(){return ow=T(function*(n,e,t){const r=O(n),i=r.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lo(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),ow.apply(this,arguments)}function lg(n,e,t){const r=O(n);let i=q.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=O(u),h=d.ns.get(l);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?i:q.min(),t?o:fe())).next(a=>(function j2(n,e,t){let r=n.rs.get(e)||q.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.rs.set(e,r)}(r,function vV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class lw{constructor(){this.activeTargetIds=function Nb(){return Ite}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G2{constructor(){this.eo=new lw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new lw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wne{ro(e){}shutdown(){}}class z2{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fg=null;function hw(){return null===fg?fg=268435456+Math.round(2147483648*Math.random()):fg++,"0x"+fg.toString(16)}const Tne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cne{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const _n="WebChannelConnection";class Dne extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(t,r,i,o,s){const a=hw(),u=this.So(t,r);R("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,u,c,i).then(l=>(R("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Xn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(t,r,i,o,s,a){return this.wo(t,r,i,o,s)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+za,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}So(t,r){return`${this.mo}/v1/${r}:${Tne[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const o=hw();return new Promise((s,a)=>{const u=new Tee;u.setWithCredentials(!0),u.listenOnce(bee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vb.NO_ERROR:const l=u.getResponseJson();R(_n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case vb.TIMEOUT:R(_n,`RPC '${e}' ${o} timed out`),a(new M(w.DEADLINE_EXCEEDED,"Request time out"));break;case vb.HTTP_ERROR:const d=u.getStatus();if(R(_n,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(b)>=0?b:w.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(w.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{R(_n,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);R(_n,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}vo(e,t,r){const i=hw(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Eee(),a=Iee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=o.join("");R(_n,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Cne({co:y=>{f?R(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(R(_n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(_n,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),_=(y,b,C)=>{y.listen(b,E=>{try{C(E)}catch(P){setTimeout(()=>{throw P},0)}})};return _(d,Vp.EventType.OPEN,()=>{f||R(_n,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Vp.EventType.CLOSE,()=>{f||(f=!0,R(_n,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),_(d,Vp.EventType.ERROR,y=>{f||(f=!0,Xn(_n,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new M(w.UNAVAILABLE,"The operation could not be completed")))}),_(d,Vp.EventType.MESSAGE,y=>{var b;if(!f){const C=y.data[0];z(!!C);const P=C.error||(null===(b=C[0])||void 0===b?void 0:b.error);if(P){R(_n,`RPC '${e}' stream ${i} received error:`,P);const G=P.status;let Y=function(gd){const kg=Rt[gd];if(void 0!==kg)return LV(kg)}(G),st=P.message;void 0===Y&&(Y=w.INTERNAL,st="Unknown error status: "+G+" with message "+P.message),f=!0,p.Ro(new M(Y,st)),d.close()}else R(_n,`RPC '${e}' stream ${i} received:`,C),p.Vo(C)}}),_(a,wee.STAT_EVENT,y=>{y.stat===RF.PROXY?R(_n,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===RF.NOPROXY&&R(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function pg(){return typeof document<"u"?document:null}function sd(n){return new Ote(n,!0)}class fw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class q2{constructor(e,t,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fw(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return T(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return T(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return T(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(vt(t.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new M(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(T(function*(){e.state=0,e.start()}))}o_(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ane extends q2{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Lte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(z(void 0===l||"string"==typeof l),Bt.fromBase64String(l||"")):(z(void 0===l||l instanceof Uint8Array),Bt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?w.UNKNOWN:LV(c.code);return new M(l,c.message||"")}(s);t=new HV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ei(n,r.document.name),o=Et(r.document.updateTime),s=r.document.createTime?Et(r.document.createTime):q.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Ye.newFoundDocument(i,o,s,a);t=new Zp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ei(n,r.document),o=r.readTime?Et(r.readTime):q.min(),s=Ye.newNoDocument(i,o);t=new Zp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ei(n,r.document);t=new Zp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new xte(i,o);t=new $V(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return q.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Et(s.readTime):q.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Xl(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=Wp(u)?{documents:ZV(o,u)}:{query:Gb(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qV(o,s.resumeToken);const c=Ub(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(q.min())>0){a.readTime=su(o,s.snapshotVersion.toTimestamp());const c=Ub(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Ute(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Xl(this.serializer),t.removeTarget=e,this.e_(t)}}class Sne extends q2{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Bte(n,e){return n&&n.length>0?(z(void 0!==e),n.map(t=>function(i,o){let s=Et(i.updateTime?i.updateTime:o);return s.isEqual(q.min())&&(s=Et(o)),new Cte(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.I_(r,t)}return z(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xl(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Jl(n,e){let t;if(e instanceof iu)t={update:XV(n,e.key,e.value)};else if(e instanceof ou)t={delete:Yl(n,e.key)};else if(e instanceof Ni)t={update:XV(n,e.key,e.data),updateMask:Gte(e.fieldMask)};else{if(!(e instanceof Ob))return $();t={verify:Yl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Fte(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$()),t;var o}(this.serializer,r))};this.e_(t)}}class xne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(w.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(w.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Mne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vt(t),this.f_=!1):R("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Pne{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(T(function*(){var u;bo(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(u=T(function*(l){const d=O(l);d.C_.add(4),yield pu(d),d.M_.set("Unknown"),d.C_.delete(4),yield ad(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new Mne(r,i)}}function ad(n){return gw.apply(this,arguments)}function gw(){return gw=T(function*(n){if(bo(n))for(const e of n.v_)yield e(!0)}),gw.apply(this,arguments)}function pu(n){return mw.apply(this,arguments)}function mw(){return mw=T(function*(n){for(const e of n.v_)yield e(!1)}),mw.apply(this,arguments)}function gg(n,e){const t=O(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),vw(t)?yw(t):mu(t).Ho()&&_w(t,e))}function ud(n,e){const t=O(n),r=mu(t);t.D_.delete(e),r.Ho()&&K2(t,e),0===t.D_.size&&(r.Ho()?r.Zo():bo(t)&&t.M_.set("Unknown"))}function _w(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mu(n).u_(e)}function K2(n,e){n.x_.Oe(e),mu(n).c_(e)}function yw(n){n.x_=new Mte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),mu(n).start(),n.M_.g_()}function vw(n){return bo(n)&&!mu(n).jo()&&n.D_.size>0}function bo(n){return 0===O(n).C_.size}function Q2(n){n.x_=void 0}function kne(n){return Ew.apply(this,arguments)}function Ew(){return Ew=T(function*(n){n.D_.forEach((e,t)=>{_w(n,e)})}),Ew.apply(this,arguments)}function Nne(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=T(function*(n,e){Q2(n),vw(n)?(n.M_.w_(e),yw(n)):n.M_.set("Unknown")}),Iw.apply(this,arguments)}function One(n,e,t){return bw.apply(this,arguments)}function bw(){return bw=T(function*(n,e,t){if(n.M_.set("Online"),e instanceof HV&&2===e.state&&e.cause)try{yield(r=T(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mg(n,r)}else if(e instanceof Zp?n.x_.$e(e):e instanceof $V?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(q.min()))try{const r=yield V2(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(Bt.EMPTY_BYTE_STRING,l.snapshotVersion)),K2(o,u);const d=new Oi(l.target,u,c,l.sequenceNumber);_w(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield mg(n,r)}var r}),bw.apply(this,arguments)}function mg(n,e,t){return ww.apply(this,arguments)}function ww(){return ww=T(function*(n,e,t){if(!lo(e))throw e;n.C_.add(1),yield pu(n),n.M_.set("Offline"),t||(t=()=>V2(n.localStore)),n.asyncQueue.enqueueRetryable(T(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield ad(n)}))}),ww.apply(this,arguments)}function Y2(n,e){return e().catch(t=>mg(n,t,e))}function gu(n){return Tw.apply(this,arguments)}function Tw(){return Tw=T(function*(n){const e=O(n),t=wo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Fne(e);)try{const i=yield Ene(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Vne(e,i)}catch(i){yield mg(e,i)}X2(e)&&J2(e)}),Tw.apply(this,arguments)}function Fne(n){return bo(n)&&n.b_.length<10}function Vne(n,e){n.b_.push(e);const t=wo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function X2(n){return bo(n)&&!wo(n).jo()&&n.b_.length>0}function J2(n){wo(n).start()}function Lne(n){return Cw.apply(this,arguments)}function Cw(){return Cw=T(function*(n){wo(n).E_()}),Cw.apply(this,arguments)}function Bne(n){return Dw.apply(this,arguments)}function Dw(){return Dw=T(function*(n){const e=wo(n);for(const t of n.b_)e.P_(t.mutations)}),Dw.apply(this,arguments)}function Une(n,e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=T(function*(n,e,t){const r=n.b_.shift(),i=Vb.from(r,e,t);yield Y2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gu(n)}),Aw.apply(this,arguments)}function jne(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=T(function*(n,e){var t;e&&wo(n).h_&&(yield(t=T(function*(i,o){if(function VV(n){switch(n){default:return $();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(a=o.code)&&a!==w.ABORTED){const s=i.b_.shift();wo(i).Yo(),yield Y2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield gu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),X2(n)&&J2(n)}),Sw.apply(this,arguments)}function Z2(n,e){return xw.apply(this,arguments)}function xw(){return xw=T(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=bo(t);t.C_.add(3),yield pu(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield ad(t)}),xw.apply(this,arguments)}function Mw(){return Mw=T(function*(n,e){const t=O(n);e?(t.C_.delete(2),yield ad(t)):e||(t.C_.add(2),yield pu(t),t.M_.set("Unknown"))}),Mw.apply(this,arguments)}function mu(n){return n.O_||(n.O_=function(t,r,i){const o=O(t);return o.A_(),new Ane(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:kne.bind(null,n),Io:Nne.bind(null,n),a_:One.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.O_.Yo(),vw(n)?yw(n):n.M_.set("Unknown")):(yield n.O_.stop(),Q2(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function wo(n){return n.N_||(n.N_=function(t,r,i){const o=O(t);return o.A_(),new Sne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:Lne.bind(null,n),Io:jne.bind(null,n),T_:Bne.bind(null,n),I_:Une.bind(null,n)}),n.v_.push(function(){var e=T(function*(t){t?(n.N_.Yo(),yield gu(n)):(yield n.N_.stop(),n.b_.length>0&&(R("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class Pw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new Pw(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(n,e){if(vt("AsyncQueue",`${e}: ${n}`),lo(n))return new M(w.UNAVAILABLE,`${e}: ${n}`);throw n}class yu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=Hl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eL{constructor(){this.B_=new He(F.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):$():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class vu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new vu(e,t,yu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class $ne{constructor(){this.k_=void 0,this.listeners=[]}}class Hne{constructor(){this.queries=new ki(e=>yV(e),jl),this.onlineState="Unknown",this.q_=new Set}}function kw(n,e){return Nw.apply(this,arguments)}function Nw(){return Nw=T(function*(n,e){const t=O(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new $ne),i)try{o.k_=yield t.onListen(r)}catch(s){const a=_u(s,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&Vw(t)}),Nw.apply(this,arguments)}function Ow(n,e){return Fw.apply(this,arguments)}function Fw(){return Fw=T(function*(n,e){const t=O(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Fw.apply(this,arguments)}function Gne(n,e){const t=O(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&Vw(t)}function zne(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function Vw(n){n.q_.forEach(e=>{e.next()})}class Lw{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class rL{constructor(e){this.key=e}}class iL{constructor(e){this.key=e}}class oL{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=fe(),this.mutatedKeys=fe(),this._a=EV(e),this.aa=new yu(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new eL,i=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=$l(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=_?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,d)=>function(f,p){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return _(f)-_(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=t&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==s.length||c?{snapshot:new vu(this.query,e.aa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new eL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=fe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new iL(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new rL(r))}),t}da(e){this.ia=e.ls,this.oa=fe();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return vu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Kne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Qne{constructor(e){this.key=e,this.Ra=!1}}class Yne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ki(a=>yV(a),jl),this.fa=new Map,this.ga=new Set,this.pa=new He(F.comparator),this.ya=new Map,this.wa=new Jb,this.Sa={},this.ba=new Map,this.Da=bs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Xne(n,e){return Bw.apply(this,arguments)}function Bw(){return Bw=T(function*(n,e){const t=function uT(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ere.bind(null,e),e.Va.a_=Gne.bind(null,e.eventManager),e.Va.Fa=zne.bind(null,e.eventManager),e}(n);let r,i;const o=t.ma.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function hu(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(o=>o?(i=o,I.resolve(i)):t.qr.allocateTargetId(r).next(s=>(i=new Oi(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,An(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function Uw(n,e,t,r,i){return jw.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&gg(t.remoteStore,s)}return i}),Bw.apply(this,arguments)}function jw(){return jw=T(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=T(function*(y,b,C,E){let P=b.view.ca(C);P.Zi&&(P=yield lg(y.localStore,b.query,!1).then(({documents:Vn})=>b.view.ca(Vn,P)));const G=E&&E.targetChanges.get(b.targetId),Y=E&&null!=E.targetMismatches.get(b.targetId),st=b.view.applyChanges(P,y.isPrimaryClient,G,Y);return Xw(y,b.targetId,st.Ta),st.snapshot}),function _(y,b,C,E){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield lg(n.localStore,e,!0),s=new oL(e,o.ls),a=s.ca(o.documents),u=Ql.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);Xw(n,t,c.Ta);const l=new Kne(e,t,s);return n.ma.set(e,l),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),jw.apply(this,arguments)}function Jne(n,e){return $w.apply(this,arguments)}function $w(){return $w=T(function*(n,e){const t=O(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(o=>!jl(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield fu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ud(t.remoteStore,r.targetId),Eu(t,r.targetId)}).catch(co))):(Eu(t,r.targetId),yield fu(t.localStore,r.targetId,!0))}),$w.apply(this,arguments)}function Hw(){return Hw=T(function*(n,e,t){const r=function cT(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nre.bind(null,e),e}(n);try{const i=yield function(s,a){const u=O(s),c=ot.now(),l=a.reduce((f,p)=>f.add(p.key),fe());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Fn(),_=fe();return u.ss.getEntries(f,l).next(y=>{p=y,p.forEach((b,C)=>{C.isValidDocument()||(_=_.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(y=>{d=y;const b=[];for(const C of a){const E=Ate(C,d.get(C.key).overlayedDocument);null!=E&&b.push(new Ni(C.key,E,rV(E.value.mapValue),et.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(d,_);return u.documentOverlayCache.saveOverlays(f,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:bV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new He(oe)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Fi(r,i.changes),yield gu(r.remoteStore)}catch(i){const o=_u(i,"Failed to persist write");t.reject(o)}}),Hw.apply(this,arguments)}function sL(n,e){return Gw.apply(this,arguments)}function Gw(){return Gw=T(function*(n,e){const t=O(n);try{const r=yield function vne(n,e){const t=O(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var _,y,b;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Bt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,b=l,(0===(_=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,f))});let u=Fn(),c=fe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function L2(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Fn();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(q.min())){const l=t.qr.getLastRemoteSnapshotVersion(o).next(d=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ts=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.ya.get(o);s&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?z(s.Ra):i.removedDocuments.size>0&&(z(s.Ra),s.Ra=!1))}),yield Fi(t,r,e)}catch(r){yield co(r)}}),Gw.apply(this,arguments)}function aL(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=O(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&Vw(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ere(n,e,t){return zw.apply(this,arguments)}function zw(){return zw=T(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new He(F.comparator);s=s.insert(o,Ye.newNoDocument(o,q.min()));const a=fe().add(o),u=new Kl(q.min(),new Map,new He(oe),s,a);yield sL(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),Jw(r)}else yield fu(r.localStore,e,!1).then(()=>Eu(r,e,t)).catch(co)}),zw.apply(this,arguments)}function tre(n,e){return Ww.apply(this,arguments)}function Ww(){return Ww=T(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield function yne(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(_=>{const y=c.docVersions.get(p);z(null!==y),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),l.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Yw(t,r,null),Qw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fi(t,i)}catch(i){yield co(i)}}),Ww.apply(this,arguments)}function nre(n,e,t){return qw.apply(this,arguments)}function qw(){return qw=T(function*(n,e,t){const r=O(n);try{const i=yield function(s,a){const u=O(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(z(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);Yw(r,e,t),Qw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fi(r,i)}catch(i){yield co(i)}}),qw.apply(this,arguments)}function Qw(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function Yw(n,e,t){const r=O(n);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Eu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||uL(n,r)})}function uL(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(ud(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),Jw(n))}function Xw(n,e,t){for(const r of t)r instanceof rL?(n.wa.addReference(r.key,e),ire(n,r)):r instanceof iL?(R("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||uL(n,r.key)):$()}function ire(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(R("SyncEngine","New document in limbo: "+t),n.ga.add(r),Jw(n))}function Jw(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new F(Ce.fromString(e)),r=n.Da.next();n.ya.set(r,new Qne(t)),n.pa=n.pa.insert(t,r),gg(n.remoteStore,new Oi(An(Za(t.path)),r,"TargetPurposeLimboResolution",Zn._e))}}function Fi(n,e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=T(function*(n,e,t){const r=O(n),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=rw.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=T(function*(c,l){const d=O(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!lo(h))throw h;R("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,y)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),Zw.apply(this,arguments)}function ore(n,e){return eT.apply(this,arguments)}function eT(){return eT=T(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield F2(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new M(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fi(t,r._s)}var o}),eT.apply(this,arguments)}function sre(n,e){const t=O(n),r=t.ya.get(e);if(r&&r.Ra)return fe().add(r.key);{let i=fe();const o=t.fa.get(e);if(!o)return i;for(const s of o){const a=t.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class _g{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return T(function*(){t.serializer=sd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function O2(n,e,t,r){return new _ne(n,e,t,r)}(this.persistence,new N2,e.initialUser,this.serializer)}createPersistence(e){return new Zb(ag.jr,this.serializer)}createSharedClientState(e){return new G2}terminate(){var e=this;return T(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iu{initialize(e,t){var r=this;return T(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>aL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ore.bind(null,r.syncEngine),yield function Rw(n,e){return Mw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hne}createDatastore(e){const t=sd(e.databaseInfo.databaseId),r=new Dne(e.databaseInfo);return new xne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>aL(this.syncEngine,t,0),a=z2.D()?new z2:new wne,new Pne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,l){const d=new Yne(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=T(function*(r){const i=O(r);R("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield pu(i),i.F_.shutdown(),i.M_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vre{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=NF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=T(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return T(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(T(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_u(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function vg(n,e){return lT.apply(this,arguments)}function lT(){return lT=T(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=T(function*(o){r.isEqual(o)||(yield F2(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lT.apply(this,arguments)}function dT(n,e){return hT.apply(this,arguments)}function hT(){return hT=T(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function fT(n){return pT.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Z2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Z2(e.remoteStore,o)),n._onlineComponents=e}),hT.apply(this,arguments)}function pT(){return pT=T(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function pL(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Xn("Error using user provided cache. Falling back to memory cache: "+t),yield vg(n,new _g)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield vg(n,new _g);return n._offlineComponents}),pT.apply(this,arguments)}function Eg(n){return gT.apply(this,arguments)}function gT(){return gT=T(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield dT(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield dT(n,new Iu))),n._onlineComponents}),gT.apply(this,arguments)}function wu(n){return _T.apply(this,arguments)}function _T(){return _T=T(function*(n){const e=yield Eg(n),t=e.eventManager;return t.onListen=Xne.bind(null,e.syncEngine),t.onUnlisten=Jne.bind(null,e.syncEngine),t}),_T.apply(this,arguments)}function EL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const IL=new Map;function yT(n,e,t){if(!t)throw new M(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bL(n){if(!F.isDocumentKey(n))throw new M(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wL(n){if(F.isDocumentKey(n))throw new M(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ig(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function be(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ig(n);throw new M(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class CL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Rre(n,e,t,r){if(!0===e&&!0===r)throw new M(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=EL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Dee;switch(r.type){case"firstParty":return new Ree(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=IL.get(t);r&&(R("ComponentProvider","Removing Datastore"),IL.delete(t),r.terminate())}(this),Promise.resolve()}}class rn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rn(this.firestore,e,this._query)}}class It{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class ti extends rn{constructor(e,t,r){super(e,t,Za(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new F(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function Pre(n,e,...t){if(n=zr(n),yT("collection","path",e),n instanceof cd){const r=Ce.fromString(e,...t);return wL(r),new ti(n,null,r)}{if(!(n instanceof It||n instanceof ti))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return wL(r),new ti(n.firestore,null,r)}}function DL(n,e,...t){if(n=zr(n),1===arguments.length&&(e=NF.newId()),yT("doc","path",e),n instanceof cd){const r=Ce.fromString(e,...t);return bL(r),new It(n,null,new F(r))}{if(!(n instanceof It||n instanceof ti))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return bL(r),new It(n.firestore,n instanceof ti?n.converter:null,new F(r))}}class kre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fw(this,"async_queue_retry"),this.iu=()=>{const t=pg();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Lt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return T(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!lo(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,vt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=Pw.createAndSchedule(this,e,t,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&$()}verifyOperationInProgress(){}uu(){var e=this;return T(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Ge extends cd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SL(this),this._firestoreClient.terminate()}}function Ore(n,e){const r="string"==typeof n?n:e||"(default)",i=function qk(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:Qk(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zK("firestore");o&&function Mre(n,e,t,r={}){var i;const o=(n=be(n,cd))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Gt.MOCK_USER;else{a=function qK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify({alg:"none",type:"JWT"})),$f(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gt(c)}n._authCredentials=new Aee(new PF(a,u))}}(i,...o)}return i}function bt(n){return n._firestoreClient||SL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SL(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ste(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,EL(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new vre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Bt.fromBase64String(e))}catch(t){throw new M(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ts(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ML{constructor(e){this._methodName=e}}class ET{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}const Vre=/^__.*__$/;class Lre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}function kL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class bg{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Tg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(kL(this.Iu)&&Vre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Bre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sd(e)}pu(e,t,r,i=!1){return new bg({Iu:e,methodName:t,gu:r,path:Ze.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(n){const e=n._freezeSettings(),t=sd(n._databaseId);return new Bre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IT(n,e,t,r,i,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,i);wT("Data must be an object, but it was:",s,r);const a=LL(r,s);let u,c;if(o.merge)u=new On(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=hd(e,d,t);if(!s.contains(h))throw new M(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UL(l,h)||l.push(h)}u=new On(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Lre(new nn(a),u,c)}function Cs(n,e){if(BL(n=zr(n)))return wT("Unsupported field value:",e,n),LL(n,e);if(n instanceof ML)return function(r,i){if(!kL(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Cs(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=zr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return DV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:su(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:su(i.serializer,o)}}if(r instanceof ET)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ts)return{bytesValue:qV(i.serializer,r._byteString)};if(r instanceof It){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ig(r)}`)}(n,e)}function LL(n,e){const t={};return KF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,(r,i)=>{const o=Cs(i,e.Eu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function BL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof ET||n instanceof Ts||n instanceof It||n instanceof ML)}function wT(n,e,t){if(!BL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Ig(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function hd(n,e,t){if((e=zr(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return wg(n,e);throw Tg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hre=new RegExp("[~\\*/\\[\\]]");function wg(n,e,t){if(e.search(Hre)>=0)throw Tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tu(...e.split("."))._internalPath}catch{throw Tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new M(w.INVALID_ARGUMENT,a+n+u)}function UL(n,e){return n.some(t=>t.isEqual(e))}class TT{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gre extends TT{data(){return super.data()}}function Cg(n,e){return"string"==typeof e?wg(n,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class CT{}class zre extends CT{}function Wre(n,e,...t){let r=[];e instanceof CT&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof Du).length,a=o.filter(u=>u instanceof fd).length;if(s>1||s>0&&a>0)throw new M(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class fd extends zre{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fd(e,t,r)}_apply(e){const t=this._parse(e);return zL(e._query,t),new rn(e.firestore,e.converter,kb(e._query,t))}_parse(e){const t=Cu(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new M(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){GL(d,l);const f=[];for(const p of d)f.push(HL(u,o,p));h={arrayValue:{values:f}}}else h=HL(u,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||GL(d,l),h=function VL(n,e,t,r=!1){return Cs(t,n.pu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return Ie.create(c,l,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Du extends CT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Du(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Fe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)zL(s,u),s=kb(s,u)}(e._query,t),new rn(e.firestore,e.converter,kb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function HL(n,e,t){if("string"==typeof(t=zr(t))){if(""===t)throw new M(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&-1!==t.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ce.fromString(t));if(!F.isDocumentKey(r))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fs(n,new F(r))}if(t instanceof It)return fs(n,t._key);throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(t)}.`)}function GL(n,e){if(!Array.isArray(n)||0===n.length)throw new M(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zL(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new M(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qre{convertValue(e,t="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new ET(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$p(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=fo(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);z(r2(r));const i=new hs(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(t)||vt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Ds{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends TT{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xg extends Au{data(e={}){return super.data(e)}}class Su{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xg(this._firestore,this._userDataWriter,r.key,r,new Ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new xg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new xg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Qre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function Yre(n){n=be(n,It);const e=be(n.firestore,Ge);return function yL(n,e,t={}){const r=new Lt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new yg({next:h=>{s.enqueueAndForget(()=>Ow(o,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new M(w.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new M(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Lw(Za(a.path),l,{includeMetadataChanges:!0,J_:!0});return kw(o,d)}(yield wu(n),n.asyncQueue,e,t,r)})),r.promise}(bt(e),n._key).then(t=>function ST(n,e,t){const r=t.docs.get(e._key),i=new To(n);return new Au(n,i,e._key,r,new Ds(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class To extends qre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function Xre(n){n=be(n,rn);const e=be(n.firestore,Ge),t=bt(e),r=new To(e);return function jL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function vL(n,e,t={}){const r=new Lt;return n.asyncQueue.enqueueAndForget(T(function*(){return function(o,s,a,u,c){const l=new yg({next:h=>{s.enqueueAndForget(()=>Ow(o,d)),h.fromCache&&"server"===u.source?c.reject(new M(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Lw(a,l,{includeMetadataChanges:!0,J_:!0});return kw(o,d)}(yield wu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Su(e,r,n,i))}function Jre(n,e,t){n=be(n,It);const r=be(n.firestore,Ge),i=function AT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return pd(r,[IT(Cu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,et.none())])}function Zre(n){return pd(be(n.firestore,Ge),[new ou(n._key,et.none())])}function pd(n,e){return function(r,i){const o=new Lt;return r.asyncQueue.enqueueAndForget(T(function*(){return function Zne(n,e,t){return Hw.apply(this,arguments)}(yield function mT(n){return Eg(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(bt(n),e)}!function(e,t=!0){za=Kf,ka(new Yo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ge(new See(r.getProvider("auth-internal")),new Mee(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),cr(MF,"4.4.0",e),cr(MF,"4.4.0","esm2017")}();class Pg{constructor(e){return e}}const YL="firestore",RT=new V("angularfire2.firestore-instances");function pie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Pg(r)}}const gie={provide:class hie{constructor(){return yE(YL)}},deps:[[new cn,RT]]},mie={provide:Pg,useFactory:function fie(n,e){const t=function oN(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(YL,n,e);return t&&new Pg(t)},deps:[[new cn,RT],Xc]};let _ie=(()=>{class n{constructor(){cr("angularfire",_E.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Pt({providers:[mie,gie]})}return n})();function yie(n,...e){return{ngModule:_ie,providers:[{provide:RT,useFactory:pie(n),multi:!0,deps:[Je,Wn,aN,uN,[new cn,fO],[new cn,bY],...e]}]}}const XL=Ti(Pre,!0),MT=Ti(Zre,!0),on=Ti(DL,!0),xu=Ti(Yre,!0),JL=Ti(Xre,!0),vie=Ti(Ore,!0),ZL=Ti(Wre,!0),Co=Ti(Jre,!0);let Do=(()=>{class n{constructor(t){this.firestore=t}createClient(t,r,i){var o=this;return T(function*(){return t.dateCreation=new Date,o.getCaisseData().then(s=>(Co(on(o.firestore,"client",(s.lastFactureId+1).toString()),t),Co(on(o.firestore,"facture",(s.lastFactureId+1).toString()),r),Co(on(o.firestore,"entete","1"),i),Co(on(o.firestore,"general","1"),{...s,caisse:s.caisse+parseInt(t.NetPayer),lastFactureId:s.lastFactureId+1,numberFacture:s.numberFacture+1}),!0)).catch(s=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}readClients(){var t=this;return T(function*(){let r=[];return(yield JL(ZL(XL(t.firestore,"client")))).docs.map(i=>{r.push(i.data())}),r})()}readBons(){var t=this;return T(function*(){let r=[];return(yield JL(ZL(XL(t.firestore,"bons")))).docs.map(i=>{r.push(i.data())}),r})()}readClient(t){var r=this;return T(function*(){var i=on(r.firestore,"client",t),s=yield(yield xu(i)).data(),a=on(r.firestore,"facture",t),u=yield xu(a),c=yield u.data(),l=on(r.firestore,"entete","1"),d=yield xu(l);return{client:s,facture:c,entete:yield d.data()}})()}deleteFacture(t,r){var i=this;return T(function*(){try{yield MT(on(i.firestore,"client",t)),yield MT(on(i.firestore,"facture",t)),i.getCaisseData().then(o=>{Co(on(i.firestore,"general","1"),{...o,caisse:o.caisse-r,lastFactureId:o.lastFactureId,numberFacture:o.numberFacture-1})})}catch{return!1}return!0})()}deleteBon(t,r){var i=this;return T(function*(){try{console.log(t),console.log(typeof t),yield MT(on(i.firestore,"bons",t+"")),i.getCaisseData().then(o=>{Co(on(i.firestore,"general","1"),{...o,caisse:o.caisse+r,numberBons:o.numberBons-1})})}catch{confirm("le Bons n'est pas supprimer ")}return!0})()}readBon(t){var r=this;return T(function*(){console.log(t);var i=on(r.firestore,"bons",t);return{bon:yield(yield xu(i)).data()}})()}getCaisseData(){var t=this;return T(function*(){const r=on(t.firestore,"general","1");return(yield xu(r)).data()})()}getTitleData(t){var r=this;return T(function*(){const i=on(r.firestore,"entete",t);return(yield xu(i)).data()})()}createBons(t){var r=this;return T(function*(){return r.getCaisseData().then(i=>(t.id=i.lastBonsId+1,Co(on(r.firestore,"bons",t.id+""),t),Co(on(r.firestore,"general","1"),{...i,caisse:i.caisse-parseInt(t.total+""),lastBonsId:i.lastBonsId+1,numberBons:i.numberBons+1}),!0)).catch(i=>(confirm("la facture na pas ete cree il peut quelle existe deja"),!1)),!0})()}static#e=this.\u0275fac=function(r){return new(r||n)(B(Pg))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eie(n,e){if(1&n&&(g(0,"div")(1,"div"),v(2),m()()),2&n){const t=e.$implicit;D(2),P_("",t.name," ",t.prenom," ",t.age,"")}}let Iie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.clients=[]}ngOnInit(){}goToFacture(){this.route.navigate(["/facture-view",{data:"test"}])}static#e=this.\u0275fac=function(r){return new(r||n)(S(St),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-factures"]],decls:26,vars:1,consts:[[1,"text-lg","font-semibold","text-center","my-10"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"h-[300px]","w-full","p-5","text-white","bg-cover","relative","flex","cursor-pointer","rounded-xl",2,"background-image","url('assets/facture1.webp')"],[1,"flex","flex-col","items-center","justify-center","rounded-xl","bg-neutral-900/70","h-full","w-full","transition-all","duration-500","opacity-0","hover:opacity-100",3,"click"],[1,"text-3xl","font-semibold","m-4"],[1,"text-lg","font-medium","uppercase"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(g(0,"div")(1,"h1",0),v(2,"Factures"),m(),g(3,"div",1)(4,"div")(5,"div",2)(6,"div",3),X("click",function(){return i.goToFacture()}),g(7,"h2",4),v(8,"Facture 1"),m(),g(9,"h3",5),v(10,"Client 1"),m()()()(),g(11,"div")(12,"div",2)(13,"div",3),X("click",function(){return i.goToFacture()}),g(14,"h2",4),v(15,"Facture 2"),m(),g(16,"h3",5),v(17,"Client 2"),m()()()(),g(18,"div")(19,"div",2)(20,"div",3),X("click",function(){return i.goToFacture()}),g(21,"h2",4),v(22,"Facture 3"),m(),g(23,"h3",5),v(24,"Client 3"),m()()()()()(),we(25,Eie,3,3,"div",6)),2&r&&(D(25),Q("ngForOf",i.clients))},dependencies:[Gi]})}return n})();function bie(n,e){if(1&n&&(g(0,"p",28),v(1),g(2,"span",8),v(3),m()()),2&n){const t=H().$implicit,r=H();D(1),J("",t," : "),D(2),J(" ",r.champsClientValue[t],"")}}function wie(n,e){if(1&n&&(Nt(0),we(1,bie,4,2,"p",27),Ot()),2&n){const t=e.$implicit;D(1),Q("ngIf","dateCreation"!=t&&"Nombre_Colis"!=t&&"NetPayer"!=t&&"NetPayer"!=t)}}function Tie(n,e){if(1&n&&(g(0,"td",35),v(1),m()),2&n){const t=H(2).$implicit,r=H();D(1),J("",r.champsClientValueFacture[t]," DA")}}function Cie(n,e){1&n&&(g(0,"td",35),v(1,"--"),m())}function Die(n,e){if(1&n&&(g(0,"tr",30)(1,"td",31)(2,"div",32),v(3),m()(),_e(4,"td",33)(5,"td",33),we(6,Tie,2,1,"td",34),we(7,Cie,2,0,"td",34),m()),2&n){const t=H().$implicit,r=H();D(3),pt(t),D(3),Q("ngIf",""!=r.champsClientValueFacture[t]),D(1),Q("ngIf",""==r.champsClientValueFacture[t])}}function Aie(n,e){if(1&n&&(Nt(0),we(1,Die,8,3,"tr",29),Ot()),2&n){const t=e.$implicit;D(1),Q("ngIf","dateCreation"!=t)}}let Sie=(()=>{class n{constructor(t,r){this.route=t,this.client=r,this.champsTitleValue={},this.champsClientValue={},this.champsClientValueFacture={},this.champsClient=[],this.champsFacture=[],this.Total=0,this.NetPayer=0}ngOnInit(){this.getFacture(this.route.snapshot.params.data)}getFacture(t){var r=this;return T(function*(){yield r.client.readClient(t).then(i=>{r.extraireClesEtValeurs(i.client,"client"),r.extraireClesEtValeurs(i.facture,"facture"),r.extraireClesEtValeurs(i.entete,"entete"),r.getTotal()})})()}imprimer(){window.print()}listeTriees(t){return t.slice().sort((r,i)=>r.localeCompare(i))}extraireClesEtValeurs(t,r){if("client"==r)for(const[i,o]of Object.entries(t))this.champsClient.push(i),this.champsClientValue[i]=o;if("facture"==r)for(const[i,o]of Object.entries(t))this.champsFacture.push(i),this.champsClientValueFacture[i]=o;else for(const[i,o]of Object.entries(t))this.champsTitleValue[i]=o}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,o]of Object.entries(t))r+=parseInt(o);return r}static#e=this.\u0275fac=function(r){return new(r||n)(S(eo),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-facture-view"]],decls:62,vars:11,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[4,"ngFor","ngForOf"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","text-center","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],["class","border-b border-gray-200",4,"ngIf"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 text-center text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","text-center","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),X("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m(),g(26,"p",6)(27,"span",8),v(28,"Nombre de Colis:"),m(),v(29),m()(),g(30,"div",11),_e(31,"img",12),m()(),g(32,"div",13)(33,"div"),we(34,wie,2,1,"ng-container",14),m()(),g(35,"div",15)(36,"table",16)(37,"colgroup"),_e(38,"col",17)(39,"col",18)(40,"col",18)(41,"col",18),m(),g(42,"thead",19)(43,"tr")(44,"th",20),v(45,"Designation"),m(),_e(46,"th",21)(47,"th",21),g(48,"th",22),v(49,"Montant"),m()()(),g(50,"tbody"),we(51,Aie,2,1,"ng-container",14),m(),g(52,"tfoot")(53,"tr")(54,"th",23),v(55,"NET A PAYER"),m(),g(56,"th",24),v(57,"NET A PAYER"),m(),g(58,"td",25),v(59),m()()()()(),g(60,"div",26),v(61," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(D(7),J(" ",i.champsTitleValue.Name," "),D(2),J(" ",i.champsTitleValue.Adresse," "),D(2),J(" ",i.champsTitleValue["Tel/Fax"]," "),D(4),J("",i.champsTitleValue.RCN," "),D(3),J(" ",i.champsTitleValue.NIF," "),D(3),J(" ",i.champsTitleValue.Date," "),D(4),J(" ",i.champsTitleValue.Declaration," "),D(4),J(" ",i.champsClientValue.Nombre_Colis," "),D(5),Q("ngForOf",i.listeTriees(i.champsClient)),D(17),Q("ngForOf",i.listeTriees(i.champsFacture)),D(8),J("",i.NetPayer,"\xa0DA"))},dependencies:[Gi,ma],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();function xie(n,e){if(1&n){const t=bn();Nt(0),g(1,"tr")(2,"td",23)(3,"div",24),ft(),g(4,"svg",25),_e(5,"path",26),m()()(),Yt(),g(6,"td",27),v(7),m(),g(8,"td",28)(9,"div",29)(10,"div")(11,"h2",30),v(12),m()()()(),g(13,"td",31),v(14),j_(15,"date"),m(),g(16,"td",32)(17,"button",33),X("click",function(){const o=Ae(t).$implicit;return Se(H().goToFacture(o.FactureNumber))}),ft(),g(18,"svg",34),_e(19,"path",35),m()(),Yt(),g(20,"button",36),X("click",function(){const o=Ae(t).$implicit;return Se(H().deleteFacture(o.FactureNumber,o.NetPayer))}),ft(),g(21,"svg",25),_e(22,"path",37),m()()()(),Ot()}if(2&n){const t=e.$implicit;D(7),J(" ",t.FactureNumber," "),D(5),pt(t.Name),D(2),pt($_(15,3,t.dateCreation,"medium"))}}let Rie=(()=>{class n{constructor(t,r){this.route=t,this.clientService=r,this.clients=[]}ngOnInit(){this.getClients()}getClients(){this.clientService.readClients().then(t=>{this.clients=t,console.log(this.clients),this.clients.forEach(r=>{r.dateCreation=new Date(1e3*r.dateCreation.seconds)})})}goToFacture(t){this.route.navigate(["/facture-view",{data:t}])}deleteFacture(t,r){this.clientService.deleteFacture(t,r).then(i=>{alert("la facture a ete supprimer avec succes"),this.getClients()})}static#e=this.\u0275fac=function(r){return new(r||n)(S(St),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-factures-close"]],decls:49,vars:1,consts:[[1,"container","px-4","mx-auto"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mt-6"],["href","#",1,"flex","items-center","px-5","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","rtl:-scale-x-100"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"],[1,"items-center","hidden","md:flex","gap-x-3"],["href","#",1,"px-2","py-1","text-sm","text-blue-500","rounded-md","dark:bg-gray-800","bg-blue-100/60"],["href","#",1,"px-2","py-1","text-sm","text-gray-500","rounded-md","dark:hover:bg-gray-800","dark:text-gray-300","hover:bg-gray-100"],["stroke-linecap","round","stroke-linejoin","round","d","M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"],[1,"flex","items-center","justify-center","text-center","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","justify-center","w-8","h-8","text-blue-500","bg-blue-100","rounded-full","dark:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],[1,"px-3","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),v(9," Type "),m(),g(10,"th",7),v(11," Facture N\xb0 "),m(),g(12,"th",8)(13,"div",9)(14,"span"),v(15,"Nom ou Raison sociale"),m()()(),g(16,"th",10),v(17," Date "),m(),g(18,"th",11)(19,"span",12),v(20,"Edit"),m()()()(),g(21,"tbody",13),we(22,xie,23,6,"ng-container",14),m()()()()()(),g(23,"div",15)(24,"a",16),ft(),g(25,"svg",17),_e(26,"path",18),m(),Yt(),g(27,"span"),v(28," previous "),m()(),g(29,"div",19)(30,"a",20),v(31,"1"),m(),g(32,"a",21),v(33,"2"),m(),g(34,"a",21),v(35,"3"),m(),g(36,"a",21),v(37,"..."),m(),g(38,"a",21),v(39,"12"),m(),g(40,"a",21),v(41,"13"),m(),g(42,"a",21),v(43,"14"),m()(),g(44,"a",16)(45,"span"),v(46," Next "),m(),ft(),g(47,"svg",17),_e(48,"path",22),m()()()()),2&r&&(D(22),Q("ngForOf",i.clients))},dependencies:[Gi,My]})}return n})();function Mie(n,e){if(1&n){const t=bn();Nt(0),g(1,"div")(2,"label",17),v(3),m(),g(4,"input",18),X("ngModelChange",function(i){const s=Ae(t).$implicit;return Se(H(2).champsTitleValue[s]=i)}),m()(),Ot()}if(2&n){const t=e.$implicit,r=H(2);D(3),pt(t),D(1),Q("ngModel",r.champsTitleValue[t])}}function Pie(n,e){if(1&n){const t=bn();Nt(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),we(4,Mie,5,2,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),X("ngModelChange",function(i){return Ae(t),Se(H().newChamp=i)}),m(),g(8,"button",15),X("click",function(){return Ae(t),Se(H().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",16),X("click",function(){return Ae(t),Se(H().nextStep())}),v(11,"Save"),m()(),Ot()}if(2&n){const t=H();D(4),Q("ngForOf",t.champsTitle),D(3),Q("ngModel",t.newChamp),D(1),Q("disabled",""==t.newChamp)}}function kie(n,e){if(1&n){const t=bn();g(0,"input",23),X("ngModelChange",function(i){Ae(t);const o=H().$implicit;return Se(H(2).champsClientValue[o]=i)}),m()}if(2&n){const t=H().$implicit;Q("ngModel",H(2).champsClientValue[t])}}function Nie(n,e){if(1&n){const t=bn();g(0,"input",24),X("ngModelChange",function(i){return Ae(t),Se(H(3).factureNumber=i)}),m()}2&n&&Q("ngModel",H(3).factureNumber)}function Oie(n,e){if(1&n&&(Nt(0),g(1,"div")(2,"label",20),v(3),m(),we(4,kie,1,1,"input",21),we(5,Nie,1,1,"input",22),m(),Ot()),2&n){const t=e.$implicit;D(3),pt(t),D(1),Q("ngIf","FactureNumber"!=t),D(1),Q("ngIf","FactureNumber"==t)}}function Fie(n,e){if(1&n){const t=bn();Nt(0),g(1,"h2",9),v(2,"Create L'entete de facture"),m(),g(3,"div",10),we(4,Oie,6,3,"ng-container",11),m(),g(5,"div",12)(6,"div",13)(7,"input",14),X("ngModelChange",function(i){return Ae(t),Se(H().newChamp=i)}),m(),g(8,"button",15),X("click",function(){return Ae(t),Se(H().addChamp())}),v(9,"Ajouter un champ"),m()(),g(10,"button",19),X("click",function(){return Ae(t),Se(H().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),X("click",function(){return Ae(t),Se(H().nextStep())}),v(13,"Save"),m()(),Ot()}if(2&n){const t=H();D(4),Q("ngForOf",t.champsClient),D(3),Q("ngModel",t.newChamp),D(1),Q("disabled",""==t.newChamp)}}function Vie(n,e){if(1&n){const t=bn();g(0,"div")(1,"label",26),v(2),m(),g(3,"input",27),X("ngModelChange",function(i){const s=Ae(t).$implicit;return Se(H(2).champsClientValueFacture[s]=i)}),m()()}if(2&n){const t=e.$implicit,r=H(2);D(2),pt(t),D(1),Q("ngModel",r.champsClientValueFacture[t])}}function Lie(n,e){if(1&n){const t=bn();Nt(0),g(1,"h2",9),v(2,"Create facture"),m(),g(3,"div",10),we(4,Vie,4,2,"div",11),m(),g(5,"div",12)(6,"div",13)(7,"input",25),X("ngModelChange",function(i){return Ae(t),Se(H().newChamp=i)}),m(),g(8,"button",15),X("click",function(){return Ae(t),Se(H().addChampFacture())}),v(9,"Ajouter un champ"),m()(),g(10,"button",19),X("click",function(){return Ae(t),Se(H().previousStep())}),v(11,"pr\xe9c\xe9dent"),m(),g(12,"button",16),X("click",function(){return Ae(t),Se(H().nextStep())}),v(13,"Save"),m()(),Ot()}if(2&n){const t=H();D(4),Q("ngForOf",t.champsFacture),D(3),Q("ngModel",t.newChamp),D(1),Q("disabled",""==t.newChamp)}}function Bie(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=H().$implicit,r=H(2);D(1),J("",t," : "),D(2),J(" ",r.champsClientValue[t],"")}}function Uie(n,e){if(1&n&&(g(0,"p",55),v(1),g(2,"span",36),v(3),m()()),2&n){const t=H().$implicit,r=H(2);D(1),J("",t," : "),D(2),J("REV N\xb0 ",r.champsClientValue[t]," ")}}function jie(n,e){if(1&n&&(Nt(0),we(1,Bie,4,2,"p",54),we(2,Uie,4,2,"p",54),Ot()),2&n){const t=e.$implicit;D(1),Q("ngIf","FactureNumber"!=t&&"Nombre_Colis"!=t),D(1),Q("ngIf","FactureNumber"==t)}}function $ie(n,e){if(1&n&&(g(0,"td",61),v(1),m()),2&n){const t=H().$implicit,r=H(2);D(1),J("",r.champsClientValueFacture[t]," DA")}}function Hie(n,e){1&n&&(g(0,"td",61),v(1,"--"),m())}function Gie(n,e){if(1&n&&(Nt(0),g(1,"tr",56)(2,"td",57)(3,"div",58),v(4),m()(),g(5,"td",59),v(6,"--"),m(),g(7,"td",59),v(8,"--"),m(),we(9,$ie,2,1,"td",60),we(10,Hie,2,0,"td",60),m(),Ot()),2&n){const t=e.$implicit,r=H(2);D(4),pt(t),D(5),Q("ngIf",0!=r.champsClientValueFacture[t]),D(1),Q("ngIf",0==r.champsClientValueFacture[t])}}function zie(n,e){if(1&n){const t=bn();Nt(0),g(1,"div",28)(2,"button",29),X("click",function(){return Ae(t),Se(H().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",16),X("click",function(){return Ae(t),Se(H().stock())}),v(5,"Stocker"),m()(),g(6,"div",30)(7,"div",31)(8,"div",32)(9,"p",33),v(10),m(),g(11,"p",34),v(12),m(),g(13,"p",35),v(14),m(),g(15,"p",35)(16,"span",36),v(17,"RCN :"),m(),v(18),g(19,"span",36),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",37)(23,"p",38),v(24),m(),g(25,"p",34)(26,"span",36),v(27,"Declaration:"),m(),v(28),m(),g(29,"p",34)(30,"span",36),v(31,"Nombre de Colis:"),m(),v(32),m()(),g(33,"div",39),_e(34,"img",40),m()(),g(35,"div",41)(36,"div"),we(37,jie,3,2,"ng-container",11),m()(),g(38,"div",42)(39,"table",43)(40,"colgroup"),_e(41,"col",44)(42,"col",45)(43,"col",45)(44,"col",45),m(),g(45,"thead",46)(46,"tr")(47,"th",47),v(48,"Items"),m(),g(49,"th",48),v(50,"Quantity"),m(),g(51,"th",48),v(52,"Price"),m(),g(53,"th",49),v(54,"Amount"),m()()(),g(55,"tbody"),we(56,Gie,11,3,"ng-container",11),m(),g(57,"tfoot")(58,"tr")(59,"th",50),v(60,"NET A PAYER"),m(),g(61,"th",51),v(62,"NET A PAYER"),m(),g(63,"td",52),v(64),m()()()()(),g(65,"div",53),v(66," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),Ot()}if(2&n){const t=H();D(10),J(" ",t.champsTitleValue.Name," "),D(2),J(" ",t.champsTitleValue.Adresse," "),D(2),J(" ",t.champsTitleValue["Tel/Fax"]," "),D(4),J("",t.champsTitleValue.RCN," "),D(3),J(" ",t.champsTitleValue.NIF," "),D(3),J(" ",t.champsTitleValue.Date," "),D(4),J(" ",t.champsTitleValue.Declaration," "),D(4),J(" ",t.champsClientValue.Nombre_Colis," "),D(5),Q("ngForOf",t.champsClient),D(19),Q("ngForOf",t.champsFacture),D(8),J("",t.NetPayer,"\xa0DA")}}let Wie=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitle=["Name","Date","Adresse","Tel/Fax","Declaration","RCN","NIF"],this.champsTitleValue={},this.champsClient=["Name","Adresse","FactureNumber","Origine","Nature de Marchandise","Nombre_Colis"],this.champsClientValue={},this.newChamp="",this.factureNumber=0,this.champsFacture=["Frais debarquement","Overture de dossier","Frais de suivi","Surestaries","H.S  douane","Complement visite","Complement Magasinage","Pesage","Institut pasteur","Recherche nucleaire","Timbre","Facture Vide","Frais douanes","Honoraires"],this.champsClientValueFacture={},this.newChampFacture="",this.width="w-2",this.color=["text-blue-600","","",""],this.step=0,this.Total=0,this.NetPayer=0}ngOnInit(){this.titleInit(),this.champsClient.forEach(t=>{this.champsClientValue[t]=""}),this.champsFacture.forEach(t=>{this.champsClientValueFacture[t]=0})}addChamp(){this.champsClient.push(this.newChamp),this.champsClientValue[this.newChamp]="",this.newChamp=""}addChampFacture(){this.champsFacture.push(this.newChamp),this.champsClientValueFacture[this.newChamp]=0,this.newChamp=""}nextStep(){switch(this.step++,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.checkFactureNumber()&&(this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""]);break;case 3:this.checkFactureChiffres()&&(this.champsClientValue.FactureNumber=this.factureNumber+""),this.getTotal(),this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}previousStep(){switch(this.step--,this.step){case 0:this.width="w-2",this.color=["text-blue-600","","",""];break;case 1:this.width="w-1/3",this.color=["text-blue-600","text-blue-600","",""];break;case 2:this.width="w-2/3",this.color=["text-blue-600","text-blue-600","text-blue-600",""];break;case 3:this.width="w-full",this.color=["text-blue-600","text-blue-600","text-blue-600","text-blue-600"]}}titleInit(){this.service.getCaisseData().then(t=>{this.champsTitleValue.Name="TRANSIT  FARID ABOUSSEDDIK",this.champsTitleValue.Date="ALGER LE  "+this.formatDate(new Date),this.champsTitleValue.Adresse="BT10 - N\xb001 Rue DU 24 FEVRIER Alger CENTRE",this.champsTitleValue["Tel/Fax"]="023 42 15 24",this.champsTitleValue.Declaration="6659 du 26/11/2023",this.champsTitleValue.RCN="23A5057013",this.champsTitleValue.NIF="16947040036019011600",this.factureNumber=t.lastFactureId+1})}stock(){this.champsClientValue.FactureNumber=this.factureNumber+"",this.champsClientValue.NetPayer=this.NetPayer+"",this.champsClientValue.selected="true",this.service.createClient(this.champsClientValue,this.champsClientValueFacture,this.champsTitleValue).then(t=>{console.log(t),1==t?1==confirm("la facture a ete cree avec succes")&&this.route.navigate(["/facture-view",{data:this.champsClientValue.FactureNumber}]):confirm("la facture na pas ete cree il peut quelle existe deja")})}checkFactureChiffres(){let t=!0;return this.champsFacture.forEach(r=>{!1===/^[0-9]+$/.test(this.champsClientValueFacture[r].toString())&&(alert("les entrees de la facture il faut quil soient des nombres"),this.step--,t=!1)}),t}checkFactureNumber(){return"number"==typeof this.factureNumber||(alert("le nombre de facture il faut quil etre un nombre"),this.step--,!1)}getTotal(){this.Total=this.sommeRecord(this.champsClientValueFacture),this.NetPayer=this.Total}sommeRecord(t){let r=0;for(const[i,o]of Object.entries(t))r+=parseInt(o);return r}formatDate(t){return`${this.padZero(t.getDate())}-${this.padZero(t.getMonth()+1)}-${t.getFullYear()}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(r){return new(r||n)(S(St),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-create-client"]],decls:30,vars:19,consts:[[1,"w-1/2","mx-auto","mt-7","mb-4"],[1,"overflow-hidden","rounded-full","bg-gray-200"],[1,"mt-4","grid","grid-cols-4","text-sm","font-medium","text-gray-500"],[1,"hidden","sm:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"],["stroke-linecap","round","stroke-linejoin","round","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["for","",1,"text-black","dark:text-gray-200"],["required","","id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-300","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-2","mx-3","text-white","transition-colors","duration-300","transform","bg-gray-700","rounded-md","hover:bg-gray-600","focus:outline-none","focus:bg-gray-600",3,"click"],["for","",1,"text-gray-700","dark:text-gray-200"],["id","","type","text","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","number","class","block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring",3,"ngModel","ngModelChange",4,"ngIf"],["id","","type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["id","","type","number",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","text",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"mt-12"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],["class","text-gray-500",4,"ngIf"],[1,"text-gray-500"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div")(1,"div",0)(2,"div",1),_e(3,"div"),m(),g(4,"ol",2)(5,"li")(6,"span",3),v(7,"Entete"),m(),ft(),g(8,"svg",4),_e(9,"path",5),m()(),Yt(),g(10,"li")(11,"span",3),v(12,"Client"),m(),ft(),g(13,"svg",4),_e(14,"path",5),m()(),Yt(),g(15,"li")(16,"span",3),v(17,"Commandes"),m(),ft(),g(18,"svg",4),_e(19,"path",5),m()(),Yt(),g(20,"li")(21,"span",3),v(22,"Facture final"),m(),ft(),g(23,"svg",4),_e(24,"path",6),m()()()()(),Yt(),g(25,"section",7),we(26,Pie,12,3,"ng-container",8),we(27,Fie,14,3,"ng-container",8),we(28,Lie,14,3,"ng-container",8),we(29,zie,67,11,"ng-container",8),m()),2&r&&(D(3),ca("h-2 ",i.width," transition-all duration-500 rounded-full bg-blue-500"),D(2),ca("flex items-center justify-start ",i.color[0]," sm:gap-1.5"),D(5),ca("flex items-center justify-center ",i.color[1]," sm:gap-1.5"),D(5),ca("flex items-center justify-end ",i.color[2]," sm:gap-1.5"),D(5),ca("flex items-center justify-end ",i.color[3]," sm:gap-1.5"),D(6),Q("ngIf",0==i.step),D(1),Q("ngIf",1==i.step),D(1),Q("ngIf",2==i.step),D(1),Q("ngIf",3==i.step))},dependencies:[Gi,ma,Sc,yv,sv,yf,_f]})}return n})(),qie=(()=>{class n{constructor(t){this.service=t,this.total=0,this.nombreFacture=0,this.nombreBons=0}ngOnInit(){this.service.getCaisseData().then(t=>{this.total=t.caisse,this.nombreFacture=t.numberFacture,this.nombreBons=t.numberBons})}static#e=this.\u0275fac=function(r){return new(r||n)(S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-caisse"]],decls:29,vars:3,consts:[[1,"text-3xl","font-semibold","text-center","mb-5"],[1,"flex","items-center","gap-4","rounded-lg","border","border-gray-100","bg-white","p-6"],[1,"rounded-full","bg-blue-100","p-3","text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-2xl","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(g(0,"h1",0),v(1,"La Caisse des Factures"),m(),g(2,"article",1)(3,"span",2),ft(),g(4,"svg",3),_e(5,"path",4),m()(),Yt(),g(6,"div")(7,"p",5),v(8),m(),g(9,"p",6),v(10,"Total Sales"),m()()(),g(11,"article",1)(12,"span",2),ft(),g(13,"svg",3),_e(14,"path",4),m()(),Yt(),g(15,"div")(16,"p",5),v(17),m(),g(18,"p",6),v(19,"Total Factures"),m()()(),g(20,"article",1)(21,"span",2),ft(),g(22,"svg",3),_e(23,"path",4),m()(),Yt(),g(24,"div")(25,"p",5),v(26),m(),g(27,"p",6),v(28,"Total Bons"),m()()()),2&r&&(D(8),J("",i.total," DA"),D(9),pt(i.nombreFacture),D(9),pt(i.nombreBons))}})}return n})();function Kie(n,e){if(1&n){const t=bn();g(0,"div")(1,"label",4),v(2),m(),g(3,"input",13),X("ngModelChange",function(i){const s=Ae(t).$implicit;return Se(H(2).champBonsQnt[s]=i)}),m(),g(4,"input",14),X("ngModelChange",function(i){const s=Ae(t).$implicit;return Se(H(2).champBonsPrice[s]=i)}),m()()}if(2&n){const t=e.$implicit,r=H(2);D(2),pt(t),D(1),Q("ngModel",r.champBonsQnt[t]),D(1),Q("ngModel",r.champBonsPrice[t])}}function Qie(n,e){if(1&n){const t=bn();Nt(0),g(1,"h2",2),v(2,"Create BONS"),m(),g(3,"div",3)(4,"div")(5,"label",4),v(6,"Date"),m(),g(7,"input",5),X("ngModelChange",function(i){return Ae(t),Se(H().champDate=i)}),m()(),g(8,"div")(9,"label",4),v(10,"Name"),m(),g(11,"input",6),X("ngModelChange",function(i){return Ae(t),Se(H().name=i)}),m()(),we(12,Kie,5,3,"div",7),m(),g(13,"div",8)(14,"div",9)(15,"input",10),X("ngModelChange",function(i){return Ae(t),Se(H().newChamp=i)}),m(),g(16,"button",11),X("click",function(){return Ae(t),Se(H().addChamp())}),v(17,"Ajouter un champ"),m()(),g(18,"button",12),X("click",function(){return Ae(t),Se(H().nextStep())}),v(19,"Suivant"),m()(),Ot()}if(2&n){const t=H();D(7),Q("ngModel",t.champDate),D(4),Q("ngModel",t.name),D(1),Q("ngForOf",t.champs),D(3),Q("ngModel",t.newChamp),D(1),Q("disabled",""==t.newChamp),D(2),Q("disabled",0==t.champs.length)}}function Yie(n,e){if(1&n&&(g(0,"td",46),v(1),m()),2&n){const t=H().$implicit,r=H(2);D(1),J("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function Xie(n,e){1&n&&(g(0,"td",46),v(1,"--"),m())}function Jie(n,e){if(1&n&&(Nt(0),g(1,"tr",41)(2,"td",42)(3,"div",43),v(4),m()(),g(5,"td",44),v(6),m(),g(7,"td",44),v(8),m(),we(9,Yie,2,1,"td",45),we(10,Xie,2,0,"td",45),m(),Ot()),2&n){const t=e.$implicit,r=H(2);D(4),pt(t),D(2),pt(r.champBonsQnt[t]||1),D(2),pt(r.champBonsPrice[t]||0),D(1),Q("ngIf",0!=r.champBonsPrice[t]),D(1),Q("ngIf",0==r.champBonsPrice[t])}}function Zie(n,e){if(1&n){const t=bn();Nt(0),g(1,"div",15)(2,"button",16),X("click",function(){return Ae(t),Se(H().previousStep())}),v(3,"pr\xe9c\xe9dent"),m(),g(4,"button",17),X("click",function(){return Ae(t),Se(H().stock())}),v(5,"Stocker"),m()(),g(6,"div",18)(7,"div",19)(8,"div",20)(9,"p",21),v(10),m(),g(11,"p",22),v(12),m(),g(13,"p",23),v(14),m(),g(15,"p",23)(16,"span",24),v(17,"RCN :"),m(),v(18),g(19,"span",24),v(20," / NIF :"),m(),v(21),m()(),g(22,"div",25)(23,"p",26),v(24),j_(25,"date"),m(),g(26,"p",22)(27,"span",24),v(28,"Declaration:"),m(),v(29),m()(),g(30,"div",27),_e(31,"img",28),m()(),g(32,"div",29)(33,"table",30)(34,"colgroup"),_e(35,"col",31)(36,"col",32)(37,"col",32)(38,"col",32),m(),g(39,"thead",33)(40,"tr")(41,"th",34),v(42,"Items"),m(),g(43,"th",35),v(44,"Quantity"),m(),g(45,"th",35),v(46,"Price"),m(),g(47,"th",36),v(48,"Amount"),m()()(),g(49,"tbody"),we(50,Jie,11,5,"ng-container",7),m(),g(51,"tfoot")(52,"tr")(53,"th",37),v(54,"Total"),m(),g(55,"th",38),v(56,"Total"),m(),g(57,"td",39),v(58),m()()()()(),g(59,"div",40),v(60," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()(),Ot()}if(2&n){const t=H();D(10),J(" ",t.champsTitleValue.Name," "),D(2),J(" ",t.champsTitleValue.Adresse," "),D(2),J(" ",t.champsTitleValue["Tel/Fax"]," "),D(4),J("",t.champsTitleValue.RCN," "),D(3),J(" ",t.champsTitleValue.NIF," "),D(3),J(" Date : ",$_(25,9,t.champDate,"dd/MM/yyyy")," "),D(5),J(" ",t.champsTitleValue.Declaration," "),D(21),Q("ngForOf",t.champs),D(8),J("",t.total,"\xa0DA")}}let eoe=(()=>{class n{constructor(t,r){this.service=t,this.route=r,this.champs=[],this.champBonsPrice={},this.champBonsQnt={},this.champsTitleValue={},this.champTitle=[],this.step=0,this.newChamp="",this.total=0,this.name="",this.champDate=new Date}addChamp(){this.champs.push(this.newChamp),this.newChamp=""}previousStep(){this.step--}nextStep(){this.checkFactureChiffres()&&(this.step++,1==this.step&&(this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t)}),this.getTotal()))}stock(){var t={};this.champs.forEach(i=>{t[i]=[this.champBonsQnt[i]||0,this.champBonsPrice[i]||0]}),this.service.createBons({date:this.champDate,name:this.name,data:t,total:this.total,selected:!0}).then(i=>{confirm("la facture a ete cree avec succes"),this.route.navigate(["/bonsList"])}).catch(i=>{confirm("la facture na pas ete cree il peut quelle existe deja")})}extraireClesEtValeurs(t){for(const[r,i]of Object.entries(t))this.champTitle.push(r),this.champsTitleValue[r]=i}getTotal(){this.total=0;for(const[t,r]of Object.entries(this.champBonsPrice))this.total+=(r||0)*(this.champBonsQnt[t]||1)}checkFactureChiffres(){let t=!0;for(const r of this.champs)if(!1===/^[0-9]+$/.test((this.champBonsPrice[r]||0).toString())||!1===/^[0-9]+$/.test((this.champBonsQnt[r]||1).toString())){alert("les entrees de la facture il faut quil soient des nombres numeriques"),t=!1;break}return t}static#e=this.\u0275fac=function(r){return new(r||n)(S(Do),S(St))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons"]],decls:3,vars:2,consts:[[1,"max-w-4xl","p-6","mx-auto","bg-white","rounded-md","shadow-md","dark:bg-gray-800"],[4,"ngIf"],[1,"text-lg","mb-5","font-semibold","text-gray-700","capitalize","dark:text-white"],[1,"grid","grid-cols-1","gap-6","mt-4","sm:grid-cols-2"],["for","username",1,"text-gray-700","dark:text-gray-200"],["type","date","placeholder","Date",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Saisir le nom du Bons",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-10"],[1,"flex","w-3/4"],["type","text","placeholder","Saisir votre champ",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-blue-400","rounded-md","disabled:bg-gray-300","hover:bg-blue-300","focus:outline-none","whitespace-nowrap",3,"disabled","click"],[1,"px-8","disabled:bg-gray-300","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"disabled","click"],["type","text","placeholder","Quantite",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","text","placeholder","Prix",1,"block","w-full","px-4","py-2","mt-2","text-gray-700","bg-white","border","border-gray-200","rounded-md","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-blue-300","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-5","h-10"],[1,"px-5","mx-2","text-white","transition-colors","duration-300","transform","bg-gray-400","rounded-md","hover:bg-gray-300","focus:outline-none","whitespace-nowrap",3,"click"],[1,"px-8","text-white","transition-colors","duration-300","transform","bg-blue-700","rounded-md","hover:bg-blue-600","focus:outline-none","focus:bg-blue-600",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"-mx-4","mt-8","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"section",0),we(1,Qie,20,6,"ng-container",1),we(2,Zie,61,12,"ng-container",1),m()),2&r&&(D(1),Q("ngIf",0==i.step),D(1),Q("ngIf",1==i.step))},dependencies:[Gi,ma,Sc,sv,_f,My]})}return n})();function toe(n,e){if(1&n){const t=bn();Nt(0),g(1,"tr")(2,"td",23),v(3),m(),g(4,"td",24)(5,"div",25)(6,"div")(7,"h2",26),v(8),m()()()(),g(9,"td",27),v(10),m(),g(11,"td",27),v(12),m(),g(13,"td",28)(14,"button",29),X("click",function(){const o=Ae(t).$implicit;return Se(H().goToBons(o.id))}),ft(),g(15,"svg",30),_e(16,"path",31),m()(),Yt(),g(17,"button",32),X("click",function(){const o=Ae(t).$implicit;return Se(H().deleteBons(o.id,o.total))}),ft(),g(18,"svg",33),_e(19,"path",34),m()()()(),Ot()}if(2&n){const t=e.$implicit;D(3),J(" ",t.id," "),D(5),pt(t.name),D(2),pt(t.date),D(2),J("",t.total," DA")}}let noe=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.Bons=[]}ngOnInit(){this.getBons()}getBons(){this.service.readBons().then(t=>{this.Bons=t})}deleteBons(t,r){this.service.deleteBon(t,r).then(i=>{confirm("le Bons est bien supprimer"),this.getBons()}).catch(i=>{console.log(i)})}goToBons(t){this.route.navigate(["/bon-view",{data:t}])}static#e=this.\u0275fac=function(r){return new(r||n)(S(St),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons-list"]],decls:49,vars:1,consts:[[1,"container","px-4","mx-auto"],[1,"flex","flex-col","mt-6"],[1,"-mx-4","-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","align-middle","md:px-6","lg:px-8"],[1,"overflow-hidden","border","border-gray-200","dark:border-gray-700","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-800"],["scope","col",1,"px-3","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-x-3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-gray-900"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mt-6"],["href","#",1,"flex","items-center","px-5","py-2","text-sm","text-gray-700","capitalize","transition-colors","duration-200","bg-white","border","rounded-md","gap-x-2","hover:bg-gray-100","dark:bg-gray-900","dark:text-gray-200","dark:border-gray-700","dark:hover:bg-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","rtl:-scale-x-100"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"],[1,"items-center","hidden","md:flex","gap-x-3"],["href","#",1,"px-2","py-1","text-sm","text-blue-500","rounded-md","dark:bg-gray-800","bg-blue-100/60"],["href","#",1,"px-2","py-1","text-sm","text-gray-500","rounded-md","dark:hover:bg-gray-800","dark:text-gray-300","hover:bg-gray-100"],["stroke-linecap","round","stroke-linejoin","round","d","M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"],[1,"px-3","py-4","text-sm","font-normal","text-gray-700","whitespace-nowrap"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","w-96","truncate"],[1,"flex","items-center","gap-x-2","w-96","truncate"],[1,"font-normal","text-gray-800","dark:text-white","truncate"],[1,"px-4","py-4","text-sm","text-gray-500","dark:text-gray-300","whitespace-nowrap"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"px-4","py-2","font-medium","text-gray-600","transition-colors","duration-200","sm:px-6","dark:hover:bg-gray-800","dark:text-gray-300","hover:text-blue-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 3.75H6A2.25 2.25 0 003.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0120.25 6v1.5m0 9V18A2.25 2.25 0 0118 20.25h-1.5m-9 0H6A2.25 2.25 0 013.75 18v-1.5M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"px-4","py-2","text-gray-500","transition-colors","duration-200","dark:hover:text-red-500","dark:text-gray-300","hover:text-red-500","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(r,i){1&r&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),v(9," Bons N\xb0 "),m(),g(10,"th",8)(11,"div",9)(12,"span"),v(13,"Nom du Bon"),m()()(),g(14,"th",10),v(15," Date "),m(),g(16,"th",7),v(17," Total "),m(),g(18,"th",11)(19,"span",12),v(20,"Edit"),m()()()(),g(21,"tbody",13),we(22,toe,20,4,"ng-container",14),m()()()()()(),g(23,"div",15)(24,"a",16),ft(),g(25,"svg",17),_e(26,"path",18),m(),Yt(),g(27,"span"),v(28," previous "),m()(),g(29,"div",19)(30,"a",20),v(31,"1"),m(),g(32,"a",21),v(33,"2"),m(),g(34,"a",21),v(35,"3"),m(),g(36,"a",21),v(37,"..."),m(),g(38,"a",21),v(39,"12"),m(),g(40,"a",21),v(41,"13"),m(),g(42,"a",21),v(43,"14"),m()(),g(44,"a",16)(45,"span"),v(46," Next "),m(),ft(),g(47,"svg",17),_e(48,"path",22),m()()()()),2&r&&(D(22),Q("ngForOf",i.Bons))},dependencies:[Gi]})}return n})();function roe(n,e){if(1&n&&(g(0,"td",32),v(1),m()),2&n){const t=H().$implicit,r=H();D(1),J("",(r.champBonsPrice[t]||0)*(r.champBonsQnt[t]||1)," DA")}}function ioe(n,e){1&n&&(g(0,"td",32),v(1,"--"),m())}function ooe(n,e){if(1&n&&(Nt(0),g(1,"tr",27)(2,"td",28)(3,"div",29),v(4),m()(),g(5,"td",30),v(6),m(),g(7,"td",30),v(8),m(),we(9,roe,2,1,"td",31),we(10,ioe,2,0,"td",31),m(),Ot()),2&n){const t=e.$implicit,r=H();D(4),pt(t),D(2),pt(r.champBonsQnt[t]||1),D(2),pt(r.champBonsPrice[t]||0),D(1),Q("ngIf",0!=r.champBonsPrice[t]),D(1),Q("ngIf",0==r.champBonsPrice[t])}}const soe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:kK},{path:"factures",component:Iie},{path:"facture-view",component:Sie},{path:"facture-close",component:Rie},{path:"facture-create",component:Wie},{path:"caisse",component:qie},{path:"bons",component:eoe},{path:"bonsList",component:noe},{path:"bon-view",component:(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.champsTitleValue={},this.champTitle=[],this.champDate="",this.champs=[],this.total=0,this.name="",this.champBonsQnt={},this.champBonsPrice={}}ngOnInit(){var t=this.route.snapshot.params.data;this.getTitleValue(),this.getBon(t)}getTitleValue(){this.service.getTitleData("1").then(t=>{this.extraireClesEtValeurs(t,"title")})}getBon(t){var r=this;return T(function*(){yield r.service.readBon(t).then(i=>{r.extraireClesEtValeurs(i.bon.data,"bon"),r.champDate=i.bon.date,r.total=i.bon.total,r.name=i.bon.name})})()}extraireClesEtValeurs(t,r){if("title"==r)for(const[i,o]of Object.entries(t))this.champTitle.push(i),this.champsTitleValue[i]=o;else for(const[i,o]of Object.entries(t))this.champs.push(i),this.champBonsPrice[i]=o[1],this.champBonsQnt[i]=o[0]}imprimer(){window.print()}static#e=this.\u0275fac=function(r){return new(r||n)(S(eo),S(Do))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-bons-view"]],decls:59,vars:10,consts:[[1,"flex","w-full","print"],[1,"text-lg","text-center","my-10","mx-auto","w-24","border-gray-500","border","text-white","bg-yellow-300","rounded","hover:text-yellow-300","hover:bg-white","transition-all","duration-200",3,"click"],["id","invoice",1,"max-w-3xl","mx-auto","p-6","bg-white","rounded","shadow-sm","my-6"],[1,"grid","grid-cols-6","items-center"],[1,"text-left","col-span-3"],[1,"font-semibold","pb-3"],[1,"text-gray-500","text-sm"],[1,"text-gray-500","text-sm","mt-1"],[1,"text-black"],[1,"col-span-2","h-full"],[1,"text-gray-500","text-sm","pb-10"],[1,"col-span-1"],["src","assets/elite-logo.png","alt","company-logo","height","100","width","100",1,"ml-auto"],[1,"text-3xl","text-center","font-semibold","mt-6","underline"],[1,"-mx-4","mt-5","flow-root","sm:mx-0"],[1,"min-w-full"],[1,"w-full","sm:w-1/2"],[1,"sm:w-1/6"],[1,"border-b","border-gray-300","text-gray-900"],["scope","col",1,"py-3.5","pl-4","pr-3","text-left","text-sm","font-semibold","text-gray-900","sm:pl-0"],["scope","col",1,"hidden","px-3","py-3.5","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell"],["scope","col",1,"py-3.5","pl-3","pr-4","text-right","text-sm","font-semibold","text-gray-900","sm:pr-0"],[4,"ngFor","ngForOf"],["scope","row","colspan","3",1,"hidden","pl-4","pr-3","pt-4","text-right","text-sm","font-semibold","text-gray-900","sm:table-cell","sm:pl-0"],["scope","row",1,"pl-6","pr-3","pt-4","text-left","text-sm","font-semibold","text-gray-900","sm:hidden"],[1,"pl-3","pr-4","pt-4","text-right","text-3xl","font-semibold","text-gray-900","sm:pr-0","whitespace-no-wrap","h-8"],[1,"border-t-2","pt-4","text-xs","text-gray-500","text-center","mt-16"],[1,"border-b","border-gray-200"],[1,"max-w-0","py-2","pl-4","pr-3","text-sm","sm:pl-0"],[1,"font-medium","text-gray-900"],[1,"hidden","px-3","py-2","text-right","text-sm","text-gray-500","sm:table-cell"],["class","py-2 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",4,"ngIf"],[1,"py-2","pl-3","pr-4","text-right","text-sm","text-gray-500","sm:pr-0"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),X("click",function(){return i.imprimer()}),v(2,"Print"),m()(),g(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),v(7),m(),g(8,"p",6),v(9),m(),g(10,"p",7),v(11),m(),g(12,"p",7)(13,"span",8),v(14,"RCN :"),m(),v(15),g(16,"span",8),v(17," / NIF :"),m(),v(18),m()(),g(19,"div",9)(20,"p",10),v(21),m(),g(22,"p",6)(23,"span",8),v(24,"Declaration:"),m(),v(25),m()(),g(26,"div",11),_e(27,"img",12),m()(),g(28,"h3",13),v(29),m(),g(30,"div",14)(31,"table",15)(32,"colgroup"),_e(33,"col",16)(34,"col",17)(35,"col",17)(36,"col",17),m(),g(37,"thead",18)(38,"tr")(39,"th",19),v(40,"Items"),m(),g(41,"th",20),v(42,"Quantity"),m(),g(43,"th",20),v(44,"Price"),m(),g(45,"th",21),v(46,"Amount"),m()()(),g(47,"tbody"),we(48,ooe,11,5,"ng-container",22),m(),g(49,"tfoot")(50,"tr")(51,"th",23),v(52,"Total"),m(),g(53,"th",24),v(54,"Total"),m(),g(55,"td",25),v(56),m()()()()(),g(57,"div",26),v(58," Please pay the invoice before the due date. You can pay the invoice by logging in to your account from our client portal. "),m()()),2&r&&(D(7),J(" ",i.champsTitleValue.Name," "),D(2),J(" ",i.champsTitleValue.Adresse," "),D(2),J(" ",i.champsTitleValue["Tel/Fax"]," "),D(4),J("",i.champsTitleValue.RCN," "),D(3),J(" ",i.champsTitleValue.NIF," "),D(3),J(" Date : ",i.champDate," "),D(4),J(" ",i.champsTitleValue.Declaration," "),D(4),pt(i.name),D(19),Q("ngForOf",i.champs),D(8),J("",i.total,"\xa0DA"))},dependencies:[Gi,ma],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let aoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n});static#n=this.\u0275inj=Pt({imports:[xk.forRoot(soe),xk]})}return n})(),uoe=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(S(St))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-navbar"]],decls:23,vars:0,consts:[[1,"relative","bg-violet-900","rounded","mx-3"],[1,"mx-auto","hidden","h-12","w-full","max-w-[1200px]","items-center","md:flex"],[1,"ml-5","flex","h-full","w-40","cursor-pointer","items-center","justify-center","bg-amber-400"],["href","#",1,"flex","justify-around"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-1","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"mx-auto","flex","gap-8"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"ml-auto","flex","gap-4","px-5"],["href","login.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"],[1,"text-white"],["href","sign-up.html",1,"font-light","text-white","duration-100","hover:text-yellow-400","hover:underline"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"button",2)(3,"div",3),ft(),g(4,"svg",4),_e(5,"path",5),m(),v(6," All categories "),m()(),Yt(),g(7,"div",6)(8,"a",7),v(9,"Home"),m(),g(10,"a",8),X("click",function(){return i.goToFactures()}),v(11,"Factures"),m(),g(12,"a",8),X("click",function(){return i.goToBons()}),v(13,"Bons"),m(),g(14,"a",9),v(15,"Contact Us"),m()(),g(16,"div",10)(17,"a",11),v(18,"Login"),m(),g(19,"span",12),v(20,"|"),m(),g(21,"a",13),v(22,"Sign Up"),m()()()())},styles:["nav[_ngcontent-%COMP%]{background-color:#003566}button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}@media (max-width: 300px){button[_ngcontent-%COMP%]{background-color:#fff;color:#000;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}}"]})}return n})(),coe=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-footer"]],decls:0,vars:0,template:function(r,i){}})}return n})();function loe(n,e){if(1&n){const t=bn();ft(),Yt(),g(0,"div",13)(1,"a",14),v(2,"Home"),m(),g(3,"a",15),X("click",function(){return Ae(t),Se(H().goToFactures())}),v(4,"Factures"),m(),g(5,"a",15),X("click",function(){return Ae(t),Se(H().goToBons())}),v(6,"Bons"),m(),g(7,"a",16),v(8,"Contact Us"),m()()}}let doe=(()=>{class n{constructor(t){this.route=t,this.desktopMenuOpen=!1}ngOnInit(){}mobile(){this.desktopMenuOpen=!this.desktopMenuOpen,console.log(this.desktopMenuOpen)}goToFactures(){this.route.navigate(["/facture-close"])}goToBons(){this.route.navigate(["/bonsList"])}static#e=this.\u0275fac=function(r){return new(r||n)(S(St))};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-header-search"]],decls:14,vars:1,consts:[[1,"relative","mx-auto","flex","h-16","max-w-[1200px]","items-center","justify-between","px-5"],["href","index.html"],["src","assets/elite-logo.png","alt","company logo",1,"cursor-pointer","h-16","w-20"],[1,"md:hidden"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],["class","absolute top-12 right-2 z-10 p-6 rounded bg-blue-700 flex flex-col gap-3 ",4,"ngIf"],[1,"hidden","h-9","w-2/5","items-center","border","md:flex","rounded","overflow-hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"mx-3","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","search","placeholder","Search",1,"hidden","w-11/12","outline-none","md:block"],[1,"ml-auto","h-full","bg-amber-400","px-4","hover:bg-yellow-300"],[1,"absolute","top-12","right-2","z-10","p-6","rounded","bg-blue-700","flex","flex-col","gap-3"],["href","index.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"],[1,"cursor-pointer","font-light","text-white","transition-all","duration-500","hover:text-blue-600",3,"click"],["href","contact-us.html",1,"font-light","text-white","transition-all","duration-500","hover:text-blue-600"]],template:function(r,i){1&r&&(g(0,"header",0)(1,"a",1),_e(2,"img",2),m(),g(3,"div",3)(4,"button",4),X("click",function(){return i.mobile()}),ft(),g(5,"svg",5),_e(6,"path",6),m()(),we(7,loe,9,0,"div",7),m(),Yt(),g(8,"div",8),ft(),g(9,"svg",9),_e(10,"path",10),m(),Yt(),_e(11,"input",11),g(12,"button",12),v(13," Search "),m()()()),2&r&&(D(7),Q("ngIf",i.desktopMenuOpen))},dependencies:[ma],styles:["button[_ngcontent-%COMP%]{background-color:#ffd60a;color:#fff;transition:background-color .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#ffc300}"]})}return n})(),hoe=(()=>{class n{constructor(){this.title="TransitElite"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=yn({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"print"]],template:function(r,i){1&r&&_e(0,"app-header-search",0)(1,"app-navbar",0)(2,"router-outlet")(3,"app-footer",0)},dependencies:[jv,uoe,coe,doe],styles:["@media print{.print[_ngcontent-%COMP%]{display:none}}"]})}return n})();const poe={apiKey:"AIzaSyCFiJyYVbwSVqyqmunaAM5349YjObL_6ZM",authDomain:"crud-fatoura.firebaseapp.com",projectId:"crud-fatoura",storageBucket:"crud-fatoura.appspot.com",messagingSenderId:"24879860028",appId:"1:24879860028:web:240cef2c72ecd46e03f639"};let goe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=jt({type:n,bootstrap:[hoe]});static#n=this.\u0275inj=Pt({imports:[F9,aoe,Z8,q8,eW,nq,NY(()=>OY(poe)),yie(()=>vie())]})}return n})();O9().bootstrapModule(goe).catch(n=>console.error(n))}},Be=>{Be(Be.s=461)}]);